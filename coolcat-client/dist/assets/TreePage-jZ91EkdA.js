import{g as p,S as T}from"./ScrollTrigger-FdPegQMx.js";import{l as N,r as Y,L as $,x as _,C as v,f as n,o as l,V as z,q as C,v as c,F as V,y as P,A as k,z as F}from"./index-DOznaSFY.js";import{a as R,V as E}from"./VCard-DtNUe2Br.js";import{_ as H}from"./plugin-vueexport-helper-DlAUqK2U.js";import"./index-DOXSxE7D.js";const j={class:"d-flex align-md-end align-end justify-start",style:{height:"300px"}},q=N({__name:"TreePage",setup(G){p.registerPlugin(T);const g=Y(null),o=[],m=[],A=(e,t)=>{e instanceof HTMLElement&&!o[t]&&(o[t]=e)},B=(e,t)=>{e instanceof HTMLElement&&!m[t]&&(m[t]=e)};$(()=>{I()});function I(){if(!g.value)return;const e=200,t=o.length*e;function f(){o.forEach(s=>{s&&p.set(s,{opacity:.2,color:"rgba(255, 255, 255, 0.5)"})})}function r(s){let a=Math.floor(s/e)-1;return a<-1&&(a=-1),a>o.length&&(a=o.length),a}function u(s){o.forEach((i,x)=>{i&&(x===s?p.to(i,{opacity:1,color:"white",duration:.2,ease:"power1.out"}):p.to(i,{opacity:.4,color:"rgba(255, 255, 255, 0.5)",duration:.2,ease:"power1.out"}))});const a=90,h=54,M=30;m.forEach((i,x)=>{if(!i)return;const d=x-s,w=d===0,b=d<0,S=d>0,X=a+d*M+(b?-90:S?a:0),D=-54+d*-18+(b?h:S?-54:0);p.to(i,{opacity:w?1:.4,color:w?"white":"rgba(255, 255, 255, 0.5)",duration:.2,ease:"power1.out",transform:`translate(calc(${X}px), calc(${D}px)) skewX(0deg) skewY(30deg)`,zIndex:1e3,width:"150px",height:"150px"})})}function L(){T.create({trigger:g.value,start:"top-=50 top",end:`bottom+=${t+e} top`,scrub:!0,pin:!0,onUpdate:s=>{const a=s.progress*(o.length+1)*e,h=r(a);u(h)}})}f(),L()}const y=["说实话","不好说","我觉得很可爱","单独行动","摸摸头","感觉有点担心……","还是别说多余的话比较好"];return(e,t)=>(v(),_("div",{ref_key:"treePageRef",ref:g,class:"tree-page-container pa-4"},[n(E,{border:"lg onPrimary",class:"w-100 pa-8",variant:"text"},{default:l(()=>[n(z,null,{default:l(()=>[n(C,{cols:"12",md:"6"},{default:l(()=>[n(R,null,{default:l(()=>t[0]||(t[0]=[c("div",{class:"text-h4 text-md-h3 text-lg-h2 text-onPrimary"},[c("span",null,"进入"),c("span",{style:{color:"#adf2a0"}},"丛雨路线")],-1)])),_:1}),n(R,null,{default:l(()=>[(v(),_(V,null,P(y,(f,r)=>c("div",{key:r,class:"text-h6 text-md-h5 text-lg-h4"},[c("div",{ref_for:!0,ref:u=>A(u,r)},k(f),513)])),64))]),_:1})]),_:1}),n(C,{class:"d-flex align-center",cols:"12",md:"6"},{default:l(()=>[c("div",j,[(v(),_(V,null,P(y,(f,r)=>c("div",{key:r,ref_for:!0,ref:u=>B(u,r),class:"steps-view rounded-md"},[n(E,{class:"w-100 h-100",variant:"outlined"},{default:l(()=>[F(k(f),1)]),_:2},1024)])),64))])]),_:1})]),_:1})]),_:1})],512))}}),Q=H(q,[["__scopeId","data-v-e71f3428"]]);export{Q as default};
