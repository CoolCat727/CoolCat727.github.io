import{k as I,r as T,A as E,J as G,S as L,K as W,q as V,z as C,l as H,n as J,f as l,V as K}from"./index-8aJXLOhW.js";import{_ as U}from"./plugin-vueexport-helper-DlAUqK2U.js";import j from"./SectionOne-CmhVDaPV.js";import{_ as Q}from"./SolarPage.vuevuetypescriptsetuptruelang-Du2Bgndt.js";import X from"./PlanetPage-3rO2165C.js";import Y from"./ApplePage-c0bjKgE1.js";import Z from"./FrontTechOverView-C4W15QGO.js";import ee from"./BackendTechOverView-BYxsEGZi.js";import{V as te}from"./VImg-Cl2BZS7q.js";import"./ScrollTrigger-FdPegQMx.js";import"./VCard-CeW9Ipht.js";import"./VBtn-DNlxRd4-.js";import"./VRow-hU9SlVN9.js";const ne=I({name:"IntroCanvas",emits:["animation-finished"],setup(b,{emit:u}){const o=T(null),w=E().current.value.colors.background;let m,S=performance.now(),a=[],f=0,d=0,r=0,_=0,k=0,h=0,v=1;const y=2,B=()=>{const e=o.value;e!=null&&e.parentNode&&e.parentNode.removeChild(e)},M=()=>{for(let e=0;e<d;e++){const t=_-e*y;if(t<0||t>r*2)continue;const n=t<=r?r-1-t:t-r;n>=0&&n<r&&(a[n][e]=1)}},R=()=>{v=Math.max(0,v-.4)},D=()=>{const e=a[a.length-1];return e[e.length-1]<.1},N=e=>{if(k+=e*1.4,!(k<1))if(k=0,h===0){M(),_++;const t=d*y+r*2;_>t&&D()&&(_=0,h=1)}else h===1&&(R(),v===0&&(h=2,cancelAnimationFrame(m),u("animation-finished"),B()))},O=(e,t,i,n)=>{d=Math.floor(t/50),f=t/d,r=Math.ceil(i/f),a=Array.from({length:r},(s,c)=>Array.from({length:d},(F,$)=>{var p;return((p=a==null?void 0:a[c])==null?void 0:p[$])??0})),N(n),e.fillStyle=P(w,v),e.fillRect(0,0,t,i),e.lineWidth=1;for(let s=0;s<r;s++)for(let c=0;c<d;c++){const F=c*f,$=s*f,p=a[s][c];a[s][c]=Math.max(0,p-.02);const q=.05+p*.95;e.strokeStyle=`rgba(149, 117, 205, ${q})`,e.strokeRect(F,$,f,f)}},P=(e,t)=>{const i=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),g=parseInt(e.slice(5,7),16);return`rgba(${i}, ${n}, ${g}, ${t})`},z=e=>{var s;const t=(s=o.value)==null?void 0:s.getContext("2d");if(!t||!o.value)return;const{width:i,height:n}=o.value;t.clearRect(0,0,i,n);const g=e-S;S=e,O(t,i,n,g),m=requestAnimationFrame(z)},A=()=>{const e=o.value;e&&(e.width=e.offsetWidth,e.height=e.offsetHeight)};return G(()=>{L(()=>{A(),window.addEventListener("resize",A),requestAnimationFrame(z)})}),W(()=>{cancelAnimationFrame(m),window.removeEventListener("resize",A)}),{canvas:o}}}),oe={ref:"canvas"};function ae(b,u,o,x,w,m){return C(),V("canvas",oe,null,512)}const re=U(ne,[["render",ae],["__scopeId","data-v-2493bc55"]]),se={key:0,class:"overflow-x-hidden"},ke=I({__name:"index",setup(b){const u=T(!1),o=()=>{u.value=!0};return(x,w)=>{const m=re;return C(),H(te,{class:"pa-0",fluid:""},{default:J(()=>[l(m,{class:"fill-height",onAnimationFinished:o}),u.value?(C(),V("div",se,[l(j),l(Q),l(X),l(Y),l(Z),l(ee)])):K("",!0)]),_:1})}}});export{ke as default};
