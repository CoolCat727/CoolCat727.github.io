import{k as T,r as V,A as L,J as P,S as W,K as H,q as B,z as C,l as J,n as K,f as u,V as U}from"./index-D9sGgwnw.js";import{_ as j}from"./plugin-vueexport-helper-DlAUqK2U.js";import Q from"./SectionOne-P9LhU7mO.js";import{_ as X}from"./SolarPage.vuevuetypescriptsetuptruelang-D0f-b6YZ.js";import Y from"./ApplePage-BCOtWcon.js";import I from"./FrontTechOverView-Dg9uuMxq.js";import{V as Z}from"./VImg-FAt1IjYS.js";import"./ScrollTrigger-FdPegQMx.js";import"./VCard-BfhgN01d.js";import"./VBtn-CICmJXCk.js";import"./VRow-CG-7bEaU.js";const ee=T({name:"IntroCanvas",emits:["animation-finished"],setup(b,{emit:d}){const o=V(null),w=L().current.value.colors.background;let l,S=performance.now(),a=[],m=0,f=0,r=0,_=0,k=0,h=0,v=1;const y=2,M=()=>{const e=o.value;e!=null&&e.parentNode&&e.parentNode.removeChild(e)},R=()=>{for(let e=0;e<f;e++){const t=_-e*y;if(t<0||t>r*2)continue;const n=t<=r?r-1-t:t-r;n>=0&&n<r&&(a[n][e]=1)}},D=()=>{v=Math.max(0,v-.4)},N=()=>{const e=a[a.length-1];return e[e.length-1]<.1},q=e=>{if(k+=e*1.4,!(k<1))if(k=0,h===0){R(),_++;const t=f*y+r*2;_>t&&N()&&(_=0,h=1)}else h===1&&(D(),v===0&&(h=2,cancelAnimationFrame(l),d("animation-finished"),M()))},E=(e,t,i,n)=>{f=Math.floor(t/50),m=t/f,r=Math.ceil(i/m),a=Array.from({length:r},(s,c)=>Array.from({length:f},(F,$)=>{var p;return((p=a==null?void 0:a[c])==null?void 0:p[$])??0})),q(n),e.fillStyle=O(w,v),e.fillRect(0,0,t,i),e.lineWidth=1;for(let s=0;s<r;s++)for(let c=0;c<f;c++){const F=c*m,$=s*m,p=a[s][c];a[s][c]=Math.max(0,p-.02);const G=.05+p*.95;e.strokeStyle=`rgba(149, 117, 205, ${G})`,e.strokeRect(F,$,m,m)}},O=(e,t)=>{const i=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),g=parseInt(e.slice(5,7),16);return`rgba(${i}, ${n}, ${g}, ${t})`},z=e=>{var s;const t=(s=o.value)==null?void 0:s.getContext("2d");if(!t||!o.value)return;const{width:i,height:n}=o.value;t.clearRect(0,0,i,n);const g=e-S;S=e,E(t,i,n,g),l=requestAnimationFrame(z)},A=()=>{const e=o.value;e&&(e.width=e.offsetWidth,e.height=e.offsetHeight)};return P(()=>{W(()=>{A(),window.addEventListener("resize",A),requestAnimationFrame(z)})}),H(()=>{cancelAnimationFrame(l),window.removeEventListener("resize",A)}),{canvas:o}}}),te={ref:"canvas"};function ne(b,d,o,x,w,l){return C(),B("canvas",te,null,512)}const oe=j(ee,[["render",ne],["__scopeId","data-v-2493bc55"]]),ae={key:0,class:"overflow-x-hidden"},he=T({__name:"index",setup(b){const d=V(!1),o=()=>{d.value=!0};return(x,w)=>{const l=oe;return C(),J(Z,{class:"pa-0",fluid:""},{default:K(()=>[u(l,{class:"fill-height",onAnimationFinished:o}),d.value?(C(),B("div",ae,[u(Q),u(X),u(I),u(Y),u(I)])):U("",!0)]),_:1})}}});export{he as default};
