import{l as M,r as S,D as q,M as G,Z as L,N as W,x as T,C as A,n as H,o as U,f as c,$ as Z,B as j}from"./index-CDejrNOg.js";import{_ as J}from"./plugin-vueexport-helper-DlAUqK2U.js";import K from"./ScaleVideoPage-0D7BG0NK.js";import{_ as Q}from"./SolarPage.vuevuetypescriptsetuptruelang-BVGwAv-s.js";import X from"./PlanetPage-40SKNRhk.js";import Y from"./MaskPage-CPq0IuME.js";import ee from"./FrontTechOverView-B9DdpA7b.js";import te from"./DescripPage-CvStTRj_.js";import ne from"./BackendTechOverView-D52m5GVB.js";import"./ScrollTrigger-FdPegQMx.js";import"./VImg-BOea3-dQ.js";import"./VCard-4NyFC0bA.js";import"./VBtn-628_h_R_.js";const oe=M({name:"IntroCanvas",emits:["animation-finished"],setup(x,{emit:u}){const o=S(null),w=q().current.value.colors.background;let m,y=performance.now(),a=[],f=0,d=0,r=0,_=0,k=0,h=0,v=1;const B=2,z=()=>{const e=o.value;e!=null&&e.parentNode&&e.parentNode.removeChild(e)},D=()=>{for(let e=0;e<d;e++){const t=_-e*B;if(t<0||t>r*2)continue;const n=t<=r?r-1-t:t-r;n>=0&&n<r&&(a[n][e]=1)}},P=()=>{v=Math.max(0,v-.4)},V=()=>{const e=a[a.length-1];return e[e.length-1]<.1},N=e=>{if(k+=e*1.4,!(k<1))if(k=0,h===0){D(),_++;const t=d*B+r*2;_>t&&V()&&(_=0,h=1)}else h===1&&(P(),v===0&&(h=2,cancelAnimationFrame(m),u("animation-finished"),z()))},R=(e,t,i,n)=>{d=Math.floor(t/50),f=t/d,r=Math.ceil(i/f),a=Array.from({length:r},(s,l)=>Array.from({length:d},(I,C)=>{var p;return((p=a==null?void 0:a[l])==null?void 0:p[C])??0})),N(n),e.fillStyle=E(w,v),e.fillRect(0,0,t,i),e.lineWidth=1;for(let s=0;s<r;s++)for(let l=0;l<d;l++){const I=l*f,C=s*f,p=a[s][l];a[s][l]=Math.max(0,p-.02);const O=.05+p*.95;e.strokeStyle=`rgba(149, 117, 205, ${O})`,e.strokeRect(I,C,f,f)}},E=(e,t)=>{const i=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),g=parseInt(e.slice(5,7),16);return`rgba(${i}, ${n}, ${g}, ${t})`},F=e=>{var s;const t=(s=o.value)==null?void 0:s.getContext("2d");if(!t||!o.value)return;const{width:i,height:n}=o.value;t.clearRect(0,0,i,n);const g=e-y;y=e,R(t,i,n,g),m=requestAnimationFrame(F)},$=()=>{const e=o.value;e&&(e.width=e.offsetWidth,e.height=e.offsetHeight)};return G(()=>{L(()=>{$(),window.addEventListener("resize",$),requestAnimationFrame(F)})}),W(()=>{cancelAnimationFrame(m),window.removeEventListener("resize",$)}),{canvas:o}}}),ae={ref:"canvas"};function re(x,u,o,b,w,m){return A(),T("canvas",ae,null,512)}const se=J(oe,[["render",re],["__scopeId","data-v-2493bc55"]]),ie={key:0,class:"overflow-x-hidden"},$e=M({__name:"index",setup(x){const u=S(!1),o=()=>{u.value=!0};return(b,w)=>{const m=se;return A(),H(j,{class:"pa-0",fluid:""},{default:U(()=>[c(m,{class:"fill-height",onAnimationFinished:o}),u.value?(A(),T("div",ie,[c(X),c(K),c(te),c(Q),c(Y),c(ee),c(ne)])):Z("",!0)]),_:1})}}});export{$e as default};
