(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vs(r){const e=Object.create(null);for(const t of r.split(","))e[t]=1;return t=>t in e}const at={},Gi=[],ti=()=>{},tu=()=>!1,an=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),$s=r=>r.startsWith("onUpdate:"),Nt=Object.assign,Zs=(r,e)=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)},Kl=Object.prototype.hasOwnProperty,tt=(r,e)=>Kl.call(r,e),Be=Array.isArray,Yi=r=>on(r)==="[object Map]",iu=r=>on(r)==="[object Set]",qe=r=>typeof r=="function",yt=r=>typeof r=="string",Si=r=>typeof r=="symbol",ct=r=>r!==null&&typeof r=="object",ru=r=>(ct(r)||qe(r))&&qe(r.then)&&qe(r.catch),nu=Object.prototype.toString,on=r=>nu.call(r),Xl=r=>on(r).slice(8,-1),su=r=>on(r)==="[object Object]",Gs=r=>yt(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,lr=Vs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),un=r=>{const e=Object.create(null);return(t=>e[t]||(e[t]=r(t)))},Jl=/-\w/g,Ci=un(r=>r.replace(Jl,e=>e.slice(1).toUpperCase())),Ql=/\B([A-Z])/g,Ti=un(r=>r.replace(Ql,"-$1").toLowerCase()),au=un(r=>r.charAt(0).toUpperCase()+r.slice(1)),Tn=un(r=>r?`on${au(r)}`:""),Ei=(r,e)=>!Object.is(r,e),Fr=(r,...e)=>{for(let t=0;t<r.length;t++)r[t](...e)},ou=(r,e,t,i=!1)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,writable:i,value:t})},Ss=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let Ea;const ln=()=>Ea||(Ea=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function fn(r){if(Be(r)){const e={};for(let t=0;t<r.length;t++){const i=r[t],n=yt(i)?nf(i):fn(i);if(n)for(const s in n)e[s]=n[s]}return e}else if(yt(r)||ct(r))return r}const ef=/;(?![^(]*\))/g,tf=/:([^]+)/,rf=/\/\*[^]*?\*\//g;function nf(r){const e={};return r.replace(rf,"").split(ef).forEach(t=>{if(t){const i=t.split(tf);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function li(r){let e="";if(yt(r))e=r;else if(Be(r))for(let t=0;t<r.length;t++){const i=li(r[t]);i&&(e+=i+" ")}else if(ct(r))for(const t in r)r[t]&&(e+=t+" ");return e.trim()}const sf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",af=Vs(sf);function uu(r){return!!r||r===""}const lu=r=>!!(r&&r.__v_isRef===!0),Ys=r=>yt(r)?r:r==null?"":Be(r)||ct(r)&&(r.toString===nu||!qe(r.toString))?lu(r)?Ys(r.value):JSON.stringify(r,fu,2):String(r),fu=(r,e)=>lu(e)?fu(r,e.value):Yi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,n],s)=>(t[kn(i,s)+" =>"]=n,t),{})}:iu(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>kn(t))}:Si(e)?kn(e):ct(e)&&!Be(e)&&!su(e)?String(e):e,kn=(r,e="")=>{var t;return Si(r)?`Symbol(${(t=r.description)!=null?t:e})`:r};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let At;class hu{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=At,!e&&At&&(this.index=(At.scopes||(At.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=At;try{return At=this,e()}finally{At=t}}}on(){++this._on===1&&(this.prevScope=At,At=this)}off(){this._on>0&&--this._on===0&&(At=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(this.effects.length=0,t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function cu(r){return new hu(r)}function du(){return At}function of(r,e=!1){At&&At.cleanups.push(r)}let lt;const Rn=new WeakSet;class pu{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,At&&At.active&&At.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Rn.has(this)&&(Rn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||vu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,xa(this),mu(this);const e=lt,t=Xt;lt=this,Xt=!0;try{return this.fn()}finally{bu(this),lt=e,Xt=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Js(e);this.deps=this.depsTail=void 0,xa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Rn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ts(this)&&this.run()}get dirty(){return Ts(this)}}let gu=0,fr,hr;function vu(r,e=!1){if(r.flags|=8,e){r.next=hr,hr=r;return}r.next=fr,fr=r}function Ks(){gu++}function Xs(){if(--gu>0)return;if(hr){let e=hr;for(hr=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let r;for(;fr;){let e=fr;for(fr=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){r||(r=i)}e=t}}if(r)throw r}function mu(r){for(let e=r.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function bu(r){let e,t=r.depsTail,i=t;for(;i;){const n=i.prevDep;i.version===-1?(i===t&&(t=n),Js(i),uf(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}r.deps=e,r.depsTail=t}function Ts(r){for(let e=r.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(yu(e.dep.computed)||e.dep.version!==e.version))return!0;return!!r._dirty}function yu(r){if(r.flags&4&&!(r.flags&16)||(r.flags&=-17,r.globalVersion===yr)||(r.globalVersion=yr,!r.isSSR&&r.flags&128&&(!r.deps&&!r._dirty||!Ts(r))))return;r.flags|=2;const e=r.dep,t=lt,i=Xt;lt=r,Xt=!0;try{mu(r);const n=r.fn(r._value);(e.version===0||Ei(n,r._value))&&(r.flags|=128,r._value=n,e.version++)}catch(n){throw e.version++,n}finally{lt=t,Xt=i,bu(r),r.flags&=-3}}function Js(r,e=!1){const{dep:t,prevSub:i,nextSub:n}=r;if(i&&(i.nextSub=n,r.prevSub=void 0),n&&(n.prevSub=i,r.nextSub=void 0),t.subs===r&&(t.subs=i,!i&&t.computed)){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)Js(s,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function uf(r){const{prevDep:e,nextDep:t}=r;e&&(e.nextDep=t,r.prevDep=void 0),t&&(t.prevDep=e,r.nextDep=void 0)}let Xt=!0;const _u=[];function ci(){_u.push(Xt),Xt=!1}function di(){const r=_u.pop();Xt=r===void 0?!0:r}function xa(r){const{cleanup:e}=r;if(r.cleanup=void 0,e){const t=lt;lt=void 0;try{e()}finally{lt=t}}}let yr=0;class lf{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Qs{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!lt||!Xt||lt===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==lt)t=this.activeLink=new lf(lt,this),lt.deps?(t.prevDep=lt.depsTail,lt.depsTail.nextDep=t,lt.depsTail=t):lt.deps=lt.depsTail=t,wu(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const i=t.nextDep;i.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=i),t.prevDep=lt.depsTail,t.nextDep=void 0,lt.depsTail.nextDep=t,lt.depsTail=t,lt.deps===t&&(lt.deps=i)}return t}trigger(e){this.version++,yr++,this.notify(e)}notify(e){Ks();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Xs()}}}function wu(r){if(r.dep.sc++,r.sub.flags&4){const e=r.dep.computed;if(e&&!r.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)wu(i)}const t=r.dep.subs;t!==r&&(r.prevSub=t,t&&(t.nextSub=r)),r.dep.subs=r}}const Wr=new WeakMap,Ni=Symbol(""),ks=Symbol(""),_r=Symbol("");function Dt(r,e,t){if(Xt&&lt){let i=Wr.get(r);i||Wr.set(r,i=new Map);let n=i.get(t);n||(i.set(t,n=new Qs),n.map=i,n.key=t),n.track()}}function fi(r,e,t,i,n,s){const a=Wr.get(r);if(!a){yr++;return}const o=u=>{u&&u.trigger()};if(Ks(),e==="clear")a.forEach(o);else{const u=Be(r),h=u&&Gs(t);if(u&&t==="length"){const c=Number(i);a.forEach((d,b)=>{(b==="length"||b===_r||!Si(b)&&b>=c)&&o(d)})}else switch((t!==void 0||a.has(void 0))&&o(a.get(t)),h&&o(a.get(_r)),e){case"add":u?h&&o(a.get("length")):(o(a.get(Ni)),Yi(r)&&o(a.get(ks)));break;case"delete":u||(o(a.get(Ni)),Yi(r)&&o(a.get(ks)));break;case"set":Yi(r)&&o(a.get(Ni));break}}Xs()}function ff(r,e){const t=Wr.get(r);return t&&t.get(e)}function Fi(r){const e=Qe(r);return e===r?e:(Dt(e,"iterate",_r),Ht(r)?e:e.map(xt))}function hn(r){return Dt(r=Qe(r),"iterate",_r),r}const hf={__proto__:null,[Symbol.iterator](){return Ln(this,Symbol.iterator,xt)},concat(...r){return Fi(this).concat(...r.map(e=>Be(e)?Fi(e):e))},entries(){return Ln(this,"entries",r=>(r[1]=xt(r[1]),r))},every(r,e){return ai(this,"every",r,e,void 0,arguments)},filter(r,e){return ai(this,"filter",r,e,t=>t.map(xt),arguments)},find(r,e){return ai(this,"find",r,e,xt,arguments)},findIndex(r,e){return ai(this,"findIndex",r,e,void 0,arguments)},findLast(r,e){return ai(this,"findLast",r,e,xt,arguments)},findLastIndex(r,e){return ai(this,"findLastIndex",r,e,void 0,arguments)},forEach(r,e){return ai(this,"forEach",r,e,void 0,arguments)},includes(...r){return Nn(this,"includes",r)},indexOf(...r){return Nn(this,"indexOf",r)},join(r){return Fi(this).join(r)},lastIndexOf(...r){return Nn(this,"lastIndexOf",r)},map(r,e){return ai(this,"map",r,e,void 0,arguments)},pop(){return rr(this,"pop")},push(...r){return rr(this,"push",r)},reduce(r,...e){return Ca(this,"reduce",r,e)},reduceRight(r,...e){return Ca(this,"reduceRight",r,e)},shift(){return rr(this,"shift")},some(r,e){return ai(this,"some",r,e,void 0,arguments)},splice(...r){return rr(this,"splice",r)},toReversed(){return Fi(this).toReversed()},toSorted(r){return Fi(this).toSorted(r)},toSpliced(...r){return Fi(this).toSpliced(...r)},unshift(...r){return rr(this,"unshift",r)},values(){return Ln(this,"values",xt)}};function Ln(r,e,t){const i=hn(r),n=i[e]();return i!==r&&!Ht(r)&&(n._next=n.next,n.next=()=>{const s=n._next();return s.done||(s.value=t(s.value)),s}),n}const cf=Array.prototype;function ai(r,e,t,i,n,s){const a=hn(r),o=a!==r&&!Ht(r),u=a[e];if(u!==cf[e]){const d=u.apply(r,s);return o?xt(d):d}let h=t;a!==r&&(o?h=function(d,b){return t.call(this,xt(d),b,r)}:t.length>2&&(h=function(d,b){return t.call(this,d,b,r)}));const c=u.call(a,h,i);return o&&n?n(c):c}function Ca(r,e,t,i){const n=hn(r);let s=t;return n!==r&&(Ht(r)?t.length>3&&(s=function(a,o,u){return t.call(this,a,o,u,r)}):s=function(a,o,u){return t.call(this,a,xt(o),u,r)}),n[e](s,...i)}function Nn(r,e,t){const i=Qe(r);Dt(i,"iterate",_r);const n=i[e](...t);return(n===-1||n===!1)&&ia(t[0])?(t[0]=Qe(t[0]),i[e](...t)):n}function rr(r,e,t=[]){ci(),Ks();const i=Qe(r)[e].apply(r,t);return Xs(),di(),i}const df=Vs("__proto__,__v_isRef,__isVue"),Eu=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Si));function pf(r){Si(r)||(r=String(r));const e=Qe(this);return Dt(e,"has",r),e.hasOwnProperty(r)}class xu{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){if(t==="__v_skip")return e.__v_skip;const n=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!n;if(t==="__v_isReadonly")return n;if(t==="__v_isShallow")return s;if(t==="__v_raw")return i===(n?s?Cf:Su:s?Du:Au).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=Be(e);if(!n){let u;if(a&&(u=hf[t]))return u;if(t==="hasOwnProperty")return pf}const o=Reflect.get(e,t,vt(e)?e:i);if((Si(t)?Eu.has(t):df(t))||(n||Dt(e,"get",t),s))return o;if(vt(o)){const u=a&&Gs(t)?o:o.value;return n&&ct(u)?Ls(u):u}return ct(o)?n?Ls(o):cn(o):o}}class Cu extends xu{constructor(e=!1){super(!1,e)}set(e,t,i,n){let s=e[t];if(!this._isShallow){const u=Ai(s);if(!Ht(i)&&!Ai(i)&&(s=Qe(s),i=Qe(i)),!Be(e)&&vt(s)&&!vt(i))return u||(s.value=i),!0}const a=Be(e)&&Gs(t)?Number(t)<e.length:tt(e,t),o=Reflect.set(e,t,i,vt(e)?e:n);return e===Qe(n)&&(a?Ei(i,s)&&fi(e,"set",t,i):fi(e,"add",t,i)),o}deleteProperty(e,t){const i=tt(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&i&&fi(e,"delete",t,void 0),n}has(e,t){const i=Reflect.has(e,t);return(!Si(t)||!Eu.has(t))&&Dt(e,"has",t),i}ownKeys(e){return Dt(e,"iterate",Be(e)?"length":Ni),Reflect.ownKeys(e)}}class gf extends xu{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const vf=new Cu,mf=new gf,bf=new Cu(!0);const Rs=r=>r,Lr=r=>Reflect.getPrototypeOf(r);function yf(r,e,t){return function(...i){const n=this.__v_raw,s=Qe(n),a=Yi(s),o=r==="entries"||r===Symbol.iterator&&a,u=r==="keys"&&a,h=n[r](...i),c=t?Rs:e?Hr:xt;return!e&&Dt(s,"iterate",u?ks:Ni),{next(){const{value:d,done:b}=h.next();return b?{value:d,done:b}:{value:o?[c(d[0]),c(d[1])]:c(d),done:b}},[Symbol.iterator](){return this}}}}function Nr(r){return function(...e){return r==="delete"?!1:r==="clear"?void 0:this}}function _f(r,e){const t={get(n){const s=this.__v_raw,a=Qe(s),o=Qe(n);r||(Ei(n,o)&&Dt(a,"get",n),Dt(a,"get",o));const{has:u}=Lr(a),h=e?Rs:r?Hr:xt;if(u.call(a,n))return h(s.get(n));if(u.call(a,o))return h(s.get(o));s!==a&&s.get(n)},get size(){const n=this.__v_raw;return!r&&Dt(Qe(n),"iterate",Ni),n.size},has(n){const s=this.__v_raw,a=Qe(s),o=Qe(n);return r||(Ei(n,o)&&Dt(a,"has",n),Dt(a,"has",o)),n===o?s.has(n):s.has(n)||s.has(o)},forEach(n,s){const a=this,o=a.__v_raw,u=Qe(o),h=e?Rs:r?Hr:xt;return!r&&Dt(u,"iterate",Ni),o.forEach((c,d)=>n.call(s,h(c),h(d),a))}};return Nt(t,r?{add:Nr("add"),set:Nr("set"),delete:Nr("delete"),clear:Nr("clear")}:{add(n){!e&&!Ht(n)&&!Ai(n)&&(n=Qe(n));const s=Qe(this);return Lr(s).has.call(s,n)||(s.add(n),fi(s,"add",n,n)),this},set(n,s){!e&&!Ht(s)&&!Ai(s)&&(s=Qe(s));const a=Qe(this),{has:o,get:u}=Lr(a);let h=o.call(a,n);h||(n=Qe(n),h=o.call(a,n));const c=u.call(a,n);return a.set(n,s),h?Ei(s,c)&&fi(a,"set",n,s):fi(a,"add",n,s),this},delete(n){const s=Qe(this),{has:a,get:o}=Lr(s);let u=a.call(s,n);u||(n=Qe(n),u=a.call(s,n)),o&&o.call(s,n);const h=s.delete(n);return u&&fi(s,"delete",n,void 0),h},clear(){const n=Qe(this),s=n.size!==0,a=n.clear();return s&&fi(n,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(n=>{t[n]=yf(n,r,e)}),t}function ea(r,e){const t=_f(r,e);return(i,n,s)=>n==="__v_isReactive"?!r:n==="__v_isReadonly"?r:n==="__v_raw"?i:Reflect.get(tt(t,n)&&n in i?t:i,n,s)}const wf={get:ea(!1,!1)},Ef={get:ea(!1,!0)},xf={get:ea(!0,!1)};const Au=new WeakMap,Du=new WeakMap,Su=new WeakMap,Cf=new WeakMap;function Af(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Df(r){return r.__v_skip||!Object.isExtensible(r)?0:Af(Xl(r))}function cn(r){return Ai(r)?r:ta(r,!1,vf,wf,Au)}function Sf(r){return ta(r,!1,bf,Ef,Du)}function Ls(r){return ta(r,!0,mf,xf,Su)}function ta(r,e,t,i,n){if(!ct(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const s=Df(r);if(s===0)return r;const a=n.get(r);if(a)return a;const o=new Proxy(r,s===2?i:t);return n.set(r,o),o}function xi(r){return Ai(r)?xi(r.__v_raw):!!(r&&r.__v_isReactive)}function Ai(r){return!!(r&&r.__v_isReadonly)}function Ht(r){return!!(r&&r.__v_isShallow)}function ia(r){return r?!!r.__v_raw:!1}function Qe(r){const e=r&&r.__v_raw;return e?Qe(e):r}function ra(r){return!tt(r,"__v_skip")&&Object.isExtensible(r)&&ou(r,"__v_skip",!0),r}const xt=r=>ct(r)?cn(r):r,Hr=r=>ct(r)?Ls(r):r;function vt(r){return r?r.__v_isRef===!0:!1}function Lt(r){return Tf(r,!1)}function Tf(r,e){return vt(r)?r:new kf(r,e)}class kf{constructor(e,t){this.dep=new Qs,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Qe(e),this._value=t?e:xt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,i=this.__v_isShallow||Ht(e)||Ai(e);e=i?e:Qe(e),Ei(e,t)&&(this._rawValue=e,this._value=i?e:xt(e),this.dep.trigger())}}function Ii(r){return vt(r)?r.value:r}const Rf={get:(r,e,t)=>e==="__v_raw"?r:Ii(Reflect.get(r,e,t)),set:(r,e,t,i)=>{const n=r[e];return vt(n)&&!vt(t)?(n.value=t,!0):Reflect.set(r,e,t,i)}};function Tu(r){return xi(r)?r:new Proxy(r,Rf)}function Lf(r){const e=Be(r)?new Array(r.length):{};for(const t in r)e[t]=If(r,t);return e}class Nf{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ff(Qe(this._object),this._key)}}function If(r,e,t){const i=r[e];return vt(i)?i:new Nf(r,e,t)}class Of{constructor(e,t,i){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Qs(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=yr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&lt!==this)return vu(this,!0),!0}get value(){const e=this.dep.track();return yu(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Bf(r,e,t=!1){let i,n;return qe(r)?i=r:(i=r.get,n=r.set),new Of(i,n,t)}const Ir={},Vr=new WeakMap;let Li;function Pf(r,e=!1,t=Li){if(t){let i=Vr.get(t);i||Vr.set(t,i=[]),i.push(r)}}function Ff(r,e,t=at){const{immediate:i,deep:n,once:s,scheduler:a,augmentJob:o,call:u}=t,h=S=>n?S:Ht(S)||n===!1||n===0?hi(S,1):hi(S);let c,d,b,v,R=!1,E=!1;if(vt(r)?(d=()=>r.value,R=Ht(r)):xi(r)?(d=()=>h(r),R=!0):Be(r)?(E=!0,R=r.some(S=>xi(S)||Ht(S)),d=()=>r.map(S=>{if(vt(S))return S.value;if(xi(S))return h(S);if(qe(S))return u?u(S,2):S()})):qe(r)?e?d=u?()=>u(r,2):r:d=()=>{if(b){ci();try{b()}finally{di()}}const S=Li;Li=c;try{return u?u(r,3,[v]):r(v)}finally{Li=S}}:d=ti,e&&n){const S=d,_=n===!0?1/0:n;d=()=>hi(S(),_)}const p=du(),g=()=>{c.stop(),p&&p.active&&Zs(p.effects,c)};if(s&&e){const S=e;e=(..._)=>{S(..._),g()}}let m=E?new Array(r.length).fill(Ir):Ir;const x=S=>{if(!(!(c.flags&1)||!c.dirty&&!S))if(e){const _=c.run();if(n||R||(E?_.some((T,I)=>Ei(T,m[I])):Ei(_,m))){b&&b();const T=Li;Li=c;try{const I=[_,m===Ir?void 0:E&&m[0]===Ir?[]:m,v];m=_,u?u(e,3,I):e(...I)}finally{Li=T}}}else c.run()};return o&&o(x),c=new pu(d),c.scheduler=a?()=>a(x,!1):x,v=S=>Pf(S,!1,c),b=c.onStop=()=>{const S=Vr.get(c);if(S){if(u)u(S,4);else for(const _ of S)_();Vr.delete(c)}},e?i?x(!0):m=c.run():a?a(x.bind(null,!0),!0):c.run(),g.pause=c.pause.bind(c),g.resume=c.resume.bind(c),g.stop=g,g}function hi(r,e=1/0,t){if(e<=0||!ct(r)||r.__v_skip||(t=t||new Map,(t.get(r)||0)>=e))return r;if(t.set(r,e),e--,vt(r))hi(r.value,e,t);else if(Be(r))for(let i=0;i<r.length;i++)hi(r[i],e,t);else if(iu(r)||Yi(r))r.forEach(i=>{hi(i,e,t)});else if(su(r)){for(const i in r)hi(r[i],e,t);for(const i of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,i)&&hi(r[i],e,t)}return r}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Dr(r,e,t,i){try{return i?r(...i):r()}catch(n){dn(n,e,t)}}function ri(r,e,t,i){if(qe(r)){const n=Dr(r,e,t,i);return n&&ru(n)&&n.catch(s=>{dn(s,e,t)}),n}if(Be(r)){const n=[];for(let s=0;s<r.length;s++)n.push(ri(r[s],e,t,i));return n}}function dn(r,e,t,i=!0){const n=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||at;if(e){let o=e.parent;const u=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${t}`;for(;o;){const c=o.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](r,u,h)===!1)return}o=o.parent}if(s){ci(),Dr(s,null,10,[r,u,h]),di();return}}Mf(r,t,n,i,a)}function Mf(r,e,t,i=!0,n=!1){if(n)throw r;console.error(r)}const Tt=[];let Qt=-1;const Ki=[];let bi=null,Wi=0;const ku=Promise.resolve();let $r=null;function Ru(r){const e=$r||ku;return r?e.then(this?r.bind(this):r):e}function zf(r){let e=Qt+1,t=Tt.length;for(;e<t;){const i=e+t>>>1,n=Tt[i],s=wr(n);s<r||s===r&&n.flags&2?e=i+1:t=i}return e}function na(r){if(!(r.flags&1)){const e=wr(r),t=Tt[Tt.length-1];!t||!(r.flags&2)&&e>=wr(t)?Tt.push(r):Tt.splice(zf(e),0,r),r.flags|=1,Lu()}}function Lu(){$r||($r=ku.then(Iu))}function Uf(r){Be(r)?Ki.push(...r):bi&&r.id===-1?bi.splice(Wi+1,0,r):r.flags&1||(Ki.push(r),r.flags|=1),Lu()}function Aa(r,e,t=Qt+1){for(;t<Tt.length;t++){const i=Tt[t];if(i&&i.flags&2){if(r&&i.id!==r.uid)continue;Tt.splice(t,1),t--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Nu(r){if(Ki.length){const e=[...new Set(Ki)].sort((t,i)=>wr(t)-wr(i));if(Ki.length=0,bi){bi.push(...e);return}for(bi=e,Wi=0;Wi<bi.length;Wi++){const t=bi[Wi];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}bi=null,Wi=0}}const wr=r=>r.id==null?r.flags&2?-1:1/0:r.id;function Iu(r){try{for(Qt=0;Qt<Tt.length;Qt++){const e=Tt[Qt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Dr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Qt<Tt.length;Qt++){const e=Tt[Qt];e&&(e.flags&=-2)}Qt=-1,Tt.length=0,Nu(),$r=null,(Tt.length||Ki.length)&&Iu()}}let jt=null,Ou=null;function Zr(r){const e=jt;return jt=r,Ou=r&&r.type.__scopeId||null,e}function qf(r,e=jt,t){if(!e||r._n)return r;const i=(...n)=>{i._d&&Ba(-1);const s=Zr(e);let a;try{a=r(...n)}finally{Zr(s),i._d&&Ba(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function jf(r,e){if(jt===null)return r;const t=mn(jt),i=r.dirs||(r.dirs=[]);for(let n=0;n<e.length;n++){let[s,a,o,u=at]=e[n];s&&(qe(s)&&(s={mounted:s,updated:s}),s.deep&&hi(a),i.push({dir:s,instance:t,value:a,oldValue:void 0,arg:o,modifiers:u}))}return r}function ki(r,e,t,i){const n=r.dirs,s=e&&e.dirs;for(let a=0;a<n.length;a++){const o=n[a];s&&(o.oldValue=s[a].value);let u=o.dir[i];u&&(ci(),ri(u,t,8,[r.el,o,r,e]),di())}}const Wf=Symbol("_vte"),Hf=r=>r.__isTeleport,Vf=Symbol("_leaveCb");function sa(r,e){r.shapeFlag&6&&r.component?(r.transition=e,sa(r.component.subTree,e)):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}function Bu(r){r.ids=[r.ids[0]+r.ids[2]+++"-",0,0]}const Gr=new WeakMap;function cr(r,e,t,i,n=!1){if(Be(r)){r.forEach((R,E)=>cr(R,e&&(Be(e)?e[E]:e),t,i,n));return}if(dr(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&cr(r,e,t,i.component.subTree);return}const s=i.shapeFlag&4?mn(i.component):i.el,a=n?null:s,{i:o,r:u}=r,h=e&&e.r,c=o.refs===at?o.refs={}:o.refs,d=o.setupState,b=Qe(d),v=d===at?tu:R=>tt(b,R);if(h!=null&&h!==u){if(Da(e),yt(h))c[h]=null,v(h)&&(d[h]=null);else if(vt(h)){h.value=null;const R=e;R.k&&(c[R.k]=null)}}if(qe(u))Dr(u,o,12,[a,c]);else{const R=yt(u),E=vt(u);if(R||E){const p=()=>{if(r.f){const g=R?v(u)?d[u]:c[u]:u.value;if(n)Be(g)&&Zs(g,s);else if(Be(g))g.includes(s)||g.push(s);else if(R)c[u]=[s],v(u)&&(d[u]=c[u]);else{const m=[s];u.value=m,r.k&&(c[r.k]=m)}}else R?(c[u]=a,v(u)&&(d[u]=a)):E&&(u.value=a,r.k&&(c[r.k]=a))};if(a){const g=()=>{p(),Gr.delete(r)};g.id=-1,Gr.set(r,g),Ft(g,t)}else Da(r),p()}}}function Da(r){const e=Gr.get(r);e&&(e.flags|=8,Gr.delete(r))}ln().requestIdleCallback;ln().cancelIdleCallback;const dr=r=>!!r.type.__asyncLoader,Pu=r=>r.type.__isKeepAlive;function $f(r,e){Fu(r,"a",e)}function Zf(r,e){Fu(r,"da",e)}function Fu(r,e,t=Rt){const i=r.__wdc||(r.__wdc=()=>{let n=t;for(;n;){if(n.isDeactivated)return;n=n.parent}return r()});if(pn(e,i,t),t){let n=t.parent;for(;n&&n.parent;)Pu(n.parent.vnode)&&Gf(i,e,t,n),n=n.parent}}function Gf(r,e,t,i){const n=pn(e,r,i,!0);Mu(()=>{Zs(i[e],n)},t)}function pn(r,e,t=Rt,i=!1){if(t){const n=t[r]||(t[r]=[]),s=e.__weh||(e.__weh=(...a)=>{ci();const o=Sr(t),u=ri(e,t,r,a);return o(),di(),u});return i?n.unshift(s):n.push(s),s}}const vi=r=>(e,t=Rt)=>{(!xr||r==="sp")&&pn(r,(...i)=>e(...i),t)},Yf=vi("bm"),Kf=vi("m"),Xf=vi("bu"),Jf=vi("u"),Qf=vi("bum"),Mu=vi("um"),eh=vi("sp"),th=vi("rtg"),ih=vi("rtc");function rh(r,e=Rt){pn("ec",r,e)}const nh=Symbol.for("v-ndc");function zu(r,e,t,i){let n;const s=t,a=Be(r);if(a||yt(r)){const o=a&&xi(r);let u=!1,h=!1;o&&(u=!Ht(r),h=Ai(r),r=hn(r)),n=new Array(r.length);for(let c=0,d=r.length;c<d;c++)n[c]=e(u?h?Hr(xt(r[c])):xt(r[c]):r[c],c,void 0,s)}else if(typeof r=="number"){n=new Array(r);for(let o=0;o<r;o++)n[o]=e(o+1,o,void 0,s)}else if(ct(r))if(r[Symbol.iterator])n=Array.from(r,(o,u)=>e(o,u,void 0,s));else{const o=Object.keys(r);n=new Array(o.length);for(let u=0,h=o.length;u<h;u++){const c=o[u];n[u]=e(r[c],c,u,s)}}else n=[];return n}const Ns=r=>r?ol(r)?mn(r):Ns(r.parent):null,pr=Nt(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Ns(r.parent),$root:r=>Ns(r.root),$host:r=>r.ce,$emit:r=>r.emit,$options:r=>qu(r),$forceUpdate:r=>r.f||(r.f=()=>{na(r.update)}),$nextTick:r=>r.n||(r.n=Ru.bind(r.proxy)),$watch:r=>Sh.bind(r)}),In=(r,e)=>r!==at&&!r.__isScriptSetup&&tt(r,e),sh={get({_:r},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:i,data:n,props:s,accessCache:a,type:o,appContext:u}=r;let h;if(e[0]!=="$"){const v=a[e];if(v!==void 0)switch(v){case 1:return i[e];case 2:return n[e];case 4:return t[e];case 3:return s[e]}else{if(In(i,e))return a[e]=1,i[e];if(n!==at&&tt(n,e))return a[e]=2,n[e];if((h=r.propsOptions[0])&&tt(h,e))return a[e]=3,s[e];if(t!==at&&tt(t,e))return a[e]=4,t[e];Is&&(a[e]=0)}}const c=pr[e];let d,b;if(c)return e==="$attrs"&&Dt(r.attrs,"get",""),c(r);if((d=o.__cssModules)&&(d=d[e]))return d;if(t!==at&&tt(t,e))return a[e]=4,t[e];if(b=u.config.globalProperties,tt(b,e))return b[e]},set({_:r},e,t){const{data:i,setupState:n,ctx:s}=r;return In(n,e)?(n[e]=t,!0):i!==at&&tt(i,e)?(i[e]=t,!0):tt(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(s[e]=t,!0)},has({_:{data:r,setupState:e,accessCache:t,ctx:i,appContext:n,propsOptions:s,type:a}},o){let u,h;return!!(t[o]||r!==at&&o[0]!=="$"&&tt(r,o)||In(e,o)||(u=s[0])&&tt(u,o)||tt(i,o)||tt(pr,o)||tt(n.config.globalProperties,o)||(h=a.__cssModules)&&h[o])},defineProperty(r,e,t){return t.get!=null?r._.accessCache[e]=0:tt(t,"value")&&this.set(r,e,t.value,null),Reflect.defineProperty(r,e,t)}};function Sa(r){return Be(r)?r.reduce((e,t)=>(e[t]=null,e),{}):r}let Is=!0;function ah(r){const e=qu(r),t=r.proxy,i=r.ctx;Is=!1,e.beforeCreate&&Ta(e.beforeCreate,r,"bc");const{data:n,computed:s,methods:a,watch:o,provide:u,inject:h,created:c,beforeMount:d,mounted:b,beforeUpdate:v,updated:R,activated:E,deactivated:p,beforeDestroy:g,beforeUnmount:m,destroyed:x,unmounted:S,render:_,renderTracked:T,renderTriggered:I,errorCaptured:N,serverPrefetch:D,expose:O,inheritAttrs:$,components:H,directives:Y,filters:ue}=e;if(h&&oh(h,i,null),a)for(const Q in a){const ee=a[Q];qe(ee)&&(i[Q]=ee.bind(t))}if(n){const Q=n.call(t,t);ct(Q)&&(r.data=cn(Q))}if(Is=!0,s)for(const Q in s){const ee=s[Q],be=qe(ee)?ee.bind(t,t):qe(ee.get)?ee.get.bind(t,t):ti,Le=!qe(ee)&&qe(ee.set)?ee.set.bind(t):ti,ge=bn({get:be,set:Le});Object.defineProperty(i,Q,{enumerable:!0,configurable:!0,get:()=>ge.value,set:we=>ge.value=we})}if(o)for(const Q in o)Uu(o[Q],i,t,Q);if(u){const Q=qe(u)?u.call(t):u;Reflect.ownKeys(Q).forEach(ee=>{dh(ee,Q[ee])})}c&&Ta(c,r,"c");function pe(Q,ee){Be(ee)?ee.forEach(be=>Q(be.bind(t))):ee&&Q(ee.bind(t))}if(pe(Yf,d),pe(Kf,b),pe(Xf,v),pe(Jf,R),pe($f,E),pe(Zf,p),pe(rh,N),pe(ih,T),pe(th,I),pe(Qf,m),pe(Mu,S),pe(eh,D),Be(O))if(O.length){const Q=r.exposed||(r.exposed={});O.forEach(ee=>{Object.defineProperty(Q,ee,{get:()=>t[ee],set:be=>t[ee]=be,enumerable:!0})})}else r.exposed||(r.exposed={});_&&r.render===ti&&(r.render=_),$!=null&&(r.inheritAttrs=$),H&&(r.components=H),Y&&(r.directives=Y),D&&Bu(r)}function oh(r,e,t=ti){Be(r)&&(r=Os(r));for(const i in r){const n=r[i];let s;ct(n)?"default"in n?s=gr(n.from||i,n.default,!0):s=gr(n.from||i):s=gr(n),vt(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[i]=s}}function Ta(r,e,t){ri(Be(r)?r.map(i=>i.bind(e.proxy)):r.bind(e.proxy),e,t)}function Uu(r,e,t,i){let n=i.includes(".")?el(t,i):()=>t[i];if(yt(r)){const s=e[r];qe(s)&&vr(n,s)}else if(qe(r))vr(n,r.bind(t));else if(ct(r))if(Be(r))r.forEach(s=>Uu(s,e,t,i));else{const s=qe(r.handler)?r.handler.bind(t):e[r.handler];qe(s)&&vr(n,s,r)}}function qu(r){const e=r.type,{mixins:t,extends:i}=e,{mixins:n,optionsCache:s,config:{optionMergeStrategies:a}}=r.appContext,o=s.get(e);let u;return o?u=o:!n.length&&!t&&!i?u=e:(u={},n.length&&n.forEach(h=>Yr(u,h,a,!0)),Yr(u,e,a)),ct(e)&&s.set(e,u),u}function Yr(r,e,t,i=!1){const{mixins:n,extends:s}=e;s&&Yr(r,s,t,!0),n&&n.forEach(a=>Yr(r,a,t,!0));for(const a in e)if(!(i&&a==="expose")){const o=uh[a]||t&&t[a];r[a]=o?o(r[a],e[a]):e[a]}return r}const uh={data:ka,props:Ra,emits:Ra,methods:ur,computed:ur,beforeCreate:St,created:St,beforeMount:St,mounted:St,beforeUpdate:St,updated:St,beforeDestroy:St,beforeUnmount:St,destroyed:St,unmounted:St,activated:St,deactivated:St,errorCaptured:St,serverPrefetch:St,components:ur,directives:ur,watch:fh,provide:ka,inject:lh};function ka(r,e){return e?r?function(){return Nt(qe(r)?r.call(this,this):r,qe(e)?e.call(this,this):e)}:e:r}function lh(r,e){return ur(Os(r),Os(e))}function Os(r){if(Be(r)){const e={};for(let t=0;t<r.length;t++)e[r[t]]=r[t];return e}return r}function St(r,e){return r?[...new Set([].concat(r,e))]:e}function ur(r,e){return r?Nt(Object.create(null),r,e):e}function Ra(r,e){return r?Be(r)&&Be(e)?[...new Set([...r,...e])]:Nt(Object.create(null),Sa(r),Sa(e??{})):e}function fh(r,e){if(!r)return e;if(!e)return r;const t=Nt(Object.create(null),r);for(const i in e)t[i]=St(r[i],e[i]);return t}function ju(){return{app:null,config:{isNativeTag:tu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hh=0;function ch(r,e){return function(i,n=null){qe(i)||(i=Nt({},i)),n!=null&&!ct(n)&&(n=null);const s=ju(),a=new WeakSet,o=[];let u=!1;const h=s.app={_uid:hh++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:Xh,get config(){return s.config},set config(c){},use(c,...d){return a.has(c)||(c&&qe(c.install)?(a.add(c),c.install(h,...d)):qe(c)&&(a.add(c),c(h,...d))),h},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),h},component(c,d){return d?(s.components[c]=d,h):s.components[c]},directive(c,d){return d?(s.directives[c]=d,h):s.directives[c]},mount(c,d,b){if(!u){const v=h._ceVNode||Bt(i,n);return v.appContext=s,b===!0?b="svg":b===!1&&(b=void 0),r(v,c,b),u=!0,h._container=c,c.__vue_app__=h,mn(v.component)}},onUnmount(c){o.push(c)},unmount(){u&&(ri(o,h._instance,16),r(null,h._container),delete h._container.__vue_app__)},provide(c,d){return s.provides[c]=d,h},runWithContext(c){const d=Oi;Oi=h;try{return c()}finally{Oi=d}}};return h}}let Oi=null;function dh(r,e){if(Rt){let t=Rt.provides;const i=Rt.parent&&Rt.parent.provides;i===t&&(t=Rt.provides=Object.create(i)),t[r]=e}}function gr(r,e,t=!1){const i=al();if(i||Oi){let n=Oi?Oi._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&r in n)return n[r];if(arguments.length>1)return t&&qe(e)?e.call(i&&i.proxy):e}}function ph(){return!!(al()||Oi)}const Wu={},Hu=()=>Object.create(Wu),Vu=r=>Object.getPrototypeOf(r)===Wu;function gh(r,e,t,i=!1){const n={},s=Hu();r.propsDefaults=Object.create(null),$u(r,e,n,s);for(const a in r.propsOptions[0])a in n||(n[a]=void 0);t?r.props=i?n:Sf(n):r.type.props?r.props=n:r.props=s,r.attrs=s}function vh(r,e,t,i){const{props:n,attrs:s,vnode:{patchFlag:a}}=r,o=Qe(n),[u]=r.propsOptions;let h=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=r.vnode.dynamicProps;for(let d=0;d<c.length;d++){let b=c[d];if(gn(r.emitsOptions,b))continue;const v=e[b];if(u)if(tt(s,b))v!==s[b]&&(s[b]=v,h=!0);else{const R=Ci(b);n[R]=Bs(u,o,R,v,r,!1)}else v!==s[b]&&(s[b]=v,h=!0)}}}else{$u(r,e,n,s)&&(h=!0);let c;for(const d in o)(!e||!tt(e,d)&&((c=Ti(d))===d||!tt(e,c)))&&(u?t&&(t[d]!==void 0||t[c]!==void 0)&&(n[d]=Bs(u,o,d,void 0,r,!0)):delete n[d]);if(s!==o)for(const d in s)(!e||!tt(e,d))&&(delete s[d],h=!0)}h&&fi(r.attrs,"set","")}function $u(r,e,t,i){const[n,s]=r.propsOptions;let a=!1,o;if(e)for(let u in e){if(lr(u))continue;const h=e[u];let c;n&&tt(n,c=Ci(u))?!s||!s.includes(c)?t[c]=h:(o||(o={}))[c]=h:gn(r.emitsOptions,u)||(!(u in i)||h!==i[u])&&(i[u]=h,a=!0)}if(s){const u=Qe(t),h=o||at;for(let c=0;c<s.length;c++){const d=s[c];t[d]=Bs(n,u,d,h[d],r,!tt(h,d))}}return a}function Bs(r,e,t,i,n,s){const a=r[t];if(a!=null){const o=tt(a,"default");if(o&&i===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&qe(u)){const{propsDefaults:h}=n;if(t in h)i=h[t];else{const c=Sr(n);i=h[t]=u.call(null,e),c()}}else i=u;n.ce&&n.ce._setProp(t,i)}a[0]&&(s&&!o?i=!1:a[1]&&(i===""||i===Ti(t))&&(i=!0))}return i}const mh=new WeakMap;function Zu(r,e,t=!1){const i=t?mh:e.propsCache,n=i.get(r);if(n)return n;const s=r.props,a={},o=[];let u=!1;if(!qe(r)){const c=d=>{u=!0;const[b,v]=Zu(d,e,!0);Nt(a,b),v&&o.push(...v)};!t&&e.mixins.length&&e.mixins.forEach(c),r.extends&&c(r.extends),r.mixins&&r.mixins.forEach(c)}if(!s&&!u)return ct(r)&&i.set(r,Gi),Gi;if(Be(s))for(let c=0;c<s.length;c++){const d=Ci(s[c]);La(d)&&(a[d]=at)}else if(s)for(const c in s){const d=Ci(c);if(La(d)){const b=s[c],v=a[d]=Be(b)||qe(b)?{type:b}:Nt({},b),R=v.type;let E=!1,p=!0;if(Be(R))for(let g=0;g<R.length;++g){const m=R[g],x=qe(m)&&m.name;if(x==="Boolean"){E=!0;break}else x==="String"&&(p=!1)}else E=qe(R)&&R.name==="Boolean";v[0]=E,v[1]=p,(E||tt(v,"default"))&&o.push(d)}}const h=[a,o];return ct(r)&&i.set(r,h),h}function La(r){return r[0]!=="$"&&!lr(r)}const aa=r=>r==="_"||r==="_ctx"||r==="$stable",oa=r=>Be(r)?r.map(ei):[ei(r)],bh=(r,e,t)=>{if(e._n)return e;const i=qf((...n)=>oa(e(...n)),t);return i._c=!1,i},Gu=(r,e,t)=>{const i=r._ctx;for(const n in r){if(aa(n))continue;const s=r[n];if(qe(s))e[n]=bh(n,s,i);else if(s!=null){const a=oa(s);e[n]=()=>a}}},Yu=(r,e)=>{const t=oa(e);r.slots.default=()=>t},Ku=(r,e,t)=>{for(const i in e)(t||!aa(i))&&(r[i]=e[i])},yh=(r,e,t)=>{const i=r.slots=Hu();if(r.vnode.shapeFlag&32){const n=e._;n?(Ku(i,e,t),t&&ou(i,"_",n,!0)):Gu(e,i)}else e&&Yu(r,e)},_h=(r,e,t)=>{const{vnode:i,slots:n}=r;let s=!0,a=at;if(i.shapeFlag&32){const o=e._;o?t&&o===1?s=!1:Ku(n,e,t):(s=!e.$stable,Gu(e,n)),a=e}else e&&(Yu(r,e),a={default:1});if(s)for(const o in n)!aa(o)&&a[o]==null&&delete n[o]},Ft=Bh;function wh(r){return Eh(r)}function Eh(r,e){const t=ln();t.__VUE__=!0;const{insert:i,remove:n,patchProp:s,createElement:a,createText:o,createComment:u,setText:h,setElementText:c,parentNode:d,nextSibling:b,setScopeId:v=ti,insertStaticContent:R}=r,E=(B,M,Z,ie=null,J=null,X=null,he=void 0,le=null,ae=!!M.dynamicChildren)=>{if(B===M)return;B&&!nr(B,M)&&(ie=He(B),we(B,J,X,!0),B=null),M.patchFlag===-2&&(ae=!1,M.dynamicChildren=null);const{type:K,ref:de,shapeFlag:re}=M;switch(K){case vn:p(B,M,Z,ie);break;case Di:g(B,M,Z,ie);break;case Mr:B==null&&m(M,Z,ie,he);break;case Kt:H(B,M,Z,ie,J,X,he,le,ae);break;default:re&1?_(B,M,Z,ie,J,X,he,le,ae):re&6?Y(B,M,Z,ie,J,X,he,le,ae):(re&64||re&128)&&K.process(B,M,Z,ie,J,X,he,le,ae,Ke)}de!=null&&J?cr(de,B&&B.ref,X,M||B,!M):de==null&&B&&B.ref!=null&&cr(B.ref,null,X,B,!0)},p=(B,M,Z,ie)=>{if(B==null)i(M.el=o(M.children),Z,ie);else{const J=M.el=B.el;M.children!==B.children&&h(J,M.children)}},g=(B,M,Z,ie)=>{B==null?i(M.el=u(M.children||""),Z,ie):M.el=B.el},m=(B,M,Z,ie)=>{[B.el,B.anchor]=R(B.children,M,Z,ie,B.el,B.anchor)},x=({el:B,anchor:M},Z,ie)=>{let J;for(;B&&B!==M;)J=b(B),i(B,Z,ie),B=J;i(M,Z,ie)},S=({el:B,anchor:M})=>{let Z;for(;B&&B!==M;)Z=b(B),n(B),B=Z;n(M)},_=(B,M,Z,ie,J,X,he,le,ae)=>{M.type==="svg"?he="svg":M.type==="math"&&(he="mathml"),B==null?T(M,Z,ie,J,X,he,le,ae):D(B,M,J,X,he,le,ae)},T=(B,M,Z,ie,J,X,he,le)=>{let ae,K;const{props:de,shapeFlag:re,transition:Ce,dirs:Te}=B;if(ae=B.el=a(B.type,X,de&&de.is,de),re&8?c(ae,B.children):re&16&&N(B.children,ae,null,ie,J,On(B,X),he,le),Te&&ki(B,null,ie,"created"),I(ae,B,B.scopeId,he,ie),de){for(const Ie in de)Ie!=="value"&&!lr(Ie)&&s(ae,Ie,null,de[Ie],X,ie);"value"in de&&s(ae,"value",null,de.value,X),(K=de.onVnodeBeforeMount)&&Jt(K,ie,B)}Te&&ki(B,null,ie,"beforeMount");const Ne=xh(J,Ce);Ne&&Ce.beforeEnter(ae),i(ae,M,Z),((K=de&&de.onVnodeMounted)||Ne||Te)&&Ft(()=>{K&&Jt(K,ie,B),Ne&&Ce.enter(ae),Te&&ki(B,null,ie,"mounted")},J)},I=(B,M,Z,ie,J)=>{if(Z&&v(B,Z),ie)for(let X=0;X<ie.length;X++)v(B,ie[X]);if(J){let X=J.subTree;if(M===X||il(X.type)&&(X.ssContent===M||X.ssFallback===M)){const he=J.vnode;I(B,he,he.scopeId,he.slotScopeIds,J.parent)}}},N=(B,M,Z,ie,J,X,he,le,ae=0)=>{for(let K=ae;K<B.length;K++){const de=B[K]=le?yi(B[K]):ei(B[K]);E(null,de,M,Z,ie,J,X,he,le)}},D=(B,M,Z,ie,J,X,he)=>{const le=M.el=B.el;let{patchFlag:ae,dynamicChildren:K,dirs:de}=M;ae|=B.patchFlag&16;const re=B.props||at,Ce=M.props||at;let Te;if(Z&&Ri(Z,!1),(Te=Ce.onVnodeBeforeUpdate)&&Jt(Te,Z,M,B),de&&ki(M,B,Z,"beforeUpdate"),Z&&Ri(Z,!0),(re.innerHTML&&Ce.innerHTML==null||re.textContent&&Ce.textContent==null)&&c(le,""),K?O(B.dynamicChildren,K,le,Z,ie,On(M,J),X):he||ee(B,M,le,null,Z,ie,On(M,J),X,!1),ae>0){if(ae&16)$(le,re,Ce,Z,J);else if(ae&2&&re.class!==Ce.class&&s(le,"class",null,Ce.class,J),ae&4&&s(le,"style",re.style,Ce.style,J),ae&8){const Ne=M.dynamicProps;for(let Ie=0;Ie<Ne.length;Ie++){const ze=Ne[Ie],it=re[ze],Xe=Ce[ze];(Xe!==it||ze==="value")&&s(le,ze,it,Xe,J,Z)}}ae&1&&B.children!==M.children&&c(le,M.children)}else!he&&K==null&&$(le,re,Ce,Z,J);((Te=Ce.onVnodeUpdated)||de)&&Ft(()=>{Te&&Jt(Te,Z,M,B),de&&ki(M,B,Z,"updated")},ie)},O=(B,M,Z,ie,J,X,he)=>{for(let le=0;le<M.length;le++){const ae=B[le],K=M[le],de=ae.el&&(ae.type===Kt||!nr(ae,K)||ae.shapeFlag&198)?d(ae.el):Z;E(ae,K,de,null,ie,J,X,he,!0)}},$=(B,M,Z,ie,J)=>{if(M!==Z){if(M!==at)for(const X in M)!lr(X)&&!(X in Z)&&s(B,X,M[X],null,J,ie);for(const X in Z){if(lr(X))continue;const he=Z[X],le=M[X];he!==le&&X!=="value"&&s(B,X,le,he,J,ie)}"value"in Z&&s(B,"value",M.value,Z.value,J)}},H=(B,M,Z,ie,J,X,he,le,ae)=>{const K=M.el=B?B.el:o(""),de=M.anchor=B?B.anchor:o("");let{patchFlag:re,dynamicChildren:Ce,slotScopeIds:Te}=M;Te&&(le=le?le.concat(Te):Te),B==null?(i(K,Z,ie),i(de,Z,ie),N(M.children||[],Z,de,J,X,he,le,ae)):re>0&&re&64&&Ce&&B.dynamicChildren?(O(B.dynamicChildren,Ce,Z,J,X,he,le),(M.key!=null||J&&M===J.subTree)&&Xu(B,M,!0)):ee(B,M,Z,de,J,X,he,le,ae)},Y=(B,M,Z,ie,J,X,he,le,ae)=>{M.slotScopeIds=le,B==null?M.shapeFlag&512?J.ctx.activate(M,Z,ie,he,ae):ue(M,Z,ie,J,X,he,ae):oe(B,M,ae)},ue=(B,M,Z,ie,J,X,he)=>{const le=B.component=Vh(B,ie,J);if(Pu(B)&&(le.ctx.renderer=Ke),$h(le,!1,he),le.asyncDep){if(J&&J.registerDep(le,pe,he),!B.el){const ae=le.subTree=Bt(Di);g(null,ae,M,Z),B.placeholder=ae.el}}else pe(le,B,M,Z,J,X,he)},oe=(B,M,Z)=>{const ie=M.component=B.component;if(Ih(B,M,Z))if(ie.asyncDep&&!ie.asyncResolved){Q(ie,M,Z);return}else ie.next=M,ie.update();else M.el=B.el,ie.vnode=M},pe=(B,M,Z,ie,J,X,he)=>{const le=()=>{if(B.isMounted){let{next:re,bu:Ce,u:Te,parent:Ne,vnode:Ie}=B;{const ut=Ju(B);if(ut){re&&(re.el=Ie.el,Q(B,re,he)),ut.asyncDep.then(()=>{B.isUnmounted||le()});return}}let ze=re,it;Ri(B,!1),re?(re.el=Ie.el,Q(B,re,he)):re=Ie,Ce&&Fr(Ce),(it=re.props&&re.props.onVnodeBeforeUpdate)&&Jt(it,Ne,re,Ie),Ri(B,!0);const Xe=Ia(B),ft=B.subTree;B.subTree=Xe,E(ft,Xe,d(ft.el),He(ft),B,J,X),re.el=Xe.el,ze===null&&Oh(B,Xe.el),Te&&Ft(Te,J),(it=re.props&&re.props.onVnodeUpdated)&&Ft(()=>Jt(it,Ne,re,Ie),J)}else{let re;const{el:Ce,props:Te}=M,{bm:Ne,m:Ie,parent:ze,root:it,type:Xe}=B,ft=dr(M);Ri(B,!1),Ne&&Fr(Ne),!ft&&(re=Te&&Te.onVnodeBeforeMount)&&Jt(re,ze,M),Ri(B,!0);{it.ce&&it.ce._def.shadowRoot!==!1&&it.ce._injectChildStyle(Xe);const ut=B.subTree=Ia(B);E(null,ut,Z,ie,B,J,X),M.el=ut.el}if(Ie&&Ft(Ie,J),!ft&&(re=Te&&Te.onVnodeMounted)){const ut=M;Ft(()=>Jt(re,ze,ut),J)}(M.shapeFlag&256||ze&&dr(ze.vnode)&&ze.vnode.shapeFlag&256)&&B.a&&Ft(B.a,J),B.isMounted=!0,M=Z=ie=null}};B.scope.on();const ae=B.effect=new pu(le);B.scope.off();const K=B.update=ae.run.bind(ae),de=B.job=ae.runIfDirty.bind(ae);de.i=B,de.id=B.uid,ae.scheduler=()=>na(de),Ri(B,!0),K()},Q=(B,M,Z)=>{M.component=B;const ie=B.vnode.props;B.vnode=M,B.next=null,vh(B,M.props,ie,Z),_h(B,M.children,Z),ci(),Aa(B),di()},ee=(B,M,Z,ie,J,X,he,le,ae=!1)=>{const K=B&&B.children,de=B?B.shapeFlag:0,re=M.children,{patchFlag:Ce,shapeFlag:Te}=M;if(Ce>0){if(Ce&128){Le(K,re,Z,ie,J,X,he,le,ae);return}else if(Ce&256){be(K,re,Z,ie,J,X,he,le,ae);return}}Te&8?(de&16&&Je(K,J,X),re!==K&&c(Z,re)):de&16?Te&16?Le(K,re,Z,ie,J,X,he,le,ae):Je(K,J,X,!0):(de&8&&c(Z,""),Te&16&&N(re,Z,ie,J,X,he,le,ae))},be=(B,M,Z,ie,J,X,he,le,ae)=>{B=B||Gi,M=M||Gi;const K=B.length,de=M.length,re=Math.min(K,de);let Ce;for(Ce=0;Ce<re;Ce++){const Te=M[Ce]=ae?yi(M[Ce]):ei(M[Ce]);E(B[Ce],Te,Z,null,J,X,he,le,ae)}K>de?Je(B,J,X,!0,!1,re):N(M,Z,ie,J,X,he,le,ae,re)},Le=(B,M,Z,ie,J,X,he,le,ae)=>{let K=0;const de=M.length;let re=B.length-1,Ce=de-1;for(;K<=re&&K<=Ce;){const Te=B[K],Ne=M[K]=ae?yi(M[K]):ei(M[K]);if(nr(Te,Ne))E(Te,Ne,Z,null,J,X,he,le,ae);else break;K++}for(;K<=re&&K<=Ce;){const Te=B[re],Ne=M[Ce]=ae?yi(M[Ce]):ei(M[Ce]);if(nr(Te,Ne))E(Te,Ne,Z,null,J,X,he,le,ae);else break;re--,Ce--}if(K>re){if(K<=Ce){const Te=Ce+1,Ne=Te<de?M[Te].el:ie;for(;K<=Ce;)E(null,M[K]=ae?yi(M[K]):ei(M[K]),Z,Ne,J,X,he,le,ae),K++}}else if(K>Ce)for(;K<=re;)we(B[K],J,X,!0),K++;else{const Te=K,Ne=K,Ie=new Map;for(K=Ne;K<=Ce;K++){const ht=M[K]=ae?yi(M[K]):ei(M[K]);ht.key!=null&&Ie.set(ht.key,K)}let ze,it=0;const Xe=Ce-Ne+1;let ft=!1,ut=0;const nt=new Array(Xe);for(K=0;K<Xe;K++)nt[K]=0;for(K=Te;K<=re;K++){const ht=B[K];if(it>=Xe){we(ht,J,X,!0);continue}let A;if(ht.key!=null)A=Ie.get(ht.key);else for(ze=Ne;ze<=Ce;ze++)if(nt[ze-Ne]===0&&nr(ht,M[ze])){A=ze;break}A===void 0?we(ht,J,X,!0):(nt[A-Ne]=K+1,A>=ut?ut=A:ft=!0,E(ht,M[A],Z,null,J,X,he,le,ae),it++)}const mt=ft?Ch(nt):Gi;for(ze=mt.length-1,K=Xe-1;K>=0;K--){const ht=Ne+K,A=M[ht],se=M[ht+1],fe=ht+1<de?se.el||se.placeholder:ie;nt[K]===0?E(null,A,Z,fe,J,X,he,le,ae):ft&&(ze<0||K!==mt[ze]?ge(A,Z,fe,2):ze--)}}},ge=(B,M,Z,ie,J=null)=>{const{el:X,type:he,transition:le,children:ae,shapeFlag:K}=B;if(K&6){ge(B.component.subTree,M,Z,ie);return}if(K&128){B.suspense.move(M,Z,ie);return}if(K&64){he.move(B,M,Z,Ke);return}if(he===Kt){i(X,M,Z);for(let re=0;re<ae.length;re++)ge(ae[re],M,Z,ie);i(B.anchor,M,Z);return}if(he===Mr){x(B,M,Z);return}if(ie!==2&&K&1&&le)if(ie===0)le.beforeEnter(X),i(X,M,Z),Ft(()=>le.enter(X),J);else{const{leave:re,delayLeave:Ce,afterLeave:Te}=le,Ne=()=>{B.ctx.isUnmounted?n(X):i(X,M,Z)},Ie=()=>{X._isLeaving&&X[Vf](!0),re(X,()=>{Ne(),Te&&Te()})};Ce?Ce(X,Ne,Ie):Ie()}else i(X,M,Z)},we=(B,M,Z,ie=!1,J=!1)=>{const{type:X,props:he,ref:le,children:ae,dynamicChildren:K,shapeFlag:de,patchFlag:re,dirs:Ce,cacheIndex:Te}=B;if(re===-2&&(J=!1),le!=null&&(ci(),cr(le,null,Z,B,!0),di()),Te!=null&&(M.renderCache[Te]=void 0),de&256){M.ctx.deactivate(B);return}const Ne=de&1&&Ce,Ie=!dr(B);let ze;if(Ie&&(ze=he&&he.onVnodeBeforeUnmount)&&Jt(ze,M,B),de&6)je(B.component,Z,ie);else{if(de&128){B.suspense.unmount(Z,ie);return}Ne&&ki(B,null,M,"beforeUnmount"),de&64?B.type.remove(B,M,Z,Ke,ie):K&&!K.hasOnce&&(X!==Kt||re>0&&re&64)?Je(K,M,Z,!1,!0):(X===Kt&&re&384||!J&&de&16)&&Je(ae,M,Z),ie&&Me(B)}(Ie&&(ze=he&&he.onVnodeUnmounted)||Ne)&&Ft(()=>{ze&&Jt(ze,M,B),Ne&&ki(B,null,M,"unmounted")},Z)},Me=B=>{const{type:M,el:Z,anchor:ie,transition:J}=B;if(M===Kt){Re(Z,ie);return}if(M===Mr){S(B);return}const X=()=>{n(Z),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(B.shapeFlag&1&&J&&!J.persisted){const{leave:he,delayLeave:le}=J,ae=()=>he(Z,X);le?le(B.el,X,ae):ae()}else X()},Re=(B,M)=>{let Z;for(;B!==M;)Z=b(B),n(B),B=Z;n(M)},je=(B,M,Z)=>{const{bum:ie,scope:J,job:X,subTree:he,um:le,m:ae,a:K}=B;Na(ae),Na(K),ie&&Fr(ie),J.stop(),X&&(X.flags|=8,we(he,B,M,Z)),le&&Ft(le,M),Ft(()=>{B.isUnmounted=!0},M)},Je=(B,M,Z,ie=!1,J=!1,X=0)=>{for(let he=X;he<B.length;he++)we(B[he],M,Z,ie,J)},He=B=>{if(B.shapeFlag&6)return He(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const M=b(B.anchor||B.el),Z=M&&M[Wf];return Z?b(Z):M};let ke=!1;const Ye=(B,M,Z)=>{B==null?M._vnode&&we(M._vnode,null,null,!0):E(M._vnode||null,B,M,null,null,null,Z),M._vnode=B,ke||(ke=!0,Aa(),Nu(),ke=!1)},Ke={p:E,um:we,m:ge,r:Me,mt:ue,mc:N,pc:ee,pbc:O,n:He,o:r};return{render:Ye,hydrate:void 0,createApp:ch(Ye)}}function On({type:r,props:e},t){return t==="svg"&&r==="foreignObject"||t==="mathml"&&r==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Ri({effect:r,job:e},t){t?(r.flags|=32,e.flags|=4):(r.flags&=-33,e.flags&=-5)}function xh(r,e){return(!r||r&&!r.pendingBranch)&&e&&!e.persisted}function Xu(r,e,t=!1){const i=r.children,n=e.children;if(Be(i)&&Be(n))for(let s=0;s<i.length;s++){const a=i[s];let o=n[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=n[s]=yi(n[s]),o.el=a.el),!t&&o.patchFlag!==-2&&Xu(a,o)),o.type===vn&&o.patchFlag!==-1&&(o.el=a.el),o.type===Di&&!o.el&&(o.el=a.el)}}function Ch(r){const e=r.slice(),t=[0];let i,n,s,a,o;const u=r.length;for(i=0;i<u;i++){const h=r[i];if(h!==0){if(n=t[t.length-1],r[n]<h){e[i]=n,t.push(i);continue}for(s=0,a=t.length-1;s<a;)o=s+a>>1,r[t[o]]<h?s=o+1:a=o;h<r[t[s]]&&(s>0&&(e[i]=t[s-1]),t[s]=i)}}for(s=t.length,a=t[s-1];s-- >0;)t[s]=a,a=e[a];return t}function Ju(r){const e=r.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ju(e)}function Na(r){if(r)for(let e=0;e<r.length;e++)r[e].flags|=8}const Ah=Symbol.for("v-scx"),Dh=()=>gr(Ah);function vr(r,e,t){return Qu(r,e,t)}function Qu(r,e,t=at){const{immediate:i,deep:n,flush:s,once:a}=t,o=Nt({},t),u=e&&i||!e&&s!=="post";let h;if(xr){if(s==="sync"){const v=Dh();h=v.__watcherHandles||(v.__watcherHandles=[])}else if(!u){const v=()=>{};return v.stop=ti,v.resume=ti,v.pause=ti,v}}const c=Rt;o.call=(v,R,E)=>ri(v,c,R,E);let d=!1;s==="post"?o.scheduler=v=>{Ft(v,c&&c.suspense)}:s!=="sync"&&(d=!0,o.scheduler=(v,R)=>{R?v():na(v)}),o.augmentJob=v=>{e&&(v.flags|=4),d&&(v.flags|=2,c&&(v.id=c.uid,v.i=c))};const b=Ff(r,e,o);return xr&&(h?h.push(b):u&&b()),b}function Sh(r,e,t){const i=this.proxy,n=yt(r)?r.includes(".")?el(i,r):()=>i[r]:r.bind(i,i);let s;qe(e)?s=e:(s=e.handler,t=e);const a=Sr(this),o=Qu(n,s.bind(i),t);return a(),o}function el(r,e){const t=e.split(".");return()=>{let i=r;for(let n=0;n<t.length&&i;n++)i=i[t[n]];return i}}const Th=(r,e)=>e==="modelValue"||e==="model-value"?r.modelModifiers:r[`${e}Modifiers`]||r[`${Ci(e)}Modifiers`]||r[`${Ti(e)}Modifiers`];function kh(r,e,...t){if(r.isUnmounted)return;const i=r.vnode.props||at;let n=t;const s=e.startsWith("update:"),a=s&&Th(i,e.slice(7));a&&(a.trim&&(n=t.map(c=>yt(c)?c.trim():c)),a.number&&(n=t.map(Ss)));let o,u=i[o=Tn(e)]||i[o=Tn(Ci(e))];!u&&s&&(u=i[o=Tn(Ti(e))]),u&&ri(u,r,6,n);const h=i[o+"Once"];if(h){if(!r.emitted)r.emitted={};else if(r.emitted[o])return;r.emitted[o]=!0,ri(h,r,6,n)}}const Rh=new WeakMap;function tl(r,e,t=!1){const i=t?Rh:e.emitsCache,n=i.get(r);if(n!==void 0)return n;const s=r.emits;let a={},o=!1;if(!qe(r)){const u=h=>{const c=tl(h,e,!0);c&&(o=!0,Nt(a,c))};!t&&e.mixins.length&&e.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}return!s&&!o?(ct(r)&&i.set(r,null),null):(Be(s)?s.forEach(u=>a[u]=null):Nt(a,s),ct(r)&&i.set(r,a),a)}function gn(r,e){return!r||!an(e)?!1:(e=e.slice(2).replace(/Once$/,""),tt(r,e[0].toLowerCase()+e.slice(1))||tt(r,Ti(e))||tt(r,e))}function Ia(r){const{type:e,vnode:t,proxy:i,withProxy:n,propsOptions:[s],slots:a,attrs:o,emit:u,render:h,renderCache:c,props:d,data:b,setupState:v,ctx:R,inheritAttrs:E}=r,p=Zr(r);let g,m;try{if(t.shapeFlag&4){const S=n||i,_=S;g=ei(h.call(_,S,c,d,v,b,R)),m=o}else{const S=e;g=ei(S.length>1?S(d,{attrs:o,slots:a,emit:u}):S(d,null)),m=e.props?o:Lh(o)}}catch(S){mr.length=0,dn(S,r,1),g=Bt(Di)}let x=g;if(m&&E!==!1){const S=Object.keys(m),{shapeFlag:_}=x;S.length&&_&7&&(s&&S.some($s)&&(m=Nh(m,s)),x=Ji(x,m,!1,!0))}return t.dirs&&(x=Ji(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(t.dirs):t.dirs),t.transition&&sa(x,t.transition),g=x,Zr(p),g}const Lh=r=>{let e;for(const t in r)(t==="class"||t==="style"||an(t))&&((e||(e={}))[t]=r[t]);return e},Nh=(r,e)=>{const t={};for(const i in r)(!$s(i)||!(i.slice(9)in e))&&(t[i]=r[i]);return t};function Ih(r,e,t){const{props:i,children:n,component:s}=r,{props:a,children:o,patchFlag:u}=e,h=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&u>=0){if(u&1024)return!0;if(u&16)return i?Oa(i,a,h):!!a;if(u&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const b=c[d];if(a[b]!==i[b]&&!gn(h,b))return!0}}}else return(n||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?Oa(i,a,h):!0:!!a;return!1}function Oa(r,e,t){const i=Object.keys(e);if(i.length!==Object.keys(r).length)return!0;for(let n=0;n<i.length;n++){const s=i[n];if(e[s]!==r[s]&&!gn(t,s))return!0}return!1}function Oh({vnode:r,parent:e},t){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===r&&(i.el=r.el),i===r)(r=e.vnode).el=t,e=e.parent;else break}}const il=r=>r.__isSuspense;function Bh(r,e){e&&e.pendingBranch?Be(r)?e.effects.push(...r):e.effects.push(r):Uf(r)}const Kt=Symbol.for("v-fgt"),vn=Symbol.for("v-txt"),Di=Symbol.for("v-cmt"),Mr=Symbol.for("v-stc"),mr=[];let Mt=null;function kt(r=!1){mr.push(Mt=r?null:[])}function Ph(){mr.pop(),Mt=mr[mr.length-1]||null}let Er=1;function Ba(r,e=!1){Er+=r,r<0&&Mt&&e&&(Mt.hasOnce=!0)}function rl(r){return r.dynamicChildren=Er>0?Mt||Gi:null,Ph(),Er>0&&Mt&&Mt.push(r),r}function Ot(r,e,t,i,n,s){return rl(Ue(r,e,t,i,n,s,!0))}function Fh(r,e,t,i,n){return rl(Bt(r,e,t,i,n,!0))}function nl(r){return r?r.__v_isVNode===!0:!1}function nr(r,e){return r.type===e.type&&r.key===e.key}const sl=({key:r})=>r??null,zr=({ref:r,ref_key:e,ref_for:t})=>(typeof r=="number"&&(r=""+r),r!=null?yt(r)||vt(r)||qe(r)?{i:jt,r,k:e,f:!!t}:r:null);function Ue(r,e=null,t=null,i=0,n=null,s=r===Kt?0:1,a=!1,o=!1){const u={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&sl(e),ref:e&&zr(e),scopeId:Ou,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:jt};return o?(ua(u,t),s&128&&r.normalize(u)):t&&(u.shapeFlag|=yt(t)?8:16),Er>0&&!a&&Mt&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&Mt.push(u),u}const Bt=Mh;function Mh(r,e=null,t=null,i=0,n=null,s=!1){if((!r||r===nh)&&(r=Di),nl(r)){const o=Ji(r,e,!0);return t&&ua(o,t),Er>0&&!s&&Mt&&(o.shapeFlag&6?Mt[Mt.indexOf(r)]=o:Mt.push(o)),o.patchFlag=-2,o}if(Kh(r)&&(r=r.__vccOpts),e){e=zh(e);let{class:o,style:u}=e;o&&!yt(o)&&(e.class=li(o)),ct(u)&&(ia(u)&&!Be(u)&&(u=Nt({},u)),e.style=fn(u))}const a=yt(r)?1:il(r)?128:Hf(r)?64:ct(r)?4:qe(r)?2:0;return Ue(r,e,t,i,n,a,s,!0)}function zh(r){return r?ia(r)||Vu(r)?Nt({},r):r:null}function Ji(r,e,t=!1,i=!1){const{props:n,ref:s,patchFlag:a,children:o,transition:u}=r,h=e?jh(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:r.type,props:h,key:h&&sl(h),ref:e&&e.ref?t&&s?Be(s)?s.concat(zr(e)):[s,zr(e)]:zr(e):s,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:o,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==Kt?a===-1?16:a|16:a,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:u,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Ji(r.ssContent),ssFallback:r.ssFallback&&Ji(r.ssFallback),placeholder:r.placeholder,el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return u&&i&&sa(c,u.clone(c)),c}function Uh(r=" ",e=0){return Bt(vn,null,r,e)}function qh(r,e){const t=Bt(Mr,null,r);return t.staticCount=e,t}function Pa(r="",e=!1){return e?(kt(),Fh(Di,null,r)):Bt(Di,null,r)}function ei(r){return r==null||typeof r=="boolean"?Bt(Di):Be(r)?Bt(Kt,null,r.slice()):nl(r)?yi(r):Bt(vn,null,String(r))}function yi(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:Ji(r)}function ua(r,e){let t=0;const{shapeFlag:i}=r;if(e==null)e=null;else if(Be(e))t=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),ua(r,n()),n._c&&(n._d=!0));return}else{t=32;const n=e._;!n&&!Vu(e)?e._ctx=jt:n===3&&jt&&(jt.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else qe(e)?(e={default:e,_ctx:jt},t=32):(e=String(e),i&64?(t=16,e=[Uh(e)]):t=8);r.children=e,r.shapeFlag|=t}function jh(...r){const e={};for(let t=0;t<r.length;t++){const i=r[t];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=li([e.class,i.class]));else if(n==="style")e.style=fn([e.style,i.style]);else if(an(n)){const s=e[n],a=i[n];a&&s!==a&&!(Be(s)&&s.includes(a))&&(e[n]=s?[].concat(s,a):a)}else n!==""&&(e[n]=i[n])}return e}function Jt(r,e,t,i=null){ri(r,e,7,[t,i])}const Wh=ju();let Hh=0;function Vh(r,e,t){const i=r.type,n=(e?e.appContext:r.appContext)||Wh,s={uid:Hh++,vnode:r,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new hu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zu(i,n),emitsOptions:tl(i,n),emit:null,emitted:null,propsDefaults:at,inheritAttrs:i.inheritAttrs,ctx:at,data:at,props:at,attrs:at,slots:at,refs:at,setupState:at,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=kh.bind(null,s),r.ce&&r.ce(s),s}let Rt=null;const al=()=>Rt||jt;let Kr,Ps;{const r=ln(),e=(t,i)=>{let n;return(n=r[t])||(n=r[t]=[]),n.push(i),s=>{n.length>1?n.forEach(a=>a(s)):n[0](s)}};Kr=e("__VUE_INSTANCE_SETTERS__",t=>Rt=t),Ps=e("__VUE_SSR_SETTERS__",t=>xr=t)}const Sr=r=>{const e=Rt;return Kr(r),r.scope.on(),()=>{r.scope.off(),Kr(e)}},Fa=()=>{Rt&&Rt.scope.off(),Kr(null)};function ol(r){return r.vnode.shapeFlag&4}let xr=!1;function $h(r,e=!1,t=!1){e&&Ps(e);const{props:i,children:n}=r.vnode,s=ol(r);gh(r,i,s,e),yh(r,n,t||e);const a=s?Zh(r,e):void 0;return e&&Ps(!1),a}function Zh(r,e){const t=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,sh);const{setup:i}=t;if(i){ci();const n=r.setupContext=i.length>1?Yh(r):null,s=Sr(r),a=Dr(i,r,0,[r.props,n]),o=ru(a);if(di(),s(),(o||r.sp)&&!dr(r)&&Bu(r),o){if(a.then(Fa,Fa),e)return a.then(u=>{Ma(r,u)}).catch(u=>{dn(u,r,0)});r.asyncDep=a}else Ma(r,a)}else ul(r)}function Ma(r,e,t){qe(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:ct(e)&&(r.setupState=Tu(e)),ul(r)}function ul(r,e,t){const i=r.type;r.render||(r.render=i.render||ti);{const n=Sr(r);ci();try{ah(r)}finally{di(),n()}}}const Gh={get(r,e){return Dt(r,"get",""),r[e]}};function Yh(r){const e=t=>{r.exposed=t||{}};return{attrs:new Proxy(r.attrs,Gh),slots:r.slots,emit:r.emit,expose:e}}function mn(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(Tu(ra(r.exposed)),{get(e,t){if(t in e)return e[t];if(t in pr)return pr[t](r)},has(e,t){return t in e||t in pr}})):r.proxy}function Kh(r){return qe(r)&&"__vccOpts"in r}const bn=(r,e)=>Bf(r,e,xr),Xh="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Fs;const za=typeof window<"u"&&window.trustedTypes;if(za)try{Fs=za.createPolicy("vue",{createHTML:r=>r})}catch{}const ll=Fs?r=>Fs.createHTML(r):r=>r,Jh="http://www.w3.org/2000/svg",Qh="http://www.w3.org/1998/Math/MathML",ui=typeof document<"u"?document:null,Ua=ui&&ui.createElement("template"),ec={insert:(r,e,t)=>{e.insertBefore(r,t||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,t,i)=>{const n=e==="svg"?ui.createElementNS(Jh,r):e==="mathml"?ui.createElementNS(Qh,r):t?ui.createElement(r,{is:t}):ui.createElement(r);return r==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:r=>ui.createTextNode(r),createComment:r=>ui.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>ui.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},insertStaticContent(r,e,t,i,n,s){const a=t?t.previousSibling:e.lastChild;if(n&&(n===s||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),t),!(n===s||!(n=n.nextSibling)););else{Ua.innerHTML=ll(i==="svg"?`<svg>${r}</svg>`:i==="mathml"?`<math>${r}</math>`:r);const o=Ua.content;if(i==="svg"||i==="mathml"){const u=o.firstChild;for(;u.firstChild;)o.appendChild(u.firstChild);o.removeChild(u)}e.insertBefore(o,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},tc=Symbol("_vtc");function ic(r,e,t){const i=r[tc];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?r.removeAttribute("class"):t?r.setAttribute("class",e):r.className=e}const qa=Symbol("_vod"),rc=Symbol("_vsh"),nc=Symbol(""),sc=/(?:^|;)\s*display\s*:/;function ac(r,e,t){const i=r.style,n=yt(t);let s=!1;if(t&&!n){if(e)if(yt(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();t[o]==null&&Ur(i,o,"")}else for(const a in e)t[a]==null&&Ur(i,a,"");for(const a in t)a==="display"&&(s=!0),Ur(i,a,t[a])}else if(n){if(e!==t){const a=i[nc];a&&(t+=";"+a),i.cssText=t,s=sc.test(t)}}else e&&r.removeAttribute("style");qa in r&&(r[qa]=s?i.display:"",r[rc]&&(i.display="none"))}const ja=/\s*!important$/;function Ur(r,e,t){if(Be(t))t.forEach(i=>Ur(r,e,i));else if(t==null&&(t=""),e.startsWith("--"))r.setProperty(e,t);else{const i=oc(r,e);ja.test(t)?r.setProperty(Ti(i),t.replace(ja,""),"important"):r[i]=t}}const Wa=["Webkit","Moz","ms"],Bn={};function oc(r,e){const t=Bn[e];if(t)return t;let i=Ci(e);if(i!=="filter"&&i in r)return Bn[e]=i;i=au(i);for(let n=0;n<Wa.length;n++){const s=Wa[n]+i;if(s in r)return Bn[e]=s}return e}const Ha="http://www.w3.org/1999/xlink";function Va(r,e,t,i,n,s=af(e)){i&&e.startsWith("xlink:")?t==null?r.removeAttributeNS(Ha,e.slice(6,e.length)):r.setAttributeNS(Ha,e,t):t==null||s&&!uu(t)?r.removeAttribute(e):r.setAttribute(e,s?"":Si(t)?String(t):t)}function $a(r,e,t,i,n){if(e==="innerHTML"||e==="textContent"){t!=null&&(r[e]=e==="innerHTML"?ll(t):t);return}const s=r.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?r.getAttribute("value")||"":r.value,u=t==null?r.type==="checkbox"?"on":"":String(t);(o!==u||!("_value"in r))&&(r.value=u),t==null&&r.removeAttribute(e),r._value=t;return}let a=!1;if(t===""||t==null){const o=typeof r[e];o==="boolean"?t=uu(t):t==null&&o==="string"?(t="",a=!0):o==="number"&&(t=0,a=!0)}try{r[e]=t}catch{}a&&r.removeAttribute(n||e)}function Hi(r,e,t,i){r.addEventListener(e,t,i)}function uc(r,e,t,i){r.removeEventListener(e,t,i)}const Za=Symbol("_vei");function lc(r,e,t,i,n=null){const s=r[Za]||(r[Za]={}),a=s[e];if(i&&a)a.value=i;else{const[o,u]=fc(e);if(i){const h=s[e]=dc(i,n);Hi(r,o,h,u)}else a&&(uc(r,o,a,u),s[e]=void 0)}}const Ga=/(?:Once|Passive|Capture)$/;function fc(r){let e;if(Ga.test(r)){e={};let i;for(;i=r.match(Ga);)r=r.slice(0,r.length-i[0].length),e[i[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Ti(r.slice(2)),e]}let Pn=0;const hc=Promise.resolve(),cc=()=>Pn||(hc.then(()=>Pn=0),Pn=Date.now());function dc(r,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;ri(pc(i,t.value),e,5,[i])};return t.value=r,t.attached=cc(),t}function pc(r,e){if(Be(e)){const t=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{t.call(r),r._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const Ya=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,gc=(r,e,t,i,n,s)=>{const a=n==="svg";e==="class"?ic(r,i,a):e==="style"?ac(r,t,i):an(e)?$s(e)||lc(r,e,t,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):vc(r,e,i,a))?($a(r,e,i),!r.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Va(r,e,i,a,s,e!=="value")):r._isVueCE&&(/[A-Z]/.test(e)||!yt(i))?$a(r,Ci(e),i,s,e):(e==="true-value"?r._trueValue=i:e==="false-value"&&(r._falseValue=i),Va(r,e,i,a))};function vc(r,e,t,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in r&&Ya(e)&&qe(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=r.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Ya(e)&&yt(t)?!1:e in r}const Ka=r=>{const e=r.props["onUpdate:modelValue"]||!1;return Be(e)?t=>Fr(e,t):e};function mc(r){r.target.composing=!0}function Xa(r){const e=r.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Fn=Symbol("_assign"),bc={created(r,{modifiers:{lazy:e,trim:t,number:i}},n){r[Fn]=Ka(n);const s=i||n.props&&n.props.type==="number";Hi(r,e?"change":"input",a=>{if(a.target.composing)return;let o=r.value;t&&(o=o.trim()),s&&(o=Ss(o)),r[Fn](o)}),t&&Hi(r,"change",()=>{r.value=r.value.trim()}),e||(Hi(r,"compositionstart",mc),Hi(r,"compositionend",Xa),Hi(r,"change",Xa))},mounted(r,{value:e}){r.value=e??""},beforeUpdate(r,{value:e,oldValue:t,modifiers:{lazy:i,trim:n,number:s}},a){if(r[Fn]=Ka(a),r.composing)return;const o=(s||r.type==="number")&&!/^0\d/.test(r.value)?Ss(r.value):r.value,u=e??"";o!==u&&(document.activeElement===r&&r.type!=="range"&&(i&&e===t||n&&r.value.trim()===u)||(r.value=u))}},yc=["ctrl","shift","alt","meta"],_c={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,e)=>yc.some(t=>r[`${t}Key`]&&!e.includes(t))},wc=(r,e)=>{const t=r._withMods||(r._withMods={}),i=e.join(".");return t[i]||(t[i]=((n,...s)=>{for(let a=0;a<e.length;a++){const o=_c[e[a]];if(o&&o(n,e))return}return r(n,...s)}))},Ec={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},xc=(r,e)=>{const t=r._withKeys||(r._withKeys={}),i=e.join(".");return t[i]||(t[i]=(n=>{if(!("key"in n))return;const s=Ti(n.key);if(e.some(a=>a===s||Ec[a]===s))return r(n)}))},Cc=Nt({patchProp:gc},ec);let Ja;function Ac(){return Ja||(Ja=wh(Cc))}const Dc=((...r)=>{const e=Ac().createApp(...r),{mount:t}=e;return e.mount=i=>{const n=Tc(i);if(!n)return;const s=e._component;!qe(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const a=t(n,!1,Sc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),a},e});function Sc(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function Tc(r){return yt(r)?document.querySelector(r):r}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let fl;const yn=r=>fl=r,hl=Symbol();function Ms(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var br;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(br||(br={}));function kc(){const r=cu(!0),e=r.run(()=>Lt({}));let t=[],i=[];const n=ra({install(s){yn(n),n._a=s,s.provide(hl,n),s.config.globalProperties.$pinia=n,i.forEach(a=>t.push(a)),i=[]},use(s){return this._a?t.push(s):i.push(s),this},_p:t,_a:null,_e:r,_s:new Map,state:e});return n}const cl=()=>{};function Qa(r,e,t,i=cl){r.push(e);const n=()=>{const s=r.indexOf(e);s>-1&&(r.splice(s,1),i())};return!t&&du()&&of(n),n}function Mi(r,...e){r.slice().forEach(t=>{t(...e)})}const Rc=r=>r(),eo=Symbol(),Mn=Symbol();function zs(r,e){r instanceof Map&&e instanceof Map?e.forEach((t,i)=>r.set(i,t)):r instanceof Set&&e instanceof Set&&e.forEach(r.add,r);for(const t in e){if(!e.hasOwnProperty(t))continue;const i=e[t],n=r[t];Ms(n)&&Ms(i)&&r.hasOwnProperty(t)&&!vt(i)&&!xi(i)?r[t]=zs(n,i):r[t]=i}return r}const Lc=Symbol();function Nc(r){return!Ms(r)||!Object.prototype.hasOwnProperty.call(r,Lc)}const{assign:mi}=Object;function Ic(r){return!!(vt(r)&&r.effect)}function Oc(r,e,t,i){const{state:n,actions:s,getters:a}=e,o=t.state.value[r];let u;function h(){o||(t.state.value[r]=n?n():{});const c=Lf(t.state.value[r]);return mi(c,s,Object.keys(a||{}).reduce((d,b)=>(d[b]=ra(bn(()=>{yn(t);const v=t._s.get(r);return a[b].call(v,v)})),d),{}))}return u=dl(r,h,e,t,i,!0),u}function dl(r,e,t={},i,n,s){let a;const o=mi({actions:{}},t),u={deep:!0};let h,c,d=[],b=[],v;const R=i.state.value[r];!s&&!R&&(i.state.value[r]={}),Lt({});let E;function p(N){let D;h=c=!1,typeof N=="function"?(N(i.state.value[r]),D={type:br.patchFunction,storeId:r,events:v}):(zs(i.state.value[r],N),D={type:br.patchObject,payload:N,storeId:r,events:v});const O=E=Symbol();Ru().then(()=>{E===O&&(h=!0)}),c=!0,Mi(d,D,i.state.value[r])}const g=s?function(){const{state:D}=t,O=D?D():{};this.$patch($=>{mi($,O)})}:cl;function m(){a.stop(),d=[],b=[],i._s.delete(r)}const x=(N,D="")=>{if(eo in N)return N[Mn]=D,N;const O=function(){yn(i);const $=Array.from(arguments),H=[],Y=[];function ue(Q){H.push(Q)}function oe(Q){Y.push(Q)}Mi(b,{args:$,name:O[Mn],store:_,after:ue,onError:oe});let pe;try{pe=N.apply(this&&this.$id===r?this:_,$)}catch(Q){throw Mi(Y,Q),Q}return pe instanceof Promise?pe.then(Q=>(Mi(H,Q),Q)).catch(Q=>(Mi(Y,Q),Promise.reject(Q))):(Mi(H,pe),pe)};return O[eo]=!0,O[Mn]=D,O},S={_p:i,$id:r,$onAction:Qa.bind(null,b),$patch:p,$reset:g,$subscribe(N,D={}){const O=Qa(d,N,D.detached,()=>$()),$=a.run(()=>vr(()=>i.state.value[r],H=>{(D.flush==="sync"?c:h)&&N({storeId:r,type:br.direct,events:v},H)},mi({},u,D)));return O},$dispose:m},_=cn(S);i._s.set(r,_);const I=(i._a&&i._a.runWithContext||Rc)(()=>i._e.run(()=>(a=cu()).run(()=>e({action:x}))));for(const N in I){const D=I[N];if(vt(D)&&!Ic(D)||xi(D))s||(R&&Nc(D)&&(vt(D)?D.value=R[N]:zs(D,R[N])),i.state.value[r][N]=D);else if(typeof D=="function"){const O=x(D,N);I[N]=O,o.actions[N]=D}}return mi(_,I),mi(Qe(_),I),Object.defineProperty(_,"$state",{get:()=>i.state.value[r],set:N=>{p(D=>{mi(D,N)})}}),i._p.forEach(N=>{mi(_,a.run(()=>N({store:_,app:i._a,pinia:i,options:o})))}),R&&s&&t.hydrate&&t.hydrate(_.$state,R),h=!0,c=!0,_}/*! #__NO_SIDE_EFFECTS__ */function pl(r,e,t){let i;const n=typeof e=="function";i=n?t:e;function s(a,o){const u=ph();return a=a||(u?gr(hl,null):null),a&&yn(a),a=fl,a._s.has(r)||(n?dl(r,e,i,a):Oc(r,i,a)),a._s.get(r)}return s.$id=r,s}const _n=pl("chat",()=>{const r=Lt([]),e=Lt(!1),t=new Set;return{messages:r,isInputDisabled:e,pushMessage:a=>{a.timestamp=Date.now(),r.value.push(a);for(const o of t)try{o(a)}catch(u){console.warn("❌ Chat listener error:",u)}},clearMessages:()=>{r.value=[]},onMessage:a=>{if(typeof a=="function")return t.add(a),()=>{t.delete(a)}}}});var Wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function er(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Or={exports:{}},zn={exports:{}},Un,to;function gl(){if(to)return Un;to=1;var r=void 0;return Un=function(e){return e!==r&&e!==null},Un}var qn,io;function Bc(){if(io)return qn;io=1;var r=gl(),e={object:!0,function:!0,undefined:!0};return qn=function(t){return r(t)?hasOwnProperty.call(e,typeof t):!1},qn}var jn,ro;function Pc(){if(ro)return jn;ro=1;var r=Bc();return jn=function(e){if(!r(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch{return!1}},jn}var Wn,no;function Fc(){if(no)return Wn;no=1;var r=Pc();return Wn=function(e){if(typeof e!="function"||!hasOwnProperty.call(e,"length"))return!1;try{if(typeof e.length!="number"||typeof e.call!="function"||typeof e.apply!="function")return!1}catch{return!1}return!r(e)},Wn}var Hn,so;function Mc(){if(so)return Hn;so=1;var r=Fc(),e=/^\s*class[\s{/}]/,t=Function.prototype.toString;return Hn=function(i){return!(!r(i)||e.test(t.call(i)))},Hn}var Vn,ao;function zc(){return ao||(ao=1,Vn=function(){var r=Object.assign,e;return typeof r!="function"?!1:(e={foo:"raz"},r(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}),Vn}var $n,oo;function Uc(){return oo||(oo=1,$n=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),$n}var Zn,uo;function qc(){return uo||(uo=1,Zn=function(){}),Zn}var Gn,lo;function la(){if(lo)return Gn;lo=1;var r=qc()();return Gn=function(e){return e!==r&&e!==null},Gn}var Yn,fo;function jc(){if(fo)return Yn;fo=1;var r=la(),e=Object.keys;return Yn=function(t){return e(r(t)?Object(t):t)},Yn}var Kn,ho;function Wc(){return ho||(ho=1,Kn=Uc()()?Object.keys:jc()),Kn}var Xn,co;function Hc(){if(co)return Xn;co=1;var r=la();return Xn=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e},Xn}var Jn,po;function Vc(){if(po)return Jn;po=1;var r=Wc(),e=Hc(),t=Math.max;return Jn=function(i,n){var s,a,o=t(arguments.length,2),u;for(i=Object(e(i)),u=function(h){try{i[h]=n[h]}catch(c){s||(s=c)}},a=1;a<o;++a)n=arguments[a],r(n).forEach(u);if(s!==void 0)throw s;return i},Jn}var Qn,go;function $c(){return go||(go=1,Qn=zc()()?Object.assign:Vc()),Qn}var es,vo;function Zc(){if(vo)return es;vo=1;var r=la(),e=Array.prototype.forEach,t=Object.create,i=function(n,s){var a;for(a in n)s[a]=n[a]};return es=function(n){var s=t(null);return e.call(arguments,function(a){r(a)&&i(Object(a),s)}),s},es}var ts,mo;function Gc(){if(mo)return ts;mo=1;var r="razdwatrzy";return ts=function(){return typeof r.contains!="function"?!1:r.contains("dwa")===!0&&r.contains("foo")===!1},ts}var is,bo;function Yc(){if(bo)return is;bo=1;var r=String.prototype.indexOf;return is=function(e){return r.call(this,e,arguments[1])>-1},is}var rs,yo;function Kc(){return yo||(yo=1,rs=Gc()()?String.prototype.contains:Yc()),rs}var _o;function Xc(){if(_o)return zn.exports;_o=1;var r=gl(),e=Mc(),t=$c(),i=Zc(),n=Kc(),s=zn.exports=function(a,o){var u,h,c,d,b;return arguments.length<2||typeof a!="string"?(d=o,o=a,a=null):d=arguments[2],r(a)?(u=n.call(a,"c"),h=n.call(a,"e"),c=n.call(a,"w")):(u=c=!0,h=!1),b={value:o,configurable:u,enumerable:h,writable:c},d?t(i(d),b):b};return s.gs=function(a,o,u){var h,c,d,b;return typeof a!="string"?(d=u,u=o,o=a,a=null):d=arguments[3],r(o)?e(o)?r(u)?e(u)||(d=u,u=void 0):u=void 0:(d=o,o=u=void 0):o=void 0,r(a)?(h=n.call(a,"c"),c=n.call(a,"e")):(h=!0,c=!1),b={get:o,set:u,configurable:h,enumerable:c},d?t(i(d),b):b},zn.exports}var ns,wo;function Jc(){return wo||(wo=1,ns=function(r){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}),ns}var Eo;function Qc(){return Eo||(Eo=1,(function(r,e){var t=Xc(),i=Jc(),n=Function.prototype.apply,s=Function.prototype.call,a=Object.create,o=Object.defineProperty,u=Object.defineProperties,h=Object.prototype.hasOwnProperty,c={configurable:!0,enumerable:!1,writable:!0},d,b,v,R,E,p,g;d=function(m,x){var S;return i(x),h.call(this,"__ee__")?S=this.__ee__:(S=c.value=a(null),o(this,"__ee__",c),c.value=null),S[m]?typeof S[m]=="object"?S[m].push(x):S[m]=[S[m],x]:S[m]=x,this},b=function(m,x){var S,_;return i(x),_=this,d.call(this,m,S=function(){v.call(_,m,S),n.call(x,this,arguments)}),S.__eeOnceListener__=x,this},v=function(m,x){var S,_,T,I;if(i(x),!h.call(this,"__ee__"))return this;if(S=this.__ee__,!S[m])return this;if(_=S[m],typeof _=="object")for(I=0;T=_[I];++I)(T===x||T.__eeOnceListener__===x)&&(_.length===2?S[m]=_[I?0:1]:_.splice(I,1));else(_===x||_.__eeOnceListener__===x)&&delete S[m];return this},R=function(m){var x,S,_,T,I;if(h.call(this,"__ee__")&&(T=this.__ee__[m],!!T))if(typeof T=="object"){for(S=arguments.length,I=new Array(S-1),x=1;x<S;++x)I[x-1]=arguments[x];for(T=T.slice(),x=0;_=T[x];++x)n.call(_,this,I)}else switch(arguments.length){case 1:s.call(T,this);break;case 2:s.call(T,this,arguments[1]);break;case 3:s.call(T,this,arguments[1],arguments[2]);break;default:for(S=arguments.length,I=new Array(S-1),x=1;x<S;++x)I[x-1]=arguments[x];n.call(T,this,I)}},E={on:d,once:b,off:v,emit:R},p={on:t(d),once:t(b),off:t(v),emit:t(R)},g=u({},p),r.exports=e=function(m){return m==null?a(g):u(Object(m),p)},e.methods=E})(Or,Or.exports)),Or.exports}var ed=Qc();const ni=er(ed);var sr={},oi={},zi={},xo;function wn(){if(xo)return zi;xo=1;function r(n,s,a){if(a===void 0&&(a=Array.prototype),n&&typeof a.find=="function")return a.find.call(n,s);for(var o=0;o<n.length;o++)if(Object.prototype.hasOwnProperty.call(n,o)){var u=n[o];if(s.call(void 0,u,o,n))return u}}function e(n,s){return s===void 0&&(s=Object),s&&typeof s.freeze=="function"?s.freeze(n):n}var t=e({HTML:"text/html",isHTML:function(n){return n===t.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(n){return n===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return zi.find=r,zi.freeze=e,zi.MIME_TYPE=t,zi.NAMESPACE=i,zi}var Co;function vl(){if(Co)return oi;Co=1;var r=wn(),e=r.find,t=r.NAMESPACE;function i(f){return f!==""}function n(f){return f?f.split(/[\t\n\f\r ]+/).filter(i):[]}function s(f,y){return f.hasOwnProperty(y)||(f[y]=!0),f}function a(f){if(!f)return[];var y=n(f);return Object.keys(y.reduce(s,{}))}function o(f){return function(y){return f&&f.indexOf(y)!==-1}}function u(f,y){for(var L in f)Object.prototype.hasOwnProperty.call(f,L)&&(y[L]=f[L])}function h(f,y){var L=f.prototype;if(!(L instanceof y)){let P=function(){};var l=P;P.prototype=y.prototype,P=new P,u(L,P),f.prototype=L=P}L.constructor!=f&&(typeof f!="function"&&console.error("unknown Class:"+f),L.constructor=f)}var c={},d=c.ELEMENT_NODE=1,b=c.ATTRIBUTE_NODE=2,v=c.TEXT_NODE=3,R=c.CDATA_SECTION_NODE=4,E=c.ENTITY_REFERENCE_NODE=5,p=c.ENTITY_NODE=6,g=c.PROCESSING_INSTRUCTION_NODE=7,m=c.COMMENT_NODE=8,x=c.DOCUMENT_NODE=9,S=c.DOCUMENT_TYPE_NODE=10,_=c.DOCUMENT_FRAGMENT_NODE=11,T=c.NOTATION_NODE=12,I={},N={};I.INDEX_SIZE_ERR=(N[1]="Index size error",1),I.DOMSTRING_SIZE_ERR=(N[2]="DOMString size error",2);var D=I.HIERARCHY_REQUEST_ERR=(N[3]="Hierarchy request error",3);I.WRONG_DOCUMENT_ERR=(N[4]="Wrong document",4),I.INVALID_CHARACTER_ERR=(N[5]="Invalid character",5),I.NO_DATA_ALLOWED_ERR=(N[6]="No data allowed",6),I.NO_MODIFICATION_ALLOWED_ERR=(N[7]="No modification allowed",7);var O=I.NOT_FOUND_ERR=(N[8]="Not found",8);I.NOT_SUPPORTED_ERR=(N[9]="Not supported",9);var $=I.INUSE_ATTRIBUTE_ERR=(N[10]="Attribute in use",10);I.INVALID_STATE_ERR=(N[11]="Invalid state",11),I.SYNTAX_ERR=(N[12]="Syntax error",12),I.INVALID_MODIFICATION_ERR=(N[13]="Invalid modification",13),I.NAMESPACE_ERR=(N[14]="Invalid namespace",14),I.INVALID_ACCESS_ERR=(N[15]="Invalid access",15);function H(f,y){if(y instanceof Error)var L=y;else L=this,Error.call(this,N[f]),this.message=N[f],Error.captureStackTrace&&Error.captureStackTrace(this,H);return L.code=f,y&&(this.message=this.message+": "+y),L}H.prototype=Error.prototype,u(I,H);function Y(){}Y.prototype={length:0,item:function(f){return f>=0&&f<this.length?this[f]:null},toString:function(f,y){for(var L=[],l=0;l<this.length;l++)se(this[l],L,f,y);return L.join("")},filter:function(f){return Array.prototype.filter.call(this,f)},indexOf:function(f){return Array.prototype.indexOf.call(this,f)}};function ue(f,y){this._node=f,this._refresh=y,oe(this)}function oe(f){var y=f._node._inc||f._node.ownerDocument._inc;if(f._inc!==y){var L=f._refresh(f._node);if(U(f,"length",L.length),!f.$$length||L.length<f.$$length)for(var l=L.length;l in f;l++)Object.prototype.hasOwnProperty.call(f,l)&&delete f[l];u(L,f),f._inc=y}}ue.prototype.item=function(f){return oe(this),this[f]||null},h(ue,Y);function pe(){}function Q(f,y){for(var L=f.length;L--;)if(f[L]===y)return L}function ee(f,y,L,l){if(l?y[Q(y,l)]=L:y[y.length++]=L,f){L.ownerElement=f;var P=f.ownerDocument;P&&(l&&Je(P,f,l),je(P,f,L))}}function be(f,y,L){var l=Q(y,L);if(l>=0){for(var P=y.length-1;l<P;)y[l]=y[++l];if(y.length=P,f){var j=f.ownerDocument;j&&(Je(j,f,L),L.ownerElement=null)}}else throw new H(O,new Error(f.tagName+"@"+L))}pe.prototype={length:0,item:Y.prototype.item,getNamedItem:function(f){for(var y=this.length;y--;){var L=this[y];if(L.nodeName==f)return L}},setNamedItem:function(f){var y=f.ownerElement;if(y&&y!=this._ownerElement)throw new H($);var L=this.getNamedItem(f.nodeName);return ee(this._ownerElement,this,f,L),L},setNamedItemNS:function(f){var y=f.ownerElement,L;if(y&&y!=this._ownerElement)throw new H($);return L=this.getNamedItemNS(f.namespaceURI,f.localName),ee(this._ownerElement,this,f,L),L},removeNamedItem:function(f){var y=this.getNamedItem(f);return be(this._ownerElement,this,y),y},removeNamedItemNS:function(f,y){var L=this.getNamedItemNS(f,y);return be(this._ownerElement,this,L),L},getNamedItemNS:function(f,y){for(var L=this.length;L--;){var l=this[L];if(l.localName==y&&l.namespaceURI==f)return l}return null}};function Le(){}Le.prototype={hasFeature:function(f,y){return!0},createDocument:function(f,y,L){var l=new Re;if(l.implementation=this,l.childNodes=new Y,l.doctype=L||null,L&&l.appendChild(L),y){var P=l.createElementNS(f,y);l.appendChild(P)}return l},createDocumentType:function(f,y,L){var l=new Ie;return l.name=f,l.nodeName=f,l.publicId=y||"",l.systemId=L||"",l}};function ge(){}ge.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(f,y){return le(this,f,y)},replaceChild:function(f,y){le(this,f,y,he),y&&this.removeChild(y)},removeChild:function(f){return ke(this,f)},appendChild:function(f){return this.insertBefore(f,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(f){return Ae(this.ownerDocument||this,this,f)},normalize:function(){for(var f=this.firstChild;f;){var y=f.nextSibling;y&&y.nodeType==v&&f.nodeType==v?(this.removeChild(y),f.appendData(y.data)):(f.normalize(),f=y)}},isSupported:function(f,y){return this.ownerDocument.implementation.hasFeature(f,y)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(f){for(var y=this;y;){var L=y._nsMap;if(L){for(var l in L)if(Object.prototype.hasOwnProperty.call(L,l)&&L[l]===f)return l}y=y.nodeType==b?y.ownerDocument:y.parentNode}return null},lookupNamespaceURI:function(f){for(var y=this;y;){var L=y._nsMap;if(L&&f in L&&Object.prototype.hasOwnProperty.call(L,f))return L[f];y=y.nodeType==b?y.ownerDocument:y.parentNode}return null},isDefaultNamespace:function(f){var y=this.lookupPrefix(f);return y==null}};function we(f){return f=="<"&&"&lt;"||f==">"&&"&gt;"||f=="&"&&"&amp;"||f=='"'&&"&quot;"||"&#"+f.charCodeAt()+";"}u(c,ge),u(c,ge.prototype);function Me(f,y){if(y(f))return!0;if(f=f.firstChild)do if(Me(f,y))return!0;while(f=f.nextSibling)}function Re(){this.ownerDocument=this}function je(f,y,L){f&&f._inc++;var l=L.namespaceURI;l===t.XMLNS&&(y._nsMap[L.prefix?L.localName:""]=L.value)}function Je(f,y,L,l){f&&f._inc++;var P=L.namespaceURI;P===t.XMLNS&&delete y._nsMap[L.prefix?L.localName:""]}function He(f,y,L){if(f&&f._inc){f._inc++;var l=y.childNodes;if(L)l[l.length++]=L;else{for(var P=y.firstChild,j=0;P;)l[j++]=P,P=P.nextSibling;l.length=j,delete l[l.length]}}}function ke(f,y){var L=y.previousSibling,l=y.nextSibling;return L?L.nextSibling=l:f.firstChild=l,l?l.previousSibling=L:f.lastChild=L,y.parentNode=null,y.previousSibling=null,y.nextSibling=null,He(f.ownerDocument,f),y}function Ye(f){return f&&(f.nodeType===ge.DOCUMENT_NODE||f.nodeType===ge.DOCUMENT_FRAGMENT_NODE||f.nodeType===ge.ELEMENT_NODE)}function Ke(f){return f&&(B(f)||M(f)||Pe(f)||f.nodeType===ge.DOCUMENT_FRAGMENT_NODE||f.nodeType===ge.COMMENT_NODE||f.nodeType===ge.PROCESSING_INSTRUCTION_NODE)}function Pe(f){return f&&f.nodeType===ge.DOCUMENT_TYPE_NODE}function B(f){return f&&f.nodeType===ge.ELEMENT_NODE}function M(f){return f&&f.nodeType===ge.TEXT_NODE}function Z(f,y){var L=f.childNodes||[];if(e(L,B)||Pe(y))return!1;var l=e(L,Pe);return!(y&&l&&L.indexOf(l)>L.indexOf(y))}function ie(f,y){var L=f.childNodes||[];function l(j){return B(j)&&j!==y}if(e(L,l))return!1;var P=e(L,Pe);return!(y&&P&&L.indexOf(P)>L.indexOf(y))}function J(f,y,L){if(!Ye(f))throw new H(D,"Unexpected parent node type "+f.nodeType);if(L&&L.parentNode!==f)throw new H(O,"child not in parent");if(!Ke(y)||Pe(y)&&f.nodeType!==ge.DOCUMENT_NODE)throw new H(D,"Unexpected node type "+y.nodeType+" for parent node type "+f.nodeType)}function X(f,y,L){var l=f.childNodes||[],P=y.childNodes||[];if(y.nodeType===ge.DOCUMENT_FRAGMENT_NODE){var j=P.filter(B);if(j.length>1||e(P,M))throw new H(D,"More than one element or text in fragment");if(j.length===1&&!Z(f,L))throw new H(D,"Element in fragment can not be inserted before doctype")}if(B(y)&&!Z(f,L))throw new H(D,"Only one element can be added and only after doctype");if(Pe(y)){if(e(l,Pe))throw new H(D,"Only one doctype is allowed");var w=e(l,B);if(L&&l.indexOf(w)<l.indexOf(L))throw new H(D,"Doctype can only be inserted before an element");if(!L&&w)throw new H(D,"Doctype can not be appended since element is present")}}function he(f,y,L){var l=f.childNodes||[],P=y.childNodes||[];if(y.nodeType===ge.DOCUMENT_FRAGMENT_NODE){var j=P.filter(B);if(j.length>1||e(P,M))throw new H(D,"More than one element or text in fragment");if(j.length===1&&!ie(f,L))throw new H(D,"Element in fragment can not be inserted before doctype")}if(B(y)&&!ie(f,L))throw new H(D,"Only one element can be added and only after doctype");if(Pe(y)){let G=function(De){return Pe(De)&&De!==L};var F=G;if(e(l,G))throw new H(D,"Only one doctype is allowed");var w=e(l,B);if(L&&l.indexOf(w)<l.indexOf(L))throw new H(D,"Doctype can only be inserted before an element")}}function le(f,y,L,l){J(f,y,L),f.nodeType===ge.DOCUMENT_NODE&&(l||X)(f,y,L);var P=y.parentNode;if(P&&P.removeChild(y),y.nodeType===_){var j=y.firstChild;if(j==null)return y;var w=y.lastChild}else j=w=y;var F=L?L.previousSibling:f.lastChild;j.previousSibling=F,w.nextSibling=L,F?F.nextSibling=j:f.firstChild=j,L==null?f.lastChild=w:L.previousSibling=w;do j.parentNode=f;while(j!==w&&(j=j.nextSibling));return He(f.ownerDocument||f,f),y.nodeType==_&&(y.firstChild=y.lastChild=null),y}function ae(f,y){return y.parentNode&&y.parentNode.removeChild(y),y.parentNode=f,y.previousSibling=f.lastChild,y.nextSibling=null,y.previousSibling?y.previousSibling.nextSibling=y:f.firstChild=y,f.lastChild=y,He(f.ownerDocument,f,y),y}Re.prototype={nodeName:"#document",nodeType:x,doctype:null,documentElement:null,_inc:1,insertBefore:function(f,y){if(f.nodeType==_){for(var L=f.firstChild;L;){var l=L.nextSibling;this.insertBefore(L,y),L=l}return f}return le(this,f,y),f.ownerDocument=this,this.documentElement===null&&f.nodeType===d&&(this.documentElement=f),f},removeChild:function(f){return this.documentElement==f&&(this.documentElement=null),ke(this,f)},replaceChild:function(f,y){le(this,f,y,he),f.ownerDocument=this,y&&this.removeChild(y),B(f)&&(this.documentElement=f)},importNode:function(f,y){return fe(this,f,y)},getElementById:function(f){var y=null;return Me(this.documentElement,function(L){if(L.nodeType==d&&L.getAttribute("id")==f)return y=L,!0}),y},getElementsByClassName:function(f){var y=a(f);return new ue(this,function(L){var l=[];return y.length>0&&Me(L.documentElement,function(P){if(P!==L&&P.nodeType===d){var j=P.getAttribute("class");if(j){var w=f===j;if(!w){var F=a(j);w=y.every(o(F))}w&&l.push(P)}}}),l})},createElement:function(f){var y=new K;y.ownerDocument=this,y.nodeName=f,y.tagName=f,y.localName=f,y.childNodes=new Y;var L=y.attributes=new pe;return L._ownerElement=y,y},createDocumentFragment:function(){var f=new ft;return f.ownerDocument=this,f.childNodes=new Y,f},createTextNode:function(f){var y=new Ce;return y.ownerDocument=this,y.appendData(f),y},createComment:function(f){var y=new Te;return y.ownerDocument=this,y.appendData(f),y},createCDATASection:function(f){var y=new Ne;return y.ownerDocument=this,y.appendData(f),y},createProcessingInstruction:function(f,y){var L=new ut;return L.ownerDocument=this,L.tagName=L.nodeName=L.target=f,L.nodeValue=L.data=y,L},createAttribute:function(f){var y=new de;return y.ownerDocument=this,y.name=f,y.nodeName=f,y.localName=f,y.specified=!0,y},createEntityReference:function(f){var y=new Xe;return y.ownerDocument=this,y.nodeName=f,y},createElementNS:function(f,y){var L=new K,l=y.split(":"),P=L.attributes=new pe;return L.childNodes=new Y,L.ownerDocument=this,L.nodeName=y,L.tagName=y,L.namespaceURI=f,l.length==2?(L.prefix=l[0],L.localName=l[1]):L.localName=y,P._ownerElement=L,L},createAttributeNS:function(f,y){var L=new de,l=y.split(":");return L.ownerDocument=this,L.nodeName=y,L.name=y,L.namespaceURI=f,L.specified=!0,l.length==2?(L.prefix=l[0],L.localName=l[1]):L.localName=y,L}},h(Re,ge);function K(){this._nsMap={}}K.prototype={nodeType:d,hasAttribute:function(f){return this.getAttributeNode(f)!=null},getAttribute:function(f){var y=this.getAttributeNode(f);return y&&y.value||""},getAttributeNode:function(f){return this.attributes.getNamedItem(f)},setAttribute:function(f,y){var L=this.ownerDocument.createAttribute(f);L.value=L.nodeValue=""+y,this.setAttributeNode(L)},removeAttribute:function(f){var y=this.getAttributeNode(f);y&&this.removeAttributeNode(y)},appendChild:function(f){return f.nodeType===_?this.insertBefore(f,null):ae(this,f)},setAttributeNode:function(f){return this.attributes.setNamedItem(f)},setAttributeNodeNS:function(f){return this.attributes.setNamedItemNS(f)},removeAttributeNode:function(f){return this.attributes.removeNamedItem(f.nodeName)},removeAttributeNS:function(f,y){var L=this.getAttributeNodeNS(f,y);L&&this.removeAttributeNode(L)},hasAttributeNS:function(f,y){return this.getAttributeNodeNS(f,y)!=null},getAttributeNS:function(f,y){var L=this.getAttributeNodeNS(f,y);return L&&L.value||""},setAttributeNS:function(f,y,L){var l=this.ownerDocument.createAttributeNS(f,y);l.value=l.nodeValue=""+L,this.setAttributeNode(l)},getAttributeNodeNS:function(f,y){return this.attributes.getNamedItemNS(f,y)},getElementsByTagName:function(f){return new ue(this,function(y){var L=[];return Me(y,function(l){l!==y&&l.nodeType==d&&(f==="*"||l.tagName==f)&&L.push(l)}),L})},getElementsByTagNameNS:function(f,y){return new ue(this,function(L){var l=[];return Me(L,function(P){P!==L&&P.nodeType===d&&(f==="*"||P.namespaceURI===f)&&(y==="*"||P.localName==y)&&l.push(P)}),l})}},Re.prototype.getElementsByTagName=K.prototype.getElementsByTagName,Re.prototype.getElementsByTagNameNS=K.prototype.getElementsByTagNameNS,h(K,ge);function de(){}de.prototype.nodeType=b,h(de,ge);function re(){}re.prototype={data:"",substringData:function(f,y){return this.data.substring(f,f+y)},appendData:function(f){f=this.data+f,this.nodeValue=this.data=f,this.length=f.length},insertData:function(f,y){this.replaceData(f,0,y)},appendChild:function(f){throw new Error(N[D])},deleteData:function(f,y){this.replaceData(f,y,"")},replaceData:function(f,y,L){var l=this.data.substring(0,f),P=this.data.substring(f+y);L=l+L+P,this.nodeValue=this.data=L,this.length=L.length}},h(re,ge);function Ce(){}Ce.prototype={nodeName:"#text",nodeType:v,splitText:function(f){var y=this.data,L=y.substring(f);y=y.substring(0,f),this.data=this.nodeValue=y,this.length=y.length;var l=this.ownerDocument.createTextNode(L);return this.parentNode&&this.parentNode.insertBefore(l,this.nextSibling),l}},h(Ce,re);function Te(){}Te.prototype={nodeName:"#comment",nodeType:m},h(Te,re);function Ne(){}Ne.prototype={nodeName:"#cdata-section",nodeType:R},h(Ne,re);function Ie(){}Ie.prototype.nodeType=S,h(Ie,ge);function ze(){}ze.prototype.nodeType=T,h(ze,ge);function it(){}it.prototype.nodeType=p,h(it,ge);function Xe(){}Xe.prototype.nodeType=E,h(Xe,ge);function ft(){}ft.prototype.nodeName="#document-fragment",ft.prototype.nodeType=_,h(ft,ge);function ut(){}ut.prototype.nodeType=g,h(ut,ge);function nt(){}nt.prototype.serializeToString=function(f,y,L){return mt.call(f,y,L)},ge.prototype.toString=mt;function mt(f,y){var L=[],l=this.nodeType==9&&this.documentElement||this,P=l.prefix,j=l.namespaceURI;if(j&&P==null){var P=l.lookupPrefix(j);if(P==null)var w=[{namespace:j,prefix:null}]}return se(this,L,f,y,w),L.join("")}function ht(f,y,L){var l=f.prefix||"",P=f.namespaceURI;if(!P||l==="xml"&&P===t.XML||P===t.XMLNS)return!1;for(var j=L.length;j--;){var w=L[j];if(w.prefix===l)return w.namespace!==P}return!0}function A(f,y,L){f.push(" ",y,'="',L.replace(/[<&"]/g,we),'"')}function se(f,y,L,l,P){if(P||(P=[]),l)if(f=l(f),f){if(typeof f=="string"){y.push(f);return}}else return;switch(f.nodeType){case d:var j=f.attributes,w=j.length,$e=f.firstChild,F=f.tagName;L=t.isHTML(f.namespaceURI)||L;var G=F;if(!L&&!f.prefix&&f.namespaceURI){for(var De,ye=0;ye<j.length;ye++)if(j.item(ye).name==="xmlns"){De=j.item(ye).value;break}if(!De)for(var Ee=P.length-1;Ee>=0;Ee--){var Oe=P[Ee];if(Oe.prefix===""&&Oe.namespace===f.namespaceURI){De=Oe.namespace;break}}if(De!==f.namespaceURI)for(var Ee=P.length-1;Ee>=0;Ee--){var Oe=P[Ee];if(Oe.namespace===f.namespaceURI){Oe.prefix&&(G=Oe.prefix+":"+F);break}}}y.push("<",G);for(var _t=0;_t<w;_t++){var Ve=j.item(_t);Ve.prefix=="xmlns"?P.push({prefix:Ve.localName,namespace:Ve.value}):Ve.nodeName=="xmlns"&&P.push({prefix:"",namespace:Ve.value})}for(var _t=0;_t<w;_t++){var Ve=j.item(_t);if(ht(Ve,L,P)){var Fe=Ve.prefix||"",st=Ve.namespaceURI;A(y,Fe?"xmlns:"+Fe:"xmlns",st),P.push({prefix:Fe,namespace:st})}se(Ve,y,L,l,P)}if(F===G&&ht(f,L,P)){var Fe=f.prefix||"",st=f.namespaceURI;A(y,Fe?"xmlns:"+Fe:"xmlns",st),P.push({prefix:Fe,namespace:st})}if($e||L&&!/^(?:meta|link|img|br|hr|input)$/i.test(F)){if(y.push(">"),L&&/^script$/i.test(F))for(;$e;)$e.data?y.push($e.data):se($e,y,L,l,P.slice()),$e=$e.nextSibling;else for(;$e;)se($e,y,L,l,P.slice()),$e=$e.nextSibling;y.push("</",G,">")}else y.push("/>");return;case x:case _:for(var $e=f.firstChild;$e;)se($e,y,L,l,P.slice()),$e=$e.nextSibling;return;case b:return A(y,f.name,f.value);case v:return y.push(f.data.replace(/[<&]/g,we).replace(/]]>/g,"]]&gt;"));case R:return y.push("<![CDATA[",f.data,"]]>");case m:return y.push("<!--",f.data,"-->");case S:var wt=f.publicId,Pt=f.systemId;if(y.push("<!DOCTYPE ",f.name),wt)y.push(" PUBLIC ",wt),Pt&&Pt!="."&&y.push(" ",Pt),y.push(">");else if(Pt&&Pt!=".")y.push(" SYSTEM ",Pt,">");else{var si=f.internalSubset;si&&y.push(" [",si,"]"),y.push(">")}return;case g:return y.push("<?",f.target," ",f.data,"?>");case E:return y.push("&",f.nodeName,";");default:y.push("??",f.nodeName)}}function fe(f,y,L){var l;switch(y.nodeType){case d:l=y.cloneNode(!1),l.ownerDocument=f;case _:break;case b:L=!0;break}if(l||(l=y.cloneNode(!1)),l.ownerDocument=f,l.parentNode=null,L)for(var P=y.firstChild;P;)l.appendChild(fe(f,P,L)),P=P.nextSibling;return l}function Ae(f,y,L){var l=new y.constructor;for(var P in y)if(Object.prototype.hasOwnProperty.call(y,P)){var j=y[P];typeof j!="object"&&j!=l[P]&&(l[P]=j)}switch(y.childNodes&&(l.childNodes=new Y),l.ownerDocument=f,l.nodeType){case d:var w=y.attributes,F=l.attributes=new pe,G=w.length;F._ownerElement=l;for(var De=0;De<G;De++)l.setAttributeNode(Ae(f,w.item(De),!0));break;case b:L=!0}if(L)for(var ye=y.firstChild;ye;)l.appendChild(Ae(f,ye,L)),ye=ye.nextSibling;return l}function U(f,y,L){f[y]=L}try{if(Object.defineProperty){let f=function(y){switch(y.nodeType){case d:case _:var L=[];for(y=y.firstChild;y;)y.nodeType!==7&&y.nodeType!==8&&L.push(f(y)),y=y.nextSibling;return L.join("");default:return y.nodeValue}};var te=f;Object.defineProperty(ue.prototype,"length",{get:function(){return oe(this),this.$$length}}),Object.defineProperty(ge.prototype,"textContent",{get:function(){return f(this)},set:function(y){switch(this.nodeType){case d:case _:for(;this.firstChild;)this.removeChild(this.firstChild);(y||String(y))&&this.appendChild(this.ownerDocument.createTextNode(y));break;default:this.data=y,this.value=y,this.nodeValue=y}}}),U=function(y,L,l){y["$$"+L]=l}}}catch{}return oi.DocumentType=Ie,oi.DOMException=H,oi.DOMImplementation=Le,oi.Element=K,oi.Node=ge,oi.NodeList=Y,oi.XMLSerializer=nt,oi}var Ui={},ss={},Ao;function td(){return Ao||(Ao=1,(function(r){var e=wn().freeze;r.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),r.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),r.entityMap=r.HTML_ENTITIES})(ss)),ss}var Br={},Do;function id(){if(Do)return Br;Do=1;var r=wn().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),n=0,s=1,a=2,o=3,u=4,h=5,c=6,d=7;function b(D,O){this.message=D,this.locator=O,Error.captureStackTrace&&Error.captureStackTrace(this,b)}b.prototype=new Error,b.prototype.name=b.name;function v(){}v.prototype={parse:function(D,O,$){var H=this.domBuilder;H.startDocument(),S(O,O={}),R(D,O,$,H,this.errorHandler),H.endDocument()}};function R(D,O,$,H,Y){function ue(K){if(K>65535){K-=65536;var de=55296+(K>>10),re=56320+(K&1023);return String.fromCharCode(de,re)}else return String.fromCharCode(K)}function oe(K){var de=K.slice(1,-1);return de in $?$[de]:de.charAt(0)==="#"?ue(parseInt(de.substr(1).replace("x","0x"))):(Y.error("entity not found:"+K),K)}function pe(K){if(K>Re){var de=D.substring(Re,K).replace(/&#?\w+;/g,oe);ge&&Q(Re),H.characters(de,0,K-Re),Re=K}}function Q(K,de){for(;K>=be&&(de=Le.exec(D));)ee=de.index,be=ee+de[0].length,ge.lineNumber++;ge.columnNumber=K-ee+1}for(var ee=0,be=0,Le=/.*(?:\r\n?|\n)|.*$/g,ge=H.locator,we=[{currentNSMap:O}],Me={},Re=0;;){try{var je=D.indexOf("<",Re);if(je<0){if(!D.substr(Re).match(/^\s*$/)){var Je=H.doc,He=Je.createTextNode(D.substr(Re));Je.appendChild(He),H.currentElement=He}return}switch(je>Re&&pe(je),D.charAt(je+1)){case"/":var J=D.indexOf(">",je+3),ke=D.substring(je+2,J).replace(/[ \t\n\r]+$/g,""),Ye=we.pop();J<0?(ke=D.substring(je+2).replace(/[\s<].*/,""),Y.error("end tag name: "+ke+" is not complete:"+Ye.tagName),J=je+1+ke.length):ke.match(/\s</)&&(ke=ke.replace(/[\s<].*/,""),Y.error("end tag name: "+ke+" maybe not complete"),J=je+1+ke.length);var Ke=Ye.localNSMap,Pe=Ye.tagName==ke,B=Pe||Ye.tagName&&Ye.tagName.toLowerCase()==ke.toLowerCase();if(B){if(H.endElement(Ye.uri,Ye.localName,ke),Ke)for(var M in Ke)Object.prototype.hasOwnProperty.call(Ke,M)&&H.endPrefixMapping(M);Pe||Y.fatalError("end tag name: "+ke+" is not match the current start tagName:"+Ye.tagName)}else we.push(Ye);J++;break;case"?":ge&&Q(je),J=T(D,je,H);break;case"!":ge&&Q(je),J=_(D,je,H,Y);break;default:ge&&Q(je);var Z=new I,ie=we[we.length-1].currentNSMap,J=p(D,je,Z,ie,oe,Y),X=Z.length;if(!Z.closed&&x(D,J,Z.tagName,Me)&&(Z.closed=!0,$.nbsp||Y.warning("unclosed xml attribute")),ge&&X){for(var he=E(ge,{}),le=0;le<X;le++){var ae=Z[le];Q(ae.offset),ae.locator=E(ge,{})}H.locator=he,g(Z,H,ie)&&we.push(Z),H.locator=ge}else g(Z,H,ie)&&we.push(Z);r.isHTML(Z.uri)&&!Z.closed?J=m(D,J,Z.tagName,oe,H):J++}}catch(K){if(K instanceof b)throw K;Y.error("element parse error: "+K),J=-1}J>Re?Re=J:pe(Math.max(je,Re)+1)}}function E(D,O){return O.lineNumber=D.lineNumber,O.columnNumber=D.columnNumber,O}function p(D,O,$,H,Y,ue){function oe(ge,we,Me){$.attributeNames.hasOwnProperty(ge)&&ue.fatalError("Attribute "+ge+" redefined"),$.addValue(ge,we,Me)}for(var pe,Q,ee=++O,be=n;;){var Le=D.charAt(ee);switch(Le){case"=":if(be===s)pe=D.slice(O,ee),be=o;else if(be===a)be=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(be===o||be===s)if(be===s&&(ue.warning('attribute value must after "="'),pe=D.slice(O,ee)),O=ee+1,ee=D.indexOf(Le,O),ee>0)Q=D.slice(O,ee).replace(/&#?\w+;/g,Y),oe(pe,Q,O-1),be=h;else throw new Error("attribute value no end '"+Le+"' match");else if(be==u)Q=D.slice(O,ee).replace(/&#?\w+;/g,Y),oe(pe,Q,O),ue.warning('attribute "'+pe+'" missed start quot('+Le+")!!"),O=ee+1,be=h;else throw new Error('attribute value must after "="');break;case"/":switch(be){case n:$.setTagName(D.slice(O,ee));case h:case c:case d:be=d,$.closed=!0;case u:case s:break;case a:$.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return ue.error("unexpected end of input"),be==n&&$.setTagName(D.slice(O,ee)),ee;case">":switch(be){case n:$.setTagName(D.slice(O,ee));case h:case c:case d:break;case u:case s:Q=D.slice(O,ee),Q.slice(-1)==="/"&&($.closed=!0,Q=Q.slice(0,-1));case a:be===a&&(Q=pe),be==u?(ue.warning('attribute "'+Q+'" missed quot(")!'),oe(pe,Q.replace(/&#?\w+;/g,Y),O)):((!r.isHTML(H[""])||!Q.match(/^(?:disabled|checked|selected)$/i))&&ue.warning('attribute "'+Q+'" missed value!! "'+Q+'" instead!!'),oe(Q,Q,O));break;case o:throw new Error("attribute value missed!!")}return ee;case"":Le=" ";default:if(Le<=" ")switch(be){case n:$.setTagName(D.slice(O,ee)),be=c;break;case s:pe=D.slice(O,ee),be=a;break;case u:var Q=D.slice(O,ee).replace(/&#?\w+;/g,Y);ue.warning('attribute "'+Q+'" missed quot(")!!'),oe(pe,Q,O);case h:be=c;break}else switch(be){case a:$.tagName,(!r.isHTML(H[""])||!pe.match(/^(?:disabled|checked|selected)$/i))&&ue.warning('attribute "'+pe+'" missed value!! "'+pe+'" instead2!!'),oe(pe,pe,O),O=ee,be=s;break;case h:ue.warning('attribute space is required"'+pe+'"!!');case c:be=s,O=ee;break;case o:be=u,O=ee;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}ee++}}function g(D,O,$){for(var H=D.tagName,Y=null,Le=D.length;Le--;){var ue=D[Le],oe=ue.qName,pe=ue.value,ge=oe.indexOf(":");if(ge>0)var Q=ue.prefix=oe.slice(0,ge),ee=oe.slice(ge+1),be=Q==="xmlns"&&ee;else ee=oe,Q=null,be=oe==="xmlns"&&"";ue.localName=ee,be!==!1&&(Y==null&&(Y={},S($,$={})),$[be]=Y[be]=pe,ue.uri=r.XMLNS,O.startPrefixMapping(be,pe))}for(var Le=D.length;Le--;){ue=D[Le];var Q=ue.prefix;Q&&(Q==="xml"&&(ue.uri=r.XML),Q!=="xmlns"&&(ue.uri=$[Q||""]))}var ge=H.indexOf(":");ge>0?(Q=D.prefix=H.slice(0,ge),ee=D.localName=H.slice(ge+1)):(Q=null,ee=D.localName=H);var we=D.uri=$[Q||""];if(O.startElement(we,ee,H,D),D.closed){if(O.endElement(we,ee,H),Y)for(Q in Y)Object.prototype.hasOwnProperty.call(Y,Q)&&O.endPrefixMapping(Q)}else return D.currentNSMap=$,D.localNSMap=Y,!0}function m(D,O,$,H,Y){if(/^(?:script|textarea)$/i.test($)){var ue=D.indexOf("</"+$+">",O),oe=D.substring(O+1,ue);if(/[&<]/.test(oe))return/^script$/i.test($)?(Y.characters(oe,0,oe.length),ue):(oe=oe.replace(/&#?\w+;/g,H),Y.characters(oe,0,oe.length),ue)}return O+1}function x(D,O,$,H){var Y=H[$];return Y==null&&(Y=D.lastIndexOf("</"+$+">"),Y<O&&(Y=D.lastIndexOf("</"+$)),H[$]=Y),Y<O}function S(D,O){for(var $ in D)Object.prototype.hasOwnProperty.call(D,$)&&(O[$]=D[$])}function _(D,O,$,H){var Y=D.charAt(O+2);switch(Y){case"-":if(D.charAt(O+3)==="-"){var ue=D.indexOf("-->",O+4);return ue>O?($.comment(D,O+4,ue-O-4),ue+3):(H.error("Unclosed comment"),-1)}else return-1;default:if(D.substr(O+3,6)=="CDATA["){var ue=D.indexOf("]]>",O+9);return $.startCDATA(),$.characters(D,O+9,ue-O-9),$.endCDATA(),ue+3}var oe=N(D,O),pe=oe.length;if(pe>1&&/!doctype/i.test(oe[0][0])){var Q=oe[1][0],ee=!1,be=!1;pe>3&&(/^public$/i.test(oe[2][0])?(ee=oe[3][0],be=pe>4&&oe[4][0]):/^system$/i.test(oe[2][0])&&(be=oe[3][0]));var Le=oe[pe-1];return $.startDTD(Q,ee,be),$.endDTD(),Le.index+Le[0].length}}return-1}function T(D,O,$){var H=D.indexOf("?>",O);if(H){var Y=D.substring(O,H).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return Y?(Y[0].length,$.processingInstruction(Y[1],Y[2]),H+2):-1}return-1}function I(){this.attributeNames={}}I.prototype={setTagName:function(D){if(!i.test(D))throw new Error("invalid tagName:"+D);this.tagName=D},addValue:function(D,O,$){if(!i.test(D))throw new Error("invalid attribute:"+D);this.attributeNames[D]=this.length,this[this.length++]={qName:D,value:O,offset:$}},length:0,getLocalName:function(D){return this[D].localName},getLocator:function(D){return this[D].locator},getQName:function(D){return this[D].qName},getURI:function(D){return this[D].uri},getValue:function(D){return this[D].value}};function N(D,O){var $,H=[],Y=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(Y.lastIndex=O,Y.exec(D);$=Y.exec(D);)if(H.push($),$[1])return H}return Br.XMLReader=v,Br.ParseError=b,Br}var So;function rd(){if(So)return Ui;So=1;var r=wn(),e=vl(),t=td(),i=id(),n=e.DOMImplementation,s=r.NAMESPACE,a=i.ParseError,o=i.XMLReader;function u(E){this.options=E||{locator:{}}}u.prototype.parseFromString=function(E,p){var g=this.options,m=new o,x=g.domBuilder||new c,S=g.errorHandler,_=g.locator,T=g.xmlns||{},I=/\/x?html?$/.test(p),N=I?t.HTML_ENTITIES:t.XML_ENTITIES;return _&&x.setDocumentLocator(_),m.errorHandler=h(S,x,_),m.domBuilder=g.domBuilder||x,I&&(T[""]=s.HTML),T.xml=T.xml||s.XML,E&&typeof E=="string"?m.parse(E,T,N):m.errorHandler.error("invalid doc source"),x.doc};function h(E,p,g){if(!E){if(p instanceof c)return p;E=p}var m={},x=E instanceof Function;g=g||{};function S(_){var T=E[_];!T&&x&&(T=E.length==2?function(I){E(_,I)}:E),m[_]=T&&function(I){T("[xmldom "+_+"]	"+I+b(g))}||function(){}}return S("warning"),S("error"),S("fatalError"),m}function c(){this.cdata=!1}function d(E,p){p.lineNumber=E.lineNumber,p.columnNumber=E.columnNumber}c.prototype={startDocument:function(){this.doc=new n().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(E,p,g,m){var x=this.doc,S=x.createElementNS(E,g||p),_=m.length;R(this,S),this.currentElement=S,this.locator&&d(this.locator,S);for(var T=0;T<_;T++){var E=m.getURI(T),I=m.getValue(T),g=m.getQName(T),N=x.createAttributeNS(E,g);this.locator&&d(m.getLocator(T),N),N.value=N.nodeValue=I,S.setAttributeNode(N)}},endElement:function(E,p,g){var m=this.currentElement;m.tagName,this.currentElement=m.parentNode},startPrefixMapping:function(E,p){},endPrefixMapping:function(E){},processingInstruction:function(E,p){var g=this.doc.createProcessingInstruction(E,p);this.locator&&d(this.locator,g),R(this,g)},ignorableWhitespace:function(E,p,g){},characters:function(E,p,g){if(E=v.apply(this,arguments),E){if(this.cdata)var m=this.doc.createCDATASection(E);else var m=this.doc.createTextNode(E);this.currentElement?this.currentElement.appendChild(m):/^\s*$/.test(E)&&this.doc.appendChild(m),this.locator&&d(this.locator,m)}},skippedEntity:function(E){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(E){(this.locator=E)&&(E.lineNumber=0)},comment:function(E,p,g){E=v.apply(this,arguments);var m=this.doc.createComment(E);this.locator&&d(this.locator,m),R(this,m)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(E,p,g){var m=this.doc.implementation;if(m&&m.createDocumentType){var x=m.createDocumentType(E,p,g);this.locator&&d(this.locator,x),R(this,x),this.doc.doctype=x}},warning:function(E){console.warn("[xmldom warning]	"+E,b(this.locator))},error:function(E){console.error("[xmldom error]	"+E,b(this.locator))},fatalError:function(E){throw new a(E,this.locator)}};function b(E){if(E)return`
@`+(E.systemId||"")+"#[line:"+E.lineNumber+",col:"+E.columnNumber+"]"}function v(E,p,g){return typeof E=="string"?E.substr(p,g):E.length>=p+g||p?new java.lang.String(E,p,g)+"":E}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(E){c.prototype[E]=function(){return null}});function R(E,p){E.currentElement?E.currentElement.appendChild(p):E.doc.appendChild(p)}return Ui.__DOMHandler=c,Ui.DOMParser=u,Ui.DOMImplementation=e.DOMImplementation,Ui.XMLSerializer=e.XMLSerializer,Ui}var To;function nd(){if(To)return sr;To=1;var r=vl();return sr.DOMImplementation=r.DOMImplementation,sr.XMLSerializer=r.XMLSerializer,sr.DOMParser=rd().DOMParser,sr}var ml=nd();const fa=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,sd=1,ad=3,bl=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function En(){var r=new Date().getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(r+Math.random()*16)%16|0;return r=Math.floor(r/16),(t=="x"?i:i&7|8).toString(16)});return e}function od(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function yl(r){return!!(r&&r.nodeType==1)}function pt(r){return!isNaN(parseFloat(r))&&isFinite(r)}function _l(r){let e=parseFloat(r);return pt(r)===!1?!1:typeof r=="string"&&r.indexOf(".")>-1?!0:Math.floor(e)!==e}function Vi(r){var e=["Webkit","webkit","Moz","O","ms"],t=["-webkit-","-webkit-","-moz-","-o-","-ms-"],i=r.toLowerCase(),n=e.length;if(typeof document>"u"||typeof document.body.style[i]<"u")return r;for(var s=0;s<n;s++)if(typeof document.body.style[t[s]+i]<"u")return t[s]+i;return r}function wl(r){for(var e=1,t=arguments.length;e<t;e++){var i=arguments[e];for(var n in i)r[n]===void 0&&(r[n]=i[n])}return r}function Ct(r){var e=[].slice.call(arguments,1);return e.forEach(function(t){t&&Object.getOwnPropertyNames(t).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}),r}function ud(r,e,t){var i=Qi(r,e,t);return e.splice(i,0,r),i}function Qi(r,e,t,i,n){var s=i||0,a=n||e.length,o=parseInt(s+(a-s)/2),u;return t||(t=function(h,c){if(h>c)return 1;if(h<c)return-1;if(h==c)return 0}),a-s<=0?o:(u=t(e[o],r),a-s===1?u>=0?o:o+1:u===0?o:u===-1?Qi(r,e,t,o,a):Qi(r,e,t,s,o))}function Xr(r,e,t,i,n){var s=i||0,a=n||e.length,o=parseInt(s+(a-s)/2),u;return t||(t=function(h,c){if(h>c)return 1;if(h<c)return-1;if(h==c)return 0}),a-s<=0?-1:(u=t(e[o],r),a-s===1?u===0?o:-1:u===0?o:u===-1?Xr(r,e,t,o,a):Xr(r,e,t,s,o))}function qr(r){var e=window.getComputedStyle(r),t=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],i=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],n=0,s=0;return t.forEach(function(a){n+=parseFloat(e[a])||0}),i.forEach(function(a){s+=parseFloat(e[a])||0}),{height:s,width:n}}function Jr(r){var e=window.getComputedStyle(r),t=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],i=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],n=0,s=0;return t.forEach(function(a){n+=parseFloat(e[a])||0}),i.forEach(function(a){s+=parseFloat(e[a])||0}),{height:s,width:n}}function Us(r){let e,t=r.ownerDocument;if(r.nodeType==Node.TEXT_NODE){let i=t.createRange();i.selectNodeContents(r),e=i.getBoundingClientRect()}else e=r.getBoundingClientRect();return e}function Qr(){var r=window.innerWidth,e=window.innerHeight;return{top:0,left:0,right:r,bottom:e,width:r,height:e}}function ha(r,e){for(var t=r.parentNode,i=t.childNodes,n,s=-1,a=0;a<i.length&&(n=i[a],n.nodeType===e&&s++,n!=r);a++);return s}function ld(r){return ha(r,ad)}function El(r){return ha(r,sd)}function Cr(r){return["xml","opf","ncx"].indexOf(r)>-1}function xl(r,e){return new Blob([r],{type:e})}function en(r,e){var t,i=xl(r,e);return t=bl.createObjectURL(i),t}function Cl(r){return bl.revokeObjectURL(r)}function qs(r,e){var t,i;if(typeof r=="string")return t=btoa(r),i="data:"+e+";base64,"+t,i}function Al(r){return Object.prototype.toString.call(r).slice(8,-1)}function ii(r,e,t){var i,n;return typeof DOMParser>"u"||t?n=ml.DOMParser:n=DOMParser,r.charCodeAt(0)===65279&&(r=r.slice(1)),i=new n().parseFromString(r,e),i}function ot(r,e){var t;if(!r)throw new Error("No Element Provided");if(typeof r.querySelector<"u")return r.querySelector(e);if(t=r.getElementsByTagName(e),t.length)return t[0]}function pi(r,e){return typeof r.querySelector<"u"?r.querySelectorAll(e):r.getElementsByTagName(e)}function $i(r,e,t){var i,n;if(typeof r.querySelector<"u"){e+="[";for(var s in t)e+=s+"~='"+t[s]+"'";return e+="]",r.querySelector(e)}else if(i=r.getElementsByTagName(e),n=Array.prototype.slice.call(i,0).filter(function(a){for(var o in t)if(a.getAttribute(o)===t[o])return!0;return!1}),n)return n[0]}function tn(r,e){var t=r.ownerDocument||r;typeof t.createTreeWalker<"u"?Dl(r,e,NodeFilter.SHOW_TEXT):ca(r,function(i){i&&i.nodeType===3&&e(i)})}function Dl(r,e,t){var i=document.createTreeWalker(r,t,null,!1);let n;for(;n=i.nextNode();)e(n)}function ca(r,e){if(e(r))return!0;if(r=r.firstChild,r)do{if(ca(r,e))return!0;r=r.nextSibling}while(r)}function Sl(r){return new Promise(function(e,t){var i=new FileReader;i.readAsDataURL(r),i.onloadend=function(){e(i.result)}})}function Ze(){this.resolve=null,this.reject=null,this.id=En(),this.promise=new Promise((r,e)=>{this.resolve=r,this.reject=e}),Object.freeze(this)}function rn(r,e,t){var i;if(typeof r.querySelector<"u"&&(i=r.querySelector(`${e}[*|type="${t}"]`)),!i||i.length===0){i=pi(r,e);for(var n=0;n<i.length;n++)if(i[n].getAttributeNS("http://www.idpf.org/2007/ops","type")===t||i[n].getAttribute("epub:type")===t)return i[n]}else return i}function js(r){for(var e=[],t=r.childNodes,i=0;i<t.length;i++){let n=t[i];n.nodeType===1&&e.push(n)}return e}function Ws(r){for(var e=[r];r;r=r.parentNode)e.unshift(r);return e}function Zi(r,e,t){for(var i=[],n=r.childNodes,s=0;s<n.length;s++){let a=n[s];if(a.nodeType===1&&a.nodeName.toLowerCase()===e){if(t)return a;i.push(a)}}if(!t)return i}function fd(r,e){let t;if(!(r===null||e===""))for(t=r.parentNode;t.nodeType===1;){if(t.tagName.toLowerCase()===e)return t;t=t.parentNode}}class Tl{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,t){this.startContainer=e,this.startOffset=t,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,t){this.endContainer=e,this.endOffset=t,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let t=e.parentNode,i=Array.prototype.indexOf.call(t.childNodes,e);this.setStart(t,i),this.setEnd(t,i+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let t=e.nodeType===3?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,t)}_commonAncestorContainer(e,t){var i=Ws(e||this.startContainer),n=Ws(t||this.endContainer);if(i[0]==n[0]){for(var s=0;s<i.length;s++)if(i[s]!=n[s])return i[s-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}const hd=Object.freeze(Object.defineProperty({__proto__:null,RangeObject:Tl,blob2base64:Sl,borders:Jr,bounds:qr,createBase64Url:qs,createBlob:xl,createBlobUrl:en,defaults:wl,defer:Ze,documentHeight:od,extend:Ct,filterChildren:Zi,findChildren:js,getParentByTagName:fd,indexOfElementNode:El,indexOfNode:ha,indexOfSorted:Xr,indexOfTextNode:ld,insert:ud,isElement:yl,isFloat:_l,isNumber:pt,isXml:Cr,locationOf:Qi,nodeBounds:Us,parents:Ws,parse:ii,prefixed:Vi,qs:ot,qsa:pi,qsp:$i,querySelectorByType:rn,requestAnimationFrame:fa,revokeBlobUrl:Cl,sprint:tn,treeWalker:Dl,type:Al,uuid:En,walk:ca,windowBounds:Qr},Symbol.toStringTag,{value:"Module"}));var as,ko;function cd(){if(ko)return as;if(ko=1,!r)var r={cwd:function(){return"/"}};function e(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+s)}function t(s,a){for(var o="",u=-1,h=0,c,d=0;d<=s.length;++d){if(d<s.length)c=s.charCodeAt(d);else{if(c===47)break;c=47}if(c===47){if(!(u===d-1||h===1))if(u!==d-1&&h===2){if(o.length<2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){for(var b=o.length-1,v=b;v>=0&&o.charCodeAt(v)!==47;--v);if(v!==b){v===-1?o="":o=o.slice(0,v),u=d,h=0;continue}}else if(o.length===2||o.length===1){o="",u=d,h=0;continue}}a&&(o.length>0?o+="/..":o="..")}else o.length>0?o+="/"+s.slice(u+1,d):o=s.slice(u+1,d);u=d,h=0}else c===46&&h!==-1?++h:h=-1}return o}function i(s,a){var o=a.dir||a.root,u=a.base||(a.name||"")+(a.ext||"");return o?o===a.root?o+u:o+s+u:u}var n={resolve:function(){for(var a="",o=!1,u,h=arguments.length-1;h>=-1&&!o;h--){var c;h>=0?c=arguments[h]:(u===void 0&&(u=r.cwd()),c=u),e(c),c.length!==0&&(a=c+"/"+a,o=c.charCodeAt(0)===47)}return a=t(a,!o),o?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(e(a),a.length===0)return".";var o=a.charCodeAt(0)===47,u=a.charCodeAt(a.length-1)===47;return a=t(a,!o),a.length===0&&!o&&(a="."),a.length>0&&u&&(a+="/"),o?"/"+a:a},isAbsolute:function(a){return e(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,o=0;o<arguments.length;++o){var u=arguments[o];e(u),u.length>0&&(a===void 0?a=u:a+="/"+u)}return a===void 0?".":n.normalize(a)},relative:function(a,o){if(e(a),e(o),a===o||(a=n.resolve(a),o=n.resolve(o),a===o))return"";for(var u=1;u<a.length&&a.charCodeAt(u)===47;++u);for(var h=a.length,c=h-u,d=1;d<o.length&&o.charCodeAt(d)===47;++d);for(var b=o.length,v=b-d,R=c<v?c:v,E=-1,p=0;p<=R;++p){if(p===R){if(v>R){if(o.charCodeAt(d+p)===47)return o.slice(d+p+1);if(p===0)return o.slice(d+p)}else c>R&&(a.charCodeAt(u+p)===47?E=p:p===0&&(E=0));break}var g=a.charCodeAt(u+p),m=o.charCodeAt(d+p);if(g!==m)break;g===47&&(E=p)}var x="";for(p=u+E+1;p<=h;++p)(p===h||a.charCodeAt(p)===47)&&(x.length===0?x+="..":x+="/..");return x.length>0?x+o.slice(d+E):(d+=E,o.charCodeAt(d)===47&&++d,o.slice(d))},_makeLong:function(a){return a},dirname:function(a){if(e(a),a.length===0)return".";for(var o=a.charCodeAt(0),u=o===47,h=-1,c=!0,d=a.length-1;d>=1;--d)if(o=a.charCodeAt(d),o===47){if(!c){h=d;break}}else c=!1;return h===-1?u?"/":".":u&&h===1?"//":a.slice(0,h)},basename:function(a,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(a);var u=0,h=-1,c=!0,d;if(o!==void 0&&o.length>0&&o.length<=a.length){if(o.length===a.length&&o===a)return"";var b=o.length-1,v=-1;for(d=a.length-1;d>=0;--d){var R=a.charCodeAt(d);if(R===47){if(!c){u=d+1;break}}else v===-1&&(c=!1,v=d+1),b>=0&&(R===o.charCodeAt(b)?--b===-1&&(h=d):(b=-1,h=v))}return u===h?h=v:h===-1&&(h=a.length),a.slice(u,h)}else{for(d=a.length-1;d>=0;--d)if(a.charCodeAt(d)===47){if(!c){u=d+1;break}}else h===-1&&(c=!1,h=d+1);return h===-1?"":a.slice(u,h)}},extname:function(a){e(a);for(var o=-1,u=0,h=-1,c=!0,d=0,b=a.length-1;b>=0;--b){var v=a.charCodeAt(b);if(v===47){if(!c){u=b+1;break}continue}h===-1&&(c=!1,h=b+1),v===46?o===-1?o=b:d!==1&&(d=1):o!==-1&&(d=-1)}return o===-1||h===-1||d===0||d===1&&o===h-1&&o===u+1?"":a.slice(o,h)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof a);return i("/",a)},parse:function(a){e(a);var o={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return o;var u=a.charCodeAt(0),h=u===47,c;h?(o.root="/",c=1):c=0;for(var d=-1,b=0,v=-1,R=!0,E=a.length-1,p=0;E>=c;--E){if(u=a.charCodeAt(E),u===47){if(!R){b=E+1;break}continue}v===-1&&(R=!1,v=E+1),u===46?d===-1?d=E:p!==1&&(p=1):d!==-1&&(p=-1)}return d===-1||v===-1||p===0||p===1&&d===v-1&&d===b+1?v!==-1&&(b===0&&h?o.base=o.name=a.slice(1,v):o.base=o.name=a.slice(b,v)):(b===0&&h?(o.name=a.slice(1,d),o.base=a.slice(1,v)):(o.name=a.slice(b,d),o.base=a.slice(b,v)),o.ext=a.slice(d,v)),b>0?o.dir=a.slice(0,b-1):h&&(o.dir="/"),o},sep:"/",delimiter:":",posix:null};return as=n,as}var dd=cd();const _i=er(dd);class gi{constructor(e){var t,i;t=e.indexOf("://"),t>-1&&(e=new URL(e).pathname),i=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=i.dir+"/",this.filename=i.base,this.extension=i.ext.slice(1)}parse(e){return _i.parse(e)}isAbsolute(e){return _i.isAbsolute(e||this.path)}isDirectory(e){return e.charAt(e.length-1)==="/"}resolve(e){return _i.resolve(this.directory,e)}relative(e){var t=e&&e.indexOf("://")>-1;return t?e:_i.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}}class Gt{constructor(e,t){var i=e.indexOf("://")>-1,n=e,s;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=t,!i&&t!==!1&&typeof t!="string"&&window&&window.location&&(this.base=window.location.href),i||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,n=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(s=new gi(this.base),n=s.resolve(n))}this.Path=new gi(n),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var t=e.indexOf("://")>-1,i;return t?e:(i=_i.resolve(this.directory,e),this.origin+i)}relative(e){return _i.relative(e,this.directory)}toString(){return this.href}}const qi=1,qt=3,pd=9;class Ge{constructor(e,t,i){var n;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof Ge))return new Ge(e,t,i);if(typeof t=="string"?this.base=this.parseComponent(t):typeof t=="object"&&t.steps&&(this.base=t),n=this.checkType(e),n==="string")return this.str=e,Ct(this,this.parse(e));if(n==="range")return Ct(this,this.fromRange(e,this.base,i));if(n==="node")return Ct(this,this.fromNode(e,this.base,i));if(n==="EpubCFI"&&e.path)return e;if(e)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(e){return this.isCfiString(e)?"string":e&&typeof e=="object"&&(Al(e)==="Range"||typeof e.startContainer<"u")?"range":e&&typeof e=="object"&&typeof e.nodeType<"u"?"node":e&&typeof e=="object"&&e instanceof Ge?"EpubCFI":!1}parse(e){var t={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},i,n,s;return typeof e!="string"?{spinePos:-1}:(e.indexOf("epubcfi(")===0&&e[e.length-1]===")"&&(e=e.slice(8,e.length-1)),i=this.getChapterComponent(e),i?(t.base=this.parseComponent(i),n=this.getPathComponent(e),t.path=this.parseComponent(n),s=this.getRange(e),s&&(t.range=!0,t.start=this.parseComponent(s[0]),t.end=this.parseComponent(s[1])),t.spinePos=t.base.steps[1].index,t):{spinePos:-1})}parseComponent(e){var t={steps:[],terminal:{offset:null,assertion:null}},i=e.split(":"),n=i[0].split("/"),s;return i.length>1&&(s=i[1],t.terminal=this.parseTerminal(s)),n[0]===""&&n.shift(),t.steps=n.map((function(a){return this.parseStep(a)}).bind(this)),t}parseStep(e){var t,i,n,s,a;if(s=e.match(/\[(.*)\]/),s&&s[1]&&(a=s[1]),i=parseInt(e),!isNaN(i))return i%2===0?(t="element",n=i/2-1):(t="text",n=(i-1)/2),{type:t,index:n,id:a||null}}parseTerminal(e){var t,i,n=e.match(/\[(.*)\]/);return n&&n[1]?(t=parseInt(e.split("[")[0]),i=n[1]):t=parseInt(e),pt(t)||(t=null),{offset:t,assertion:i}}getChapterComponent(e){var t=e.split("!");return t[0]}getPathComponent(e){var t=e.split("!");if(t[1])return t[1].split(",")[0]}getRange(e){var t=e.split(",");return t.length===3?[t[1],t[2]]:!1}getCharecterOffsetComponent(e){var t=e.split(":");return t[1]||""}joinSteps(e){return e?e.map(function(t){var i="";return t.type==="element"&&(i+=(t.index+1)*2),t.type==="text"&&(i+=1+2*t.index),t.id&&(i+="["+t.id+"]"),i}).join("/"):""}segmentString(e){var t="/";return t+=this.joinSteps(e.steps),e.terminal&&e.terminal.offset!=null&&(t+=":"+e.terminal.offset),e.terminal&&e.terminal.assertion!=null&&(t+="["+e.terminal.assertion+"]"),t}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")",e}compare(e,t){var i,n,s,a;if(typeof e=="string"&&(e=new Ge(e)),typeof t=="string"&&(t=new Ge(t)),e.spinePos>t.spinePos)return 1;if(e.spinePos<t.spinePos)return-1;e.range?(i=e.path.steps.concat(e.start.steps),s=e.start.terminal):(i=e.path.steps,s=e.path.terminal),t.range?(n=t.path.steps.concat(t.start.steps),a=t.start.terminal):(n=t.path.steps,a=t.path.terminal);for(var o=0;o<i.length;o++){if(!i[o])return-1;if(!n[o]||i[o].index>n[o].index)return 1;if(i[o].index<n[o].index)return-1}return i.length<n.length?-1:s.offset>a.offset?1:s.offset<a.offset?-1:0}step(e){var t=e.nodeType===qt?"text":"element";return{id:e.id,tagName:e.tagName,type:t,index:this.position(e)}}filteredStep(e,t){var i=this.filter(e,t),n;if(i)return n=i.nodeType===qt?"text":"element",{id:i.id,tagName:i.tagName,type:n,index:this.filteredPosition(i,t)}}pathTo(e,t,i){for(var n={steps:[],terminal:{offset:null,assertion:null}},s=e,a;s&&s.parentNode&&s.parentNode.nodeType!=pd;)i?a=this.filteredStep(s,i):a=this.step(s),a&&n.steps.unshift(a),s=s.parentNode;return t!=null&&t>=0&&(n.terminal.offset=t,n.steps[n.steps.length-1].type!="text"&&n.steps.push({type:"text",index:0})),n}equalStep(e,t){return!e||!t?!1:e.index===t.index&&e.id===t.id&&e.type===t.type}fromRange(e,t,i){var n={range:!1,base:{},path:{},start:null,end:null},s=e.startContainer,a=e.endContainer,o=e.startOffset,u=e.endOffset,h=!1;if(i&&(h=s.ownerDocument.querySelector("."+i)!=null),typeof t=="string"?(n.base=this.parseComponent(t),n.spinePos=n.base.steps[1].index):typeof t=="object"&&(n.base=t),e.collapsed)h&&(o=this.patchOffset(s,o,i)),n.path=this.pathTo(s,o,i);else{n.range=!0,h&&(o=this.patchOffset(s,o,i)),n.start=this.pathTo(s,o,i),h&&(u=this.patchOffset(a,u,i)),n.end=this.pathTo(a,u,i),n.path={steps:[],terminal:null};var c=n.start.steps.length,d;for(d=0;d<c&&this.equalStep(n.start.steps[d],n.end.steps[d]);d++)d===c-1?n.start.terminal===n.end.terminal&&(n.path.steps.push(n.start.steps[d]),n.range=!1):n.path.steps.push(n.start.steps[d]);n.start.steps=n.start.steps.slice(n.path.steps.length),n.end.steps=n.end.steps.slice(n.path.steps.length)}return n}fromNode(e,t,i){var n={range:!1,base:{},path:{},start:null,end:null};return typeof t=="string"?(n.base=this.parseComponent(t),n.spinePos=n.base.steps[1].index):typeof t=="object"&&(n.base=t),n.path=this.pathTo(e,null,i),n}filter(e,t){var i,n,s,a,o,u=!1;return e.nodeType===qt?(u=!0,s=e.parentNode,i=e.parentNode.classList.contains(t)):(u=!1,i=e.classList.contains(t)),i&&u?(a=s.previousSibling,o=s.nextSibling,a&&a.nodeType===qt?n=a:o&&o.nodeType===qt&&(n=o),n||e):i&&!u?!1:e}patchOffset(e,t,i){if(e.nodeType!=qt)throw new Error("Anchor must be a text node");var n=e,s=t;for(e.parentNode.classList.contains(i)&&(n=e.parentNode);n.previousSibling;){if(n.previousSibling.nodeType===qi)if(n.previousSibling.classList.contains(i))s+=n.previousSibling.textContent.length;else break;else s+=n.previousSibling.textContent.length;n=n.previousSibling}return s}normalizedMap(e,t,i){var n={},s=-1,a,o=e.length,u,h;for(a=0;a<o;a++)u=e[a].nodeType,u===qi&&e[a].classList.contains(i)&&(u=qt),a>0&&u===qt&&h===qt?n[a]=s:t===u&&(s=s+1,n[a]=s),h=u;return n}position(e){var t,i;return e.nodeType===qi?(t=e.parentNode.children,t||(t=js(e.parentNode)),i=Array.prototype.indexOf.call(t,e)):(t=this.textNodes(e.parentNode),i=t.indexOf(e)),i}filteredPosition(e,t){var i,n,s;return e.nodeType===qi?(i=e.parentNode.children,s=this.normalizedMap(i,qi,t)):(i=e.parentNode.childNodes,e.parentNode.classList.contains(t)&&(e=e.parentNode,i=e.parentNode.childNodes),s=this.normalizedMap(i,qt,t)),n=Array.prototype.indexOf.call(i,e),s[n]}stepsToXpath(e){var t=[".","*"];return e.forEach(function(i){var n=i.index+1;i.id?t.push("*[position()="+n+" and @id='"+i.id+"']"):i.type==="text"?t.push("text()["+n+"]"):t.push("*["+n+"]")}),t.join("/")}stepsToQuerySelector(e){var t=["html"];return e.forEach(function(i){var n=i.index+1;i.id?t.push("#"+i.id):i.type==="text"||t.push("*:nth-child("+n+")")}),t.join(">")}textNodes(e,t){return Array.prototype.slice.call(e.childNodes).filter(function(i){return i.nodeType===qt?!0:!!(t&&i.classList.contains(t))})}walkToNode(e,t,i){var n=t||document,s=n.documentElement,a,o,u=e.length,h;for(h=0;h<u&&(o=e[h],o.type==="element"?o.id?s=n.getElementById(o.id):(a=s.children||js(s),s=a[o.index]):o.type==="text"&&(s=this.textNodes(s,i)[o.index]),!!s);h++);return s}findNode(e,t,i){var n=t||document,s,a;return!i&&typeof n.evaluate<"u"?(a=this.stepsToXpath(e),s=n.evaluate(a,n,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):i?s=this.walkToNode(e,n,i):s=this.walkToNode(e,n),s}fixMiss(e,t,i,n){var s=this.findNode(e.slice(0,-1),i,n),a=s.childNodes,o=this.normalizedMap(a,qt,n),u,h,c=e[e.length-1].index;for(let d in o){if(!o.hasOwnProperty(d))return;if(o[d]===c)if(u=a[d],h=u.textContent.length,t>h)t=t-h;else{u.nodeType===qi?s=u.childNodes[0]:s=u;break}}return{container:s,offset:t}}toRange(e,t){var i=e||document,n,s,a,o,u,h=this,c,d,b=t?i.querySelector("."+t)!=null:!1,v;if(typeof i.createRange<"u"?n=i.createRange():n=new Tl,h.range?(s=h.start,c=h.path.steps.concat(s.steps),o=this.findNode(c,i,b?t:null),a=h.end,d=h.path.steps.concat(a.steps),u=this.findNode(d,i,b?t:null)):(s=h.path,c=h.path.steps,o=this.findNode(h.path.steps,i,b?t:null)),o)try{s.terminal.offset!=null?n.setStart(o,s.terminal.offset):n.setStart(o,0)}catch{v=this.fixMiss(c,s.terminal.offset,i,b?t:null),n.setStart(v.container,v.offset)}else return console.log("No startContainer found for",this.toString()),null;if(u)try{a.terminal.offset!=null?n.setEnd(u,a.terminal.offset):n.setEnd(u,0)}catch{v=this.fixMiss(d,h.end.terminal.offset,i,b?t:null),n.setEnd(v.container,v.offset)}return n}isCfiString(e){return typeof e=="string"&&e.indexOf("epubcfi(")===0&&e[e.length-1]===")"}generateChapterComponent(e,t,i){var n=parseInt(t),s=(e+1)*2,a="/"+s+"/";return a+=(n+1)*2,i&&(a+="["+i+"]"),a}collapse(e){this.range&&(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class Yt{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if(typeof arguments[e]=="function")this.hooks.push(arguments[e]);else for(var t=0;t<arguments[e].length;++t)this.hooks.push(arguments[e][t])}deregister(e){let t;for(let i=0;i<this.hooks.length;i++)if(t=this.hooks[i],t===e){this.hooks.splice(i,1);break}}trigger(){var e=arguments,t=this.context,i=[];return this.hooks.forEach(function(n){try{var s=n.apply(t,e)}catch(a){console.log(a)}s&&typeof s.then=="function"&&i.push(s)}),Promise.all(i)}list(){return this.hooks}clear(){return this.hooks=[]}}function kl(r,e){var t,i,n=e.url,s=n.indexOf("://")>-1;r&&(i=ot(r,"head"),t=ot(i,"base"),t||(t=r.createElement("base"),i.insertBefore(t,i.firstChild)),!s&&window&&window.location&&(n=window.location.origin+n),t.setAttribute("href",n))}function gd(r,e){var t,i,n=e.canonical;r&&(t=ot(r,"head"),i=ot(t,"link[rel='canonical']"),i?i.setAttribute("href",n):(i=r.createElement("link"),i.setAttribute("rel","canonical"),i.setAttribute("href",n),t.appendChild(i)))}function vd(r,e){var t,i,n=e.idref;r&&(t=ot(r,"head"),i=ot(t,"link[property='dc.identifier']"),i?i.setAttribute("content",n):(i=r.createElement("meta"),i.setAttribute("name","dc.identifier"),i.setAttribute("content",n),t.appendChild(i)))}function md(r,e){var t=r.querySelectorAll("a[href]");if(t.length)for(var i=ot(r.ownerDocument,"base"),n=i?i.getAttribute("href"):void 0,s=(function(o){var u=o.getAttribute("href");if(u.indexOf("mailto:")!==0){var h=u.indexOf("://")>-1;if(h)o.setAttribute("target","_blank");else{var c;try{c=new Gt(u,n)}catch{}o.onclick=function(){return c&&c.hash?e(c.Path.path+c.hash):e(c?c.Path.path:u),!1}}}}).bind(this),a=0;a<t.length;a++)s(t[a])}function Ro(r,e,t){return e.forEach(function(i,n){i&&t[n]&&(i=i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),r=r.replace(new RegExp(i,"g"),t[n]))}),r}function Ar(r,e,t,i){var n=typeof window<"u"?window.URL:!1,s=n?"blob":"arraybuffer",a=new Ze,o=new XMLHttpRequest,u=XMLHttpRequest.prototype,h;"overrideMimeType"in u||Object.defineProperty(u,"overrideMimeType",{value:function(){}}),t&&(o.withCredentials=!0),o.onreadystatechange=d,o.onerror=c,o.open("GET",r,!0);for(h in i)o.setRequestHeader(h,i[h]);e=="json"&&o.setRequestHeader("Accept","application/json"),e||(e=new gi(r).extension),e=="blob"&&(o.responseType=s),Cr(e)&&o.overrideMimeType("text/xml"),e=="binary"&&(o.responseType="arraybuffer"),o.send();function c(b){a.reject(b)}function d(){if(this.readyState===XMLHttpRequest.DONE){var b=!1;if((this.responseType===""||this.responseType==="document")&&(b=this.responseXML),this.status===200||this.status===0||b){var v;if(!this.response&&!b)return a.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),a.promise;if(this.status===403)return a.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),a.promise;b?v=this.responseXML:Cr(e)?v=ii(this.response,"text/xml"):e=="xhtml"?v=ii(this.response,"application/xhtml+xml"):e=="html"||e=="htm"?v=ii(this.response,"text/html"):e=="json"?v=JSON.parse(this.response):e=="blob"?n?v=this.response:v=new Blob([this.response]):v=this.response,a.resolve(v)}else a.reject({status:this.status,message:this.response,stack:new Error().stack})}}return a.promise}class bd{constructor(e,t){this.idref=e.idref,this.linear=e.linear==="yes",this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,t?this.hooks=t:(this.hooks={},this.hooks.serialize=new Yt(this),this.hooks.content=new Yt(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var t=e||this.request||Ar,i=new Ze,n=i.promise;return this.contents?i.resolve(this.contents):t(this.url).then((function(s){return this.document=s,this.contents=s.documentElement,this.hooks.content.trigger(this.document,this)}).bind(this)).then((function(){i.resolve(this.contents)}).bind(this)).catch(function(s){i.reject(s)}),n}base(){return kl(this.document,this)}render(e){var t=new Ze,i=t.promise;return this.output,this.load(e).then((function(n){var s=typeof navigator<"u"&&navigator.userAgent||"",a=s.indexOf("Trident")>=0,o;typeof XMLSerializer>"u"||a?o=ml.DOMParser:o=XMLSerializer;var u=new o;return this.output=u.serializeToString(n),this.output}).bind(this)).then((function(){return this.hooks.serialize.trigger(this.output,this)}).bind(this)).then((function(){t.resolve(this.output)}).bind(this)).catch(function(n){t.reject(n)}),i}find(e){var t=this,i=[],n=e.toLowerCase(),s=function(a){for(var o=a.textContent.toLowerCase(),u=t.document.createRange(),h,c,d=-1,b,v=150;c!=-1;)c=o.indexOf(n,d+1),c!=-1&&(u=t.document.createRange(),u.setStart(a,c),u.setEnd(a,c+n.length),h=t.cfiFromRange(u),a.textContent.length<v?b=a.textContent:(b=a.textContent.substring(c-v/2,c+v/2),b="..."+b+"..."),i.push({cfi:h,excerpt:b})),d=c};return tn(t.document,function(a){s(a)}),i}search(e,t=5){if(typeof document.createTreeWalker>"u")return this.find(e);let i=[];const n=150,s=this,a=e.toLowerCase(),o=function(d){const R=d.reduce((E,p)=>E+p.textContent,"").toLowerCase().indexOf(a);if(R!=-1){const p=R+a.length;let g=0,m=0;if(R<d[0].length){let x;for(;g<d.length-1&&(m+=d[g].length,!(p<=m));)g+=1;let S=d[0],_=d[g],T=s.document.createRange();T.setStart(S,R);let I=d.slice(0,g).reduce((D,O)=>D+O.textContent.length,0);T.setEnd(_,I>p?p:p-I),x=s.cfiFromRange(T);let N=d.slice(0,g+1).reduce((D,O)=>D+O.textContent,"");N.length>n&&(N=N.substring(R-n/2,R+n/2),N="..."+N+"..."),i.push({cfi:x,excerpt:N})}}},u=document.createTreeWalker(s.document,NodeFilter.SHOW_TEXT,null,!1);let h,c=[];for(;h=u.nextNode();)c.push(h),c.length==t&&(o(c.slice(0,t)),c=c.slice(1,t));return c.length>0&&o(c),i}reconcileLayoutSettings(e){var t={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(i){var n=i.replace("rendition:",""),s=n.indexOf("-"),a,o;s!=-1&&(a=n.slice(0,s),o=n.slice(s+1),t[a]=o)}),t}cfiFromRange(e){return new Ge(e,this.cfiBase).toString()}cfiFromElement(e){return new Ge(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class yd{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new Yt,this.hooks.content=new Yt,this.hooks.content.register(kl),this.hooks.content.register(gd),this.hooks.content.register(vd),this.epubcfi=new Ge,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,t,i){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((n,s)=>{var a=this.manifest[n.idref],o;n.index=s,n.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,n.index,n.id),n.href&&(n.url=t(n.href,!0),n.canonical=i(n.href)),a&&(n.href=a.href,n.url=t(n.href,!0),n.canonical=i(n.href),a.properties.length&&n.properties.push.apply(n.properties,a.properties)),n.linear==="yes"?(n.prev=(function(){let u=n.index;for(;u>0;){let h=this.get(u-1);if(h&&h.linear)return h;u-=1}}).bind(this),n.next=(function(){let u=n.index;for(;u<this.spineItems.length-1;){let h=this.get(u+1);if(h&&h.linear)return h;u+=1}}).bind(this)):(n.prev=function(){},n.next=function(){}),o=new bd(n,this.hooks),this.append(o)}),this.loaded=!0}get(e){var t=0;if(typeof e>"u")for(;t<this.spineItems.length;){let i=this.spineItems[t];if(i&&i.linear)break;t+=1}else this.epubcfi.isCfiString(e)?t=new Ge(e).spinePos:typeof e=="number"||isNaN(e)===!1?t=e:typeof e=="string"&&e.indexOf("#")===0?t=this.spineById[e.substring(1)]:typeof e=="string"&&(e=e.split("#")[0],t=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[t]||null}append(e){var t=this.spineItems.length;return e.index=t,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=t,this.spineByHref[encodeURI(e.href)]=t,this.spineByHref[e.href]=t,this.spineById[e.idref]=t,t}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(t,i){t.index=i}),0}remove(e){var t=this.spineItems.indexOf(e);if(t>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(t,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let t=this.get(e);if(t&&t.linear)return t;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let t=this.get(e);if(t&&t.linear)return t;e-=1}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class da{constructor(e){this._q=[],this.context=e,this.tick=fa,this.running=!1,this.paused=!1}enqueue(){var e,t,i,n=[].shift.call(arguments),s=arguments;if(!n)throw new Error("No Task Provided");return typeof n=="function"?(e=new Ze,t=e.promise,i={task:n,args:s,deferred:e,promise:t}):i={promise:n},this._q.push(i),this.paused==!1&&!this.running&&this.run(),i.promise}dequeue(){var e,t,i;if(this._q.length&&!this.paused){if(e=this._q.shift(),t=e.task,t)return i=t.apply(this.context,e.args),i&&typeof i.then=="function"?i.then((function(){e.deferred.resolve.apply(this.context,arguments)}).bind(this),(function(){e.deferred.reject.apply(this.context,arguments)}).bind(this)):(e.deferred.resolve.apply(this.context,i),e.promise);if(e.promise)return e.promise}else return e=new Ze,e.deferred.resolve(),e.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new Ze),this.tick.call(window,()=>{this._q.length?this.dequeue().then((function(){this.run()}).bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then((function(){return this.running=void 0,this.flush()}).bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const xn="0.3",jr=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],xe={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class Rl{constructor(e,t,i){this.spine=e,this.request=t,this.pause=i||100,this.q=new da(this),this.epubcfi=new Ge,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each((function(t){t.linear&&this.q.enqueue(this.process.bind(this),t)}).bind(this)),this.q.run().then((function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}).bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then((function(t){var i=new Ze,n=this.parse(t,e.cfiBase);return this._locations=this._locations.concat(n),e.unload(),this.processingTimeout=setTimeout(()=>i.resolve(n),this.pause),i.promise}).bind(this))}parse(e,t,i){var n=[],s,a=e.ownerDocument,o=ot(a,"body"),u=0,h,c=i||this.break,d=function(b){var v=b.length,R,E=0;if(b.textContent.trim().length===0)return!1;for(u==0&&(s=this.createRange(),s.startContainer=b,s.startOffset=0),R=c-u,R>v&&(u+=v,E=v);E<v;)if(R=c-u,u===0&&(E+=1,s=this.createRange(),s.startContainer=b,s.startOffset=E),E+R>=v)u+=v-E,E=v;else{E+=R,s.endContainer=b,s.endOffset=E;let p=new Ge(s,t).toString();n.push(p),u=0}h=b};if(tn(o,d.bind(this)),s&&s.startContainer&&h){s.endContainer=h,s.endOffset=h.length;let b=new Ge(s,t).toString();n.push(b),u=0}return n}generateFromWords(e,t,i){var n=e?new Ge(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each((function(s){s.linear&&(n?s.index>=n.spinePos&&this.q.enqueue(this.processWords.bind(this),s,t,n,i):this.q.enqueue(this.processWords.bind(this),s,t,n,i))}).bind(this)),this.q.run().then((function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}).bind(this))}processWords(e,t,i,n){return n&&this._locationsWords.length>=n?Promise.resolve():e.load(this.request).then((function(s){var a=new Ze,o=this.parseWords(s,e,t,i),u=n-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(o.length>=n?o.slice(0,u):o),e.unload(),this.processingTimeout=setTimeout(()=>a.resolve(o),this.pause),a.promise}).bind(this))}countWords(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,`
`),e.split(" ").length}parseWords(e,t,i,n){var s=t.cfiBase,a=[],o=e.ownerDocument,u=ot(o,"body"),h=i,c=n?n.spinePos!==t.index:!0,d;n&&t.index===n.spinePos&&(d=n.findNode(n.range?n.path.steps.concat(n.start.steps):n.path.steps,e.ownerDocument));var b=function(v){if(!c)if(v===d)c=!0;else return!1;if(v.textContent.length<10&&v.textContent.trim().length===0)return!1;var R=this.countWords(v.textContent),E,p=0;if(R===0)return!1;for(E=h-this._wordCounter,E>R&&(this._wordCounter+=R,p=R);p<R;)if(E=h-this._wordCounter,p+E>=R)this._wordCounter+=R-p,p=R;else{p+=E;let g=new Ge(v,s);a.push({cfi:g.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return tn(u,b.bind(this)),a}locationFromCfi(e){let t;return Ge.prototype.isCfiString(e)&&(e=new Ge(e)),this._locations.length===0?-1:(t=Qi(e,this._locations,this.epubcfi.compare),t>this.total?this.total:t)}percentageFromCfi(e){if(this._locations.length===0)return null;var t=this.locationFromCfi(e);return this.percentageFromLocation(t)}percentageFromLocation(e){return!e||!this.total?0:e/this.total}cfiFromLocation(e){var t=-1;return typeof e!="number"&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(t=this._locations[e]),t}cfiFromPercentage(e){let t;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){let i=new Ge(this._locations[this.total]);return i.collapse(),i.toString()}return t=Math.ceil(this.total*e),this.cfiFromLocation(t)}load(e){return typeof e=="string"?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var t;if(typeof e=="string")this._currentCfi=e;else if(typeof e=="number")this._current=e;else return;this._locations.length!==0&&(typeof e=="string"?(t=this.locationFromCfi(e),this._current=t):t=e,this.emit(xe.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(t)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}ni(Rl.prototype);class _d{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var t;if(!e)throw new Error("Container File Not Found");if(t=ot(e,"rootfile"),!t)throw new Error("No RootFile Found");this.packagePath=t.getAttribute("full-path"),this.directory=_i.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class Lo{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var t,i,n;if(!e)throw new Error("Package File Not Found");if(t=ot(e,"metadata"),!t)throw new Error("No Metadata Found");if(i=ot(e,"manifest"),!i)throw new Error("No Manifest Found");if(n=ot(e,"spine"),!n)throw new Error("No Spine Found");return this.manifest=this.parseManifest(i),this.navPath=this.findNavPath(i),this.ncxPath=this.findNcxPath(i,n),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=El(n),this.spine=this.parseSpine(n,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(t),this.metadata.direction=n.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var t={};return t.title=this.getElementText(e,"title"),t.creator=this.getElementText(e,"creator"),t.description=this.getElementText(e,"description"),t.pubdate=this.getElementText(e,"date"),t.publisher=this.getElementText(e,"publisher"),t.identifier=this.getElementText(e,"identifier"),t.language=this.getElementText(e,"language"),t.rights=this.getElementText(e,"rights"),t.modified_date=this.getPropertyText(e,"dcterms:modified"),t.layout=this.getPropertyText(e,"rendition:layout"),t.orientation=this.getPropertyText(e,"rendition:orientation"),t.flow=this.getPropertyText(e,"rendition:flow"),t.viewport=this.getPropertyText(e,"rendition:viewport"),t.media_active_class=this.getPropertyText(e,"media:active-class"),t.spread=this.getPropertyText(e,"rendition:spread"),t}parseManifest(e){var t={},i=pi(e,"item"),n=Array.prototype.slice.call(i);return n.forEach(function(s){var a=s.getAttribute("id"),o=s.getAttribute("href")||"",u=s.getAttribute("media-type")||"",h=s.getAttribute("media-overlay")||"",c=s.getAttribute("properties")||"";t[a]={href:o,type:u,overlay:h,properties:c.length?c.split(" "):[]}}),t}parseSpine(e,t){var i=[],n=pi(e,"itemref"),s=Array.prototype.slice.call(n);return s.forEach(function(a,o){var u=a.getAttribute("idref"),h=a.getAttribute("properties")||"",c=h.length?h.split(" "):[],d={id:a.getAttribute("id"),idref:u,linear:a.getAttribute("linear")||"yes",properties:c,index:o};i.push(d)}),i}findUniqueIdentifier(e){var t=e.documentElement.getAttribute("unique-identifier");if(!t)return"";var i=e.getElementById(t);return i&&i.localName==="identifier"&&i.namespaceURI==="http://purl.org/dc/elements/1.1/"&&i.childNodes.length>0?i.childNodes[0].nodeValue.trim():""}findNavPath(e){var t=$i(e,"item",{properties:"nav"});return t?t.getAttribute("href"):!1}findNcxPath(e,t){var i=$i(e,"item",{"media-type":"application/x-dtbncx+xml"}),n;return i||(n=t.getAttribute("toc"),n&&(i=e.querySelector(`#${n}`))),i?i.getAttribute("href"):!1}findCoverPath(e){var t=ot(e,"package");t.getAttribute("version");var i=$i(e,"item",{properties:"cover-image"});if(i)return i.getAttribute("href");var n=$i(e,"meta",{name:"cover"});if(n){var s=n.getAttribute("content"),a=e.getElementById(s);return a?a.getAttribute("href"):""}else return!1}getElementText(e,t){var i=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",t),n;return!i||i.length===0?"":(n=i[0],n.childNodes.length?n.childNodes[0].nodeValue:"")}getPropertyText(e,t){var i=$i(e,"meta",{property:t});return i&&i.childNodes.length?i.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let t=e.readingOrder||e.spine;return this.spine=t.map((i,n)=>(i.index=n,i.linear=i.linear||"yes",i)),e.resources.forEach((i,n)=>{this.manifest[n]=i,i.rel&&i.rel[0]==="cover"&&(this.coverPath=i.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((i,n)=>(i.label=i.title,i)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class os{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let t=e.nodeType,i,n;t&&(i=ot(e,"html"),n=ot(e,"ncx")),t?i?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):n&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var t,i=0;i<e.length;i++)t=e[i],t.href&&(this.tocByHref[t.href]=i),t.id&&(this.tocById[t.id]=i),this.length++,t.subitems.length&&this.unpack(t.subitems)}get(e){var t;return e?(e.indexOf("#")===0?t=this.tocById[e.substring(1)]:e in this.tocByHref&&(t=this.tocByHref[e]),this.getByIndex(e,t,this.toc)):this.toc}getByIndex(e,t,i){if(i.length===0)return;const n=i[t];if(n&&(e===n.id||e===n.href))return n;{let s;for(let a=0;a<i.length&&(s=this.getByIndex(e,t,i[a].subitems),!s);++a);return s}}landmark(e){var t;return e?(t=this.landmarksByType[e],this.landmarks[t]):this.landmarks}parseNav(e){var t=rn(e,"nav","toc"),i=[];if(!t)return i;let n=Zi(t,"ol",!0);return n&&(i=this.parseNavList(n)),i}parseNavList(e,t){const i=[];if(!e||!e.children)return i;for(let n=0;n<e.children.length;n++){const s=this.navItem(e.children[n],t);s&&i.push(s)}return i}navItem(e,t){let i=e.getAttribute("id")||void 0,n=Zi(e,"a",!0)||Zi(e,"span",!0);if(!n)return;let s=n.getAttribute("href")||"";i||(i=s);let a=n.textContent||"",o=[],u=Zi(e,"ol",!0);return u&&(o=this.parseNavList(u,i)),{id:i,href:s,label:a,subitems:o,parent:t}}parseLandmarks(e){var t=rn(e,"nav","landmarks"),i=t?pi(t,"li"):[],n=i.length,s,a=[],o;if(!i||n===0)return a;for(s=0;s<n;++s)o=this.landmarkItem(i[s]),o&&(a.push(o),this.landmarksByType[o.type]=s);return a}landmarkItem(e){let t=Zi(e,"a",!0);if(!t)return;let i=t.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,n=t.getAttribute("href")||"",s=t.textContent||"";return{href:n,label:s,type:i}}parseNcx(e){var t=pi(e,"navPoint"),i=t.length,n,s={},a=[],o,u;if(!t||i===0)return a;for(n=0;n<i;++n)o=this.ncxItem(t[n]),s[o.id]=o,o.parent?(u=s[o.parent],u.subitems.push(o)):a.push(o);return a}ncxItem(e){var t=e.getAttribute("id")||!1,i=ot(e,"content"),n=i.getAttribute("src"),s=ot(e,"navLabel"),a=s.textContent?s.textContent:"",o=[],u=e.parentNode,h;return u&&(u.nodeName==="navPoint"||u.nodeName.split(":").slice(-1)[0]==="navPoint")&&(h=u.getAttribute("id")),{id:t,href:n,label:a,subitems:o,parent:h}}load(e){return e.map(t=>(t.label=t.title,t.subitems=t.children?this.load(t.children):[],t))}forEach(e){return this.toc.forEach(e)}}var ar={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},wd=(function(){var r,e,t,i,n={};for(r in ar)if(ar.hasOwnProperty(r)){for(e in ar[r])if(ar[r].hasOwnProperty(e))if(t=ar[r][e],typeof t=="string")n[t]=r+"/"+e;else for(i=0;i<t.length;i++)n[t[i]]=r+"/"+e}return n})(),Ed="text/plain";function xd(r){return r&&wd[r.split(".").pop().toLowerCase()]||Ed}const Xi={lookup:xd};class Cd{constructor(e,t){this.settings={replacements:t&&t.replacements||"base64",archive:t&&t.archive,resolver:t&&t.resolver,request:t&&t.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(t){return e[t]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if(e.type==="application/xhtml+xml"||e.type==="text/html")return!0}),this.assets=this.resources.filter(function(e){if(e.type!=="application/xhtml+xml"&&e.type!=="text/html")return!0}),this.css=this.resources.filter(function(e){if(e.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map((function(e){return e.href}).bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var t=new Gt(e),i=Xi.lookup(t.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(e,"blob").then(n=>Sl(n)).then(n=>qs(n,i)):this.settings.request(e,"blob").then(n=>en(n,i))}replacements(){if(this.settings.replacements==="none")return new Promise((function(t){t(this.urls)}).bind(this));var e=this.urls.map(t=>{var i=this.settings.resolver(t);return this.createUrl(i).catch(n=>(console.error(n),null))});return Promise.all(e).then(t=>(this.replacementUrls=t.filter(i=>typeof i=="string"),t))}replaceCss(e,t){var i=[];return e=e||this.settings.archive,t=t||this.settings.resolver,this.cssUrls.forEach((function(n){var s=this.createCssFile(n,e,t).then((function(a){var o=this.urls.indexOf(n);o>-1&&(this.replacementUrls[o]=a)}).bind(this));i.push(s)}).bind(this)),Promise.all(i)}createCssFile(e){var t;if(_i.isAbsolute(e))return new Promise(function(a){a()});var i=this.settings.resolver(e),n;this.settings.archive?n=this.settings.archive.getText(i):n=this.settings.request(i,"text");var s=this.urls.map(a=>{var o=this.settings.resolver(a),u=new gi(i).relative(o);return u});return n?n.then(a=>(a=Ro(a,s,this.replacementUrls),this.settings.replacements==="base64"?t=qs(a,"text/css"):t=en(a,"text/css"),t),a=>new Promise(function(o){o()})):new Promise(function(a){a()})}relativeTo(e,t){return t=t||this.settings.resolver,this.urls.map((function(i){var n=t(i),s=new gi(e).relative(n);return s}).bind(this))}get(e){var t=this.urls.indexOf(e);if(t!==-1)return this.replacementUrls.length?new Promise((function(i,n){i(this.replacementUrls[t])}).bind(this)):this.createUrl(e)}substitute(e,t){var i;return t?i=this.relativeTo(t):i=this.urls,Ro(e,i,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class us{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new Ge,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var t=ot(e,"html"),i=ot(e,"ncx");if(t)return this.parseNav(e);if(i)return this.parseNcx(e)}parseNav(e){var t=rn(e,"nav","page-list"),i=t?pi(t,"li"):[],n=i.length,s,a=[],o;if(!i||n===0)return a;for(s=0;s<n;++s)o=this.item(i[s]),a.push(o);return a}parseNcx(e){var t=[],i=0,n,s,a,o=0;if(s=ot(e,"pageList"),!s||(a=pi(s,"pageTarget"),o=a.length,!a||a.length===0))return t;for(i=0;i<o;++i)n=this.ncxItem(a[i]),t.push(n);return t}ncxItem(e){var t=ot(e,"navLabel"),i=ot(t,"text"),n=i.textContent,s=ot(e,"content"),a=s.getAttribute("src"),o=parseInt(n,10);return{href:a,page:o}}item(e){var t=ot(e,"a"),i=t.getAttribute("href")||"",n=t.textContent||"",s=parseInt(n),a=i.indexOf("epubcfi"),o,u,h;return a!=-1?(o=i.split("#"),u=o[0],h=o.length>1?o[1]:!1,{cfi:h,href:i,packageUrl:u,page:s}):{href:i,page:s}}process(e){e.forEach(function(t){this.pages.push(t.page),t.cfi&&this.locations.push(t.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var t=-1;if(this.locations.length===0)return-1;var i=Xr(e,this.locations,this.epubcfi.compare);return i!=-1?t=this.pages[i]:(i=Qi(e,this.locations,this.epubcfi.compare),t=i-1>=0?this.pages[i-1]:this.pages[0],t!==void 0||(t=-1)),t}cfiFromPage(e){var t=-1;typeof e!="number"&&(e=parseInt(e));var i=this.pages.indexOf(e);return i!=-1&&(t=this.locations[i]),t}pageFromPercentage(e){var t=Math.round(this.totalPages*e);return t}percentageFromPage(e){var t=(e-this.firstPage)/this.totalPages;return Math.round(t*1e3)/1e3}percentageFromCfi(e){var t=this.pageFromCfi(e),i=this.percentageFromPage(t);return i}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class Ll{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread=e.spread!=="none",this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,e.flow==="scrolled"||e.flow==="scrolled-continuous"||e.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return typeof e<"u"&&(e==="scrolled"||e==="scrolled-continuous"||e==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(e,t){return e&&(this._spread=e!=="none",this.update({spread:this._spread})),t>=0&&(this._minSpreadWidth=t),this._spread}calculate(e,t,i){var n=1,s=i||0,a=e,o=t,u=Math.floor(a/12),h,c,d,b;this._spread&&a>=this._minSpreadWidth?n=2:n=1,this.name==="reflowable"&&this._flow==="paginated"&&!(i>=0)&&(s=u%2===0?u:u-1),this.name==="pre-paginated"&&(s=0),n>1?(h=a/n-s,d=h+s):(h=a,d=a),this.name==="pre-paginated"&&n>1&&(a=h),c=h*n+s,b=a,this.width=a,this.height=o,this.spreadWidth=c,this.pageWidth=d,this.delta=b,this.columnWidth=h,this.gap=s,this.divisor=n,this.update({width:a,height:o,spreadWidth:c,pageWidth:d,delta:b,columnWidth:h,gap:s,divisor:n})}format(e,t,i){var n;return this.name==="pre-paginated"?n=e.fit(this.columnWidth,this.height,t):this._flow==="paginated"?n=e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):i&&i==="horizontal"?n=e.size(null,this.height):n=e.size(this.width,null),n}count(e,t){let i,n;return this.name==="pre-paginated"?(i=1,n=1):this._flow==="paginated"?(t=t||this.delta,i=Math.ceil(e/t),n=i*this.divisor):(t=t||this.height,i=Math.ceil(e/t),n=i),{spreads:i,pages:n}}update(e){if(Object.keys(e).forEach(t=>{this.props[t]===e[t]&&delete e[t]}),Object.keys(e).length>0){let t=Ct(this.props,e);this.emit(xe.LAYOUT.UPDATED,t,e)}}}ni(Ll.prototype);class Ad{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(e){if(e){if(typeof e=="string")return this.registerUrl("default",e);if(typeof e=="object")return this.registerRules("default",e)}}registerThemes(e){for(var t in e)e.hasOwnProperty(t)&&(typeof e[t]=="string"?this.registerUrl(t,e[t]):this.registerRules(t,e[t]))}registerCss(e,t){this._themes[e]={serialized:t},(this._injected[e]||e=="default")&&this.update(e)}registerUrl(e,t){var i=new Gt(t);this._themes[e]={url:i.toString()},(this._injected[e]||e=="default")&&this.update(e)}registerRules(e,t){this._themes[e]={rules:t},(this._injected[e]||e=="default")&&this.update(e)}select(e){var t=this._current,i;this._current=e,this.update(e),i=this.rendition.getContents(),i.forEach(n=>{n.removeClass(t),n.addClass(e)})}update(e){var t=this.rendition.getContents();t.forEach(i=>{this.add(e,i)})}inject(e){var t=[],i=this._themes,n;for(var s in i)i.hasOwnProperty(s)&&(s===this._current||s==="default")&&(n=i[s],(n.rules&&Object.keys(n.rules).length>0||n.url&&t.indexOf(n.url)===-1)&&this.add(s,e),this._injected.push(s));this._current!="default"&&e.addClass(this._current)}add(e,t){var i=this._themes[e];!i||!t||(i.url?t.addStylesheet(i.url):i.serialized?(t.addStylesheetCss(i.serialized,e),i.injected=!0):i.rules&&(t.addStylesheetRules(i.rules,e),i.injected=!0))}override(e,t,i){var n=this.rendition.getContents();this._overrides[e]={value:t,priority:i===!0},n.forEach(s=>{s.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var t=this.rendition.getContents();delete this._overrides[e],t.forEach(i=>{i.css(e)})}overrides(e){var t=this._overrides;for(var i in t)t.hasOwnProperty(i)&&e.css(i,t[i].value,t[i].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class nn{constructor(e,t,i,n=!1){this.layout=e,this.horizontal=i==="horizontal",this.direction=t||"ltr",this._dev=n}section(e){var t=this.findRanges(e),i=this.rangeListToCfiList(e.section.cfiBase,t);return i}page(e,t,i,n){var s=e&&e.document?e.document.body:!1,a;if(s){if(a=this.rangePairToCfiPair(t,{start:this.findStart(s,i,n),end:this.findEnd(s,i,n)}),this._dev===!0){let o=e.document,u=new Ge(a.start).toRange(o),h=new Ge(a.end).toRange(o),c=o.defaultView.getSelection(),d=o.createRange();c.removeAllRanges(),d.setStart(u.startContainer,u.startOffset),d.setEnd(h.endContainer,h.endOffset),c.addRange(d)}return a}}walk(e,t){if(!(e&&e.nodeType===Node.TEXT_NODE)){var i={acceptNode:function(u){return u.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},n=i.acceptNode;n.acceptNode=i.acceptNode;for(var s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n,!1),a,o;(a=s.nextNode())&&(o=t(a),!o););return o}}findRanges(e){for(var t=[],i=e.contents.scrollWidth(),n=Math.ceil(i/this.layout.spreadWidth),s=n*this.layout.divisor,a=this.layout.columnWidth,o=this.layout.gap,u,h,c=0;c<s.pages;c++)u=(a+o)*c,h=a*(c+1)+o*c,t.push({start:this.findStart(e.document.body,u,h),end:this.findEnd(e.document.body,u,h)});return t}findStart(e,t,i){for(var n=[e],s,a,o=e;n.length;)if(s=n.shift(),a=this.walk(s,u=>{var h,c,d,b,v;if(v=Us(u),this.horizontal&&this.direction==="ltr"){if(h=this.horizontal?v.left:v.top,c=this.horizontal?v.right:v.bottom,h>=t&&h<=i)return u;if(c>t)return u;o=u,n.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(h=v.left,c=v.right,c<=i&&c>=t)return u;if(h<i)return u;o=u,n.push(u)}else{if(d=v.top,b=v.bottom,d>=t&&d<=i)return u;if(b>t)return u;o=u,n.push(u)}}),a)return this.findTextStartRange(a,t,i);return this.findTextStartRange(o,t,i)}findEnd(e,t,i){for(var n=[e],s,a=e,o;n.length;)if(s=n.shift(),o=this.walk(s,u=>{var h,c,d,b,v;if(v=Us(u),this.horizontal&&this.direction==="ltr"){if(h=Math.round(v.left),c=Math.round(v.right),h>i&&a)return a;if(c>i)return u;a=u,n.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(h=Math.round(this.horizontal?v.left:v.top),c=Math.round(this.horizontal?v.right:v.bottom),c<t&&a)return a;if(h<t)return u;a=u,n.push(u)}else{if(d=Math.round(v.top),b=Math.round(v.bottom),d>i&&a)return a;if(b>i)return u;a=u,n.push(u)}}),o)return this.findTextEndRange(o,t,i);return this.findTextEndRange(a,t,i)}findTextStartRange(e,t,i){for(var n=this.splitTextNodeIntoRanges(e),s,a,o,u,h,c=0;c<n.length;c++)if(s=n[c],a=s.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(o=a.left,o>=t)return s}else if(this.horizontal&&this.direction==="rtl"){if(h=a.right,h<=i)return s}else if(u=a.top,u>=t)return s;return n[0]}findTextEndRange(e,t,i){for(var n=this.splitTextNodeIntoRanges(e),s,a,o,u,h,c,d,b=0;b<n.length;b++){if(a=n[b],o=a.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(u=o.left,h=o.right,u>i&&s)return s;if(h>i)return a}else if(this.horizontal&&this.direction==="rtl"){if(u=o.left,h=o.right,h<t&&s)return s;if(u<t)return a}else{if(c=o.top,d=o.bottom,c>i&&s)return s;if(d>i)return a}s=a}return n[n.length-1]}splitTextNodeIntoRanges(e,t){var i=[],n=e.textContent||"",s=n.trim(),a,o=e.ownerDocument,u=t||" ",h=s.indexOf(u);if(h===-1||e.nodeType!=Node.TEXT_NODE)return a=o.createRange(),a.selectNodeContents(e),[a];for(a=o.createRange(),a.setStart(e,0),a.setEnd(e,h),i.push(a),a=!1;h!=-1;)h=s.indexOf(u,h+1),h>0&&(a&&(a.setEnd(e,h),i.push(a)),a=o.createRange(),a.setStart(e,h+1));return a&&(a.setEnd(e,s.length),i.push(a)),i}rangePairToCfiPair(e,t){var i=t.start,n=t.end;i.collapse(!0),n.collapse(!1);let s=new Ge(i,e).toString(),a=new Ge(n,e).toString();return{start:s,end:a}}rangeListToCfiList(e,t){for(var i=[],n,s=0;s<t.length;s++)n=this.rangePairToCfiPair(e,t[s]),i.push(n);return i}axis(e){return e&&(this.horizontal=e==="horizontal"),this.horizontal}}const Nl=typeof navigator<"u",Dd=Nl&&/Chrome/.test(navigator.userAgent),No=Nl&&!Dd&&/AppleWebKit/.test(navigator.userAgent),Sd=1;class pa{constructor(e,t,i,n){this.epubcfi=new Ge,this.document=e,this.documentElement=this.document.documentElement,this.content=t||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=n||0,this.cfiBase=i||"",this.epubReadingSystem("epub.js",xn),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return jr}width(e){var t=this.content;return e&&pt(e)&&(e=e+"px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}height(e){var t=this.content;return e&&pt(e)&&(e=e+"px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}contentWidth(e){var t=this.content||this.document.body;return e&&pt(e)&&(e=e+"px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}contentHeight(e){var t=this.content||this.document.body;return e&&pt(e)&&(e=e+"px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}textWidth(){let e,t,i=this.document.createRange(),n=this.content||this.document.body,s=Jr(n);return i.selectNodeContents(n),e=i.getBoundingClientRect(),t=e.width,s&&s.width&&(t+=s.width),Math.round(t)}textHeight(){let e,t,i=this.document.createRange(),n=this.content||this.document.body;return i.selectNodeContents(n),e=i.getBoundingClientRect(),t=e.bottom,Math.round(t)}scrollWidth(){var e=this.documentElement.scrollWidth;return e}scrollHeight(){var e=this.documentElement.scrollHeight;return e}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,t,i){var n=this.content||this.document.body;return t?n.style.setProperty(e,t,i?"important":""):n.style.removeProperty(e),this.window.getComputedStyle(n)[e]}viewport(e){var t=this.document.querySelector("meta[name='viewport']"),i={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},n=[],s={};if(t&&t.hasAttribute("content")){let a=t.getAttribute("content"),o=a.match(/width\s*=\s*([^,]*)/),u=a.match(/height\s*=\s*([^,]*)/),h=a.match(/initial-scale\s*=\s*([^,]*)/),c=a.match(/minimum-scale\s*=\s*([^,]*)/),d=a.match(/maximum-scale\s*=\s*([^,]*)/),b=a.match(/user-scalable\s*=\s*([^,]*)/);o&&o.length&&typeof o[1]<"u"&&(i.width=o[1]),u&&u.length&&typeof u[1]<"u"&&(i.height=u[1]),h&&h.length&&typeof h[1]<"u"&&(i.scale=h[1]),c&&c.length&&typeof c[1]<"u"&&(i.minimum=c[1]),d&&d.length&&typeof d[1]<"u"&&(i.maximum=d[1]),b&&b.length&&typeof b[1]<"u"&&(i.scalable=b[1])}return s=wl(e||{},i),e&&(s.width&&n.push("width="+s.width),s.height&&n.push("height="+s.height),s.scale&&n.push("initial-scale="+s.scale),s.scalable==="no"?(n.push("minimum-scale="+s.scale),n.push("maximum-scale="+s.scale),n.push("user-scalable="+s.scalable)):(s.scalable&&n.push("user-scalable="+s.scalable),s.minimum&&n.push("minimum-scale="+s.minimum),s.maximum&&n.push("minimum-scale="+s.maximum)),t||(t=this.document.createElement("meta"),t.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(t)),t.setAttribute("content",n.join(", ")),this.window.scrollTo(0,0)),s}expand(){this.emit(xe.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),t=this.textHeight();(e!=this._size.width||t!=this._size.height)&&(this._size={width:e,height:t},this.onResize&&this.onResize(this._size),this.emit(xe.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,t=(function(o){o.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}).bind(this),i=0;i<e.length;i+=1){var n;try{n=e[i].cssRules}catch{return}if(!n)return;for(var s=0;s<n.length;s+=1)if(n[s].media){var a=this.window.matchMedia(n[s].media.mediaText);a.addListener(t)}}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(t=>{this.resizeCheck()});let e={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,e)}imageLoadListeners(){for(var e=this.document.querySelectorAll("img"),t,i=0;i<e.length;i++)t=e[i],typeof t.naturalWidth<"u"&&t.naturalWidth===0&&(t.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then((function(){this.resizeCheck()}).bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,t){var i,n={left:0,top:0};if(!this.document)return n;if(this.epubcfi.isCfiString(e)){let s=new Ge(e).toRange(this.document,t);if(s){try{if(!s.endContainer||s.startContainer==s.endContainer&&s.startOffset==s.endOffset){let a=s.startContainer.textContent.indexOf(" ",s.startOffset);a==-1&&(a=s.startContainer.textContent.length),s.setEnd(s.startContainer,a)}}catch(a){console.error("setting end offset to start container length failed",a)}if(s.startContainer.nodeType===Node.ELEMENT_NODE)i=s.startContainer.getBoundingClientRect(),n.left=i.left,n.top=i.top;else if(No){let a=s.startContainer,o=new Range;try{a.nodeType===Sd?i=a.getBoundingClientRect():s.startOffset+2<a.length?(o.setStart(a,s.startOffset),o.setEnd(a,s.startOffset+2),i=o.getBoundingClientRect()):s.startOffset-2>0?(o.setStart(a,s.startOffset-2),o.setEnd(a,s.startOffset),i=o.getBoundingClientRect()):i=a.parentNode.getBoundingClientRect()}catch(u){console.error(u,u.stack)}}else i=s.getBoundingClientRect()}}else if(typeof e=="string"&&e.indexOf("#")>-1){let s=e.substring(e.indexOf("#")+1),a=this.document.getElementById(s);if(a)if(No){let o=new Range;o.selectNode(a),i=o.getBoundingClientRect()}else i=a.getBoundingClientRect()}return i&&(n.left=i.left,n.top=i.top),n}addStylesheet(e){return new Promise((function(t,i){var n,s=!1;if(!this.document){t(!1);return}if(n=this.document.querySelector("link[href='"+e+"']"),n){t(!0);return}n=this.document.createElement("link"),n.type="text/css",n.rel="stylesheet",n.href=e,n.onload=n.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(()=>{t(!0)},1))},this.document.head.appendChild(n)}).bind(this))}_getStylesheetNode(e){var t;return e="epubjs-inserted-css-"+(e||""),this.document?(t=this.document.getElementById(e),t||(t=this.document.createElement("style"),t.id=e,this.document.head.appendChild(t)),t):!1}addStylesheetCss(e,t){if(!this.document||!e)return!1;var i;return i=this._getStylesheetNode(t),i.innerHTML=e,!0}addStylesheetRules(e,t){var i;if(!(!this.document||!e||e.length===0))if(i=this._getStylesheetNode(t).sheet,Object.prototype.toString.call(e)==="[object Array]")for(var n=0,s=e.length;n<s;n++){var a=1,o=e[n],u=e[n][0],h="";Object.prototype.toString.call(o[1][0])==="[object Array]"&&(o=o[1],a=0);for(var c=o.length;a<c;a++){var d=o[a];h+=d[0]+":"+d[1]+(d[2]?" !important":"")+`;
`}i.insertRule(u+"{"+h+"}",i.cssRules.length)}else Object.keys(e).forEach(v=>{const R=e[v];if(Array.isArray(R))R.forEach(E=>{const g=Object.keys(E).map(m=>`${m}:${E[m]}`).join(";");i.insertRule(`${v}{${g}}`,i.cssRules.length)});else{const p=Object.keys(R).map(g=>`${g}:${R[g]}`).join(";");i.insertRule(`${v}{${p}}`,i.cssRules.length)}})}addScript(e){return new Promise((function(t,i){var n,s=!1;if(!this.document){t(!1);return}n=this.document.createElement("script"),n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(function(){t(!0)},1))},this.document.head.appendChild(n)}).bind(this))}addClass(e){var t;this.document&&(t=this.content||this.document.body,t&&t.classList.add(e))}removeClass(e){var t;this.document&&(t=this.content||this.document.body,t&&t.classList.remove(e))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),jr.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(jr.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((function(){var t=this.window.getSelection();this.triggerSelectedEvent(t)}).bind(this),250)}triggerSelectedEvent(e){var t,i;e&&e.rangeCount>0&&(t=e.getRangeAt(0),t.collapsed||(i=new Ge(t,this.cfiBase).toString(),this.emit(xe.CONTENTS.SELECTED,i),this.emit(xe.CONTENTS.SELECTED_RANGE,t)))}range(e,t){var i=new Ge(e);return i.toRange(this.document,t)}cfiFromRange(e,t){return new Ge(e,this.cfiBase,t).toString()}cfiFromNode(e,t){return new Ge(e,this.cfiBase,t).toString()}map(e){var t=new nn(e);return t.section()}size(e,t){var i={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),i.width=e,this.css("padding","0 "+e/12+"px")),t>=0&&(this.height(t),i.height=t),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(i)}columns(e,t,i,n,s){let a=Vi("column-axis"),o=Vi("column-gap"),u=Vi("column-width"),h=Vi("column-fill"),d=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),s==="rtl"&&d==="horizontal"&&this.direction(s),this.width(e),this.height(t),this.viewport({width:e,height:t,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),d==="vertical"?(this.css("padding-top",n/2+"px",!0),this.css("padding-bottom",n/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(a,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",n/2+"px",!0),this.css("padding-right",n/2+"px",!0),this.css(a,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(h,"auto"),this.css(o,n+"px"),this.css(u,i+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,t,i){var n="scale("+e+")",s="";this.css("transform-origin","top left"),(t>=0||i>=0)&&(s=" translate("+(t||0)+"px, "+(i||0)+"px )"),this.css("transform",n+s)}fit(e,t,i){var n=this.viewport(),s=parseInt(n.width),a=parseInt(n.height),o=e/s,u=t/a,h=o<u?o:u;if(this.layoutStyle("paginated"),this.width(s),this.height(a),this.overflow("hidden"),this.scaler(h,0,0),this.css("background-size",s*h+"px "+a*h+"px"),this.css("background-color","transparent"),i&&i.properties.includes("page-spread-left")){var c=e-s*h;this.css("margin-left",c+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,t,i,n,s){var a=new nn(t,s);return a.page(this,e,i,n)}linksHandler(){md(this.content,e=>{this.emit(xe.CONTENTS.LINK_CLICKED,e)})}writingMode(e){let t=Vi("writing-mode");return e&&this.documentElement&&(this.documentElement.style[t]=e),this.window.getComputedStyle(this.documentElement)[t]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,t){return navigator.epubReadingSystem={name:e,version:t,layoutStyle:this.layoutStyle(),hasFeature:function(i){switch(i){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}ni(pa.prototype);class Td{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,t,i,n,s,a){let o=encodeURI(t+e),h=new Ge(t).spinePos,c=new Il({type:e,cfiRange:t,data:i,sectionIndex:h,cb:n,className:s,styles:a});return this._annotations[o]=c,h in this._annotationsBySectionIndex?this._annotationsBySectionIndex[h].push(o):this._annotationsBySectionIndex[h]=[o],this.rendition.views().forEach(b=>{c.sectionIndex===b.index&&c.attach(b)}),c}remove(e,t){let i=encodeURI(e+t);if(i in this._annotations){let n=this._annotations[i];if(t&&n.type!==t)return;this.rendition.views().forEach(a=>{this._removeFromAnnotationBySectionIndex(n.sectionIndex,i),n.sectionIndex===a.index&&n.detach(a)}),delete this._annotations[i]}}_removeFromAnnotationBySectionIndex(e,t){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(i=>i!==t)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,t,i,n,s){return this.add("highlight",e,t,i,n,s)}underline(e,t,i,n,s){return this.add("underline",e,t,i,n,s)}mark(e,t,i){return this.add("mark",e,t,i)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(n=>{this._annotations[n].attach(e)})}clear(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(n=>{this._annotations[n].detach(e)})}show(){}hide(){}}class Il{constructor({type:e,cfiRange:t,data:i,sectionIndex:n,cb:s,className:a,styles:o}){this.type=e,this.cfiRange=t,this.data=i,this.sectionIndex=n,this.mark=void 0,this.cb=s,this.className=a,this.styles=o}update(e){this.data=e}attach(e){let{cfiRange:t,data:i,type:n,mark:s,cb:a,className:o,styles:u}=this,h;return n==="highlight"?h=e.highlight(t,i,a,o,u):n==="underline"?h=e.underline(t,i,a,o,u):n==="mark"&&(h=e.mark(t,i,a)),this.mark=h,this.emit(xe.ANNOTATION.ATTACH,h),h}detach(e){let{cfiRange:t,type:i}=this,n;return e&&(i==="highlight"?n=e.unhighlight(t):i==="underline"?n=e.ununderline(t):i==="mark"&&(n=e.unmark(t))),this.mark=void 0,this.emit(xe.ANNOTATION.DETACH,n),n}text(){}}ni(Il.prototype);var $t={},or={},Io;function kd(){if(Io)return or;Io=1,Object.defineProperty(or,"__esModule",{value:!0}),or.createElement=r;function r(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}return or.default={createElement:r},or}var ji={},Oo;function Rd(){if(Oo)return ji;Oo=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.proxyMouse=r,ji.clone=e,ji.default={proxyMouse:r};function r(i,n){function s(h){for(var c=n.length-1;c>=0;c--){var d=n[c],b=h.clientX,v=h.clientY;if(h.touches&&h.touches.length&&(b=h.touches[0].clientX,v=h.touches[0].clientY),!!t(d,i,b,v)){d.dispatchEvent(e(h));break}}}if(i.nodeName==="iframe"||i.nodeName==="IFRAME")try{this.target=i.contentDocument}catch{this.target=i}else this.target=i;for(var a=["mouseup","mousedown","click","touchstart"],o=0;o<a.length;o++){var u=a[o];this.target.addEventListener(u,function(h){return s(h)},!1)}}function e(i){var n=Object.assign({},i,{bubbles:!1});try{return new MouseEvent(i.type,n)}catch{var s=document.createEvent("MouseEvents");return s.initMouseEvent(i.type,!1,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget),s}}function t(i,n,s,a){var o=n.getBoundingClientRect();function u(v,R,E){var p=v.top-o.top,g=v.left-o.left,m=p+v.height,x=g+v.width;return p<=E&&g<=R&&m>E&&x>R}var h=i.getBoundingClientRect();if(!u(h,s,a))return!1;for(var c=i.getClientRects(),d=0,b=c.length;d<b;d++)if(u(c[d],s,a))return!0;return!1}return ji}var Bo;function Ld(){if(Bo)return $t;Bo=1,Object.defineProperty($t,"__esModule",{value:!0}),$t.Underline=$t.Highlight=$t.Mark=$t.Pane=void 0;var r=function E(p,g,m){p===null&&(p=Function.prototype);var x=Object.getOwnPropertyDescriptor(p,g);if(x===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:E(S,g,m)}else{if("value"in x)return x.value;var _=x.get;return _===void 0?void 0:_.call(m)}},e=(function(){function E(p,g){for(var m=0;m<g.length;m++){var x=g[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}return function(p,g,m){return g&&E(p.prototype,g),m&&E(p,m),p}})(),t=kd(),i=a(t),n=Rd(),s=a(n);function a(E){return E&&E.__esModule?E:{default:E}}function o(E,p){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:E}function u(E,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);E.prototype=Object.create(p&&p.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(E,p):E.__proto__=p)}function h(E,p){if(!(E instanceof p))throw new TypeError("Cannot call a class as a function")}$t.Pane=(function(){function E(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;h(this,E),this.target=p,this.element=i.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),s.default.proxyMouse(this.target,this.marks),this.container=g,this.container.appendChild(this.element),this.render()}return e(E,[{key:"addMark",value:function(g){var m=i.default.createElement("g");return this.element.appendChild(m),g.bind(m,this.container),this.marks.push(g),g.render(),g}},{key:"removeMark",value:function(g){var m=this.marks.indexOf(g);if(m!==-1){var x=g.unbind();this.element.removeChild(x),this.marks.splice(m,1)}}},{key:"render",value:function(){v(this.element,b(this.target,this.container));var g=!0,m=!1,x=void 0;try{for(var S=this.marks[Symbol.iterator](),_;!(g=(_=S.next()).done);g=!0){var T=_.value;T.render()}}catch(I){m=!0,x=I}finally{try{!g&&S.return&&S.return()}finally{if(m)throw x}}}}]),E})();var c=$t.Mark=(function(){function E(){h(this,E),this.element=null}return e(E,[{key:"bind",value:function(g,m){this.element=g,this.container=m}},{key:"unbind",value:function(){var g=this.element;return this.element=null,g}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(g){this.element&&this.element.dispatchEvent(g)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var g=[],m=this.element.firstChild;m;)g.push(m.getBoundingClientRect()),m=m.nextSibling;return g}},{key:"filteredRanges",value:function(){var g=Array.from(this.range.getClientRects());return g.filter(function(m){for(var x=0;x<g.length;x++){if(g[x]===m)return!0;var S=R(g[x],m);if(S)return!1}return!0})}}]),E})(),d=$t.Highlight=(function(E){u(p,E);function p(g,m,x,S){h(this,p);var _=o(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return _.range=g,_.className=m,_.data=x||{},_.attributes=S||{},_}return e(p,[{key:"bind",value:function(m,x){r(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"bind",this).call(this,m,x);for(var S in this.data)this.data.hasOwnProperty(S)&&(this.element.dataset[S]=this.data[S]);for(var S in this.attributes)this.attributes.hasOwnProperty(S)&&this.element.setAttribute(S,this.attributes[S]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var m=this.element.ownerDocument.createDocumentFragment(),x=this.filteredRanges(),S=this.element.getBoundingClientRect(),_=this.container.getBoundingClientRect(),T=0,I=x.length;T<I;T++){var N=x[T],D=i.default.createElement("rect");D.setAttribute("x",N.left-S.left+_.left),D.setAttribute("y",N.top-S.top+_.top),D.setAttribute("height",N.height),D.setAttribute("width",N.width),m.appendChild(D)}this.element.appendChild(m)}}]),p})(c);$t.Underline=(function(E){u(p,E);function p(g,m,x,S){return h(this,p),o(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,g,m,x,S))}return e(p,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var m=this.element.ownerDocument.createDocumentFragment(),x=this.filteredRanges(),S=this.element.getBoundingClientRect(),_=this.container.getBoundingClientRect(),T=0,I=x.length;T<I;T++){var N=x[T],D=i.default.createElement("rect");D.setAttribute("x",N.left-S.left+_.left),D.setAttribute("y",N.top-S.top+_.top),D.setAttribute("height",N.height),D.setAttribute("width",N.width),D.setAttribute("fill","none");var O=i.default.createElement("line");O.setAttribute("x1",N.left-S.left+_.left),O.setAttribute("x2",N.left-S.left+_.left+N.width),O.setAttribute("y1",N.top-S.top+_.top+N.height-1),O.setAttribute("y2",N.top-S.top+_.top+N.height-1),O.setAttribute("stroke-width",1),O.setAttribute("stroke","black"),O.setAttribute("stroke-linecap","square"),m.appendChild(D),m.appendChild(O)}this.element.appendChild(m)}}]),p})(d);function b(E,p){var g=p.getBoundingClientRect(),m=E.getBoundingClientRect();return{top:m.top-g.top,left:m.left-g.left,height:E.scrollHeight,width:E.scrollWidth}}function v(E,p){E.style.setProperty("top",p.top+"px","important"),E.style.setProperty("left",p.left+"px","important"),E.style.setProperty("height",p.height+"px","important"),E.style.setProperty("width",p.width+"px","important")}function R(E,p){return p.right<=E.right&&p.left>=E.left&&p.top>=E.top&&p.bottom<=E.bottom}return $t}var Pr=Ld();class Ol{constructor(e,t){this.settings=Ct({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},t||{}),this.id="epubjs-view-"+En(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new Ge,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var t=document.createElement("div");return t.classList.add("epub-view"),t.style.height="0px",t.style.width="0px",t.style.overflow="hidden",t.style.position="relative",t.style.display="block",e&&e=="horizontal"?t.style.flex="none":t.style.flex="initial",t}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=qr(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(e,t){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then((function(i){return this.load(i)}).bind(this)).then((function(){let i=this.contents.writingMode(),n;return this.settings.flow==="scrolled"?n=i.indexOf("vertical")===0?"horizontal":"vertical":n=i.indexOf("vertical")===0?"vertical":"horizontal",i.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(n),this.emit(xe.VIEWS.AXIS,n),this.setWritingMode(i),this.emit(xe.VIEWS.WRITING_MODE,i),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((s,a)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),s()})}).bind(this),(function(i){return this.emit(xe.VIEWS.LOAD_ERROR,i),new Promise((n,s)=>{s(i)})}).bind(this)).then((function(){this.emit(xe.VIEWS.RENDERED,this.section)}).bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,t){var i=e||this.settings.width,n=t||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",i,n):this.settings.axis==="horizontal"?this.lock("height",i,n):this.lock("width",i,n),this.settings.width=i,this.settings.height=n}lock(e,t,i){var n=Jr(this.element),s;this.iframe?s=Jr(this.iframe):s={width:0,height:0},e=="width"&&pt(t)&&(this.lockedWidth=t-n.width-s.width),e=="height"&&pt(i)&&(this.lockedHeight=i-n.height-s.height),e==="both"&&pt(t)&&pt(i)&&(this.lockedWidth=t-n.width-s.width,this.lockedHeight=i-n.height-s.height),this.displayed&&this.iframe&&this.expand()}expand(e){var t=this.lockedWidth,i=this.lockedHeight,n;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(t=this.layout.columnWidth,i=this.layout.height):this.settings.axis==="horizontal"?(t=this.contents.textWidth(),t%this.layout.pageWidth>0&&(t=Math.ceil(t/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(n=t/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&n%2>0&&(t+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(i=this.contents.textHeight(),this.settings.flow==="paginated"&&i%this.layout.height>0&&(i=Math.ceil(i/this.layout.height)*this.layout.height)),(this._needsReframe||t!=this._width||i!=this._height)&&this.reframe(t,i),this._expanding=!1)}reframe(e,t){var i;pt(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),pt(t)&&(this.element.style.height=t+"px",this.iframe.style.height=t+"px",this._height=t);let n=this.prevBounds?e-this.prevBounds.width:e,s=this.prevBounds?t-this.prevBounds.height:t;i={width:e,height:t,widthDelta:n,heightDelta:s},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let a;for(let o in this.marks)this.marks.hasOwnProperty(o)&&(a=this.marks[o],this.placeMark(a.element,a.range))}),this.onResize(this,i),this.emit(xe.VIEWS.RESIZED,i),this.prevBounds=i,this.elementBounds=qr(this.element)}load(e){var t=new Ze,i=t.promise;if(!this.iframe)return t.reject(new Error("No Iframe Available")),i;if(this.iframe.onload=(function(s){this.onLoad(s,t)}).bind(this),this.settings.method==="blobUrl")this.blobUrl=en(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return t.reject(new Error("No Document Available")),i;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var n=this;MSApp.execUnsafeLocalFunction(function(){n.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return i}onLoad(e,t){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new pa(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var i=this.document.querySelector("link[rel='canonical']");i?i.setAttribute("href",this.section.canonical):(i=this.document.createElement("link"),i.setAttribute("rel","canonical"),i.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(i)),this.contents.on(xe.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(xe.CONTENTS.RESIZE,n=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),t.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,e=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var t=new Ze;return this.displayed?t.resolve(this):this.render(e).then((function(){this.emit(xe.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,t.resolve(this)}).bind(this),function(i){t.reject(i,this)}),t.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(xe.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(xe.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var t=this.contents.locationOf(e,this.settings.ignoreClass);return{left:t.left,top:t.top}}onDisplayed(e){}onResize(e,t){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=qr(this.element)),this.elementBounds}highlight(e,t={},i,n="epubjs-hl",s={}){if(!this.contents)return;const a=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},s);let o=this.contents.range(e),u=()=>{this.emit(xe.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||(this.pane=new Pr.Pane(this.iframe,this.element));let h=new Pr.Highlight(o,n,t,a),c=this.pane.addMark(h);return this.highlights[e]={mark:c,element:c.element,listeners:[u,i]},c.element.setAttribute("ref",n),c.element.addEventListener("click",u),c.element.addEventListener("touchstart",u),i&&(c.element.addEventListener("click",i),c.element.addEventListener("touchstart",i)),c}underline(e,t={},i,n="epubjs-ul",s={}){if(!this.contents)return;const a=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},s);let o=this.contents.range(e),u=()=>{this.emit(xe.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||(this.pane=new Pr.Pane(this.iframe,this.element));let h=new Pr.Underline(o,n,t,a),c=this.pane.addMark(h);return this.underlines[e]={mark:c,element:c.element,listeners:[u,i]},c.element.setAttribute("ref",n),c.element.addEventListener("click",u),c.element.addEventListener("touchstart",u),i&&(c.element.addEventListener("click",i),c.element.addEventListener("touchstart",i)),c}mark(e,t={},i){if(!this.contents)return;if(e in this.marks)return this.marks[e];let n=this.contents.range(e);if(!n)return;let s=n.commonAncestorContainer,a=s.nodeType===1?s:s.parentNode,o=h=>{this.emit(xe.VIEWS.MARK_CLICKED,e,t)};n.collapsed&&s.nodeType===1?(n=new Range,n.selectNodeContents(s)):n.collapsed&&(n=new Range,n.selectNodeContents(a));let u=this.document.createElement("a");return u.setAttribute("ref","epubjs-mk"),u.style.position="absolute",u.dataset.epubcfi=e,t&&Object.keys(t).forEach(h=>{u.dataset[h]=t[h]}),i&&(u.addEventListener("click",i),u.addEventListener("touchstart",i)),u.addEventListener("click",o),u.addEventListener("touchstart",o),this.placeMark(u,n),this.element.appendChild(u),this.marks[e]={element:u,range:n,listeners:[o,i]},a}placeMark(e,t){let i,n,s;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let o=t.getBoundingClientRect();i=o.top,n=o.right}else{let o=t.getClientRects(),u;for(var a=0;a!=o.length;a++)u=o[a],(!s||u.left<s)&&(s=u.left,n=Math.ceil(s/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,i=u.top)}e.style.top=`${i}px`,e.style.left=`${n}px`}unhighlight(e){let t;e in this.highlights&&(t=this.highlights[e],this.pane.removeMark(t.mark),t.listeners.forEach(i=>{i&&(t.element.removeEventListener("click",i),t.element.removeEventListener("touchstart",i))}),delete this.highlights[e])}ununderline(e){let t;e in this.underlines&&(t=this.underlines[e],this.pane.removeMark(t.mark),t.listeners.forEach(i=>{i&&(t.element.removeEventListener("click",i),t.element.removeEventListener("touchstart",i))}),delete this.underlines[e])}unmark(e){let t;e in this.marks&&(t=this.marks[e],this.element.removeChild(t.element),t.listeners.forEach(i=>{i&&(t.element.removeEventListener("click",i),t.element.removeEventListener("touchstart",i))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&Cl(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}ni(Ol.prototype);function Nd(){var r="reverse",e=Id();return document.body.appendChild(e),e.scrollLeft>0?r="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(e.children[0].children[1].scrollIntoView(),e.scrollLeft<0&&(r="negative")):(e.scrollLeft=1,e.scrollLeft===0&&(r="negative")),document.body.removeChild(e),r}function Id(){var r=document.createElement("div");r.dir="rtl",r.style.position="fixed",r.style.width="1px",r.style.height="1px",r.style.top="0px",r.style.left="0px",r.style.overflow="hidden";var e=document.createElement("div");e.style.width="2px";var t=document.createElement("span");t.style.width="1px",t.style.display="inline-block";var i=document.createElement("span");return i.style.width="1px",i.style.display="inline-block",e.appendChild(t),e.appendChild(i),r.appendChild(e),r}var ls,Po;function ga(){if(Po)return ls;Po=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return ls=r,ls}var fs,Fo;function Od(){if(Fo)return fs;Fo=1;var r=typeof Wt=="object"&&Wt&&Wt.Object===Object&&Wt;return fs=r,fs}var hs,Mo;function Bl(){if(Mo)return hs;Mo=1;var r=Od(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return hs=t,hs}var cs,zo;function Bd(){if(zo)return cs;zo=1;var r=Bl(),e=function(){return r.Date.now()};return cs=e,cs}var ds,Uo;function Pd(){if(Uo)return ds;Uo=1;var r=/\s/;function e(t){for(var i=t.length;i--&&r.test(t.charAt(i)););return i}return ds=e,ds}var ps,qo;function Fd(){if(qo)return ps;qo=1;var r=Pd(),e=/^\s+/;function t(i){return i&&i.slice(0,r(i)+1).replace(e,"")}return ps=t,ps}var gs,jo;function Pl(){if(jo)return gs;jo=1;var r=Bl(),e=r.Symbol;return gs=e,gs}var vs,Wo;function Md(){if(Wo)return vs;Wo=1;var r=Pl(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,n=r?r.toStringTag:void 0;function s(a){var o=t.call(a,n),u=a[n];try{a[n]=void 0;var h=!0}catch{}var c=i.call(a);return h&&(o?a[n]=u:delete a[n]),c}return vs=s,vs}var ms,Ho;function zd(){if(Ho)return ms;Ho=1;var r=Object.prototype,e=r.toString;function t(i){return e.call(i)}return ms=t,ms}var bs,Vo;function Ud(){if(Vo)return bs;Vo=1;var r=Pl(),e=Md(),t=zd(),i="[object Null]",n="[object Undefined]",s=r?r.toStringTag:void 0;function a(o){return o==null?o===void 0?n:i:s&&s in Object(o)?e(o):t(o)}return bs=a,bs}var ys,$o;function qd(){if($o)return ys;$o=1;function r(e){return e!=null&&typeof e=="object"}return ys=r,ys}var _s,Zo;function jd(){if(Zo)return _s;Zo=1;var r=Ud(),e=qd(),t="[object Symbol]";function i(n){return typeof n=="symbol"||e(n)&&r(n)==t}return _s=i,_s}var ws,Go;function Wd(){if(Go)return ws;Go=1;var r=Fd(),e=ga(),t=jd(),i=NaN,n=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function u(h){if(typeof h=="number")return h;if(t(h))return i;if(e(h)){var c=typeof h.valueOf=="function"?h.valueOf():h;h=e(c)?c+"":c}if(typeof h!="string")return h===0?h:+h;h=r(h);var d=s.test(h);return d||a.test(h)?o(h.slice(2),d?2:8):n.test(h)?i:+h}return ws=u,ws}var Es,Yo;function Fl(){if(Yo)return Es;Yo=1;var r=ga(),e=Bd(),t=Wd(),i="Expected a function",n=Math.max,s=Math.min;function a(o,u,h){var c,d,b,v,R,E,p=0,g=!1,m=!1,x=!0;if(typeof o!="function")throw new TypeError(i);u=t(u)||0,r(h)&&(g=!!h.leading,m="maxWait"in h,b=m?n(t(h.maxWait)||0,u):b,x="trailing"in h?!!h.trailing:x);function S(Y){var ue=c,oe=d;return c=d=void 0,p=Y,v=o.apply(oe,ue),v}function _(Y){return p=Y,R=setTimeout(N,u),g?S(Y):v}function T(Y){var ue=Y-E,oe=Y-p,pe=u-ue;return m?s(pe,b-oe):pe}function I(Y){var ue=Y-E,oe=Y-p;return E===void 0||ue>=u||ue<0||m&&oe>=b}function N(){var Y=e();if(I(Y))return D(Y);R=setTimeout(N,T(Y))}function D(Y){return R=void 0,x&&c?S(Y):(c=d=void 0,v)}function O(){R!==void 0&&clearTimeout(R),p=0,c=E=d=R=void 0}function $(){return R===void 0?v:D(e())}function H(){var Y=e(),ue=I(Y);if(c=arguments,d=this,E=Y,ue){if(R===void 0)return _(E);if(m)return clearTimeout(R),R=setTimeout(N,u),S(E)}return R===void 0&&(R=setTimeout(N,u)),v}return H.cancel=O,H.flush=$,H}return Es=a,Es}var xs,Ko;function Hd(){if(Ko)return xs;Ko=1;var r=Fl(),e=ga(),t="Expected a function";function i(n,s,a){var o=!0,u=!0;if(typeof n!="function")throw new TypeError(t);return e(a)&&(o="leading"in a?!!a.leading:o,u="trailing"in a?!!a.trailing:u),r(n,s,{leading:o,maxWait:s,trailing:u})}return xs=i,xs}var Vd=Hd();const $d=er(Vd);class Zd{constructor(e){this.settings=e||{},this.id="epubjs-container-"+En(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let t=e.height,i=e.width,n=e.overflow||!1,s=e.axis||"vertical",a=e.direction;Ct(this.settings,e),e.height&&pt(e.height)&&(t=e.height+"px"),e.width&&pt(e.width)&&(i=e.width+"px");let o=document.createElement("div");return o.id=this.id,o.classList.add("epub-container"),o.style.wordSpacing="0",o.style.lineHeight="0",o.style.verticalAlign="top",o.style.position="relative",s==="horizontal"&&(o.style.display="flex",o.style.flexDirection="row",o.style.flexWrap="nowrap"),i&&(o.style.width=i),t&&(o.style.height=t),n&&(n==="scroll"&&s==="vertical"?(o.style["overflow-y"]=n,o.style["overflow-x"]="hidden"):n==="scroll"&&s==="horizontal"?(o.style["overflow-y"]="hidden",o.style["overflow-x"]=n):o.style.overflow=n),a&&(o.dir=a,o.style.direction=a),a&&this.settings.fullsize&&(document.body.style.direction=a),o}wrap(e){var t=document.createElement("div");return t.style.visibility="hidden",t.style.overflow="hidden",t.style.width="0",t.style.height="0",t.appendChild(e),t}getElement(e){var t;if(yl(e)?t=e:typeof e=="string"&&(t=document.getElementById(e)),!t)throw new Error("Not an Element");return t}attachTo(e){var t=this.getElement(e),i;if(t)return this.settings.hidden?i=this.wrapper:i=this.container,t.appendChild(i),this.element=t,t}getContainer(){return this.container}onResize(e){(!pt(this.settings.width)||!pt(this.settings.height))&&(this.resizeFunc=$d(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,t){var i;let n=e||this.settings.width,s=t||this.settings.height;e===null?(i=this.element.getBoundingClientRect(),i.width&&(e=Math.floor(i.width),this.container.style.width=e+"px")):pt(e)?this.container.style.width=e+"px":this.container.style.width=e,t===null?(i=i||this.element.getBoundingClientRect(),i.height&&(t=i.height,this.container.style.height=t+"px")):pt(t)?this.container.style.height=t+"px":this.container.style.height=t,pt(e)||(e=this.container.clientWidth),pt(t)||(t=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let a=Qr(),o=window.getComputedStyle(document.body),u={left:parseFloat(o["padding-left"])||0,right:parseFloat(o["padding-right"])||0,top:parseFloat(o["padding-top"])||0,bottom:parseFloat(o["padding-bottom"])||0};return n||(e=a.width-u.left-u.right),(this.settings.fullsize&&!s||!s)&&(t=a.height-u.top-u.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:t-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return this.container.style.overflow!=="visible"&&(e=this.container&&this.container.getBoundingClientRect()),!e||!e.width||!e.height?Qr():e}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,t){var i="#"+this.id+" ",n="";this.sheet||(this.sheet=this.getSheet()),t.forEach(function(s){for(var a in s)s.hasOwnProperty(a)&&(n+=a+":"+s[a]+";")}),this.sheet.insertRule(i+e+" {"+n+"}",0)}axis(e){e==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&(e==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):e==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class Gd{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,t){return this._views.splice(t,0,e),this.container&&(t<this.container.children.length?this.container.insertBefore(e.element,this.container.children[t]):this.container.appendChild(e.element)),this.length++,e}remove(e){var t=this._views.indexOf(e);t>-1&&this._views.splice(t,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,t=this.length;if(this.length){for(var i=0;i<t;i++)e=this._views[i],this.destroy(e);this._views=[],this.length=0}}find(e){for(var t,i=this.length,n=0;n<i;n++)if(t=this._views[n],t.displayed&&t.section.index==e.index)return t}displayed(){for(var e=[],t,i=this.length,n=0;n<i;n++)t=this._views[n],t.displayed&&e.push(t);return e}show(){for(var e,t=this.length,i=0;i<t;i++)e=this._views[i],e.displayed&&e.show();this.hidden=!1}hide(){for(var e,t=this.length,i=0;i<t;i++)e=this._views[i],e.displayed&&e.hide();this.hidden=!0}}class sn{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new da(this),this.settings=Ct(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),Ct(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,t){let i=e.tagName;typeof this.settings.fullsize>"u"&&i&&(i.toLowerCase()=="body"||i.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=t,this.settings.rtlScrollType=Nd(),this.stage=new Zd({width:t.width,height:t.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new Gd(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",(function(t){this.destroy()}).bind(this)),this.settings.fullsize?e=window:e=this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:t}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout((function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(xe.MANAGERS.ORIENTATION_CHANGE,t)}).bind(this),500)}onResized(e){this.resize()}resize(e,t,i){let n=this.stage.size(e,t);if(this.winBounds=Qr(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===n.width&&this._stageSize.height===n.height||(this._stageSize=n,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(xe.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},i))}createView(e,t){return new this.View(e,Ct(this.viewSettings,{forceRight:t}))}handleNextPrePaginated(e,t,i){let n;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(e||t.index===0)return;if(n=t.next(),n&&!n.properties.includes("page-spread-left"))return i.call(this,n)}}display(e,t){var i=new Ze,n=i.promise;(t===e.href||pt(t))&&(t=void 0);var s=this.views.find(e);if(s&&e&&this.layout.name!=="pre-paginated"){let o=s.offset();if(this.settings.direction==="ltr")this.scrollTo(o.left,o.top,!0);else{let u=s.width();this.scrollTo(o.left+u,o.top,!0)}if(t){let u=s.locationOf(t),h=s.width();this.moveTo(u,h)}return i.resolve(),n}this.clear();let a=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(a=!0),this.add(e,a).then((function(o){if(t){let u=o.locationOf(t),h=o.width();this.moveTo(u,h)}}).bind(this),o=>{i.reject(o)}).then((function(){return this.handleNextPrePaginated(a,e,this.add)}).bind(this)).then((function(){this.views.show(),i.resolve()}).bind(this)),n}afterDisplayed(e){this.emit(xe.MANAGERS.ADDED,e)}afterResized(e){this.emit(xe.MANAGERS.RESIZE,e.section)}moveTo(e,t){var i=0,n=0;this.isPaginated?(i=Math.floor(e.left/this.layout.delta)*this.layout.delta,i+this.layout.delta>this.container.scrollWidth&&(i=this.container.scrollWidth-this.layout.delta),n=Math.floor(e.top/this.layout.delta)*this.layout.delta,n+this.layout.delta>this.container.scrollHeight&&(n=this.container.scrollHeight-this.layout.delta)):n=e.top,this.settings.direction==="rtl"&&(i=i+this.layout.delta,i=i-t),this.scrollTo(i,n,!0)}add(e,t){var i=this.createView(e,t);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(xe.VIEWS.AXIS,n=>{this.updateAxis(n)}),i.on(xe.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),i.display(this.request)}append(e,t){var i=this.createView(e,t);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(xe.VIEWS.AXIS,n=>{this.updateAxis(n)}),i.on(xe.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),i.display(this.request)}prepend(e,t){var i=this.createView(e,t);return i.on(xe.VIEWS.RESIZED,n=>{this.counter(n)}),this.views.prepend(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(xe.VIEWS.AXIS,n=>{this.updateAxis(n)}),i.on(xe.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),i.display(this.request)}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e,t;let i=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!i||i==="ltr")?(this.scrollLeft=this.container.scrollLeft,t=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,t<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&i==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(t=this.container.scrollLeft,t>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(t=this.container.scrollLeft+this.layout.delta*-1,t>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let n=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(n=!0),this.append(e,n).then((function(){return this.handleNextPrePaginated(n,e,this.append)}).bind(this),s=>s).then((function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}).bind(this))}}prev(){var e,t;let i=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!i||i==="ltr")?(this.scrollLeft=this.container.scrollLeft,t=this.container.scrollLeft,t>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&i==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(t=this.container.scrollLeft+this.container.offsetWidth,t<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(t=this.container.scrollLeft,t<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let n=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof e.prev()!="object"&&(n=!0),this.prepend(e,n).then((function(){var s;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(s=e.prev(),s))return this.prepend(s)}).bind(this),s=>s).then((function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}).bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),i=t.height<window.innerHeight?t.height:window.innerHeight,n=t.width<window.innerWidth?t.width:window.innerWidth,s=this.settings.axis==="vertical";this.settings.direction;let a=0,o=0;return this.settings.fullsize&&(a=s?window.scrollY:window.scrollX),e.map(h=>{let{index:c,href:d}=h.section,b=h.position(),v=h.width(),R=h.height(),E,p,g,m;s?(E=a+t.top-b.top+o,p=E+i-o,m=this.layout.count(R,i).pages,g=i):(E=a+t.left-b.left+o,p=E+n-o,m=this.layout.count(v,n).pages,g=n);let x=Math.ceil(E/g),S=[],_=Math.ceil(p/g);if(this.settings.direction==="rtl"&&!s){let N=x;x=m-_,_=m-N}S=[];for(var T=x;T<=_;T++){let N=T+1;S.push(N)}let I=this.mapping.page(h.contents,h.section.cfiBase,E,p);return{index:c,href:d,pages:S,totalPages:m,mapping:I}})}paginatedLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),i=0,n=0;return this.settings.fullsize&&(i=window.scrollX),e.map(a=>{let{index:o,href:u}=a.section,h,c=a.position(),d=a.width(),b,v,R;this.settings.direction==="rtl"?(h=t.right-i,R=Math.min(Math.abs(h-c.left),this.layout.width)-n,v=c.width-(c.right-h)-n,b=v-R):(h=t.left+i,R=Math.min(c.right-h,this.layout.width)-n,b=h-c.left+n,v=b+R),n+=R;let E=this.mapping.page(a.contents,a.section.cfiBase,b,v),p=this.layout.count(d).pages,g=Math.floor(b/this.layout.pageWidth),m=[],x=Math.floor(v/this.layout.pageWidth);if(g<0&&(g=0,x=x+1),this.settings.direction==="rtl"){let _=g;g=p-x,x=p-_}for(var S=g+1;S<=x;S++){let _=S;m.push(_)}return{index:o,href:u,pages:m,totalPages:p,mapping:E}})}isVisible(e,t,i,n){var s=e.position(),a=n||this.bounds();return this.settings.axis==="horizontal"&&s.right>a.left-t&&s.left<a.right+i?!0:this.settings.axis==="vertical"&&s.bottom>a.top-t&&s.top<a.bottom+i}visible(){for(var e=this.bounds(),t=this.views.displayed(),i=t.length,n=[],s,a,o=0;o<i;o++)a=t[o],s=this.isVisible(a,0,0,e),s===!0&&n.push(a);return n}scrollBy(e,t,i){let n=this.settings.direction==="rtl"?-1:1;i&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*n,t*n):(e&&(this.container.scrollLeft+=e*n),t&&(this.container.scrollTop+=t)),this.scrolled=!0}scrollTo(e,t,i){i&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,t):(this.container.scrollLeft=e,this.container.scrollTop=t),this.scrolled=!0}onScroll(){let e,t;this.settings.fullsize?(e=window.scrollY,t=window.scrollX):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:(this.emit(xe.MANAGERS.SCROLL,{top:e,left:t}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.emit(xe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),20))}bounds(){var e;return e=this.stage.bounds(),e}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new nn(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(t){t&&t.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,t){!t&&e===this.settings.axis||(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new nn(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(e==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,t="auto"){let i=e==="paginated"||e==="auto";this.isPaginated=i,e==="scrolled-doc"||e==="scrolled-continuous"||e==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=i?"hidden":t,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(t){const i=t&&t.contents;i&&e.push(i)}),e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}}ni(sn.prototype);const Yd={easeInCubic:function(r){return Math.pow(r,3)}};class Hs{constructor(e,t){this.settings=Ct({duration:80,minVelocity:.2,minDistance:10,easing:Yd.easeInCubic},t||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(xe.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(xe.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let t=e.contents;["touchstart","touchmove","touchend"].forEach(i=>{t.on(i,n=>this.triggerViewEvent(n,t))})}triggerViewEvent(e,t){this.emit(e.type,e,t)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:t,screenY:i}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=t,this.startTouchY=i,this.startTime=this.now()),this.endTouchX=t,this.endTouchY=i,this.endTime=this.now()}onTouchMove(e){let{screenX:t,screenY:i}=e.touches[0],n=Math.abs(i-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&n<10&&(this.element.scrollLeft-=t-this.endTouchX),this.endTouchX=t,this.endTouchY=i,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let t=this.wasSwiped();t!==0?this.snap(t):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,t=this.endTouchX-this.startTouchX,i=Math.abs(t),n=this.endTime-this.startTime,s=t/n,a=this.settings.minVelocity;if(i<=this.settings.minDistance||i>=e)return 0;if(s>a)return-1;if(s<-a)return 1}needsSnap(){let e=this.scrollLeft,t=this.layout.pageWidth*this.layout.divisor;return e%t!==0}snap(e=0){let t=this.scrollLeft,i=this.layout.pageWidth*this.layout.divisor,n=Math.round(t/i)*i;return e&&(n+=e*i),this.smoothScrollTo(n)}smoothScrollTo(e){const t=new Ze,i=this.scrollLeft,n=this.now(),s=this.settings.duration,a=this.settings.easing;this.snapping=!0;function o(){const u=this.now(),h=Math.min(1,(u-n)/s);if(a(h),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,t.resolve();return}h<1?(window.requestAnimationFrame(o.bind(this)),this.scrollTo(i+(e-i)*h,0)):(this.scrollTo(e,0),this.snapping=!1,t.resolve())}return o.call(this),t.promise}scrollTo(e=0,t=0){this.fullsize?window.scroll(e,t):(this.scroller.scrollLeft=e,this.scroller.scrollTop=t)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}ni(Hs.prototype);var Kd=Fl();const Xd=er(Kd);class Jd extends sn{constructor(e){super(e),this.name="continuous",this.settings=Ct(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),Ct(this.settings,e.settings||{}),e.settings.gap!="undefined"&&e.settings.gap===0&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,t){return sn.prototype.display.call(this,e,t).then((function(){return this.fill()}).bind(this))}fill(e){var t=e||new Ze;return this.q.enqueue(()=>this.check()).then(i=>{i?this.fill(t):t.resolve()}),t.promise}moveTo(e){var t=0,i=0;this.isPaginated?(t=Math.floor(e.left/this.layout.delta)*this.layout.delta,t+this.settings.offsetDelta):(i=e.top,e.top+this.settings.offsetDelta),(t>0||i>0)&&this.scrollBy(t,i,!0)}afterResized(e){this.emit(xe.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var t=this.createView(e);return this.views.append(t),t.on(xe.VIEWS.RESIZED,i=>{t.expanded=!0}),t.on(xe.VIEWS.AXIS,i=>{this.updateAxis(i)}),t.on(xe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),t.onDisplayed=this.afterDisplayed.bind(this),t.onResize=this.afterResized.bind(this),t.display(this.request)}append(e){var t=this.createView(e);return t.on(xe.VIEWS.RESIZED,i=>{t.expanded=!0}),t.on(xe.VIEWS.AXIS,i=>{this.updateAxis(i)}),t.on(xe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),this.views.append(t),t.onDisplayed=this.afterDisplayed.bind(this),t}prepend(e){var t=this.createView(e);return t.on(xe.VIEWS.RESIZED,i=>{this.counter(i),t.expanded=!0}),t.on(xe.VIEWS.AXIS,i=>{this.updateAxis(i)}),t.on(xe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),this.views.prepend(t),t.onDisplayed=this.afterDisplayed.bind(this),t}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var t=this.bounds(),i=this.views.all(),n=i.length,s=typeof e<"u"?e:this.settings.offset||0,a,o,u=new Ze,h=[],c=0;c<n;c++)if(o=i[c],a=this.isVisible(o,s,s,t),a===!0)if(o.displayed)o.show();else{let d=o.display(this.request).then(function(b){b.show()},b=>{o.hide()});h.push(d)}else this.q.enqueue(o.destroy.bind(o)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout((function(){this.q.enqueue(this.trim.bind(this))}).bind(this),250);return h.length?Promise.all(h).catch(d=>{u.reject(d)}):(u.resolve(),u.promise)}check(e,t){var i=new Ze,n=[],s=this.settings.axis==="horizontal",a=this.settings.offset||0;e&&s&&(a=e),t&&!s&&(a=t);var o=this._bounds;let u=s?this.scrollLeft:this.scrollTop,h=s?Math.floor(o.width):o.height,c=s?this.container.scrollWidth:this.container.scrollHeight,d=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",b=this.settings.rtlScrollType,v=this.settings.direction==="rtl";this.settings.fullsize?(s&&v&&b==="negative"||!s&&v&&b==="default")&&(u=u*-1):(v&&b==="default"&&d==="horizontal"&&(u=c-h-u),v&&b==="negative"&&d==="horizontal"&&(u=u*-1));let R=()=>{let x=this.views.first(),S=x&&x.section.prev();S&&n.push(this.prepend(S))},E=()=>{let x=this.views.last(),S=x&&x.section.next();S&&n.push(this.append(S))},p=u+h+a,g=u-a;p>=c&&E(),g<0&&R();let m=n.map(x=>x.display(this.request));return n.length?Promise.all(m).then(()=>this.check()).then(()=>this.update(a),x=>x):(this.q.enqueue((function(){this.update()}).bind(this)),i.resolve(!1),i.promise)}trim(){for(var e=new Ze,t=this.views.displayed(),i=t[0],n=t[t.length-1],s=this.views.indexOf(i),a=this.views.indexOf(n),o=this.views.slice(0,s),u=this.views.slice(a+1),h=0;h<o.length-1;h++)this.erase(o[h],o);for(var c=1;c<u.length;c++)this.erase(u[c]);return e.resolve(),e.promise}erase(e,t){var i,n;this.settings.fullsize?(i=window.scrollY,n=window.scrollX):(i=this.container.scrollTop,n=this.container.scrollLeft);var s=e.bounds();this.views.remove(e),t&&(this.settings.axis==="vertical"?this.scrollTo(0,i-s.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(n+Math.floor(s.width),0,!0):this.scrollTo(n,0,!0):this.scrollTo(n-Math.floor(s.width),0,!0))}addEventListeners(e){window.addEventListener("unload",(function(t){this.ignore=!0,this.destroy()}).bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new Hs(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var e;this.tick=fa;let t=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*t,this.scrollLeft=window.scrollX*t):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=Xd(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,t,i=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(e=window.scrollY*i,t=window.scrollX*i):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(t-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=t,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}).bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue((function(){return this.check()}).bind(this)),this.emit(xe.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(xe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),this.settings.afterScrolledTimeout)}next(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}prev(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new Hs(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class va{constructor(e,t){this.settings=Ct(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),Ct(this.settings,t),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new Yt(this),this.hooks.serialize=new Yt(this),this.hooks.content=new Yt(this),this.hooks.unloaded=new Yt(this),this.hooks.layout=new Yt(this),this.hooks.render=new Yt(this),this.hooks.show=new Yt(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new Ad(this),this.annotations=new Td(this),this.epubcfi=new Ge,this.q=new da(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new Ze,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){var t;return typeof e=="string"&&e==="default"?t=sn:typeof e=="string"&&e==="continuous"?t=Jd:t=e,t}requireView(e){var t;return typeof e=="string"&&e==="iframe"?t=Ol:t=e,t}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(xe.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(xe.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(xe.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(xe.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(xe.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(xe.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue((function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(xe.RENDITION.ATTACHED)}).bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(this.book){this.epubcfi.isCfiString(e);var t=new Ze,i=t.promise,n;return this.displaying=t,this.book.locations.length()&&_l(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),n=this.book.spine.get(e),n?(this.manager.display(n,e).then(()=>{t.resolve(n),this.displaying=void 0,this.emit(xe.RENDITION.DISPLAYED,n),this.reportLocation()},s=>{this.emit(xe.RENDITION.DISPLAY_ERROR,s)}),i):(t.reject(new Error("No Section Found")),i)}}afterDisplayed(e){e.on(xe.VIEWS.MARK_CLICKED,(t,i)=>this.triggerMarkEvent(t,i,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(xe.RENDITION.RENDERED,e.section,e)}):this.emit(xe.RENDITION.RENDERED,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(xe.RENDITION.REMOVED,e.section,e)})}onResized(e,t){this.emit(xe.RENDITION.RESIZED,{width:e.width,height:e.height},t),this.location&&this.location.start&&this.display(t||this.location.start.cfi)}onOrientationChange(e){this.emit(xe.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,t,i){e&&(this.settings.width=e),t&&(this.settings.height=t),this.manager.resize(e,t,i)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var t,i=this.settings.layout||e.layout||"reflowable",n=this.settings.spread||e.spread||"auto",s=this.settings.orientation||e.orientation||"auto",a=this.settings.flow||e.flow||"auto",o=e.viewport||"",u=this.settings.minSpreadWidth||e.minSpreadWidth||800,h=this.settings.direction||e.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),t={layout:i,spread:n,orientation:s,flow:a,viewport:o,minSpreadWidth:u,direction:h},t}flow(e){var t=e;(e==="scrolled"||e==="scrolled-doc"||e==="scrolled-continuous")&&(t="scrolled"),(e==="auto"||e==="paginated")&&(t="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(t),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(t),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new Ll(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(xe.LAYOUT.UPDATED,(t,i)=>{this.emit(xe.RENDITION.LAYOUT,t,i)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,t){this.settings.spread=e,t&&(this.settings.minSpreadWidth=t),this._layout&&this._layout.spread(e,t),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue((function(){requestAnimationFrame((function(){var i=this.manager.currentLocation();if(i&&i.then&&typeof i.then=="function")i.then((function(n){let s=this.located(n);!s||!s.start||!s.end||(this.location=s,this.emit(xe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(xe.RENDITION.RELOCATED,this.location))}).bind(this));else if(i){let n=this.located(i);if(!n||!n.start||!n.end)return;this.location=n,this.emit(xe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(xe.RENDITION.RELOCATED,this.location)}}).bind(this))}).bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then=="function")e.then((function(t){return this.located(t)}).bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let t=e[0],i=e[e.length-1],n={start:{index:t.index,href:t.href,cfi:t.mapping.start,displayed:{page:t.pages[0]||1,total:t.totalPages}},end:{index:i.index,href:i.href,cfi:i.mapping.end,displayed:{page:i.pages[i.pages.length-1]||1,total:i.totalPages}}},s=this.book.locations.locationFromCfi(t.mapping.start),a=this.book.locations.locationFromCfi(i.mapping.end);s!=null&&(n.start.location=s,n.start.percentage=this.book.locations.percentageFromLocation(s)),a!=null&&(n.end.location=a,n.end.percentage=this.book.locations.percentageFromLocation(a));let o=this.book.pageList.pageFromCfi(t.mapping.start),u=this.book.pageList.pageFromCfi(i.mapping.end);return o!=-1&&(n.start.page=o),u!=-1&&(n.end.page=u),i.index===this.book.spine.last().index&&n.end.displayed.page>=n.end.displayed.total&&(n.atEnd=!0),t.index===this.book.spine.first().index&&n.start.displayed.page===1&&(n.atStart=!0),n}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){jr.forEach(t=>{e.on(t,i=>this.triggerViewEvent(i,e))}),e.on(xe.CONTENTS.SELECTED,t=>this.triggerSelectedEvent(t,e))}triggerViewEvent(e,t){this.emit(e.type,e,t)}triggerSelectedEvent(e,t){this.emit(xe.RENDITION.SELECTED,e,t)}triggerMarkEvent(e,t,i){this.emit(xe.RENDITION.MARK_CLICKED,e,t,i)}getRange(e,t){var i=new Ge(e),n=this.manager.visible().filter(function(s){if(i.spinePos===s.index)return!0});if(n.length)return n[0].contents.range(i,t)}adjustImages(e){if(this._layout.name==="pre-paginated")return new Promise(function(s){s()});let t=e.window.getComputedStyle(e.content,null),i=(e.content.offsetHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)))*.95,n=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-n+"px":"100%")+"!important","max-height":i+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-n+"px":"100%")+"!important","max-height":i+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(s,a){setTimeout(function(){s()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(xe.CONTENTS.LINK_CLICKED,t=>{let i=this.book.path.relative(t);this.display(i)})}injectStylesheet(e,t){let i=e.createElement("link");i.setAttribute("type","text/css"),i.setAttribute("rel","stylesheet"),i.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(i)}injectScript(e,t){let i=e.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",this.settings.script),i.textContent=" ",e.getElementsByTagName("head")[0].appendChild(i)}injectIdentifier(e,t){let i=this.book.packaging.metadata.identifier,n=e.createElement("meta");n.setAttribute("name","dc.relation.ispartof"),i&&n.setAttribute("content",i),e.getElementsByTagName("head")[0].appendChild(n)}}ni(va.prototype);function wi(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Cs={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Xo;function Qd(){return Xo||(Xo=1,(function(r,e){(function(t){r.exports=t()})(function(){return(function t(i,n,s){function a(h,c){if(!n[h]){if(!i[h]){var d=typeof wi=="function"&&wi;if(!c&&d)return d(h,!0);if(o)return o(h,!0);var b=new Error("Cannot find module '"+h+"'");throw b.code="MODULE_NOT_FOUND",b}var v=n[h]={exports:{}};i[h][0].call(v.exports,function(R){var E=i[h][1][R];return a(E||R)},v,v.exports,t,i,n,s)}return n[h].exports}for(var o=typeof wi=="function"&&wi,u=0;u<s.length;u++)a(s[u]);return a})({1:[function(t,i,n){var s=t("./utils"),a=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(u){for(var h=[],c,d,b,v,R,E,p,g=0,m=u.length,x=m,S=s.getTypeOf(u)!=="string";g<u.length;)x=m-g,S?(c=u[g++],d=g<m?u[g++]:0,b=g<m?u[g++]:0):(c=u.charCodeAt(g++),d=g<m?u.charCodeAt(g++):0,b=g<m?u.charCodeAt(g++):0),v=c>>2,R=(c&3)<<4|d>>4,E=x>1?(d&15)<<2|b>>6:64,p=x>2?b&63:64,h.push(o.charAt(v)+o.charAt(R)+o.charAt(E)+o.charAt(p));return h.join("")},n.decode=function(u){var h,c,d,b,v,R,E,p=0,g=0,m="data:";if(u.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");u=u.replace(/[^A-Za-z0-9+/=]/g,"");var x=u.length*3/4;if(u.charAt(u.length-1)===o.charAt(64)&&x--,u.charAt(u.length-2)===o.charAt(64)&&x--,x%1!==0)throw new Error("Invalid base64 input, bad content length.");var S;for(a.uint8array?S=new Uint8Array(x|0):S=new Array(x|0);p<u.length;)b=o.indexOf(u.charAt(p++)),v=o.indexOf(u.charAt(p++)),R=o.indexOf(u.charAt(p++)),E=o.indexOf(u.charAt(p++)),h=b<<2|v>>4,c=(v&15)<<4|R>>2,d=(R&3)<<6|E,S[g++]=h,R!==64&&(S[g++]=c),E!==64&&(S[g++]=d);return S}},{"./support":30,"./utils":32}],2:[function(t,i,n){var s=t("./external"),a=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function h(c,d,b,v,R){this.compressedSize=c,this.uncompressedSize=d,this.crc32=b,this.compression=v,this.compressedContent=R}h.prototype={getContentWorker:function(){var c=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),d=this;return c.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(c,d,b){return c.pipe(new o).pipe(new u("uncompressedSize")).pipe(d.compressWorker(b)).pipe(new u("compressedSize")).withStreamInfo("compression",d)},i.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,i,n){var s=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,i,n){var s=t("./utils");function a(){for(var c,d=[],b=0;b<256;b++){c=b;for(var v=0;v<8;v++)c=c&1?3988292384^c>>>1:c>>>1;d[b]=c}return d}var o=a();function u(c,d,b,v){var R=o,E=v+b;c=c^-1;for(var p=v;p<E;p++)c=c>>>8^R[(c^d[p])&255];return c^-1}function h(c,d,b,v){var R=o,E=v+b;c=c^-1;for(var p=v;p<E;p++)c=c>>>8^R[(c^d.charCodeAt(p))&255];return c^-1}i.exports=function(d,b){if(typeof d>"u"||!d.length)return 0;var v=s.getTypeOf(d)!=="string";return v?u(b|0,d,d.length,0):h(b|0,d,d.length,0)}},{"./utils":32}],5:[function(t,i,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,i,n){var s=null;typeof Promise<"u"?s=Promise:s=t("lie"),i.exports={Promise:s}},{lie:37}],7:[function(t,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),o=t("./utils"),u=t("./stream/GenericWorker"),h=s?"uint8array":"array";n.magic="\b\0";function c(d,b){u.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=b,this.meta={}}o.inherits(c,u),c.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(h,d.data),!1)},c.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(b){d.push({data:b,meta:d.meta})}},n.compressWorker=function(d){return new c("Deflate",d)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,i,n){var s=t("../utils"),a=t("../stream/GenericWorker"),o=t("../utf8"),u=t("../crc32"),h=t("../signature"),c=function(g,m){var x="",S;for(S=0;S<m;S++)x+=String.fromCharCode(g&255),g=g>>>8;return x},d=function(g,m){var x=g;return g||(x=m?16893:33204),(x&65535)<<16},b=function(g){return(g||0)&63},v=function(g,m,x,S,_,T){var I=g.file,N=g.compression,D=T!==o.utf8encode,O=s.transformTo("string",T(I.name)),$=s.transformTo("string",o.utf8encode(I.name)),H=I.comment,Y=s.transformTo("string",T(H)),ue=s.transformTo("string",o.utf8encode(H)),oe=$.length!==I.name.length,pe=ue.length!==H.length,Q,ee,be="",Le="",ge="",we=I.dir,Me=I.date,Re={crc32:0,compressedSize:0,uncompressedSize:0};(!m||x)&&(Re.crc32=g.crc32,Re.compressedSize=g.compressedSize,Re.uncompressedSize=g.uncompressedSize);var je=0;m&&(je|=8),!D&&(oe||pe)&&(je|=2048);var Je=0,He=0;we&&(Je|=16),_==="UNIX"?(He=798,Je|=d(I.unixPermissions,we)):(He=20,Je|=b(I.dosPermissions)),Q=Me.getUTCHours(),Q=Q<<6,Q=Q|Me.getUTCMinutes(),Q=Q<<5,Q=Q|Me.getUTCSeconds()/2,ee=Me.getUTCFullYear()-1980,ee=ee<<4,ee=ee|Me.getUTCMonth()+1,ee=ee<<5,ee=ee|Me.getUTCDate(),oe&&(Le=c(1,1)+c(u(O),4)+$,be+="up"+c(Le.length,2)+Le),pe&&(ge=c(1,1)+c(u(Y),4)+ue,be+="uc"+c(ge.length,2)+ge);var ke="";ke+=`
\0`,ke+=c(je,2),ke+=N.magic,ke+=c(Q,2),ke+=c(ee,2),ke+=c(Re.crc32,4),ke+=c(Re.compressedSize,4),ke+=c(Re.uncompressedSize,4),ke+=c(O.length,2),ke+=c(be.length,2);var Ye=h.LOCAL_FILE_HEADER+ke+O+be,Ke=h.CENTRAL_FILE_HEADER+c(He,2)+ke+c(Y.length,2)+"\0\0\0\0"+c(Je,4)+c(S,4)+O+be+Y;return{fileRecord:Ye,dirRecord:Ke}},R=function(g,m,x,S,_){var T="",I=s.transformTo("string",_(S));return T=h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(g,2)+c(g,2)+c(m,4)+c(x,4)+c(I.length,2)+I,T},E=function(g){var m="";return m=h.DATA_DESCRIPTOR+c(g.crc32,4)+c(g.compressedSize,4)+c(g.uncompressedSize,4),m};function p(g,m,x,S){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=x,this.encodeFileName=S,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(p,a),p.prototype.push=function(g){var m=g.meta.percent||0,x=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,a.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:x?(m+100*(x-S-1))/x:100}}))},p.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var m=this.streamFiles&&!g.file.dir;if(m){var x=v(g,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(g){this.accumulate=!1;var m=this.streamFiles&&!g.file.dir,x=v(g,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),m)this.push({data:E(g),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var g=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var x=this.bytesWritten-g,S=R(this.dirRecords.length,x,g,this.zipComment,this.encodeFileName);this.push({data:S,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(g){this._sources.push(g);var m=this;return g.on("data",function(x){m.processChunk(x)}),g.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),g.on("error",function(x){m.error(x)}),this},p.prototype.resume=function(){if(!a.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},p.prototype.error=function(g){var m=this._sources;if(!a.prototype.error.call(this,g))return!1;for(var x=0;x<m.length;x++)try{m[x].error(g)}catch{}return!0},p.prototype.lock=function(){a.prototype.lock.call(this);for(var g=this._sources,m=0;m<g.length;m++)g[m].lock()},i.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,i,n){var s=t("../compressions"),a=t("./ZipFileWorker"),o=function(u,h){var c=u||h,d=s[c];if(!d)throw new Error(c+" is not a valid compression method !");return d};n.generateWorker=function(u,h,c){var d=new a(h.streamFiles,c,h.platform,h.encodeFileName),b=0;try{u.forEach(function(v,R){b++;var E=o(R.options.compression,h.compression),p=R.options.compressionOptions||h.compressionOptions||{},g=R.dir,m=R.date;R._compressWorker(E,p).withStreamInfo("file",{name:v,dir:g,date:m,comment:R.comment||"",unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions}).pipe(d)}),d.entriesCount=b}catch(v){d.error(v)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,i,n){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}s.prototype=t("./object"),s.prototype.loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=t("./external"),i.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,i,n){var s=t("./utils"),a=t("./external"),o=t("./utf8"),u=t("./zipEntries"),h=t("./stream/Crc32Probe"),c=t("./nodejsUtils");function d(b){return new a.Promise(function(v,R){var E=b.decompressed.getContentWorker().pipe(new h);E.on("error",function(p){R(p)}).on("end",function(){E.streamInfo.crc32!==b.decompressed.crc32?R(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}i.exports=function(b,v){var R=this;return v=s.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(b)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",b,!0,v.optimizedBinaryString,v.base64).then(function(E){var p=new u(v);return p.load(E),p}).then(function(p){var g=[a.Promise.resolve(p)],m=p.files;if(v.checkCRC32)for(var x=0;x<m.length;x++)g.push(d(m[x]));return a.Promise.all(g)}).then(function(p){for(var g=p.shift(),m=g.files,x=0;x<m.length;x++){var S=m[x],_=S.fileNameStr,T=s.resolve(S.fileNameStr);R.file(T,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:v.createFolders}),S.dir||(R.file(T).unsafeOriginalName=_)}return g.zipComment.length&&(R.comment=g.zipComment),R})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,i,n){var s=t("../utils"),a=t("../stream/GenericWorker");function o(u,h){a.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(h)}s.inherits(o,a),o.prototype._bindStream=function(u){var h=this;this._stream=u,u.pause(),u.on("data",function(c){h.push({data:c,meta:{percent:0}})}).on("error",function(c){h.isPaused?this.generatedError=c:h.error(c)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},o.prototype.pause=function(){return a.prototype.pause.call(this)?(this._stream.pause(),!0):!1},o.prototype.resume=function(){return a.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},i.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,i,n){var s=t("readable-stream").Readable,a=t("../utils");a.inherits(o,s);function o(u,h,c){s.call(this,h),this._helper=u;var d=this;u.on("data",function(b,v){d.push(b)||d._helper.pause(),c&&c(v)}).on("error",function(b){d.emit("error",b)}).on("end",function(){d.push(null)})}o.prototype._read=function(){this._helper.resume()},i.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,i,n){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,i,n){var s=t("./utf8"),a=t("./utils"),o=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),h=t("./defaults"),c=t("./compressedObject"),d=t("./zipObject"),b=t("./generate"),v=t("./nodejsUtils"),R=t("./nodejs/NodejsStreamInputAdapter"),E=function(_,T,I){var N=a.getTypeOf(T),D,O=a.extend(I||{},h);O.date=O.date||new Date,O.compression!==null&&(O.compression=O.compression.toUpperCase()),typeof O.unixPermissions=="string"&&(O.unixPermissions=parseInt(O.unixPermissions,8)),O.unixPermissions&&O.unixPermissions&16384&&(O.dir=!0),O.dosPermissions&&O.dosPermissions&16&&(O.dir=!0),O.dir&&(_=g(_)),O.createFolders&&(D=p(_))&&m.call(this,D,!0);var $=N==="string"&&O.binary===!1&&O.base64===!1;(!I||typeof I.binary>"u")&&(O.binary=!$);var H=T instanceof c&&T.uncompressedSize===0;(H||O.dir||!T||T.length===0)&&(O.base64=!1,O.binary=!0,T="",O.compression="STORE",N="string");var Y=null;T instanceof c||T instanceof o?Y=T:v.isNode&&v.isStream(T)?Y=new R(_,T):Y=a.prepareContent(_,T,O.binary,O.optimizedBinaryString,O.base64);var ue=new d(_,Y,O);this.files[_]=ue},p=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var T=_.lastIndexOf("/");return T>0?_.substring(0,T):""},g=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},m=function(_,T){return T=typeof T<"u"?T:h.createFolders,_=g(_),this.files[_]||E.call(this,_,null,{dir:!0,createFolders:T}),this.files[_]};function x(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var T,I,N;for(T in this.files)N=this.files[T],I=T.slice(this.root.length,T.length),I&&T.slice(0,this.root.length)===this.root&&_(I,N)},filter:function(_){var T=[];return this.forEach(function(I,N){_(I,N)&&T.push(N)}),T},file:function(_,T,I){if(arguments.length===1)if(x(_)){var N=_;return this.filter(function(O,$){return!$.dir&&N.test(O)})}else{var D=this.files[this.root+_];return D&&!D.dir?D:null}else _=this.root+_,E.call(this,_,T,I);return this},folder:function(_){if(!_)return this;if(x(_))return this.filter(function(D,O){return O.dir&&_.test(D)});var T=this.root+_,I=m.call(this,T),N=this.clone();return N.root=I.name,N},remove:function(_){_=this.root+_;var T=this.files[_];if(T||(_.slice(-1)!=="/"&&(_+="/"),T=this.files[_]),T&&!T.dir)delete this.files[_];else for(var I=this.filter(function(D,O){return O.name.slice(0,_.length)===_}),N=0;N<I.length;N++)delete this.files[I[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var T,I={};try{if(I=a.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode}),I.type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");a.checkSupport(I.type),(I.platform==="darwin"||I.platform==="freebsd"||I.platform==="linux"||I.platform==="sunos")&&(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var N=I.comment||this.comment||"";T=b.generateWorker(this,I,N)}catch(D){T=new o("error"),T.error(D)}return new u(T,I.type||"string",I.mimeType)},generateAsync:function(_,T){return this.generateInternalStream(_).accumulate(T)},generateNodeStream:function(_,T){return _=_||{},_.type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(T)}};i.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,i,n){i.exports=t("stream")},{stream:void 0}],17:[function(t,i,n){var s=t("./DataReader"),a=t("../utils");function o(u){s.call(this,u);for(var h=0;h<this.data.length;h++)u[h]=u[h]&255}a.inherits(o,s),o.prototype.byteAt=function(u){return this.data[this.zero+u]},o.prototype.lastIndexOfSignature=function(u){for(var h=u.charCodeAt(0),c=u.charCodeAt(1),d=u.charCodeAt(2),b=u.charCodeAt(3),v=this.length-4;v>=0;--v)if(this.data[v]===h&&this.data[v+1]===c&&this.data[v+2]===d&&this.data[v+3]===b)return v-this.zero;return-1},o.prototype.readAndCheckSignature=function(u){var h=u.charCodeAt(0),c=u.charCodeAt(1),d=u.charCodeAt(2),b=u.charCodeAt(3),v=this.readData(4);return h===v[0]&&c===v[1]&&d===v[2]&&b===v[3]},o.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},i.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,i,n){var s=t("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var u=0,h;for(this.checkOffset(o),h=this.index+o-1;h>=this.index;h--)u=(u<<8)+this.byteAt(h);return this.index+=o,u},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC((o>>25&127)+1980,(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(o&31)<<1))}},i.exports=a},{"../utils":32}],19:[function(t,i,n){var s=t("./Uint8ArrayReader"),a=t("../utils");function o(u){s.call(this,u)}a.inherits(o,s),o.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},i.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,i,n){var s=t("./DataReader"),a=t("../utils");function o(u){s.call(this,u)}a.inherits(o,s),o.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},o.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},o.prototype.readAndCheckSignature=function(u){var h=this.readData(4);return u===h},o.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},i.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,i,n){var s=t("./ArrayReader"),a=t("../utils");function o(u){s.call(this,u)}a.inherits(o,s),o.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},i.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,i,n){var s=t("../utils"),a=t("../support"),o=t("./ArrayReader"),u=t("./StringReader"),h=t("./NodeBufferReader"),c=t("./Uint8ArrayReader");i.exports=function(d){var b=s.getTypeOf(d);return s.checkSupport(b),b==="string"&&!a.uint8array?new u(d):b==="nodebuffer"?new h(d):a.uint8array?new c(s.transformTo("uint8array",d)):new o(s.transformTo("array",d))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,i,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,i,n){var s=t("./GenericWorker"),a=t("../utils");function o(u){s.call(this,"ConvertWorker to "+u),this.destType=u}a.inherits(o,s),o.prototype.processChunk=function(u){this.push({data:a.transformTo(this.destType,u.data),meta:u.meta})},i.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,i,n){var s=t("./GenericWorker"),a=t("../crc32"),o=t("../utils");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o.inherits(u,s),u.prototype.processChunk=function(h){this.streamInfo.crc32=a(h.data,this.streamInfo.crc32||0),this.push(h)},i.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,i,n){var s=t("../utils"),a=t("./GenericWorker");function o(u){a.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(o,a),o.prototype.processChunk=function(u){if(u){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+u.data.length}a.prototype.processChunk.call(this,u)},i.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,i,n){var s=t("../utils"),a=t("./GenericWorker"),o=16*1024;function u(h){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=s.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}s.inherits(u,a),u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return a.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0):!1},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=o,c=null,d=Math.min(this.max,this.index+h);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d);break}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(t,i,n){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return this.isFinished?!1:(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var u=0;u<this._listeners[a].length;u++)this._listeners[a][u].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(u){o.processChunk(u)}),a.on("end",function(){o.end()}),a.on("error",function(u){o.error(u)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var a=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},i.exports=s},{}],29:[function(t,i,n){var s=t("../utils"),a=t("./ConvertWorker"),o=t("./GenericWorker"),u=t("../base64"),h=t("../support"),c=t("../external"),d=null;if(h.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(p,g,m){switch(p){case"blob":return s.newBlob(s.transformTo("arraybuffer",g),m);case"base64":return u.encode(g);default:return s.transformTo(p,g)}}function v(p,g){var m,x=0,S=null,_=0;for(m=0;m<g.length;m++)_+=g[m].length;switch(p){case"string":return g.join("");case"array":return Array.prototype.concat.apply([],g);case"uint8array":for(S=new Uint8Array(_),m=0;m<g.length;m++)S.set(g[m],x),x+=g[m].length;return S;case"nodebuffer":return Buffer.concat(g);default:throw new Error("concat : unsupported type '"+p+"'")}}function R(p,g){return new c.Promise(function(m,x){var S=[],_=p._internalType,T=p._outputType,I=p._mimeType;p.on("data",function(N,D){S.push(N),g&&g(D)}).on("error",function(N){S=[],x(N)}).on("end",function(){try{var N=b(T,v(_,S),I);m(N)}catch(D){x(D)}S=[]}).resume()})}function E(p,g,m){var x=g;switch(g){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string";break}try{this._internalType=x,this._outputType=g,this._mimeType=m,s.checkSupport(x),this._worker=p.pipe(new a(x)),p.lock()}catch(S){this._worker=new o("error"),this._worker.error(S)}}E.prototype={accumulate:function(p){return R(this,p)},on:function(p,g){var m=this;return p==="data"?this._worker.on(p,function(x){g.call(m,x.data,x.meta)}):this._worker.on(p,function(){s.delay(g,arguments,m)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},p)}},i.exports=E},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,i,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var s=new ArrayBuffer(0);try{n.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,o=new a;o.append(s),n.blob=o.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(t,i,n){for(var s=t("./utils"),a=t("./support"),o=t("./nodejsUtils"),u=t("./stream/GenericWorker"),h=new Array(256),c=0;c<256;c++)h[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;h[254]=h[254]=1;var d=function(p){var g,m,x,S,_,T=p.length,I=0;for(S=0;S<T;S++)m=p.charCodeAt(S),(m&64512)===55296&&S+1<T&&(x=p.charCodeAt(S+1),(x&64512)===56320&&(m=65536+(m-55296<<10)+(x-56320),S++)),I+=m<128?1:m<2048?2:m<65536?3:4;for(a.uint8array?g=new Uint8Array(I):g=new Array(I),_=0,S=0;_<I;S++)m=p.charCodeAt(S),(m&64512)===55296&&S+1<T&&(x=p.charCodeAt(S+1),(x&64512)===56320&&(m=65536+(m-55296<<10)+(x-56320),S++)),m<128?g[_++]=m:m<2048?(g[_++]=192|m>>>6,g[_++]=128|m&63):m<65536?(g[_++]=224|m>>>12,g[_++]=128|m>>>6&63,g[_++]=128|m&63):(g[_++]=240|m>>>18,g[_++]=128|m>>>12&63,g[_++]=128|m>>>6&63,g[_++]=128|m&63);return g},b=function(p,g){var m;for(g=g||p.length,g>p.length&&(g=p.length),m=g-1;m>=0&&(p[m]&192)===128;)m--;return m<0||m===0?g:m+h[p[m]]>g?m:g},v=function(p){var g,m,x,S,_=p.length,T=new Array(_*2);for(m=0,g=0;g<_;){if(x=p[g++],x<128){T[m++]=x;continue}if(S=h[x],S>4){T[m++]=65533,g+=S-1;continue}for(x&=S===2?31:S===3?15:7;S>1&&g<_;)x=x<<6|p[g++]&63,S--;if(S>1){T[m++]=65533;continue}x<65536?T[m++]=x:(x-=65536,T[m++]=55296|x>>10&1023,T[m++]=56320|x&1023)}return T.length!==m&&(T.subarray?T=T.subarray(0,m):T.length=m),s.applyFromCharCode(T)};n.utf8encode=function(g){return a.nodebuffer?o.newBufferFrom(g,"utf-8"):d(g)},n.utf8decode=function(g){return a.nodebuffer?s.transformTo("nodebuffer",g).toString("utf-8"):(g=s.transformTo(a.uint8array?"uint8array":"array",g),v(g))};function R(){u.call(this,"utf-8 decode"),this.leftOver=null}s.inherits(R,u),R.prototype.processChunk=function(p){var g=s.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var m=g;g=new Uint8Array(m.length+this.leftOver.length),g.set(this.leftOver,0),g.set(m,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var x=b(g),S=g;x!==g.length&&(a.uint8array?(S=g.subarray(0,x),this.leftOver=g.subarray(x,g.length)):(S=g.slice(0,x),this.leftOver=g.slice(x,g.length))),this.push({data:n.utf8decode(S),meta:p.meta})},R.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=R;function E(){u.call(this,"utf-8 encode")}s.inherits(E,u),E.prototype.processChunk=function(p){this.push({data:n.utf8encode(p.data),meta:p.meta})},n.Utf8EncodeWorker=E},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,i,n){var s=t("./support"),a=t("./base64"),o=t("./nodejsUtils"),u=t("./external");t("setimmediate");function h(p){var g=null;return s.uint8array?g=new Uint8Array(p.length):g=new Array(p.length),d(p,g)}n.newBlob=function(p,g){n.checkSupport("blob");try{return new Blob([p],{type:g})}catch{try{var m=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,x=new m;return x.append(p),x.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};function c(p){return p}function d(p,g){for(var m=0;m<p.length;++m)g[m]=p.charCodeAt(m)&255;return g}var b={stringifyByChunk:function(p,g,m){var x=[],S=0,_=p.length;if(_<=m)return String.fromCharCode.apply(null,p);for(;S<_;)g==="array"||g==="nodebuffer"?x.push(String.fromCharCode.apply(null,p.slice(S,Math.min(S+m,_)))):x.push(String.fromCharCode.apply(null,p.subarray(S,Math.min(S+m,_)))),S+=m;return x.join("")},stringifyByChar:function(p){for(var g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);return g},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function v(p){var g=65536,m=n.getTypeOf(p),x=!0;if(m==="uint8array"?x=b.applyCanBeUsed.uint8array:m==="nodebuffer"&&(x=b.applyCanBeUsed.nodebuffer),x)for(;g>1;)try{return b.stringifyByChunk(p,m,g)}catch{g=Math.floor(g/2)}return b.stringifyByChar(p)}n.applyFromCharCode=v;function R(p,g){for(var m=0;m<p.length;m++)g[m]=p[m];return g}var E={};E.string={string:c,array:function(p){return d(p,new Array(p.length))},arraybuffer:function(p){return E.string.uint8array(p).buffer},uint8array:function(p){return d(p,new Uint8Array(p.length))},nodebuffer:function(p){return d(p,o.allocBuffer(p.length))}},E.array={string:v,array:c,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(p)}},E.arraybuffer={string:function(p){return v(new Uint8Array(p))},array:function(p){return R(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:c,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(new Uint8Array(p))}},E.uint8array={string:v,array:function(p){return R(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:c,nodebuffer:function(p){return o.newBufferFrom(p)}},E.nodebuffer={string:v,array:function(p){return R(p,new Array(p.length))},arraybuffer:function(p){return E.nodebuffer.uint8array(p).buffer},uint8array:function(p){return R(p,new Uint8Array(p.length))},nodebuffer:c},n.transformTo=function(p,g){if(g||(g=""),!p)return g;n.checkSupport(p);var m=n.getTypeOf(g),x=E[m][p](g);return x},n.resolve=function(p){for(var g=p.split("/"),m=[],x=0;x<g.length;x++){var S=g[x];S==="."||S===""&&x!==0&&x!==g.length-1||(S===".."?m.pop():m.push(S))}return m.join("/")},n.getTypeOf=function(p){if(typeof p=="string")return"string";if(Object.prototype.toString.call(p)==="[object Array]")return"array";if(s.nodebuffer&&o.isBuffer(p))return"nodebuffer";if(s.uint8array&&p instanceof Uint8Array)return"uint8array";if(s.arraybuffer&&p instanceof ArrayBuffer)return"arraybuffer"},n.checkSupport=function(p){var g=s[p.toLowerCase()];if(!g)throw new Error(p+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(p){var g="",m,x;for(x=0;x<(p||"").length;x++)m=p.charCodeAt(x),g+="\\x"+(m<16?"0":"")+m.toString(16).toUpperCase();return g},n.delay=function(p,g,m){setImmediate(function(){p.apply(m||null,g||[])})},n.inherits=function(p,g){var m=function(){};m.prototype=g.prototype,p.prototype=new m},n.extend=function(){var p={},g,m;for(g=0;g<arguments.length;g++)for(m in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],m)&&typeof p[m]>"u"&&(p[m]=arguments[g][m]);return p},n.prepareContent=function(p,g,m,x,S){var _=u.Promise.resolve(g).then(function(T){var I=s.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1);return I&&typeof FileReader<"u"?new u.Promise(function(N,D){var O=new FileReader;O.onload=function($){N($.target.result)},O.onerror=function($){D($.target.error)},O.readAsArrayBuffer(T)}):T});return _.then(function(T){var I=n.getTypeOf(T);return I?(I==="arraybuffer"?T=n.transformTo("uint8array",T):I==="string"&&(S?T=a.decode(T):m&&x!==!0&&(T=h(T))),T):u.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,i,n){var s=t("./reader/readerFor"),a=t("./utils"),o=t("./signature"),u=t("./zipEntry"),h=t("./support");function c(d){this.files=[],this.loadOptions=d}c.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(b)+", expected "+a.pretty(d)+")")}},isSignature:function(d,b){var v=this.reader.index;this.reader.setIndex(d);var R=this.reader.readString(4),E=R===b;return this.reader.setIndex(v),E},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),b=h.uint8array?"uint8array":"array",v=a.transformTo(b,d);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d=this.zip64EndOfCentralSize-44,b=0,v,R,E;b<d;)v=this.reader.readInt(2),R=this.reader.readInt(4),E=this.reader.readData(R),this.zip64ExtensibleData[v]={id:v,length:R,value:E}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,b;for(d=0;d<this.files.length;d++)b=this.files[d],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)d=new u({zip64:this.zip64},this.loadOptions),d.readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(d<0){var b=!this.isSignature(0,o.LOCAL_FILE_HEADER);throw b?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(d);var v=d;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,d=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),d<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var R=this.centralDirOffset+this.centralDirSize;this.zip64&&(R+=20,R+=12+this.zip64EndOfCentralSize);var E=v-R;if(E>0)this.isSignature(v,o.CENTRAL_FILE_HEADER)||(this.reader.zero=E);else if(E<0)throw new Error("Corrupted zip: missing "+Math.abs(E)+" bytes.")},prepareReader:function(d){this.reader=s(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,i,n){var s=t("./reader/readerFor"),a=t("./utils"),o=t("./compressedObject"),u=t("./crc32"),h=t("./utf8"),c=t("./compressions"),d=t("./support"),b=0,v=3,R=function(p){for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)&&c[g].magic===p)return c[g];return null};function E(p,g){this.options=p,this.loadOptions=g}E.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(p){var g,m;if(p.skip(22),this.fileNameLength=p.readInt(2),m=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(g=R(this.compressionMethod),g===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var g=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(g),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),p===b&&(this.dosPermissions=this.externalFileAttributes&63),p===v&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var g=p.index+this.extraFieldsLength,m,x,S;for(this.extraFields||(this.extraFields={});p.index+4<g;)m=p.readInt(2),x=p.readInt(2),S=p.readData(x),this.extraFields[m]={id:m,length:x,value:S};p.setIndex(g)},handleUTF8:function(){var p=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var m=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var S=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var g=s(p.value);return g.readInt(1)!==1||u(this.fileName)!==g.readInt(4)?null:h.utf8decode(g.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var g=s(p.value);return g.readInt(1)!==1||u(this.fileComment)!==g.readInt(4)?null:h.utf8decode(g.readData(p.length-5))}return null}},i.exports=E},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,i,n){var s=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),o=t("./utf8"),u=t("./compressedObject"),h=t("./stream/GenericWorker"),c=function(R,E,p){this.name=R,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=E,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}};c.prototype={internalStream:function(R){var E=null,p="string";try{if(!R)throw new Error("No output type specified.");p=R.toLowerCase();var g=p==="string"||p==="text";(p==="binarystring"||p==="text")&&(p="string"),E=this._decompressWorker();var m=!this._dataBinary;m&&!g&&(E=E.pipe(new o.Utf8EncodeWorker)),!m&&g&&(E=E.pipe(new o.Utf8DecodeWorker))}catch(x){E=new h("error"),E.error(x)}return new s(E,p,"")},async:function(R,E){return this.internalStream(R).accumulate(E)},nodeStream:function(R,E){return this.internalStream(R||"nodebuffer").toNodejsStream(E)},_compressWorker:function(R,E){if(this._data instanceof u&&this._data.compression.magic===R.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new o.Utf8EncodeWorker)),u.createWorkerFrom(p,R,E)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof h?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<d.length;v++)c.prototype[d[v]]=b;i.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,i,n){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var u=0,h=new a(R),c=s.document.createTextNode("");h.observe(c,{characterData:!0}),o=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=R,o=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var p=s.document.createElement("script");p.onreadystatechange=function(){R(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},s.document.documentElement.appendChild(p)}:o=function(){setTimeout(R,0)};var b,v=[];function R(){b=!0;for(var p,g,m=v.length;m;){for(g=v,v=[],p=-1;++p<m;)g[p]();m=v.length}b=!1}i.exports=E;function E(p){v.push(p)===1&&!b&&o()}}).call(this,typeof Wt<"u"?Wt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,i,n){var s=t("immediate");function a(){}var o={},u=["REJECTED"],h=["FULFILLED"],c=["PENDING"];i.exports=d;function d(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,_!==a&&E(this,_)}d.prototype.finally=function(_){if(typeof _!="function")return this;var T=this.constructor;return this.then(I,N);function I(D){function O(){return D}return T.resolve(_()).then(O)}function N(D){function O(){throw D}return T.resolve(_()).then(O)}},d.prototype.catch=function(_){return this.then(null,_)},d.prototype.then=function(_,T){if(typeof _!="function"&&this.state===h||typeof T!="function"&&this.state===u)return this;var I=new this.constructor(a);if(this.state!==c){var N=this.state===h?_:T;v(I,N,this.outcome)}else this.queue.push(new b(I,_,T));return I};function b(_,T,I){this.promise=_,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},b.prototype.otherCallFulfilled=function(_){v(this.promise,this.onFulfilled,_)},b.prototype.callRejected=function(_){o.reject(this.promise,_)},b.prototype.otherCallRejected=function(_){v(this.promise,this.onRejected,_)};function v(_,T,I){s(function(){var N;try{N=T(I)}catch(D){return o.reject(_,D)}N===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,N)})}o.resolve=function(_,T){var I=p(R,T);if(I.status==="error")return o.reject(_,I.value);var N=I.value;if(N)E(_,N);else{_.state=h,_.outcome=T;for(var D=-1,O=_.queue.length;++D<O;)_.queue[D].callFulfilled(T)}return _},o.reject=function(_,T){_.state=u,_.outcome=T;for(var I=-1,N=_.queue.length;++I<N;)_.queue[I].callRejected(T);return _};function R(_){var T=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof T=="function")return function(){T.apply(_,arguments)}}function E(_,T){var I=!1;function N(H){I||(I=!0,o.reject(_,H))}function D(H){I||(I=!0,o.resolve(_,H))}function O(){T(D,N)}var $=p(O);$.status==="error"&&N($.value)}function p(_,T){var I={};try{I.value=_(T),I.status="success"}catch(N){I.status="error",I.value=N}return I}d.resolve=g;function g(_){return _ instanceof this?_:o.resolve(new this(a),_)}d.reject=m;function m(_){var T=new this(a);return o.reject(T,_)}d.all=x;function x(_){var T=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,N=!1;if(!I)return this.resolve([]);for(var D=new Array(I),O=0,$=-1,H=new this(a);++$<I;)Y(_[$],$);return H;function Y(ue,oe){T.resolve(ue).then(pe,function(Q){N||(N=!0,o.reject(H,Q))});function pe(Q){D[oe]=Q,++O===I&&!N&&(N=!0,o.resolve(H,D))}}}d.race=S;function S(_){var T=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,N=!1;if(!I)return this.resolve([]);for(var D=-1,O=new this(a);++D<I;)$(_[D]);return O;function $(H){T.resolve(H).then(function(Y){N||(N=!0,o.resolve(O,Y))},function(Y){N||(N=!0,o.reject(O,Y))})}}},{immediate:36}],38:[function(t,i,n){var s=t("./lib/utils/common").assign,a=t("./lib/deflate"),o=t("./lib/inflate"),u=t("./lib/zlib/constants"),h={};s(h,a,o,u),i.exports=h},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,i,n){var s=t("./zlib/deflate"),a=t("./utils/common"),o=t("./utils/strings"),u=t("./zlib/messages"),h=t("./zlib/zstream"),c=Object.prototype.toString,d=0,b=4,v=0,R=1,E=2,p=-1,g=0,m=8;function x(I){if(!(this instanceof x))return new x(I);this.options=a.assign({level:p,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},I||{});var N=this.options;N.raw&&N.windowBits>0?N.windowBits=-N.windowBits:N.gzip&&N.windowBits>0&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var D=s.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(D!==v)throw new Error(u[D]);if(N.header&&s.deflateSetHeader(this.strm,N.header),N.dictionary){var O;if(typeof N.dictionary=="string"?O=o.string2buf(N.dictionary):c.call(N.dictionary)==="[object ArrayBuffer]"?O=new Uint8Array(N.dictionary):O=N.dictionary,D=s.deflateSetDictionary(this.strm,O),D!==v)throw new Error(u[D]);this._dict_set=!0}}x.prototype.push=function(I,N){var D=this.strm,O=this.options.chunkSize,$,H;if(this.ended)return!1;H=N===~~N?N:N===!0?b:d,typeof I=="string"?D.input=o.string2buf(I):c.call(I)==="[object ArrayBuffer]"?D.input=new Uint8Array(I):D.input=I,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new a.Buf8(O),D.next_out=0,D.avail_out=O),$=s.deflate(D,H),$!==R&&$!==v)return this.onEnd($),this.ended=!0,!1;(D.avail_out===0||D.avail_in===0&&(H===b||H===E))&&(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(D.output,D.next_out))):this.onData(a.shrinkBuf(D.output,D.next_out)))}while((D.avail_in>0||D.avail_out===0)&&$!==R);return H===b?($=s.deflateEnd(this.strm),this.onEnd($),this.ended=!0,$===v):(H===E&&(this.onEnd(v),D.avail_out=0),!0)},x.prototype.onData=function(I){this.chunks.push(I)},x.prototype.onEnd=function(I){I===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=I,this.msg=this.strm.msg};function S(I,N){var D=new x(N);if(D.push(I,!0),D.err)throw D.msg||u[D.err];return D.result}function _(I,N){return N=N||{},N.raw=!0,S(I,N)}function T(I,N){return N=N||{},N.gzip=!0,S(I,N)}n.Deflate=x,n.deflate=S,n.deflateRaw=_,n.gzip=T},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,i,n){var s=t("./zlib/inflate"),a=t("./utils/common"),o=t("./utils/strings"),u=t("./zlib/constants"),h=t("./zlib/messages"),c=t("./zlib/zstream"),d=t("./zlib/gzheader"),b=Object.prototype.toString;function v(p){if(!(this instanceof v))return new v(p);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},p||{});var g=this.options;g.raw&&g.windowBits>=0&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),g.windowBits>=0&&g.windowBits<16&&!(p&&p.windowBits)&&(g.windowBits+=32),g.windowBits>15&&g.windowBits<48&&(g.windowBits&15)===0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var m=s.inflateInit2(this.strm,g.windowBits);if(m!==u.Z_OK)throw new Error(h[m]);this.header=new d,s.inflateGetHeader(this.strm,this.header)}v.prototype.push=function(p,g){var m=this.strm,x=this.options.chunkSize,S=this.options.dictionary,_,T,I,N,D,O,$=!1;if(this.ended)return!1;T=g===~~g?g:g===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof p=="string"?m.input=o.binstring2buf(p):b.call(p)==="[object ArrayBuffer]"?m.input=new Uint8Array(p):m.input=p,m.next_in=0,m.avail_in=m.input.length;do{if(m.avail_out===0&&(m.output=new a.Buf8(x),m.next_out=0,m.avail_out=x),_=s.inflate(m,u.Z_NO_FLUSH),_===u.Z_NEED_DICT&&S&&(typeof S=="string"?O=o.string2buf(S):b.call(S)==="[object ArrayBuffer]"?O=new Uint8Array(S):O=S,_=s.inflateSetDictionary(this.strm,O)),_===u.Z_BUF_ERROR&&$===!0&&(_=u.Z_OK,$=!1),_!==u.Z_STREAM_END&&_!==u.Z_OK)return this.onEnd(_),this.ended=!0,!1;m.next_out&&(m.avail_out===0||_===u.Z_STREAM_END||m.avail_in===0&&(T===u.Z_FINISH||T===u.Z_SYNC_FLUSH))&&(this.options.to==="string"?(I=o.utf8border(m.output,m.next_out),N=m.next_out-I,D=o.buf2string(m.output,I),m.next_out=N,m.avail_out=x-N,N&&a.arraySet(m.output,m.output,I,N,0),this.onData(D)):this.onData(a.shrinkBuf(m.output,m.next_out))),m.avail_in===0&&m.avail_out===0&&($=!0)}while((m.avail_in>0||m.avail_out===0)&&_!==u.Z_STREAM_END);return _===u.Z_STREAM_END&&(T=u.Z_FINISH),T===u.Z_FINISH?(_=s.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===u.Z_OK):(T===u.Z_SYNC_FLUSH&&(this.onEnd(u.Z_OK),m.avail_out=0),!0)},v.prototype.onData=function(p){this.chunks.push(p)},v.prototype.onEnd=function(p){p===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg};function R(p,g){var m=new v(g);if(m.push(p,!0),m.err)throw m.msg||h[m.err];return m.result}function E(p,g){return g=g||{},g.raw=!0,R(p,g)}n.Inflate=v,n.inflate=R,n.inflateRaw=E,n.ungzip=R},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(u){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var c=h.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])}}return u},n.shrinkBuf=function(u,h){return u.length===h?u:u.subarray?u.subarray(0,h):(u.length=h,u)};var a={arraySet:function(u,h,c,d,b){if(h.subarray&&u.subarray){u.set(h.subarray(c,c+d),b);return}for(var v=0;v<d;v++)u[b+v]=h[c+v]},flattenChunks:function(u){var h,c,d,b,v,R;for(d=0,h=0,c=u.length;h<c;h++)d+=u[h].length;for(R=new Uint8Array(d),b=0,h=0,c=u.length;h<c;h++)v=u[h],R.set(v,b),b+=v.length;return R}},o={arraySet:function(u,h,c,d,b){for(var v=0;v<d;v++)u[b+v]=h[c+v]},flattenChunks:function(u){return[].concat.apply([],u)}};n.setTyped=function(u){u?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,a)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(s)},{}],42:[function(t,i,n){var s=t("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var u=new s.Buf8(256),h=0;h<256;h++)u[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;u[254]=u[254]=1,n.string2buf=function(d){var b,v,R,E,p,g=d.length,m=0;for(E=0;E<g;E++)v=d.charCodeAt(E),(v&64512)===55296&&E+1<g&&(R=d.charCodeAt(E+1),(R&64512)===56320&&(v=65536+(v-55296<<10)+(R-56320),E++)),m+=v<128?1:v<2048?2:v<65536?3:4;for(b=new s.Buf8(m),p=0,E=0;p<m;E++)v=d.charCodeAt(E),(v&64512)===55296&&E+1<g&&(R=d.charCodeAt(E+1),(R&64512)===56320&&(v=65536+(v-55296<<10)+(R-56320),E++)),v<128?b[p++]=v:v<2048?(b[p++]=192|v>>>6,b[p++]=128|v&63):v<65536?(b[p++]=224|v>>>12,b[p++]=128|v>>>6&63,b[p++]=128|v&63):(b[p++]=240|v>>>18,b[p++]=128|v>>>12&63,b[p++]=128|v>>>6&63,b[p++]=128|v&63);return b};function c(d,b){if(b<65537&&(d.subarray&&o||!d.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(d,b));for(var v="",R=0;R<b;R++)v+=String.fromCharCode(d[R]);return v}n.buf2binstring=function(d){return c(d,d.length)},n.binstring2buf=function(d){for(var b=new s.Buf8(d.length),v=0,R=b.length;v<R;v++)b[v]=d.charCodeAt(v);return b},n.buf2string=function(d,b){var v,R,E,p,g=b||d.length,m=new Array(g*2);for(R=0,v=0;v<g;){if(E=d[v++],E<128){m[R++]=E;continue}if(p=u[E],p>4){m[R++]=65533,v+=p-1;continue}for(E&=p===2?31:p===3?15:7;p>1&&v<g;)E=E<<6|d[v++]&63,p--;if(p>1){m[R++]=65533;continue}E<65536?m[R++]=E:(E-=65536,m[R++]=55296|E>>10&1023,m[R++]=56320|E&1023)}return c(m,R)},n.utf8border=function(d,b){var v;for(b=b||d.length,b>d.length&&(b=d.length),v=b-1;v>=0&&(d[v]&192)===128;)v--;return v<0||v===0?b:v+u[d[v]]>b?v:b}},{"./common":41}],43:[function(t,i,n){function s(a,o,u,h){for(var c=a&65535|0,d=a>>>16&65535|0,b=0;u!==0;){b=u>2e3?2e3:u,u-=b;do c=c+o[h++]|0,d=d+c|0;while(--b);c%=65521,d%=65521}return c|d<<16|0}i.exports=s},{}],44:[function(t,i,n){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,i,n){function s(){for(var u,h=[],c=0;c<256;c++){u=c;for(var d=0;d<8;d++)u=u&1?3988292384^u>>>1:u>>>1;h[c]=u}return h}var a=s();function o(u,h,c,d){var b=a,v=d+c;u^=-1;for(var R=d;R<v;R++)u=u>>>8^b[(u^h[R])&255];return u^-1}i.exports=o},{}],46:[function(t,i,n){var s=t("../utils/common"),a=t("./trees"),o=t("./adler32"),u=t("./crc32"),h=t("./messages"),c=0,d=1,b=3,v=4,R=5,E=0,p=1,g=-2,m=-3,x=-5,S=-1,_=1,T=2,I=3,N=4,D=0,O=2,$=8,H=9,Y=15,ue=8,oe=29,pe=256,Q=pe+1+oe,ee=30,be=19,Le=2*Q+1,ge=15,we=3,Me=258,Re=Me+we+1,je=32,Je=42,He=69,ke=73,Ye=91,Ke=103,Pe=113,B=666,M=1,Z=2,ie=3,J=4,X=3;function he(l,P){return l.msg=h[P],P}function le(l){return(l<<1)-(l>4?9:0)}function ae(l){for(var P=l.length;--P>=0;)l[P]=0}function K(l){var P=l.state,j=P.pending;j>l.avail_out&&(j=l.avail_out),j!==0&&(s.arraySet(l.output,P.pending_buf,P.pending_out,j,l.next_out),l.next_out+=j,P.pending_out+=j,l.total_out+=j,l.avail_out-=j,P.pending-=j,P.pending===0&&(P.pending_out=0))}function de(l,P){a._tr_flush_block(l,l.block_start>=0?l.block_start:-1,l.strstart-l.block_start,P),l.block_start=l.strstart,K(l.strm)}function re(l,P){l.pending_buf[l.pending++]=P}function Ce(l,P){l.pending_buf[l.pending++]=P>>>8&255,l.pending_buf[l.pending++]=P&255}function Te(l,P,j,w){var F=l.avail_in;return F>w&&(F=w),F===0?0:(l.avail_in-=F,s.arraySet(P,l.input,l.next_in,F,j),l.state.wrap===1?l.adler=o(l.adler,P,F,j):l.state.wrap===2&&(l.adler=u(l.adler,P,F,j)),l.next_in+=F,l.total_in+=F,F)}function Ne(l,P){var j=l.max_chain_length,w=l.strstart,F,G,De=l.prev_length,ye=l.nice_match,Ee=l.strstart>l.w_size-Re?l.strstart-(l.w_size-Re):0,Oe=l.window,_t=l.w_mask,Ve=l.prev,Fe=l.strstart+Me,st=Oe[w+De-1],$e=Oe[w+De];l.prev_length>=l.good_match&&(j>>=2),ye>l.lookahead&&(ye=l.lookahead);do if(F=P,!(Oe[F+De]!==$e||Oe[F+De-1]!==st||Oe[F]!==Oe[w]||Oe[++F]!==Oe[w+1])){w+=2,F++;do;while(Oe[++w]===Oe[++F]&&Oe[++w]===Oe[++F]&&Oe[++w]===Oe[++F]&&Oe[++w]===Oe[++F]&&Oe[++w]===Oe[++F]&&Oe[++w]===Oe[++F]&&Oe[++w]===Oe[++F]&&Oe[++w]===Oe[++F]&&w<Fe);if(G=Me-(Fe-w),w=Fe-Me,G>De){if(l.match_start=P,De=G,G>=ye)break;st=Oe[w+De-1],$e=Oe[w+De]}}while((P=Ve[P&_t])>Ee&&--j!==0);return De<=l.lookahead?De:l.lookahead}function Ie(l){var P=l.w_size,j,w,F,G,De;do{if(G=l.window_size-l.lookahead-l.strstart,l.strstart>=P+(P-Re)){s.arraySet(l.window,l.window,P,P,0),l.match_start-=P,l.strstart-=P,l.block_start-=P,w=l.hash_size,j=w;do F=l.head[--j],l.head[j]=F>=P?F-P:0;while(--w);w=P,j=w;do F=l.prev[--j],l.prev[j]=F>=P?F-P:0;while(--w);G+=P}if(l.strm.avail_in===0)break;if(w=Te(l.strm,l.window,l.strstart+l.lookahead,G),l.lookahead+=w,l.lookahead+l.insert>=we)for(De=l.strstart-l.insert,l.ins_h=l.window[De],l.ins_h=(l.ins_h<<l.hash_shift^l.window[De+1])&l.hash_mask;l.insert&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[De+we-1])&l.hash_mask,l.prev[De&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=De,De++,l.insert--,!(l.lookahead+l.insert<we)););}while(l.lookahead<Re&&l.strm.avail_in!==0)}function ze(l,P){var j=65535;for(j>l.pending_buf_size-5&&(j=l.pending_buf_size-5);;){if(l.lookahead<=1){if(Ie(l),l.lookahead===0&&P===c)return M;if(l.lookahead===0)break}l.strstart+=l.lookahead,l.lookahead=0;var w=l.block_start+j;if((l.strstart===0||l.strstart>=w)&&(l.lookahead=l.strstart-w,l.strstart=w,de(l,!1),l.strm.avail_out===0)||l.strstart-l.block_start>=l.w_size-Re&&(de(l,!1),l.strm.avail_out===0))return M}return l.insert=0,P===v?(de(l,!0),l.strm.avail_out===0?ie:J):(l.strstart>l.block_start&&(de(l,!1),l.strm.avail_out===0),M)}function it(l,P){for(var j,w;;){if(l.lookahead<Re){if(Ie(l),l.lookahead<Re&&P===c)return M;if(l.lookahead===0)break}if(j=0,l.lookahead>=we&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+we-1])&l.hash_mask,j=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),j!==0&&l.strstart-j<=l.w_size-Re&&(l.match_length=Ne(l,j)),l.match_length>=we)if(w=a._tr_tally(l,l.strstart-l.match_start,l.match_length-we),l.lookahead-=l.match_length,l.match_length<=l.max_lazy_match&&l.lookahead>=we){l.match_length--;do l.strstart++,l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+we-1])&l.hash_mask,j=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;while(--l.match_length!==0);l.strstart++}else l.strstart+=l.match_length,l.match_length=0,l.ins_h=l.window[l.strstart],l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+1])&l.hash_mask;else w=a._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(w&&(de(l,!1),l.strm.avail_out===0))return M}return l.insert=l.strstart<we-1?l.strstart:we-1,P===v?(de(l,!0),l.strm.avail_out===0?ie:J):l.last_lit&&(de(l,!1),l.strm.avail_out===0)?M:Z}function Xe(l,P){for(var j,w,F;;){if(l.lookahead<Re){if(Ie(l),l.lookahead<Re&&P===c)return M;if(l.lookahead===0)break}if(j=0,l.lookahead>=we&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+we-1])&l.hash_mask,j=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),l.prev_length=l.match_length,l.prev_match=l.match_start,l.match_length=we-1,j!==0&&l.prev_length<l.max_lazy_match&&l.strstart-j<=l.w_size-Re&&(l.match_length=Ne(l,j),l.match_length<=5&&(l.strategy===_||l.match_length===we&&l.strstart-l.match_start>4096)&&(l.match_length=we-1)),l.prev_length>=we&&l.match_length<=l.prev_length){F=l.strstart+l.lookahead-we,w=a._tr_tally(l,l.strstart-1-l.prev_match,l.prev_length-we),l.lookahead-=l.prev_length-1,l.prev_length-=2;do++l.strstart<=F&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+we-1])&l.hash_mask,j=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart);while(--l.prev_length!==0);if(l.match_available=0,l.match_length=we-1,l.strstart++,w&&(de(l,!1),l.strm.avail_out===0))return M}else if(l.match_available){if(w=a._tr_tally(l,0,l.window[l.strstart-1]),w&&de(l,!1),l.strstart++,l.lookahead--,l.strm.avail_out===0)return M}else l.match_available=1,l.strstart++,l.lookahead--}return l.match_available&&(w=a._tr_tally(l,0,l.window[l.strstart-1]),l.match_available=0),l.insert=l.strstart<we-1?l.strstart:we-1,P===v?(de(l,!0),l.strm.avail_out===0?ie:J):l.last_lit&&(de(l,!1),l.strm.avail_out===0)?M:Z}function ft(l,P){for(var j,w,F,G,De=l.window;;){if(l.lookahead<=Me){if(Ie(l),l.lookahead<=Me&&P===c)return M;if(l.lookahead===0)break}if(l.match_length=0,l.lookahead>=we&&l.strstart>0&&(F=l.strstart-1,w=De[F],w===De[++F]&&w===De[++F]&&w===De[++F])){G=l.strstart+Me;do;while(w===De[++F]&&w===De[++F]&&w===De[++F]&&w===De[++F]&&w===De[++F]&&w===De[++F]&&w===De[++F]&&w===De[++F]&&F<G);l.match_length=Me-(G-F),l.match_length>l.lookahead&&(l.match_length=l.lookahead)}if(l.match_length>=we?(j=a._tr_tally(l,1,l.match_length-we),l.lookahead-=l.match_length,l.strstart+=l.match_length,l.match_length=0):(j=a._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++),j&&(de(l,!1),l.strm.avail_out===0))return M}return l.insert=0,P===v?(de(l,!0),l.strm.avail_out===0?ie:J):l.last_lit&&(de(l,!1),l.strm.avail_out===0)?M:Z}function ut(l,P){for(var j;;){if(l.lookahead===0&&(Ie(l),l.lookahead===0)){if(P===c)return M;break}if(l.match_length=0,j=a._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++,j&&(de(l,!1),l.strm.avail_out===0))return M}return l.insert=0,P===v?(de(l,!0),l.strm.avail_out===0?ie:J):l.last_lit&&(de(l,!1),l.strm.avail_out===0)?M:Z}function nt(l,P,j,w,F){this.good_length=l,this.max_lazy=P,this.nice_length=j,this.max_chain=w,this.func=F}var mt;mt=[new nt(0,0,0,0,ze),new nt(4,4,8,4,it),new nt(4,5,16,8,it),new nt(4,6,32,32,it),new nt(4,4,16,16,Xe),new nt(8,16,32,32,Xe),new nt(8,16,128,128,Xe),new nt(8,32,128,256,Xe),new nt(32,128,258,1024,Xe),new nt(32,258,258,4096,Xe)];function ht(l){l.window_size=2*l.w_size,ae(l.head),l.max_lazy_match=mt[l.level].max_lazy,l.good_match=mt[l.level].good_length,l.nice_match=mt[l.level].nice_length,l.max_chain_length=mt[l.level].max_chain,l.strstart=0,l.block_start=0,l.lookahead=0,l.insert=0,l.match_length=l.prev_length=we-1,l.match_available=0,l.ins_h=0}function A(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(Le*2),this.dyn_dtree=new s.Buf16((2*ee+1)*2),this.bl_tree=new s.Buf16((2*be+1)*2),ae(this.dyn_ltree),ae(this.dyn_dtree),ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(ge+1),this.heap=new s.Buf16(2*Q+1),ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*Q+1),ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function se(l){var P;return!l||!l.state?he(l,g):(l.total_in=l.total_out=0,l.data_type=O,P=l.state,P.pending=0,P.pending_out=0,P.wrap<0&&(P.wrap=-P.wrap),P.status=P.wrap?Je:Pe,l.adler=P.wrap===2?0:1,P.last_flush=c,a._tr_init(P),E)}function fe(l){var P=se(l);return P===E&&ht(l.state),P}function Ae(l,P){return!l||!l.state||l.state.wrap!==2?g:(l.state.gzhead=P,E)}function U(l,P,j,w,F,G){if(!l)return g;var De=1;if(P===S&&(P=6),w<0?(De=0,w=-w):w>15&&(De=2,w-=16),F<1||F>H||j!==$||w<8||w>15||P<0||P>9||G<0||G>N)return he(l,g);w===8&&(w=9);var ye=new A;return l.state=ye,ye.strm=l,ye.wrap=De,ye.gzhead=null,ye.w_bits=w,ye.w_size=1<<ye.w_bits,ye.w_mask=ye.w_size-1,ye.hash_bits=F+7,ye.hash_size=1<<ye.hash_bits,ye.hash_mask=ye.hash_size-1,ye.hash_shift=~~((ye.hash_bits+we-1)/we),ye.window=new s.Buf8(ye.w_size*2),ye.head=new s.Buf16(ye.hash_size),ye.prev=new s.Buf16(ye.w_size),ye.lit_bufsize=1<<F+6,ye.pending_buf_size=ye.lit_bufsize*4,ye.pending_buf=new s.Buf8(ye.pending_buf_size),ye.d_buf=1*ye.lit_bufsize,ye.l_buf=3*ye.lit_bufsize,ye.level=P,ye.strategy=G,ye.method=j,fe(l)}function te(l,P){return U(l,P,$,Y,ue,D)}function f(l,P){var j,w,F,G;if(!l||!l.state||P>R||P<0)return l?he(l,g):g;if(w=l.state,!l.output||!l.input&&l.avail_in!==0||w.status===B&&P!==v)return he(l,l.avail_out===0?x:g);if(w.strm=l,j=w.last_flush,w.last_flush=P,w.status===Je)if(w.wrap===2)l.adler=0,re(w,31),re(w,139),re(w,8),w.gzhead?(re(w,(w.gzhead.text?1:0)+(w.gzhead.hcrc?2:0)+(w.gzhead.extra?4:0)+(w.gzhead.name?8:0)+(w.gzhead.comment?16:0)),re(w,w.gzhead.time&255),re(w,w.gzhead.time>>8&255),re(w,w.gzhead.time>>16&255),re(w,w.gzhead.time>>24&255),re(w,w.level===9?2:w.strategy>=T||w.level<2?4:0),re(w,w.gzhead.os&255),w.gzhead.extra&&w.gzhead.extra.length&&(re(w,w.gzhead.extra.length&255),re(w,w.gzhead.extra.length>>8&255)),w.gzhead.hcrc&&(l.adler=u(l.adler,w.pending_buf,w.pending,0)),w.gzindex=0,w.status=He):(re(w,0),re(w,0),re(w,0),re(w,0),re(w,0),re(w,w.level===9?2:w.strategy>=T||w.level<2?4:0),re(w,X),w.status=Pe);else{var De=$+(w.w_bits-8<<4)<<8,ye=-1;w.strategy>=T||w.level<2?ye=0:w.level<6?ye=1:w.level===6?ye=2:ye=3,De|=ye<<6,w.strstart!==0&&(De|=je),De+=31-De%31,w.status=Pe,Ce(w,De),w.strstart!==0&&(Ce(w,l.adler>>>16),Ce(w,l.adler&65535)),l.adler=1}if(w.status===He)if(w.gzhead.extra){for(F=w.pending;w.gzindex<(w.gzhead.extra.length&65535)&&!(w.pending===w.pending_buf_size&&(w.gzhead.hcrc&&w.pending>F&&(l.adler=u(l.adler,w.pending_buf,w.pending-F,F)),K(l),F=w.pending,w.pending===w.pending_buf_size));)re(w,w.gzhead.extra[w.gzindex]&255),w.gzindex++;w.gzhead.hcrc&&w.pending>F&&(l.adler=u(l.adler,w.pending_buf,w.pending-F,F)),w.gzindex===w.gzhead.extra.length&&(w.gzindex=0,w.status=ke)}else w.status=ke;if(w.status===ke)if(w.gzhead.name){F=w.pending;do{if(w.pending===w.pending_buf_size&&(w.gzhead.hcrc&&w.pending>F&&(l.adler=u(l.adler,w.pending_buf,w.pending-F,F)),K(l),F=w.pending,w.pending===w.pending_buf_size)){G=1;break}w.gzindex<w.gzhead.name.length?G=w.gzhead.name.charCodeAt(w.gzindex++)&255:G=0,re(w,G)}while(G!==0);w.gzhead.hcrc&&w.pending>F&&(l.adler=u(l.adler,w.pending_buf,w.pending-F,F)),G===0&&(w.gzindex=0,w.status=Ye)}else w.status=Ye;if(w.status===Ye)if(w.gzhead.comment){F=w.pending;do{if(w.pending===w.pending_buf_size&&(w.gzhead.hcrc&&w.pending>F&&(l.adler=u(l.adler,w.pending_buf,w.pending-F,F)),K(l),F=w.pending,w.pending===w.pending_buf_size)){G=1;break}w.gzindex<w.gzhead.comment.length?G=w.gzhead.comment.charCodeAt(w.gzindex++)&255:G=0,re(w,G)}while(G!==0);w.gzhead.hcrc&&w.pending>F&&(l.adler=u(l.adler,w.pending_buf,w.pending-F,F)),G===0&&(w.status=Ke)}else w.status=Ke;if(w.status===Ke&&(w.gzhead.hcrc?(w.pending+2>w.pending_buf_size&&K(l),w.pending+2<=w.pending_buf_size&&(re(w,l.adler&255),re(w,l.adler>>8&255),l.adler=0,w.status=Pe)):w.status=Pe),w.pending!==0){if(K(l),l.avail_out===0)return w.last_flush=-1,E}else if(l.avail_in===0&&le(P)<=le(j)&&P!==v)return he(l,x);if(w.status===B&&l.avail_in!==0)return he(l,x);if(l.avail_in!==0||w.lookahead!==0||P!==c&&w.status!==B){var Ee=w.strategy===T?ut(w,P):w.strategy===I?ft(w,P):mt[w.level].func(w,P);if((Ee===ie||Ee===J)&&(w.status=B),Ee===M||Ee===ie)return l.avail_out===0&&(w.last_flush=-1),E;if(Ee===Z&&(P===d?a._tr_align(w):P!==R&&(a._tr_stored_block(w,0,0,!1),P===b&&(ae(w.head),w.lookahead===0&&(w.strstart=0,w.block_start=0,w.insert=0))),K(l),l.avail_out===0))return w.last_flush=-1,E}return P!==v?E:w.wrap<=0?p:(w.wrap===2?(re(w,l.adler&255),re(w,l.adler>>8&255),re(w,l.adler>>16&255),re(w,l.adler>>24&255),re(w,l.total_in&255),re(w,l.total_in>>8&255),re(w,l.total_in>>16&255),re(w,l.total_in>>24&255)):(Ce(w,l.adler>>>16),Ce(w,l.adler&65535)),K(l),w.wrap>0&&(w.wrap=-w.wrap),w.pending!==0?E:p)}function y(l){var P;return!l||!l.state?g:(P=l.state.status,P!==Je&&P!==He&&P!==ke&&P!==Ye&&P!==Ke&&P!==Pe&&P!==B?he(l,g):(l.state=null,P===Pe?he(l,m):E))}function L(l,P){var j=P.length,w,F,G,De,ye,Ee,Oe,_t;if(!l||!l.state||(w=l.state,De=w.wrap,De===2||De===1&&w.status!==Je||w.lookahead))return g;for(De===1&&(l.adler=o(l.adler,P,j,0)),w.wrap=0,j>=w.w_size&&(De===0&&(ae(w.head),w.strstart=0,w.block_start=0,w.insert=0),_t=new s.Buf8(w.w_size),s.arraySet(_t,P,j-w.w_size,w.w_size,0),P=_t,j=w.w_size),ye=l.avail_in,Ee=l.next_in,Oe=l.input,l.avail_in=j,l.next_in=0,l.input=P,Ie(w);w.lookahead>=we;){F=w.strstart,G=w.lookahead-(we-1);do w.ins_h=(w.ins_h<<w.hash_shift^w.window[F+we-1])&w.hash_mask,w.prev[F&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=F,F++;while(--G);w.strstart=F,w.lookahead=we-1,Ie(w)}return w.strstart+=w.lookahead,w.block_start=w.strstart,w.insert=w.lookahead,w.lookahead=0,w.match_length=w.prev_length=we-1,w.match_available=0,l.next_in=Ee,l.input=Oe,l.avail_in=ye,w.wrap=De,E}n.deflateInit=te,n.deflateInit2=U,n.deflateReset=fe,n.deflateResetKeep=se,n.deflateSetHeader=Ae,n.deflate=f,n.deflateEnd=y,n.deflateSetDictionary=L,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,i,n){function s(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}i.exports=s},{}],48:[function(t,i,n){var s=30,a=12;i.exports=function(u,h){var c,d,b,v,R,E,p,g,m,x,S,_,T,I,N,D,O,$,H,Y,ue,oe,pe,Q,ee;c=u.state,d=u.next_in,Q=u.input,b=d+(u.avail_in-5),v=u.next_out,ee=u.output,R=v-(h-u.avail_out),E=v+(u.avail_out-257),p=c.dmax,g=c.wsize,m=c.whave,x=c.wnext,S=c.window,_=c.hold,T=c.bits,I=c.lencode,N=c.distcode,D=(1<<c.lenbits)-1,O=(1<<c.distbits)-1;e:do{T<15&&(_+=Q[d++]<<T,T+=8,_+=Q[d++]<<T,T+=8),$=I[_&D];t:for(;;){if(H=$>>>24,_>>>=H,T-=H,H=$>>>16&255,H===0)ee[v++]=$&65535;else if(H&16){Y=$&65535,H&=15,H&&(T<H&&(_+=Q[d++]<<T,T+=8),Y+=_&(1<<H)-1,_>>>=H,T-=H),T<15&&(_+=Q[d++]<<T,T+=8,_+=Q[d++]<<T,T+=8),$=N[_&O];i:for(;;){if(H=$>>>24,_>>>=H,T-=H,H=$>>>16&255,H&16){if(ue=$&65535,H&=15,T<H&&(_+=Q[d++]<<T,T+=8,T<H&&(_+=Q[d++]<<T,T+=8)),ue+=_&(1<<H)-1,ue>p){u.msg="invalid distance too far back",c.mode=s;break e}if(_>>>=H,T-=H,H=v-R,ue>H){if(H=ue-H,H>m&&c.sane){u.msg="invalid distance too far back",c.mode=s;break e}if(oe=0,pe=S,x===0){if(oe+=g-H,H<Y){Y-=H;do ee[v++]=S[oe++];while(--H);oe=v-ue,pe=ee}}else if(x<H){if(oe+=g+x-H,H-=x,H<Y){Y-=H;do ee[v++]=S[oe++];while(--H);if(oe=0,x<Y){H=x,Y-=H;do ee[v++]=S[oe++];while(--H);oe=v-ue,pe=ee}}}else if(oe+=x-H,H<Y){Y-=H;do ee[v++]=S[oe++];while(--H);oe=v-ue,pe=ee}for(;Y>2;)ee[v++]=pe[oe++],ee[v++]=pe[oe++],ee[v++]=pe[oe++],Y-=3;Y&&(ee[v++]=pe[oe++],Y>1&&(ee[v++]=pe[oe++]))}else{oe=v-ue;do ee[v++]=ee[oe++],ee[v++]=ee[oe++],ee[v++]=ee[oe++],Y-=3;while(Y>2);Y&&(ee[v++]=ee[oe++],Y>1&&(ee[v++]=ee[oe++]))}}else if((H&64)===0){$=N[($&65535)+(_&(1<<H)-1)];continue i}else{u.msg="invalid distance code",c.mode=s;break e}break}}else if((H&64)===0){$=I[($&65535)+(_&(1<<H)-1)];continue t}else if(H&32){c.mode=a;break e}else{u.msg="invalid literal/length code",c.mode=s;break e}break}}while(d<b&&v<E);Y=T>>3,d-=Y,T-=Y<<3,_&=(1<<T)-1,u.next_in=d,u.next_out=v,u.avail_in=d<b?5+(b-d):5-(d-b),u.avail_out=v<E?257+(E-v):257-(v-E),c.hold=_,c.bits=T}},{}],49:[function(t,i,n){var s=t("../utils/common"),a=t("./adler32"),o=t("./crc32"),u=t("./inffast"),h=t("./inftrees"),c=0,d=1,b=2,v=4,R=5,E=6,p=0,g=1,m=2,x=-2,S=-3,_=-4,T=-5,I=8,N=1,D=2,O=3,$=4,H=5,Y=6,ue=7,oe=8,pe=9,Q=10,ee=11,be=12,Le=13,ge=14,we=15,Me=16,Re=17,je=18,Je=19,He=20,ke=21,Ye=22,Ke=23,Pe=24,B=25,M=26,Z=27,ie=28,J=29,X=30,he=31,le=32,ae=852,K=592,de=15,re=de;function Ce(U){return(U>>>24&255)+(U>>>8&65280)+((U&65280)<<8)+((U&255)<<24)}function Te(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ne(U){var te;return!U||!U.state?x:(te=U.state,U.total_in=U.total_out=te.total=0,U.msg="",te.wrap&&(U.adler=te.wrap&1),te.mode=N,te.last=0,te.havedict=0,te.dmax=32768,te.head=null,te.hold=0,te.bits=0,te.lencode=te.lendyn=new s.Buf32(ae),te.distcode=te.distdyn=new s.Buf32(K),te.sane=1,te.back=-1,p)}function Ie(U){var te;return!U||!U.state?x:(te=U.state,te.wsize=0,te.whave=0,te.wnext=0,Ne(U))}function ze(U,te){var f,y;return!U||!U.state||(y=U.state,te<0?(f=0,te=-te):(f=(te>>4)+1,te<48&&(te&=15)),te&&(te<8||te>15))?x:(y.window!==null&&y.wbits!==te&&(y.window=null),y.wrap=f,y.wbits=te,Ie(U))}function it(U,te){var f,y;return U?(y=new Te,U.state=y,y.window=null,f=ze(U,te),f!==p&&(U.state=null),f):x}function Xe(U){return it(U,re)}var ft=!0,ut,nt;function mt(U){if(ft){var te;for(ut=new s.Buf32(512),nt=new s.Buf32(32),te=0;te<144;)U.lens[te++]=8;for(;te<256;)U.lens[te++]=9;for(;te<280;)U.lens[te++]=7;for(;te<288;)U.lens[te++]=8;for(h(d,U.lens,0,288,ut,0,U.work,{bits:9}),te=0;te<32;)U.lens[te++]=5;h(b,U.lens,0,32,nt,0,U.work,{bits:5}),ft=!1}U.lencode=ut,U.lenbits=9,U.distcode=nt,U.distbits=5}function ht(U,te,f,y){var L,l=U.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new s.Buf8(l.wsize)),y>=l.wsize?(s.arraySet(l.window,te,f-l.wsize,l.wsize,0),l.wnext=0,l.whave=l.wsize):(L=l.wsize-l.wnext,L>y&&(L=y),s.arraySet(l.window,te,f-y,L,l.wnext),y-=L,y?(s.arraySet(l.window,te,f-y,y,0),l.wnext=y,l.whave=l.wsize):(l.wnext+=L,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=L))),0}function A(U,te){var f,y,L,l,P,j,w,F,G,De,ye,Ee,Oe,_t,Ve=0,Fe,st,$e,wt,Pt,si,dt,It,Et=new s.Buf8(4),Vt,zt,kr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return x;f=U.state,f.mode===be&&(f.mode=Le),P=U.next_out,L=U.output,w=U.avail_out,l=U.next_in,y=U.input,j=U.avail_in,F=f.hold,G=f.bits,De=j,ye=w,It=p;e:for(;;)switch(f.mode){case N:if(f.wrap===0){f.mode=Le;break}for(;G<16;){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}if(f.wrap&2&&F===35615){f.check=0,Et[0]=F&255,Et[1]=F>>>8&255,f.check=o(f.check,Et,2,0),F=0,G=0,f.mode=D;break}if(f.flags=0,f.head&&(f.head.done=!1),!(f.wrap&1)||(((F&255)<<8)+(F>>8))%31){U.msg="incorrect header check",f.mode=X;break}if((F&15)!==I){U.msg="unknown compression method",f.mode=X;break}if(F>>>=4,G-=4,dt=(F&15)+8,f.wbits===0)f.wbits=dt;else if(dt>f.wbits){U.msg="invalid window size",f.mode=X;break}f.dmax=1<<dt,U.adler=f.check=1,f.mode=F&512?Q:be,F=0,G=0;break;case D:for(;G<16;){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}if(f.flags=F,(f.flags&255)!==I){U.msg="unknown compression method",f.mode=X;break}if(f.flags&57344){U.msg="unknown header flags set",f.mode=X;break}f.head&&(f.head.text=F>>8&1),f.flags&512&&(Et[0]=F&255,Et[1]=F>>>8&255,f.check=o(f.check,Et,2,0)),F=0,G=0,f.mode=O;case O:for(;G<32;){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}f.head&&(f.head.time=F),f.flags&512&&(Et[0]=F&255,Et[1]=F>>>8&255,Et[2]=F>>>16&255,Et[3]=F>>>24&255,f.check=o(f.check,Et,4,0)),F=0,G=0,f.mode=$;case $:for(;G<16;){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}f.head&&(f.head.xflags=F&255,f.head.os=F>>8),f.flags&512&&(Et[0]=F&255,Et[1]=F>>>8&255,f.check=o(f.check,Et,2,0)),F=0,G=0,f.mode=H;case H:if(f.flags&1024){for(;G<16;){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}f.length=F,f.head&&(f.head.extra_len=F),f.flags&512&&(Et[0]=F&255,Et[1]=F>>>8&255,f.check=o(f.check,Et,2,0)),F=0,G=0}else f.head&&(f.head.extra=null);f.mode=Y;case Y:if(f.flags&1024&&(Ee=f.length,Ee>j&&(Ee=j),Ee&&(f.head&&(dt=f.head.extra_len-f.length,f.head.extra||(f.head.extra=new Array(f.head.extra_len)),s.arraySet(f.head.extra,y,l,Ee,dt)),f.flags&512&&(f.check=o(f.check,y,Ee,l)),j-=Ee,l+=Ee,f.length-=Ee),f.length))break e;f.length=0,f.mode=ue;case ue:if(f.flags&2048){if(j===0)break e;Ee=0;do dt=y[l+Ee++],f.head&&dt&&f.length<65536&&(f.head.name+=String.fromCharCode(dt));while(dt&&Ee<j);if(f.flags&512&&(f.check=o(f.check,y,Ee,l)),j-=Ee,l+=Ee,dt)break e}else f.head&&(f.head.name=null);f.length=0,f.mode=oe;case oe:if(f.flags&4096){if(j===0)break e;Ee=0;do dt=y[l+Ee++],f.head&&dt&&f.length<65536&&(f.head.comment+=String.fromCharCode(dt));while(dt&&Ee<j);if(f.flags&512&&(f.check=o(f.check,y,Ee,l)),j-=Ee,l+=Ee,dt)break e}else f.head&&(f.head.comment=null);f.mode=pe;case pe:if(f.flags&512){for(;G<16;){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}if(F!==(f.check&65535)){U.msg="header crc mismatch",f.mode=X;break}F=0,G=0}f.head&&(f.head.hcrc=f.flags>>9&1,f.head.done=!0),U.adler=f.check=0,f.mode=be;break;case Q:for(;G<32;){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}U.adler=f.check=Ce(F),F=0,G=0,f.mode=ee;case ee:if(f.havedict===0)return U.next_out=P,U.avail_out=w,U.next_in=l,U.avail_in=j,f.hold=F,f.bits=G,m;U.adler=f.check=1,f.mode=be;case be:if(te===R||te===E)break e;case Le:if(f.last){F>>>=G&7,G-=G&7,f.mode=Z;break}for(;G<3;){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}switch(f.last=F&1,F>>>=1,G-=1,F&3){case 0:f.mode=ge;break;case 1:if(mt(f),f.mode=He,te===E){F>>>=2,G-=2;break e}break;case 2:f.mode=Re;break;case 3:U.msg="invalid block type",f.mode=X}F>>>=2,G-=2;break;case ge:for(F>>>=G&7,G-=G&7;G<32;){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}if((F&65535)!==(F>>>16^65535)){U.msg="invalid stored block lengths",f.mode=X;break}if(f.length=F&65535,F=0,G=0,f.mode=we,te===E)break e;case we:f.mode=Me;case Me:if(Ee=f.length,Ee){if(Ee>j&&(Ee=j),Ee>w&&(Ee=w),Ee===0)break e;s.arraySet(L,y,l,Ee,P),j-=Ee,l+=Ee,w-=Ee,P+=Ee,f.length-=Ee;break}f.mode=be;break;case Re:for(;G<14;){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}if(f.nlen=(F&31)+257,F>>>=5,G-=5,f.ndist=(F&31)+1,F>>>=5,G-=5,f.ncode=(F&15)+4,F>>>=4,G-=4,f.nlen>286||f.ndist>30){U.msg="too many length or distance symbols",f.mode=X;break}f.have=0,f.mode=je;case je:for(;f.have<f.ncode;){for(;G<3;){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}f.lens[kr[f.have++]]=F&7,F>>>=3,G-=3}for(;f.have<19;)f.lens[kr[f.have++]]=0;if(f.lencode=f.lendyn,f.lenbits=7,Vt={bits:f.lenbits},It=h(c,f.lens,0,19,f.lencode,0,f.work,Vt),f.lenbits=Vt.bits,It){U.msg="invalid code lengths set",f.mode=X;break}f.have=0,f.mode=Je;case Je:for(;f.have<f.nlen+f.ndist;){for(;Ve=f.lencode[F&(1<<f.lenbits)-1],Fe=Ve>>>24,st=Ve>>>16&255,$e=Ve&65535,!(Fe<=G);){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}if($e<16)F>>>=Fe,G-=Fe,f.lens[f.have++]=$e;else{if($e===16){for(zt=Fe+2;G<zt;){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}if(F>>>=Fe,G-=Fe,f.have===0){U.msg="invalid bit length repeat",f.mode=X;break}dt=f.lens[f.have-1],Ee=3+(F&3),F>>>=2,G-=2}else if($e===17){for(zt=Fe+3;G<zt;){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}F>>>=Fe,G-=Fe,dt=0,Ee=3+(F&7),F>>>=3,G-=3}else{for(zt=Fe+7;G<zt;){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}F>>>=Fe,G-=Fe,dt=0,Ee=11+(F&127),F>>>=7,G-=7}if(f.have+Ee>f.nlen+f.ndist){U.msg="invalid bit length repeat",f.mode=X;break}for(;Ee--;)f.lens[f.have++]=dt}}if(f.mode===X)break;if(f.lens[256]===0){U.msg="invalid code -- missing end-of-block",f.mode=X;break}if(f.lenbits=9,Vt={bits:f.lenbits},It=h(d,f.lens,0,f.nlen,f.lencode,0,f.work,Vt),f.lenbits=Vt.bits,It){U.msg="invalid literal/lengths set",f.mode=X;break}if(f.distbits=6,f.distcode=f.distdyn,Vt={bits:f.distbits},It=h(b,f.lens,f.nlen,f.ndist,f.distcode,0,f.work,Vt),f.distbits=Vt.bits,It){U.msg="invalid distances set",f.mode=X;break}if(f.mode=He,te===E)break e;case He:f.mode=ke;case ke:if(j>=6&&w>=258){U.next_out=P,U.avail_out=w,U.next_in=l,U.avail_in=j,f.hold=F,f.bits=G,u(U,ye),P=U.next_out,L=U.output,w=U.avail_out,l=U.next_in,y=U.input,j=U.avail_in,F=f.hold,G=f.bits,f.mode===be&&(f.back=-1);break}for(f.back=0;Ve=f.lencode[F&(1<<f.lenbits)-1],Fe=Ve>>>24,st=Ve>>>16&255,$e=Ve&65535,!(Fe<=G);){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}if(st&&(st&240)===0){for(wt=Fe,Pt=st,si=$e;Ve=f.lencode[si+((F&(1<<wt+Pt)-1)>>wt)],Fe=Ve>>>24,st=Ve>>>16&255,$e=Ve&65535,!(wt+Fe<=G);){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}F>>>=wt,G-=wt,f.back+=wt}if(F>>>=Fe,G-=Fe,f.back+=Fe,f.length=$e,st===0){f.mode=M;break}if(st&32){f.back=-1,f.mode=be;break}if(st&64){U.msg="invalid literal/length code",f.mode=X;break}f.extra=st&15,f.mode=Ye;case Ye:if(f.extra){for(zt=f.extra;G<zt;){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}f.length+=F&(1<<f.extra)-1,F>>>=f.extra,G-=f.extra,f.back+=f.extra}f.was=f.length,f.mode=Ke;case Ke:for(;Ve=f.distcode[F&(1<<f.distbits)-1],Fe=Ve>>>24,st=Ve>>>16&255,$e=Ve&65535,!(Fe<=G);){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}if((st&240)===0){for(wt=Fe,Pt=st,si=$e;Ve=f.distcode[si+((F&(1<<wt+Pt)-1)>>wt)],Fe=Ve>>>24,st=Ve>>>16&255,$e=Ve&65535,!(wt+Fe<=G);){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}F>>>=wt,G-=wt,f.back+=wt}if(F>>>=Fe,G-=Fe,f.back+=Fe,st&64){U.msg="invalid distance code",f.mode=X;break}f.offset=$e,f.extra=st&15,f.mode=Pe;case Pe:if(f.extra){for(zt=f.extra;G<zt;){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}f.offset+=F&(1<<f.extra)-1,F>>>=f.extra,G-=f.extra,f.back+=f.extra}if(f.offset>f.dmax){U.msg="invalid distance too far back",f.mode=X;break}f.mode=B;case B:if(w===0)break e;if(Ee=ye-w,f.offset>Ee){if(Ee=f.offset-Ee,Ee>f.whave&&f.sane){U.msg="invalid distance too far back",f.mode=X;break}Ee>f.wnext?(Ee-=f.wnext,Oe=f.wsize-Ee):Oe=f.wnext-Ee,Ee>f.length&&(Ee=f.length),_t=f.window}else _t=L,Oe=P-f.offset,Ee=f.length;Ee>w&&(Ee=w),w-=Ee,f.length-=Ee;do L[P++]=_t[Oe++];while(--Ee);f.length===0&&(f.mode=ke);break;case M:if(w===0)break e;L[P++]=f.length,w--,f.mode=ke;break;case Z:if(f.wrap){for(;G<32;){if(j===0)break e;j--,F|=y[l++]<<G,G+=8}if(ye-=w,U.total_out+=ye,f.total+=ye,ye&&(U.adler=f.check=f.flags?o(f.check,L,ye,P-ye):a(f.check,L,ye,P-ye)),ye=w,(f.flags?F:Ce(F))!==f.check){U.msg="incorrect data check",f.mode=X;break}F=0,G=0}f.mode=ie;case ie:if(f.wrap&&f.flags){for(;G<32;){if(j===0)break e;j--,F+=y[l++]<<G,G+=8}if(F!==(f.total&4294967295)){U.msg="incorrect length check",f.mode=X;break}F=0,G=0}f.mode=J;case J:It=g;break e;case X:It=S;break e;case he:return _;case le:default:return x}return U.next_out=P,U.avail_out=w,U.next_in=l,U.avail_in=j,f.hold=F,f.bits=G,(f.wsize||ye!==U.avail_out&&f.mode<X&&(f.mode<Z||te!==v))&&ht(U,U.output,U.next_out,ye-U.avail_out),De-=U.avail_in,ye-=U.avail_out,U.total_in+=De,U.total_out+=ye,f.total+=ye,f.wrap&&ye&&(U.adler=f.check=f.flags?o(f.check,L,ye,U.next_out-ye):a(f.check,L,ye,U.next_out-ye)),U.data_type=f.bits+(f.last?64:0)+(f.mode===be?128:0)+(f.mode===He||f.mode===we?256:0),(De===0&&ye===0||te===v)&&It===p&&(It=T),It}function se(U){if(!U||!U.state)return x;var te=U.state;return te.window&&(te.window=null),U.state=null,p}function fe(U,te){var f;return!U||!U.state||(f=U.state,(f.wrap&2)===0)?x:(f.head=te,te.done=!1,p)}function Ae(U,te){var f=te.length,y,L,l;return!U||!U.state||(y=U.state,y.wrap!==0&&y.mode!==ee)?x:y.mode===ee&&(L=1,L=a(L,te,f,0),L!==y.check)?S:(l=ht(U,te,f,f),l?(y.mode=he,_):(y.havedict=1,p))}n.inflateReset=Ie,n.inflateReset2=ze,n.inflateResetKeep=Ne,n.inflateInit=Xe,n.inflateInit2=it,n.inflate=A,n.inflateEnd=se,n.inflateGetHeader=fe,n.inflateSetDictionary=Ae,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,i,n){var s=t("../utils/common"),a=15,o=852,u=592,h=0,c=1,d=2,b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],R=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],E=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(g,m,x,S,_,T,I,N){var D=N.bits,O=0,$=0,H=0,Y=0,ue=0,oe=0,pe=0,Q=0,ee=0,be=0,Le,ge,we,Me,Re,je=null,Je=0,He,ke=new s.Buf16(a+1),Ye=new s.Buf16(a+1),Ke=null,Pe=0,B,M,Z;for(O=0;O<=a;O++)ke[O]=0;for($=0;$<S;$++)ke[m[x+$]]++;for(ue=D,Y=a;Y>=1&&ke[Y]===0;Y--);if(ue>Y&&(ue=Y),Y===0)return _[T++]=1<<24|64<<16|0,_[T++]=1<<24|64<<16|0,N.bits=1,0;for(H=1;H<Y&&ke[H]===0;H++);for(ue<H&&(ue=H),Q=1,O=1;O<=a;O++)if(Q<<=1,Q-=ke[O],Q<0)return-1;if(Q>0&&(g===h||Y!==1))return-1;for(Ye[1]=0,O=1;O<a;O++)Ye[O+1]=Ye[O]+ke[O];for($=0;$<S;$++)m[x+$]!==0&&(I[Ye[m[x+$]]++]=$);if(g===h?(je=Ke=I,He=19):g===c?(je=b,Je-=257,Ke=v,Pe-=257,He=256):(je=R,Ke=E,He=-1),be=0,$=0,O=H,Re=T,oe=ue,pe=0,we=-1,ee=1<<ue,Me=ee-1,g===c&&ee>o||g===d&&ee>u)return 1;for(;;){B=O-pe,I[$]<He?(M=0,Z=I[$]):I[$]>He?(M=Ke[Pe+I[$]],Z=je[Je+I[$]]):(M=96,Z=0),Le=1<<O-pe,ge=1<<oe,H=ge;do ge-=Le,_[Re+(be>>pe)+ge]=B<<24|M<<16|Z|0;while(ge!==0);for(Le=1<<O-1;be&Le;)Le>>=1;if(Le!==0?(be&=Le-1,be+=Le):be=0,$++,--ke[O]===0){if(O===Y)break;O=m[x+I[$]]}if(O>ue&&(be&Me)!==we){for(pe===0&&(pe=ue),Re+=H,oe=O-pe,Q=1<<oe;oe+pe<Y&&(Q-=ke[oe+pe],!(Q<=0));)oe++,Q<<=1;if(ee+=1<<oe,g===c&&ee>o||g===d&&ee>u)return 1;we=be&Me,_[we]=ue<<24|oe<<16|Re-T|0}}return be!==0&&(_[Re+be]=O-pe<<24|64<<16|0),N.bits=ue,0}},{"../utils/common":41}],51:[function(t,i,n){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,i,n){var s=t("../utils/common"),a=4,o=0,u=1,h=2;function c(A){for(var se=A.length;--se>=0;)A[se]=0}var d=0,b=1,v=2,R=3,E=258,p=29,g=256,m=g+1+p,x=30,S=19,_=2*m+1,T=15,I=16,N=7,D=256,O=16,$=17,H=18,Y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ue=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=512,ee=new Array((m+2)*2);c(ee);var be=new Array(x*2);c(be);var Le=new Array(Q);c(Le);var ge=new Array(E-R+1);c(ge);var we=new Array(p);c(we);var Me=new Array(x);c(Me);function Re(A,se,fe,Ae,U){this.static_tree=A,this.extra_bits=se,this.extra_base=fe,this.elems=Ae,this.max_length=U,this.has_stree=A&&A.length}var je,Je,He;function ke(A,se){this.dyn_tree=A,this.max_code=0,this.stat_desc=se}function Ye(A){return A<256?Le[A]:Le[256+(A>>>7)]}function Ke(A,se){A.pending_buf[A.pending++]=se&255,A.pending_buf[A.pending++]=se>>>8&255}function Pe(A,se,fe){A.bi_valid>I-fe?(A.bi_buf|=se<<A.bi_valid&65535,Ke(A,A.bi_buf),A.bi_buf=se>>I-A.bi_valid,A.bi_valid+=fe-I):(A.bi_buf|=se<<A.bi_valid&65535,A.bi_valid+=fe)}function B(A,se,fe){Pe(A,fe[se*2],fe[se*2+1])}function M(A,se){var fe=0;do fe|=A&1,A>>>=1,fe<<=1;while(--se>0);return fe>>>1}function Z(A){A.bi_valid===16?(Ke(A,A.bi_buf),A.bi_buf=0,A.bi_valid=0):A.bi_valid>=8&&(A.pending_buf[A.pending++]=A.bi_buf&255,A.bi_buf>>=8,A.bi_valid-=8)}function ie(A,se){var fe=se.dyn_tree,Ae=se.max_code,U=se.stat_desc.static_tree,te=se.stat_desc.has_stree,f=se.stat_desc.extra_bits,y=se.stat_desc.extra_base,L=se.stat_desc.max_length,l,P,j,w,F,G,De=0;for(w=0;w<=T;w++)A.bl_count[w]=0;for(fe[A.heap[A.heap_max]*2+1]=0,l=A.heap_max+1;l<_;l++)P=A.heap[l],w=fe[fe[P*2+1]*2+1]+1,w>L&&(w=L,De++),fe[P*2+1]=w,!(P>Ae)&&(A.bl_count[w]++,F=0,P>=y&&(F=f[P-y]),G=fe[P*2],A.opt_len+=G*(w+F),te&&(A.static_len+=G*(U[P*2+1]+F)));if(De!==0){do{for(w=L-1;A.bl_count[w]===0;)w--;A.bl_count[w]--,A.bl_count[w+1]+=2,A.bl_count[L]--,De-=2}while(De>0);for(w=L;w!==0;w--)for(P=A.bl_count[w];P!==0;)j=A.heap[--l],!(j>Ae)&&(fe[j*2+1]!==w&&(A.opt_len+=(w-fe[j*2+1])*fe[j*2],fe[j*2+1]=w),P--)}}function J(A,se,fe){var Ae=new Array(T+1),U=0,te,f;for(te=1;te<=T;te++)Ae[te]=U=U+fe[te-1]<<1;for(f=0;f<=se;f++){var y=A[f*2+1];y!==0&&(A[f*2]=M(Ae[y]++,y))}}function X(){var A,se,fe,Ae,U,te=new Array(T+1);for(fe=0,Ae=0;Ae<p-1;Ae++)for(we[Ae]=fe,A=0;A<1<<Y[Ae];A++)ge[fe++]=Ae;for(ge[fe-1]=Ae,U=0,Ae=0;Ae<16;Ae++)for(Me[Ae]=U,A=0;A<1<<ue[Ae];A++)Le[U++]=Ae;for(U>>=7;Ae<x;Ae++)for(Me[Ae]=U<<7,A=0;A<1<<ue[Ae]-7;A++)Le[256+U++]=Ae;for(se=0;se<=T;se++)te[se]=0;for(A=0;A<=143;)ee[A*2+1]=8,A++,te[8]++;for(;A<=255;)ee[A*2+1]=9,A++,te[9]++;for(;A<=279;)ee[A*2+1]=7,A++,te[7]++;for(;A<=287;)ee[A*2+1]=8,A++,te[8]++;for(J(ee,m+1,te),A=0;A<x;A++)be[A*2+1]=5,be[A*2]=M(A,5);je=new Re(ee,Y,g+1,m,T),Je=new Re(be,ue,0,x,T),He=new Re(new Array(0),oe,0,S,N)}function he(A){var se;for(se=0;se<m;se++)A.dyn_ltree[se*2]=0;for(se=0;se<x;se++)A.dyn_dtree[se*2]=0;for(se=0;se<S;se++)A.bl_tree[se*2]=0;A.dyn_ltree[D*2]=1,A.opt_len=A.static_len=0,A.last_lit=A.matches=0}function le(A){A.bi_valid>8?Ke(A,A.bi_buf):A.bi_valid>0&&(A.pending_buf[A.pending++]=A.bi_buf),A.bi_buf=0,A.bi_valid=0}function ae(A,se,fe,Ae){le(A),Ke(A,fe),Ke(A,~fe),s.arraySet(A.pending_buf,A.window,se,fe,A.pending),A.pending+=fe}function K(A,se,fe,Ae){var U=se*2,te=fe*2;return A[U]<A[te]||A[U]===A[te]&&Ae[se]<=Ae[fe]}function de(A,se,fe){for(var Ae=A.heap[fe],U=fe<<1;U<=A.heap_len&&(U<A.heap_len&&K(se,A.heap[U+1],A.heap[U],A.depth)&&U++,!K(se,Ae,A.heap[U],A.depth));)A.heap[fe]=A.heap[U],fe=U,U<<=1;A.heap[fe]=Ae}function re(A,se,fe){var Ae,U,te=0,f,y;if(A.last_lit!==0)do Ae=A.pending_buf[A.d_buf+te*2]<<8|A.pending_buf[A.d_buf+te*2+1],U=A.pending_buf[A.l_buf+te],te++,Ae===0?B(A,U,se):(f=ge[U],B(A,f+g+1,se),y=Y[f],y!==0&&(U-=we[f],Pe(A,U,y)),Ae--,f=Ye(Ae),B(A,f,fe),y=ue[f],y!==0&&(Ae-=Me[f],Pe(A,Ae,y)));while(te<A.last_lit);B(A,D,se)}function Ce(A,se){var fe=se.dyn_tree,Ae=se.stat_desc.static_tree,U=se.stat_desc.has_stree,te=se.stat_desc.elems,f,y,L=-1,l;for(A.heap_len=0,A.heap_max=_,f=0;f<te;f++)fe[f*2]!==0?(A.heap[++A.heap_len]=L=f,A.depth[f]=0):fe[f*2+1]=0;for(;A.heap_len<2;)l=A.heap[++A.heap_len]=L<2?++L:0,fe[l*2]=1,A.depth[l]=0,A.opt_len--,U&&(A.static_len-=Ae[l*2+1]);for(se.max_code=L,f=A.heap_len>>1;f>=1;f--)de(A,fe,f);l=te;do f=A.heap[1],A.heap[1]=A.heap[A.heap_len--],de(A,fe,1),y=A.heap[1],A.heap[--A.heap_max]=f,A.heap[--A.heap_max]=y,fe[l*2]=fe[f*2]+fe[y*2],A.depth[l]=(A.depth[f]>=A.depth[y]?A.depth[f]:A.depth[y])+1,fe[f*2+1]=fe[y*2+1]=l,A.heap[1]=l++,de(A,fe,1);while(A.heap_len>=2);A.heap[--A.heap_max]=A.heap[1],ie(A,se),J(fe,L,A.bl_count)}function Te(A,se,fe){var Ae,U=-1,te,f=se[1],y=0,L=7,l=4;for(f===0&&(L=138,l=3),se[(fe+1)*2+1]=65535,Ae=0;Ae<=fe;Ae++)te=f,f=se[(Ae+1)*2+1],!(++y<L&&te===f)&&(y<l?A.bl_tree[te*2]+=y:te!==0?(te!==U&&A.bl_tree[te*2]++,A.bl_tree[O*2]++):y<=10?A.bl_tree[$*2]++:A.bl_tree[H*2]++,y=0,U=te,f===0?(L=138,l=3):te===f?(L=6,l=3):(L=7,l=4))}function Ne(A,se,fe){var Ae,U=-1,te,f=se[1],y=0,L=7,l=4;for(f===0&&(L=138,l=3),Ae=0;Ae<=fe;Ae++)if(te=f,f=se[(Ae+1)*2+1],!(++y<L&&te===f)){if(y<l)do B(A,te,A.bl_tree);while(--y!==0);else te!==0?(te!==U&&(B(A,te,A.bl_tree),y--),B(A,O,A.bl_tree),Pe(A,y-3,2)):y<=10?(B(A,$,A.bl_tree),Pe(A,y-3,3)):(B(A,H,A.bl_tree),Pe(A,y-11,7));y=0,U=te,f===0?(L=138,l=3):te===f?(L=6,l=3):(L=7,l=4)}}function Ie(A){var se;for(Te(A,A.dyn_ltree,A.l_desc.max_code),Te(A,A.dyn_dtree,A.d_desc.max_code),Ce(A,A.bl_desc),se=S-1;se>=3&&A.bl_tree[pe[se]*2+1]===0;se--);return A.opt_len+=3*(se+1)+5+5+4,se}function ze(A,se,fe,Ae){var U;for(Pe(A,se-257,5),Pe(A,fe-1,5),Pe(A,Ae-4,4),U=0;U<Ae;U++)Pe(A,A.bl_tree[pe[U]*2+1],3);Ne(A,A.dyn_ltree,se-1),Ne(A,A.dyn_dtree,fe-1)}function it(A){var se=4093624447,fe;for(fe=0;fe<=31;fe++,se>>>=1)if(se&1&&A.dyn_ltree[fe*2]!==0)return o;if(A.dyn_ltree[18]!==0||A.dyn_ltree[20]!==0||A.dyn_ltree[26]!==0)return u;for(fe=32;fe<g;fe++)if(A.dyn_ltree[fe*2]!==0)return u;return o}var Xe=!1;function ft(A){Xe||(X(),Xe=!0),A.l_desc=new ke(A.dyn_ltree,je),A.d_desc=new ke(A.dyn_dtree,Je),A.bl_desc=new ke(A.bl_tree,He),A.bi_buf=0,A.bi_valid=0,he(A)}function ut(A,se,fe,Ae){Pe(A,(d<<1)+(Ae?1:0),3),ae(A,se,fe)}function nt(A){Pe(A,b<<1,3),B(A,D,ee),Z(A)}function mt(A,se,fe,Ae){var U,te,f=0;A.level>0?(A.strm.data_type===h&&(A.strm.data_type=it(A)),Ce(A,A.l_desc),Ce(A,A.d_desc),f=Ie(A),U=A.opt_len+3+7>>>3,te=A.static_len+3+7>>>3,te<=U&&(U=te)):U=te=fe+5,fe+4<=U&&se!==-1?ut(A,se,fe,Ae):A.strategy===a||te===U?(Pe(A,(b<<1)+(Ae?1:0),3),re(A,ee,be)):(Pe(A,(v<<1)+(Ae?1:0),3),ze(A,A.l_desc.max_code+1,A.d_desc.max_code+1,f+1),re(A,A.dyn_ltree,A.dyn_dtree)),he(A),Ae&&le(A)}function ht(A,se,fe){return A.pending_buf[A.d_buf+A.last_lit*2]=se>>>8&255,A.pending_buf[A.d_buf+A.last_lit*2+1]=se&255,A.pending_buf[A.l_buf+A.last_lit]=fe&255,A.last_lit++,se===0?A.dyn_ltree[fe*2]++:(A.matches++,se--,A.dyn_ltree[(ge[fe]+g+1)*2]++,A.dyn_dtree[Ye(se)*2]++),A.last_lit===A.lit_bufsize-1}n._tr_init=ft,n._tr_stored_block=ut,n._tr_flush_block=mt,n._tr_tally=ht,n._tr_align=nt},{"../utils/common":41}],53:[function(t,i,n){function s(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}i.exports=s},{}],54:[function(t,i,n){(function(s){(function(a,o){if(a.setImmediate)return;var u=1,h={},c=!1,d=a.document,b;function v(N){typeof N!="function"&&(N=new Function(""+N));for(var D=new Array(arguments.length-1),O=0;O<D.length;O++)D[O]=arguments[O+1];var $={callback:N,args:D};return h[u]=$,b(u),u++}function R(N){delete h[N]}function E(N){var D=N.callback,O=N.args;switch(O.length){case 0:D();break;case 1:D(O[0]);break;case 2:D(O[0],O[1]);break;case 3:D(O[0],O[1],O[2]);break;default:D.apply(o,O);break}}function p(N){if(c)setTimeout(p,0,N);else{var D=h[N];if(D){c=!0;try{E(D)}finally{R(N),c=!1}}}}function g(){b=function(N){process.nextTick(function(){p(N)})}}function m(){if(a.postMessage&&!a.importScripts){var N=!0,D=a.onmessage;return a.onmessage=function(){N=!1},a.postMessage("","*"),a.onmessage=D,N}}function x(){var N="setImmediate$"+Math.random()+"$",D=function(O){O.source===a&&typeof O.data=="string"&&O.data.indexOf(N)===0&&p(+O.data.slice(N.length))};a.addEventListener?a.addEventListener("message",D,!1):a.attachEvent("onmessage",D),b=function(O){a.postMessage(N+O,"*")}}function S(){var N=new MessageChannel;N.port1.onmessage=function(D){var O=D.data;p(O)},b=function(D){N.port2.postMessage(D)}}function _(){var N=d.documentElement;b=function(D){var O=d.createElement("script");O.onreadystatechange=function(){p(D),O.onreadystatechange=null,N.removeChild(O),O=null},N.appendChild(O)}}function T(){b=function(N){setTimeout(p,0,N)}}var I=Object.getPrototypeOf&&Object.getPrototypeOf(a);I=I&&I.setTimeout?I:a,{}.toString.call(a.process)==="[object process]"?g():m()?x():a.MessageChannel?S():d&&"onreadystatechange"in d.createElement("script")?_():T(),I.setImmediate=v,I.clearImmediate=R})(typeof self>"u"?typeof s>"u"?this:s:self)}).call(this,typeof Wt<"u"?Wt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Cs)),Cs.exports}var ep=Qd();const tp=er(ep);class ip{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new tp}catch{throw new Error("JSZip lib not loaded")}}open(e,t){return this.zip.loadAsync(e,{base64:t})}openUrl(e,t){return Ar(e,"binary").then((function(i){return this.zip.loadAsync(i,{base64:t})}).bind(this))}request(e,t){var i=new Ze,n,s=new gi(e);return t||(t=s.extension),t=="blob"?n=this.getBlob(e):n=this.getText(e),n?n.then((function(a){let o=this.handleResponse(a,t);i.resolve(o)}).bind(this)):i.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),i.promise}handleResponse(e,t){var i;return t=="json"?i=JSON.parse(e):Cr(t)?i=ii(e,"text/xml"):t=="xhtml"?i=ii(e,"application/xhtml+xml"):t=="html"||t=="htm"?i=ii(e,"text/html"):i=e,i}getBlob(e,t){var i=window.decodeURIComponent(e.substr(1)),n=this.zip.file(i);if(n)return t=t||Xi.lookup(n.name),n.async("uint8array").then(function(s){return new Blob([s],{type:t})})}getText(e,t){var i=window.decodeURIComponent(e.substr(1)),n=this.zip.file(i);if(n)return n.async("string").then(function(s){return s})}getBase64(e,t){var i=window.decodeURIComponent(e.substr(1)),n=this.zip.file(i);if(n)return t=t||Xi.lookup(n.name),n.async("base64").then(function(s){return"data:"+t+";base64,"+s})}createUrl(e,t){var i=new Ze,n=window.URL||window.webkitURL||window.mozURL,s,a,o=t&&t.base64;return e in this.urlCache?(i.resolve(this.urlCache[e]),i.promise):(o?(a=this.getBase64(e),a&&a.then((function(u){this.urlCache[e]=u,i.resolve(u)}).bind(this))):(a=this.getBlob(e),a&&a.then((function(u){s=n.createObjectURL(u),this.urlCache[e]=s,i.resolve(s)}).bind(this))),a||i.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),i.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[e];i&&t.revokeObjectURL(i)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.zip=void 0,this.urlCache={}}}var As={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Jo;function rp(){return Jo||(Jo=1,(function(r,e){(function(t){r.exports=t()})(function(){return(function t(i,n,s){function a(h,c){if(!n[h]){if(!i[h]){var d=typeof wi=="function"&&wi;if(!c&&d)return d(h,!0);if(o)return o(h,!0);var b=new Error("Cannot find module '"+h+"'");throw b.code="MODULE_NOT_FOUND",b}var v=n[h]={exports:{}};i[h][0].call(v.exports,function(R){var E=i[h][1][R];return a(E||R)},v,v.exports,t,i,n,s)}return n[h].exports}for(var o=typeof wi=="function"&&wi,u=0;u<s.length;u++)a(s[u]);return a})({1:[function(t,i,n){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var u=0,h=new a(R),c=s.document.createTextNode("");h.observe(c,{characterData:!0}),o=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=R,o=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var p=s.document.createElement("script");p.onreadystatechange=function(){R(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},s.document.documentElement.appendChild(p)}:o=function(){setTimeout(R,0)};var b,v=[];function R(){b=!0;for(var p,g,m=v.length;m;){for(g=v,v=[],p=-1;++p<m;)g[p]();m=v.length}b=!1}i.exports=E;function E(p){v.push(p)===1&&!b&&o()}}).call(this,typeof Wt<"u"?Wt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(t,i,n){var s=t(1);function a(){}var o={},u=["REJECTED"],h=["FULFILLED"],c=["PENDING"];i.exports=d;function d(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,_!==a&&E(this,_)}d.prototype.catch=function(_){return this.then(null,_)},d.prototype.then=function(_,T){if(typeof _!="function"&&this.state===h||typeof T!="function"&&this.state===u)return this;var I=new this.constructor(a);if(this.state!==c){var N=this.state===h?_:T;v(I,N,this.outcome)}else this.queue.push(new b(I,_,T));return I};function b(_,T,I){this.promise=_,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},b.prototype.otherCallFulfilled=function(_){v(this.promise,this.onFulfilled,_)},b.prototype.callRejected=function(_){o.reject(this.promise,_)},b.prototype.otherCallRejected=function(_){v(this.promise,this.onRejected,_)};function v(_,T,I){s(function(){var N;try{N=T(I)}catch(D){return o.reject(_,D)}N===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,N)})}o.resolve=function(_,T){var I=p(R,T);if(I.status==="error")return o.reject(_,I.value);var N=I.value;if(N)E(_,N);else{_.state=h,_.outcome=T;for(var D=-1,O=_.queue.length;++D<O;)_.queue[D].callFulfilled(T)}return _},o.reject=function(_,T){_.state=u,_.outcome=T;for(var I=-1,N=_.queue.length;++I<N;)_.queue[I].callRejected(T);return _};function R(_){var T=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof T=="function")return function(){T.apply(_,arguments)}}function E(_,T){var I=!1;function N(H){I||(I=!0,o.reject(_,H))}function D(H){I||(I=!0,o.resolve(_,H))}function O(){T(D,N)}var $=p(O);$.status==="error"&&N($.value)}function p(_,T){var I={};try{I.value=_(T),I.status="success"}catch(N){I.status="error",I.value=N}return I}d.resolve=g;function g(_){return _ instanceof this?_:o.resolve(new this(a),_)}d.reject=m;function m(_){var T=new this(a);return o.reject(T,_)}d.all=x;function x(_){var T=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,N=!1;if(!I)return this.resolve([]);for(var D=new Array(I),O=0,$=-1,H=new this(a);++$<I;)Y(_[$],$);return H;function Y(ue,oe){T.resolve(ue).then(pe,function(Q){N||(N=!0,o.reject(H,Q))});function pe(Q){D[oe]=Q,++O===I&&!N&&(N=!0,o.resolve(H,D))}}}d.race=S;function S(_){var T=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=_.length,N=!1;if(!I)return this.resolve([]);for(var D=-1,O=new this(a);++D<I;)$(_[D]);return O;function $(H){T.resolve(H).then(function(Y){N||(N=!0,o.resolve(O,Y))},function(Y){N||(N=!0,o.reject(O,Y))})}}},{1:1}],3:[function(t,i,n){(function(s){typeof s.Promise!="function"&&(s.Promise=t(2))}).call(this,typeof Wt<"u"?Wt:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(t,i,n){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C};function a(C,z){if(!(C instanceof z))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=o();function h(){try{if(!u||!u.open)return!1;var C=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),z=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!C||z)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(C,z){C=C||[],z=z||{};try{return new Blob(C,z)}catch(q){if(q.name!=="TypeError")throw q;for(var k=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,W=new k,V=0;V<C.length;V+=1)W.append(C[V]);return W.getBlob(z.type)}}typeof Promise>"u"&&t(3);var d=Promise;function b(C,z){z&&C.then(function(k){z(null,k)},function(k){z(k)})}function v(C,z,k){typeof z=="function"&&C.then(z),typeof k=="function"&&C.catch(k)}function R(C){return typeof C!="string"&&(console.warn(C+" used as a key, but it is not a string."),C=String(C)),C}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",g=void 0,m={},x=Object.prototype.toString,S="readonly",_="readwrite";function T(C){for(var z=C.length,k=new ArrayBuffer(z),W=new Uint8Array(k),V=0;V<z;V++)W[V]=C.charCodeAt(V);return k}function I(C){return new d(function(z){var k=C.transaction(p,_),W=c([""]);k.objectStore(p).put(W,"key"),k.onabort=function(V){V.preventDefault(),V.stopPropagation(),z(!1)},k.oncomplete=function(){var V=navigator.userAgent.match(/Chrome\/(\d+)/),q=navigator.userAgent.match(/Edge\//);z(q||!V||parseInt(V[1],10)>=43)}}).catch(function(){return!1})}function N(C){return typeof g=="boolean"?d.resolve(g):I(C).then(function(z){return g=z,g})}function D(C){var z=m[C.name],k={};k.promise=new d(function(W,V){k.resolve=W,k.reject=V}),z.deferredOperations.push(k),z.dbReady?z.dbReady=z.dbReady.then(function(){return k.promise}):z.dbReady=k.promise}function O(C){var z=m[C.name],k=z.deferredOperations.pop();if(k)return k.resolve(),k.promise}function $(C,z){var k=m[C.name],W=k.deferredOperations.pop();if(W)return W.reject(z),W.promise}function H(C,z){return new d(function(k,W){if(m[C.name]=m[C.name]||we(),C.db)if(z)D(C),C.db.close();else return k(C.db);var V=[C.name];z&&V.push(C.version);var q=u.open.apply(u,V);z&&(q.onupgradeneeded=function(ne){var ce=q.result;try{ce.createObjectStore(C.storeName),ne.oldVersion<=1&&ce.createObjectStore(p)}catch(ve){if(ve.name==="ConstraintError")console.warn('The database "'+C.name+'" has been upgraded from version '+ne.oldVersion+" to version "+ne.newVersion+', but the storage "'+C.storeName+'" already exists.');else throw ve}}),q.onerror=function(ne){ne.preventDefault(),W(q.error)},q.onsuccess=function(){var ne=q.result;ne.onversionchange=function(ce){ce.target.close()},k(ne),O(C)}})}function Y(C){return H(C,!1)}function ue(C){return H(C,!0)}function oe(C,z){if(!C.db)return!0;var k=!C.db.objectStoreNames.contains(C.storeName),W=C.version<C.db.version,V=C.version>C.db.version;if(W&&(C.version!==z&&console.warn('The database "'+C.name+`" can't be downgraded from version `+C.db.version+" to version "+C.version+"."),C.version=C.db.version),V||k){if(k){var q=C.db.version+1;q>C.version&&(C.version=q)}return!0}return!1}function pe(C){return new d(function(z,k){var W=new FileReader;W.onerror=k,W.onloadend=function(V){var q=btoa(V.target.result||"");z({__local_forage_encoded_blob:!0,data:q,type:C.type})},W.readAsBinaryString(C)})}function Q(C){var z=T(atob(C.data));return c([z],{type:C.type})}function ee(C){return C&&C.__local_forage_encoded_blob}function be(C){var z=this,k=z._initReady().then(function(){var W=m[z._dbInfo.name];if(W&&W.dbReady)return W.dbReady});return v(k,C,C),k}function Le(C){D(C);for(var z=m[C.name],k=z.forages,W=0;W<k.length;W++){var V=k[W];V._dbInfo.db&&(V._dbInfo.db.close(),V._dbInfo.db=null)}return C.db=null,Y(C).then(function(q){return C.db=q,oe(C)?ue(C):q}).then(function(q){C.db=z.db=q;for(var ne=0;ne<k.length;ne++)k[ne]._dbInfo.db=q}).catch(function(q){throw $(C,q),q})}function ge(C,z,k,W){W===void 0&&(W=1);try{var V=C.db.transaction(C.storeName,z);k(null,V)}catch(q){if(W>0&&(!C.db||q.name==="InvalidStateError"||q.name==="NotFoundError"))return d.resolve().then(function(){if(!C.db||q.name==="NotFoundError"&&!C.db.objectStoreNames.contains(C.storeName)&&C.version<=C.db.version)return C.db&&(C.version=C.db.version+1),ue(C)}).then(function(){return Le(C).then(function(){ge(C,z,k,W-1)})}).catch(k);k(q)}}function we(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Me(C){var z=this,k={db:null};if(C)for(var W in C)k[W]=C[W];var V=m[k.name];V||(V=we(),m[k.name]=V),V.forages.push(z),z._initReady||(z._initReady=z.ready,z.ready=be);var q=[];function ne(){return d.resolve()}for(var ce=0;ce<V.forages.length;ce++){var ve=V.forages[ce];ve!==z&&q.push(ve._initReady().catch(ne))}var me=V.forages.slice(0);return d.all(q).then(function(){return k.db=V.db,Y(k)}).then(function(_e){return k.db=_e,oe(k,z._defaultConfig.version)?ue(k):_e}).then(function(_e){k.db=V.db=_e,z._dbInfo=k;for(var Se=0;Se<me.length;Se++){var We=me[Se];We!==z&&(We._dbInfo.db=k.db,We._dbInfo.version=k.version)}})}function Re(C,z){var k=this;C=R(C);var W=new d(function(V,q){k.ready().then(function(){ge(k._dbInfo,S,function(ne,ce){if(ne)return q(ne);try{var ve=ce.objectStore(k._dbInfo.storeName),me=ve.get(C);me.onsuccess=function(){var _e=me.result;_e===void 0&&(_e=null),ee(_e)&&(_e=Q(_e)),V(_e)},me.onerror=function(){q(me.error)}}catch(_e){q(_e)}})}).catch(q)});return b(W,z),W}function je(C,z){var k=this,W=new d(function(V,q){k.ready().then(function(){ge(k._dbInfo,S,function(ne,ce){if(ne)return q(ne);try{var ve=ce.objectStore(k._dbInfo.storeName),me=ve.openCursor(),_e=1;me.onsuccess=function(){var Se=me.result;if(Se){var We=Se.value;ee(We)&&(We=Q(We));var et=C(We,Se.key,_e++);et!==void 0?V(et):Se.continue()}else V()},me.onerror=function(){q(me.error)}}catch(Se){q(Se)}})}).catch(q)});return b(W,z),W}function Je(C,z,k){var W=this;C=R(C);var V=new d(function(q,ne){var ce;W.ready().then(function(){return ce=W._dbInfo,x.call(z)==="[object Blob]"?N(ce.db).then(function(ve){return ve?z:pe(z)}):z}).then(function(ve){ge(W._dbInfo,_,function(me,_e){if(me)return ne(me);try{var Se=_e.objectStore(W._dbInfo.storeName);ve===null&&(ve=void 0);var We=Se.put(ve,C);_e.oncomplete=function(){ve===void 0&&(ve=null),q(ve)},_e.onabort=_e.onerror=function(){var et=We.error?We.error:We.transaction.error;ne(et)}}catch(et){ne(et)}})}).catch(ne)});return b(V,k),V}function He(C,z){var k=this;C=R(C);var W=new d(function(V,q){k.ready().then(function(){ge(k._dbInfo,_,function(ne,ce){if(ne)return q(ne);try{var ve=ce.objectStore(k._dbInfo.storeName),me=ve.delete(C);ce.oncomplete=function(){V()},ce.onerror=function(){q(me.error)},ce.onabort=function(){var _e=me.error?me.error:me.transaction.error;q(_e)}}catch(_e){q(_e)}})}).catch(q)});return b(W,z),W}function ke(C){var z=this,k=new d(function(W,V){z.ready().then(function(){ge(z._dbInfo,_,function(q,ne){if(q)return V(q);try{var ce=ne.objectStore(z._dbInfo.storeName),ve=ce.clear();ne.oncomplete=function(){W()},ne.onabort=ne.onerror=function(){var me=ve.error?ve.error:ve.transaction.error;V(me)}}catch(me){V(me)}})}).catch(V)});return b(k,C),k}function Ye(C){var z=this,k=new d(function(W,V){z.ready().then(function(){ge(z._dbInfo,S,function(q,ne){if(q)return V(q);try{var ce=ne.objectStore(z._dbInfo.storeName),ve=ce.count();ve.onsuccess=function(){W(ve.result)},ve.onerror=function(){V(ve.error)}}catch(me){V(me)}})}).catch(V)});return b(k,C),k}function Ke(C,z){var k=this,W=new d(function(V,q){if(C<0){V(null);return}k.ready().then(function(){ge(k._dbInfo,S,function(ne,ce){if(ne)return q(ne);try{var ve=ce.objectStore(k._dbInfo.storeName),me=!1,_e=ve.openKeyCursor();_e.onsuccess=function(){var Se=_e.result;if(!Se){V(null);return}C===0||me?V(Se.key):(me=!0,Se.advance(C))},_e.onerror=function(){q(_e.error)}}catch(Se){q(Se)}})}).catch(q)});return b(W,z),W}function Pe(C){var z=this,k=new d(function(W,V){z.ready().then(function(){ge(z._dbInfo,S,function(q,ne){if(q)return V(q);try{var ce=ne.objectStore(z._dbInfo.storeName),ve=ce.openKeyCursor(),me=[];ve.onsuccess=function(){var _e=ve.result;if(!_e){W(me);return}me.push(_e.key),_e.continue()},ve.onerror=function(){V(ve.error)}}catch(_e){V(_e)}})}).catch(V)});return b(k,C),k}function B(C,z){z=E.apply(this,arguments);var k=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||k.name,C.storeName=C.storeName||k.storeName);var W=this,V;if(!C.name)V=d.reject("Invalid arguments");else{var q=C.name===k.name&&W._dbInfo.db,ne=q?d.resolve(W._dbInfo.db):Y(C).then(function(ce){var ve=m[C.name],me=ve.forages;ve.db=ce;for(var _e=0;_e<me.length;_e++)me[_e]._dbInfo.db=ce;return ce});C.storeName?V=ne.then(function(ce){if(ce.objectStoreNames.contains(C.storeName)){var ve=ce.version+1;D(C);var me=m[C.name],_e=me.forages;ce.close();for(var Se=0;Se<_e.length;Se++){var We=_e[Se];We._dbInfo.db=null,We._dbInfo.version=ve}var et=new d(function(rt,bt){var gt=u.open(C.name,ve);gt.onerror=function(Ut){var ir=gt.result;ir.close(),bt(Ut)},gt.onupgradeneeded=function(){var Ut=gt.result;Ut.deleteObjectStore(C.storeName)},gt.onsuccess=function(){var Ut=gt.result;Ut.close(),rt(Ut)}});return et.then(function(rt){me.db=rt;for(var bt=0;bt<_e.length;bt++){var gt=_e[bt];gt._dbInfo.db=rt,O(gt._dbInfo)}}).catch(function(rt){throw($(C,rt)||d.resolve()).catch(function(){}),rt})}}):V=ne.then(function(ce){D(C);var ve=m[C.name],me=ve.forages;ce.close();for(var _e=0;_e<me.length;_e++){var Se=me[_e];Se._dbInfo.db=null}var We=new d(function(et,rt){var bt=u.deleteDatabase(C.name);bt.onerror=function(){var gt=bt.result;gt&&gt.close(),rt(bt.error)},bt.onblocked=function(){console.warn('dropInstance blocked for database "'+C.name+'" until all open connections are closed')},bt.onsuccess=function(){var gt=bt.result;gt&&gt.close(),et(gt)}});return We.then(function(et){ve.db=et;for(var rt=0;rt<me.length;rt++){var bt=me[rt];O(bt._dbInfo)}}).catch(function(et){throw($(C,et)||d.resolve()).catch(function(){}),et})})}return b(V,z),V}var M={_driver:"asyncStorage",_initStorage:Me,_support:h(),iterate:je,getItem:Re,setItem:Je,removeItem:He,clear:ke,length:Ye,key:Ke,keys:Pe,dropInstance:B};function Z(){return typeof openDatabase=="function"}var ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J="~~local_forage_type~",X=/^~~local_forage_type~([^~]+)~/,he="__lfsc__:",le=he.length,ae="arbf",K="blob",de="si08",re="ui08",Ce="uic8",Te="si16",Ne="si32",Ie="ur16",ze="ui32",it="fl32",Xe="fl64",ft=le+ae.length,ut=Object.prototype.toString;function nt(C){var z=C.length*.75,k=C.length,W,V=0,q,ne,ce,ve;C[C.length-1]==="="&&(z--,C[C.length-2]==="="&&z--);var me=new ArrayBuffer(z),_e=new Uint8Array(me);for(W=0;W<k;W+=4)q=ie.indexOf(C[W]),ne=ie.indexOf(C[W+1]),ce=ie.indexOf(C[W+2]),ve=ie.indexOf(C[W+3]),_e[V++]=q<<2|ne>>4,_e[V++]=(ne&15)<<4|ce>>2,_e[V++]=(ce&3)<<6|ve&63;return me}function mt(C){var z=new Uint8Array(C),k="",W;for(W=0;W<z.length;W+=3)k+=ie[z[W]>>2],k+=ie[(z[W]&3)<<4|z[W+1]>>4],k+=ie[(z[W+1]&15)<<2|z[W+2]>>6],k+=ie[z[W+2]&63];return z.length%3===2?k=k.substring(0,k.length-1)+"=":z.length%3===1&&(k=k.substring(0,k.length-2)+"=="),k}function ht(C,z){var k="";if(C&&(k=ut.call(C)),C&&(k==="[object ArrayBuffer]"||C.buffer&&ut.call(C.buffer)==="[object ArrayBuffer]")){var W,V=he;C instanceof ArrayBuffer?(W=C,V+=ae):(W=C.buffer,k==="[object Int8Array]"?V+=de:k==="[object Uint8Array]"?V+=re:k==="[object Uint8ClampedArray]"?V+=Ce:k==="[object Int16Array]"?V+=Te:k==="[object Uint16Array]"?V+=Ie:k==="[object Int32Array]"?V+=Ne:k==="[object Uint32Array]"?V+=ze:k==="[object Float32Array]"?V+=it:k==="[object Float64Array]"?V+=Xe:z(new Error("Failed to get type for BinaryArray"))),z(V+mt(W))}else if(k==="[object Blob]"){var q=new FileReader;q.onload=function(){var ne=J+C.type+"~"+mt(this.result);z(he+K+ne)},q.readAsArrayBuffer(C)}else try{z(JSON.stringify(C))}catch(ne){console.error("Couldn't convert value into a JSON string: ",C),z(null,ne)}}function A(C){if(C.substring(0,le)!==he)return JSON.parse(C);var z=C.substring(ft),k=C.substring(le,ft),W;if(k===K&&X.test(z)){var V=z.match(X);W=V[1],z=z.substring(V[0].length)}var q=nt(z);switch(k){case ae:return q;case K:return c([q],{type:W});case de:return new Int8Array(q);case re:return new Uint8Array(q);case Ce:return new Uint8ClampedArray(q);case Te:return new Int16Array(q);case Ie:return new Uint16Array(q);case Ne:return new Int32Array(q);case ze:return new Uint32Array(q);case it:return new Float32Array(q);case Xe:return new Float64Array(q);default:throw new Error("Unkown type: "+k)}}var se={serialize:ht,deserialize:A,stringToBuffer:nt,bufferToString:mt};function fe(C,z,k,W){C.executeSql("CREATE TABLE IF NOT EXISTS "+z.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],k,W)}function Ae(C){var z=this,k={db:null};if(C)for(var W in C)k[W]=typeof C[W]!="string"?C[W].toString():C[W];var V=new d(function(q,ne){try{k.db=openDatabase(k.name,String(k.version),k.description,k.size)}catch(ce){return ne(ce)}k.db.transaction(function(ce){fe(ce,k,function(){z._dbInfo=k,q()},function(ve,me){ne(me)})},ne)});return k.serializer=se,V}function U(C,z,k,W,V,q){C.executeSql(k,W,V,function(ne,ce){ce.code===ce.SYNTAX_ERR?ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[z.storeName],function(ve,me){me.rows.length?q(ve,ce):fe(ve,z,function(){ve.executeSql(k,W,V,q)},q)},q):q(ne,ce)},q)}function te(C,z){var k=this;C=R(C);var W=new d(function(V,q){k.ready().then(function(){var ne=k._dbInfo;ne.db.transaction(function(ce){U(ce,ne,"SELECT * FROM "+ne.storeName+" WHERE key = ? LIMIT 1",[C],function(ve,me){var _e=me.rows.length?me.rows.item(0).value:null;_e&&(_e=ne.serializer.deserialize(_e)),V(_e)},function(ve,me){q(me)})})}).catch(q)});return b(W,z),W}function f(C,z){var k=this,W=new d(function(V,q){k.ready().then(function(){var ne=k._dbInfo;ne.db.transaction(function(ce){U(ce,ne,"SELECT * FROM "+ne.storeName,[],function(ve,me){for(var _e=me.rows,Se=_e.length,We=0;We<Se;We++){var et=_e.item(We),rt=et.value;if(rt&&(rt=ne.serializer.deserialize(rt)),rt=C(rt,et.key,We+1),rt!==void 0){V(rt);return}}V()},function(ve,me){q(me)})})}).catch(q)});return b(W,z),W}function y(C,z,k,W){var V=this;C=R(C);var q=new d(function(ne,ce){V.ready().then(function(){z===void 0&&(z=null);var ve=z,me=V._dbInfo;me.serializer.serialize(z,function(_e,Se){Se?ce(Se):me.db.transaction(function(We){U(We,me,"INSERT OR REPLACE INTO "+me.storeName+" (key, value) VALUES (?, ?)",[C,_e],function(){ne(ve)},function(et,rt){ce(rt)})},function(We){if(We.code===We.QUOTA_ERR){if(W>0){ne(y.apply(V,[C,ve,k,W-1]));return}ce(We)}})})}).catch(ce)});return b(q,k),q}function L(C,z,k){return y.apply(this,[C,z,k,1])}function l(C,z){var k=this;C=R(C);var W=new d(function(V,q){k.ready().then(function(){var ne=k._dbInfo;ne.db.transaction(function(ce){U(ce,ne,"DELETE FROM "+ne.storeName+" WHERE key = ?",[C],function(){V()},function(ve,me){q(me)})})}).catch(q)});return b(W,z),W}function P(C){var z=this,k=new d(function(W,V){z.ready().then(function(){var q=z._dbInfo;q.db.transaction(function(ne){U(ne,q,"DELETE FROM "+q.storeName,[],function(){W()},function(ce,ve){V(ve)})})}).catch(V)});return b(k,C),k}function j(C){var z=this,k=new d(function(W,V){z.ready().then(function(){var q=z._dbInfo;q.db.transaction(function(ne){U(ne,q,"SELECT COUNT(key) as c FROM "+q.storeName,[],function(ce,ve){var me=ve.rows.item(0).c;W(me)},function(ce,ve){V(ve)})})}).catch(V)});return b(k,C),k}function w(C,z){var k=this,W=new d(function(V,q){k.ready().then(function(){var ne=k._dbInfo;ne.db.transaction(function(ce){U(ce,ne,"SELECT key FROM "+ne.storeName+" WHERE id = ? LIMIT 1",[C+1],function(ve,me){var _e=me.rows.length?me.rows.item(0).key:null;V(_e)},function(ve,me){q(me)})})}).catch(q)});return b(W,z),W}function F(C){var z=this,k=new d(function(W,V){z.ready().then(function(){var q=z._dbInfo;q.db.transaction(function(ne){U(ne,q,"SELECT key FROM "+q.storeName,[],function(ce,ve){for(var me=[],_e=0;_e<ve.rows.length;_e++)me.push(ve.rows.item(_e).key);W(me)},function(ce,ve){V(ve)})})}).catch(V)});return b(k,C),k}function G(C){return new d(function(z,k){C.transaction(function(W){W.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(V,q){for(var ne=[],ce=0;ce<q.rows.length;ce++)ne.push(q.rows.item(ce).name);z({db:C,storeNames:ne})},function(V,q){k(q)})},function(W){k(W)})})}function De(C,z){z=E.apply(this,arguments);var k=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||k.name,C.storeName=C.storeName||k.storeName);var W=this,V;return C.name?V=new d(function(q){var ne;C.name===k.name?ne=W._dbInfo.db:ne=openDatabase(C.name,"","",0),C.storeName?q({db:ne,storeNames:[C.storeName]}):q(G(ne))}).then(function(q){return new d(function(ne,ce){q.db.transaction(function(ve){function me(et){return new d(function(rt,bt){ve.executeSql("DROP TABLE IF EXISTS "+et,[],function(){rt()},function(gt,Ut){bt(Ut)})})}for(var _e=[],Se=0,We=q.storeNames.length;Se<We;Se++)_e.push(me(q.storeNames[Se]));d.all(_e).then(function(){ne()}).catch(function(et){ce(et)})},function(ve){ce(ve)})})}):V=d.reject("Invalid arguments"),b(V,z),V}var ye={_driver:"webSQLStorage",_initStorage:Ae,_support:Z(),iterate:f,getItem:te,setItem:L,removeItem:l,clear:P,length:j,key:w,keys:F,dropInstance:De};function Ee(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Oe(C,z){var k=C.name+"/";return C.storeName!==z.storeName&&(k+=C.storeName+"/"),k}function _t(){var C="_localforage_support_test";try{return localStorage.setItem(C,!0),localStorage.removeItem(C),!1}catch{return!0}}function Ve(){return!_t()||localStorage.length>0}function Fe(C){var z=this,k={};if(C)for(var W in C)k[W]=C[W];return k.keyPrefix=Oe(C,z._defaultConfig),Ve()?(z._dbInfo=k,k.serializer=se,d.resolve()):d.reject()}function st(C){var z=this,k=z.ready().then(function(){for(var W=z._dbInfo.keyPrefix,V=localStorage.length-1;V>=0;V--){var q=localStorage.key(V);q.indexOf(W)===0&&localStorage.removeItem(q)}});return b(k,C),k}function $e(C,z){var k=this;C=R(C);var W=k.ready().then(function(){var V=k._dbInfo,q=localStorage.getItem(V.keyPrefix+C);return q&&(q=V.serializer.deserialize(q)),q});return b(W,z),W}function wt(C,z){var k=this,W=k.ready().then(function(){for(var V=k._dbInfo,q=V.keyPrefix,ne=q.length,ce=localStorage.length,ve=1,me=0;me<ce;me++){var _e=localStorage.key(me);if(_e.indexOf(q)===0){var Se=localStorage.getItem(_e);if(Se&&(Se=V.serializer.deserialize(Se)),Se=C(Se,_e.substring(ne),ve++),Se!==void 0)return Se}}});return b(W,z),W}function Pt(C,z){var k=this,W=k.ready().then(function(){var V=k._dbInfo,q;try{q=localStorage.key(C)}catch{q=null}return q&&(q=q.substring(V.keyPrefix.length)),q});return b(W,z),W}function si(C){var z=this,k=z.ready().then(function(){for(var W=z._dbInfo,V=localStorage.length,q=[],ne=0;ne<V;ne++){var ce=localStorage.key(ne);ce.indexOf(W.keyPrefix)===0&&q.push(ce.substring(W.keyPrefix.length))}return q});return b(k,C),k}function dt(C){var z=this,k=z.keys().then(function(W){return W.length});return b(k,C),k}function It(C,z){var k=this;C=R(C);var W=k.ready().then(function(){var V=k._dbInfo;localStorage.removeItem(V.keyPrefix+C)});return b(W,z),W}function Et(C,z,k){var W=this;C=R(C);var V=W.ready().then(function(){z===void 0&&(z=null);var q=z;return new d(function(ne,ce){var ve=W._dbInfo;ve.serializer.serialize(z,function(me,_e){if(_e)ce(_e);else try{localStorage.setItem(ve.keyPrefix+C,me),ne(q)}catch(Se){(Se.name==="QuotaExceededError"||Se.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ce(Se),ce(Se)}})})});return b(V,k),V}function Vt(C,z){if(z=E.apply(this,arguments),C=typeof C!="function"&&C||{},!C.name){var k=this.config();C.name=C.name||k.name,C.storeName=C.storeName||k.storeName}var W=this,V;return C.name?V=new d(function(q){C.storeName?q(Oe(C,W._defaultConfig)):q(C.name+"/")}).then(function(q){for(var ne=localStorage.length-1;ne>=0;ne--){var ce=localStorage.key(ne);ce.indexOf(q)===0&&localStorage.removeItem(ce)}}):V=d.reject("Invalid arguments"),b(V,z),V}var zt={_driver:"localStorageWrapper",_initStorage:Fe,_support:Ee(),iterate:wt,getItem:$e,setItem:Et,removeItem:It,clear:st,length:dt,key:Pt,keys:si,dropInstance:Vt},kr=function(z,k){return z===k||typeof z=="number"&&typeof k=="number"&&isNaN(z)&&isNaN(k)},ql=function(z,k){for(var W=z.length,V=0;V<W;){if(kr(z[V],k))return!0;V++}return!1},ya=Array.isArray||function(C){return Object.prototype.toString.call(C)==="[object Array]"},tr={},_a={},Pi={INDEXEDDB:M,WEBSQL:ye,LOCALSTORAGE:zt},jl=[Pi.INDEXEDDB._driver,Pi.WEBSQL._driver,Pi.LOCALSTORAGE._driver],Rr=["dropInstance"],Cn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Rr),Wl={description:"",driver:jl.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Hl(C,z){C[z]=function(){var k=arguments;return C.ready().then(function(){return C[z].apply(C,k)})}}function An(){for(var C=1;C<arguments.length;C++){var z=arguments[C];if(z)for(var k in z)z.hasOwnProperty(k)&&(ya(z[k])?arguments[0][k]=z[k].slice():arguments[0][k]=z[k])}return arguments[0]}var Vl=(function(){function C(z){a(this,C);for(var k in Pi)if(Pi.hasOwnProperty(k)){var W=Pi[k],V=W._driver;this[k]=V,tr[V]||this.defineDriver(W)}this._defaultConfig=An({},Wl),this._config=An({},this._defaultConfig,z),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return C.prototype.config=function(k){if((typeof k>"u"?"undefined":s(k))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var W in k){if(W==="storeName"&&(k[W]=k[W].replace(/\W/g,"_")),W==="version"&&typeof k[W]!="number")return new Error("Database version must be a number.");this._config[W]=k[W]}return"driver"in k&&k.driver?this.setDriver(this._config.driver):!0}else return typeof k=="string"?this._config[k]:this._config},C.prototype.defineDriver=function(k,W,V){var q=new d(function(ne,ce){try{var ve=k._driver,me=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!k._driver){ce(me);return}for(var _e=Cn.concat("_initStorage"),Se=0,We=_e.length;Se<We;Se++){var et=_e[Se],rt=!ql(Rr,et);if((rt||k[et])&&typeof k[et]!="function"){ce(me);return}}var bt=function(){for(var ir=function(Gl){return function(){var Yl=new Error("Method "+Gl+" is not implemented by the current driver"),wa=d.reject(Yl);return b(wa,arguments[arguments.length-1]),wa}},Dn=0,Zl=Rr.length;Dn<Zl;Dn++){var Sn=Rr[Dn];k[Sn]||(k[Sn]=ir(Sn))}};bt();var gt=function(ir){tr[ve]&&console.info("Redefining LocalForage driver: "+ve),tr[ve]=k,_a[ve]=ir,ne()};"_support"in k?k._support&&typeof k._support=="function"?k._support().then(gt,ce):gt(!!k._support):gt(!0)}catch(Ut){ce(Ut)}});return v(q,W,V),q},C.prototype.driver=function(){return this._driver||null},C.prototype.getDriver=function(k,W,V){var q=tr[k]?d.resolve(tr[k]):d.reject(new Error("Driver not found."));return v(q,W,V),q},C.prototype.getSerializer=function(k){var W=d.resolve(se);return v(W,k),W},C.prototype.ready=function(k){var W=this,V=W._driverSet.then(function(){return W._ready===null&&(W._ready=W._initDriver()),W._ready});return v(V,k,k),V},C.prototype.setDriver=function(k,W,V){var q=this;ya(k)||(k=[k]);var ne=this._getSupportedDrivers(k);function ce(){q._config.driver=q.driver()}function ve(Se){return q._extend(Se),ce(),q._ready=q._initStorage(q._config),q._ready}function me(Se){return function(){var We=0;function et(){for(;We<Se.length;){var rt=Se[We];return We++,q._dbInfo=null,q._ready=null,q.getDriver(rt).then(ve).catch(et)}ce();var bt=new Error("No available storage method found.");return q._driverSet=d.reject(bt),q._driverSet}return et()}}var _e=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=_e.then(function(){var Se=ne[0];return q._dbInfo=null,q._ready=null,q.getDriver(Se).then(function(We){q._driver=We._driver,ce(),q._wrapLibraryMethodsWithReady(),q._initDriver=me(ne)})}).catch(function(){ce();var Se=new Error("No available storage method found.");return q._driverSet=d.reject(Se),q._driverSet}),v(this._driverSet,W,V),this._driverSet},C.prototype.supports=function(k){return!!_a[k]},C.prototype._extend=function(k){An(this,k)},C.prototype._getSupportedDrivers=function(k){for(var W=[],V=0,q=k.length;V<q;V++){var ne=k[V];this.supports(ne)&&W.push(ne)}return W},C.prototype._wrapLibraryMethodsWithReady=function(){for(var k=0,W=Cn.length;k<W;k++)Hl(this,Cn[k])},C.prototype.createInstance=function(k){return new C(k)},C})(),$l=new Vl;i.exports=$l},{3:3}]},{},[4])(4)})})(As)),As.exports}var np=rp();const Qo=er(np);class Ml{constructor(e,t,i){this.urlCache={},this.storage=void 0,this.name=e,this.requester=t||Ar,this.resolver=i,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;typeof Qo>"u"&&(e=Qo),this.storage=e.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let t=navigator.onLine;this.online=t,t?this.emit("online",this):this.emit("offline",this)}add(e,t){let i=e.resources.map(n=>{let{href:s}=n,a=this.resolver(s),o=window.encodeURIComponent(a);return this.storage.getItem(o).then(u=>!u||t?this.requester(a,"binary").then(h=>this.storage.setItem(o,h)):u)});return Promise.all(i)}put(e,t,i){let n=window.encodeURIComponent(e);return this.storage.getItem(n).then(s=>s||this.requester(e,"binary",t,i).then(a=>this.storage.setItem(n,a)))}request(e,t,i,n){return this.online?this.requester(e,t,i,n).then(s=>(this.put(e),s)):this.retrieve(e,t)}retrieve(e,t){new Ze;var i,n=new gi(e);return t||(t=n.extension),t=="blob"?i=this.getBlob(e):i=this.getText(e),i.then(s=>{var a=new Ze,o;return s?(o=this.handleResponse(s,t),a.resolve(o)):a.reject({message:"File not found in storage: "+e,stack:new Error().stack}),a.promise})}handleResponse(e,t){var i;return t=="json"?i=JSON.parse(e):Cr(t)?i=ii(e,"text/xml"):t=="xhtml"?i=ii(e,"application/xhtml+xml"):t=="html"||t=="htm"?i=ii(e,"text/html"):i=e,i}getBlob(e,t){let i=window.encodeURIComponent(e);return this.storage.getItem(i).then(function(n){if(n)return t=t||Xi.lookup(e),new Blob([n],{type:t})})}getText(e,t){let i=window.encodeURIComponent(e);return t=t||Xi.lookup(e),this.storage.getItem(i).then(function(n){var s=new Ze,a=new FileReader,o;if(n)return o=new Blob([n],{type:t}),a.addEventListener("loadend",()=>{s.resolve(a.result)}),a.readAsText(o,t),s.promise})}getBase64(e,t){let i=window.encodeURIComponent(e);return t=t||Xi.lookup(e),this.storage.getItem(i).then(n=>{var s=new Ze,a=new FileReader,o;if(n)return o=new Blob([n],{type:t}),a.addEventListener("loadend",()=>{s.resolve(a.result)}),a.readAsDataURL(o,t),s.promise})}createUrl(e,t){var i=new Ze,n=window.URL||window.webkitURL||window.mozURL,s,a,o=t&&t.base64;return e in this.urlCache?(i.resolve(this.urlCache[e]),i.promise):(o?(a=this.getBase64(e),a&&a.then((function(u){this.urlCache[e]=u,i.resolve(u)}).bind(this))):(a=this.getBlob(e),a&&a.then((function(u){s=n.createObjectURL(u),this.urlCache[e]=s,i.resolve(s)}).bind(this))),a||i.reject({message:"File not found in storage: "+e,stack:new Error().stack}),i.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[e];i&&t.revokeObjectURL(i)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.urlCache={},this.removeListeners()}}ni(Ml.prototype);class Ds{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;const t=ot(e,"display_options");return t?(pi(t,"option").forEach(n=>{let s="";switch(n.childNodes.length&&(s=n.childNodes[0].nodeValue),n.attributes.name.value){case"interactive":this.interactive=s;break;case"fixed-layout":this.fixedLayout=s;break;case"open-to-spread":this.openToSpread=s;break;case"orientation-lock":this.orientationLock=s;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const eu="META-INF/container.xml",sp="META-INF/com.apple.ibooks.display-options.xml",Zt={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class ma{constructor(e,t){typeof t>"u"&&typeof e!="string"&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&(t=e,e=void 0),this.settings=Ct(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),Ct(this.settings,t),this.opening=new Ze,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new Ze,spine:new Ze,metadata:new Ze,cover:new Ze,navigation:new Ze,pageList:new Ze,resources:new Ze,displayOptions:new Ze},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||Ar,this.spine=new yd,this.locations=new Rl(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(i=>{var n=new Error("Cannot load book at "+e);this.emit(xe.BOOK.OPEN_FAILED,n)})}open(e,t){var i,n=t||this.determineType(e);return n===Zt.BINARY?(this.archived=!0,this.url=new Gt("/",""),i=this.openEpub(e)):n===Zt.BASE64?(this.archived=!0,this.url=new Gt("/",""),i=this.openEpub(e,n)):n===Zt.EPUB?(this.archived=!0,this.url=new Gt("/",""),i=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):n==Zt.OPF?(this.url=new Gt(e),i=this.openPackaging(this.url.Path.toString())):n==Zt.MANIFEST?(this.url=new Gt(e),i=this.openManifest(this.url.Path.toString())):(this.url=new Gt(e),i=this.openContainer(eu).then(this.openPackaging.bind(this))),i}openEpub(e,t){return this.unarchive(e,t||this.settings.encoding).then(()=>this.openContainer(eu)).then(i=>this.openPackaging(i))}openContainer(e){return this.load(e).then(t=>(this.container=new _d(t),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new gi(e),this.load(e).then(t=>(this.packaging=new Lo(t),this.unpack(this.packaging)))}openManifest(e){return this.path=new gi(e),this.load(e).then(t=>(this.packaging=new Lo,this.packaging.load(t),this.unpack(this.packaging)))}load(e){var t=this.resolve(e);return this.archived?this.archive.request(t):this.request(t,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,t){if(e){var i=e,n=e.indexOf("://")>-1;return n?e:(this.path&&(i=this.path.resolve(e)),t!=!1&&this.url&&(i=this.url.resolve(i)),i)}}canonical(e){var t=e;return e?(this.settings.canonical?t=this.settings.canonical(e):t=this.resolve(e,!0),t):""}determineType(e){var t,i,n;if(this.settings.encoding==="base64")return Zt.BASE64;if(typeof e!="string")return Zt.BINARY;if(t=new Gt(e),i=t.path(),n=i.extension,n&&(n=n.replace(/\?.*$/,"")),!n)return Zt.DIRECTORY;if(n==="epub")return Zt.EPUB;if(n==="opf")return Zt.OPF;if(n==="json")return Zt.MANIFEST}unpack(e){this.package=e,this.packaging.metadata.layout===""?this.load(this.url.resolve(sp)).then(t=>{this.displayOptions=new Ds(t),this.loading.displayOptions.resolve(this.displayOptions)}).catch(t=>{this.displayOptions=new Ds,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new Ds,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new Cd(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(t=>{console.error(t)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let t=e.navPath||e.ncxPath,i=e.toc;return i?new Promise((n,s)=>{this.navigation=new os(i),e.pageList&&(this.pageList=new us(e.pageList)),n(this.navigation)}):t?this.load(t,"xml").then(n=>(this.navigation=new os(n),this.pageList=new us(n),this.navigation)):new Promise((n,s)=>{this.navigation=new os,this.pageList=new us,n(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,t){return this.rendition=new va(this,t),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,t){return this.archive=new ip,this.archive.open(e,t)}store(e){let t=this.settings.replacements&&this.settings.replacements!=="none",i=this.url,n=this.settings.requestMethod||Ar.bind(this);return this.storage=new Ml(e,n,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let s=(a,o)=>{o.output=this.resources.substitute(a,o.url)};this.resources.settings.replacements=t||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new Gt("/",""),this.spine.hooks.serialize.register(s)}),this.storage.on("online",()=>{this.url=i,this.spine.hooks.serialize.deregister(s)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,t)=>{t.output=this.resources.substitute(e,t.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var t=new Ge(e),i=this.spine.get(t.spinePos),n=this.load.bind(this);return i?i.load(n).then(function(s){var a=t.toRange(i.document);return a}):new Promise((s,a)=>{a("CFI could not be found")})}key(e){var t=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${xn}:${t}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}ni(ma.prototype);function Bi(r,e){return new ma(r,e)}Bi.VERSION=xn;typeof global<"u"&&(global.EPUBJS_VERSION=xn);Bi.Book=ma;Bi.Rendition=va;Bi.Contents=pa;Bi.CFI=Ge;Bi.utils=hd;const ba=pl("epub",()=>{const r=_n(),e=Lt(null),t=Lt(""),i=Lt([]),n=Lt(0),s=bn(()=>{const d=i.value.length-1;return{get current(){return n.value},get max(){return d},get min(){return 0},next(){return n.value<d?(n.value++,n.value):null},prev(){return n.value>0?(n.value--,n.value):null}}}),a=async c=>{try{if(!c)return;e.value=Bi(c),await e.value.ready,i.value=e.value.navigation.toc,n.value=0}catch(d){console.error("❌ EPUB 讀取錯誤:",d)}},o=async c=>{if(!e.value||!i.value.length)return;const d=i.value[c],b=await e.value.load(d.href);t.value=b.body.innerHTML,t.value&&t.value.trim()&&r.pushMessage({sender:"epub",text:t.value})};return{book:e,bookContent:t,toc:i,currentIndex:n,loadFile:a,loadChapter:o,nextPage:async()=>{const c=s.value.next();c!==null&&await o(c)},prevPage:async()=>{const c=s.value.prev();c!==null&&await o(c)}}}),Tr=(r,e)=>{const t=r.__vccOpts||r;for(const[i,n]of e)t[i]=n;return t},ap={class:"sidebar"},op={class:"sidebar-menu"},up={key:0,class:"toc-container"},lp=["onClick"],fp={__name:"Sidebar",setup(r){const e=Lt("new"),t=u=>{e.value=u},i=u=>{n.currentIndex=u,n.loadChapter(u)},n=ba(),s=bn(()=>n.toc.map(u=>u.label.trim()).filter(u=>u)),a=Lt(!1),o=()=>{a.value=!a.value,t("projects")};return(u,h)=>(kt(),Ot("aside",ap,[h[9]||(h[9]=qh('<div class="sidebar-header" data-v-8fb986ec><div class="sidebar-logo" data-v-8fb986ec><svg width="24" height="24" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg" data-v-8fb986ec><path d="M 2 23 L 4 19 L 4 18 L 3 16 L 1 14 L 1 13 L 1 12 L 3 9.1875 L 4 9 L 6 9 L 7 7.1875 L 6 2.1875 L 11 5.1875 L 15 5.1875 L 16 4.1875 L 20 1.1875 L 21 2.1875 L 21 2.1875 L 22 7.1875 L 24 8.1875 L 24 11.1875 L 23 13.1875 L 24 19.1875 L 24 21.1875 L 24 23 L 4 23 Z M 1 12 L 1 14 L 3 16 L 6 16.1875 L 8 15.1875 L 9 12.1875 L 12 12.1875 L 14 15.1875 L 16 16.1875 L 20 16.1875 L 22 14.1875 L 23 11.1875 L 24 11.1875 L 24 9.1875 L 20 8.1875 L 16 8.1875 L 13 9.1875 L 9 9 L 4 9 L 3 9.1875 L 2.1 10.173 Z" fill="none" stroke="#000000" stroke-width="1" data-v-8fb986ec></path></svg></div><button data-v-8fb986ec><svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="icon max-md:hidden" data-v-8fb986ec><path d="M6.83496 3.99992C6.38353 4.00411 6.01421 4.0122 5.69824 4.03801C5.31232 4.06954 5.03904 4.12266 4.82227 4.20012L4.62207 4.28606C4.18264 4.50996 3.81498 4.85035 3.55859 5.26848L3.45605 5.45207C3.33013 5.69922 3.25006 6.01354 3.20801 6.52824C3.16533 7.05065 3.16504 7.71885 3.16504 8.66301V11.3271C3.16504 12.2712 3.16533 12.9394 3.20801 13.4618C3.25006 13.9766 3.33013 14.2909 3.45605 14.538L3.55859 14.7216C3.81498 15.1397 4.18266 15.4801 4.62207 15.704L4.82227 15.79C5.03904 15.8674 5.31234 15.9205 5.69824 15.9521C6.01398 15.9779 6.383 15.986 6.83398 15.9902L6.83496 3.99992ZM18.165 11.3271C18.165 12.2493 18.1653 12.9811 18.1172 13.5702C18.0745 14.0924 17.9916 14.5472 17.8125 14.9648L17.7295 15.1415C17.394 15.8 16.8834 16.3511 16.2568 16.7353L15.9814 16.8896C15.5157 17.1268 15.0069 17.2285 14.4102 17.2773C13.821 17.3254 13.0893 17.3251 12.167 17.3251H7.83301C6.91071 17.3251 6.17898 17.3254 5.58984 17.2773C5.06757 17.2346 4.61294 17.1508 4.19531 16.9716L4.01855 16.8896C3.36014 16.5541 2.80898 16.0434 2.4248 15.4169L2.27051 15.1415C2.03328 14.6758 1.93158 14.167 1.88281 13.5702C1.83468 12.9811 1.83496 12.2493 1.83496 11.3271V8.66301C1.83496 7.74072 1.83468 7.00898 1.88281 6.41985C1.93157 5.82309 2.03329 5.31432 2.27051 4.84856L2.4248 4.57317C2.80898 3.94666 3.36012 3.436 4.01855 3.10051L4.19531 3.0175C4.61285 2.83843 5.06771 2.75548 5.58984 2.71281C6.17898 2.66468 6.91071 2.66496 7.83301 2.66496H12.167C13.0893 2.66496 13.821 2.66468 14.4102 2.71281C15.0069 2.76157 15.5157 2.86329 15.9814 3.10051L16.2568 3.25481C16.8833 3.63898 17.394 4.19012 17.7295 4.84856L17.8125 5.02531C17.9916 5.44285 18.0745 5.89771 18.1172 6.41985C18.1653 7.00898 18.165 7.74072 18.165 8.66301V11.3271ZM8.16406 15.995H12.167C13.1112 15.995 13.7794 15.9947 14.3018 15.9521C14.8164 15.91 15.1308 15.8299 15.3779 15.704L15.5615 15.6015C15.9797 15.3451 16.32 14.9774 16.5439 14.538L16.6299 14.3378C16.7074 14.121 16.7605 13.8478 16.792 13.4618C16.8347 12.9394 16.835 12.2712 16.835 11.3271V8.66301C16.835 7.71885 16.8347 7.05065 16.792 6.52824C16.7605 6.14232 16.7073 5.86904 16.6299 5.65227L16.5439 5.45207C16.32 5.01264 15.9796 4.64498 15.5615 4.3886L15.3779 4.28606C15.1308 4.16013 14.8165 4.08006 14.3018 4.03801C13.7794 3.99533 13.1112 3.99504 12.167 3.99504H8.16406C8.16407 3.99667 8.16504 3.99829 8.16504 3.99992L8.16406 15.995Z" data-v-8fb986ec></path></svg></button></div>',1)),Ue("nav",op,[Ue("button",{class:li(["sidebar-item",{active:e.value==="new"}]),onClick:h[0]||(h[0]=c=>t("new"))},[...h[3]||(h[3]=[Ue("svg",{class:"icon",viewBox:"0 0 24 24"},[Ue("path",{d:"M2.6687 11.333V8.66699C2.6687 7.74455 2.66841 7.01205 2.71655 6.42285C2.76533 5.82612 2.86699 5.31731 3.10425 4.85156L3.25854 4.57617C3.64272 3.94975 4.19392 3.43995 4.85229 3.10449L5.02905 3.02149C5.44666 2.84233 5.90133 2.75849 6.42358 2.71582C7.01272 2.66769 7.74445 2.66797 8.66675 2.66797H9.16675C9.53393 2.66797 9.83165 2.96586 9.83179 3.33301C9.83179 3.70028 9.53402 3.99805 9.16675 3.99805H8.66675C7.7226 3.99805 7.05438 3.99834 6.53198 4.04102C6.14611 4.07254 5.87277 4.12568 5.65601 4.20313L5.45581 4.28906C5.01645 4.51293 4.64872 4.85345 4.39233 5.27149L4.28979 5.45508C4.16388 5.7022 4.08381 6.01663 4.04175 6.53125C3.99906 7.05373 3.99878 7.7226 3.99878 8.66699V11.333C3.99878 12.2774 3.99906 12.9463 4.04175 13.4688C4.08381 13.9833 4.16389 14.2978 4.28979 14.5449L4.39233 14.7285C4.64871 15.1465 5.01648 15.4871 5.45581 15.7109L5.65601 15.7969C5.87276 15.8743 6.14614 15.9265 6.53198 15.958C7.05439 16.0007 7.72256 16.002 8.66675 16.002H11.3337C12.2779 16.002 12.9461 16.0007 13.4685 15.958C13.9829 15.916 14.2976 15.8367 14.5447 15.7109L14.7292 15.6074C15.147 15.3511 15.4879 14.9841 15.7117 14.5449L15.7976 14.3447C15.8751 14.128 15.9272 13.8546 15.9587 13.4688C16.0014 12.9463 16.0017 12.2774 16.0017 11.333V10.833C16.0018 10.466 16.2997 10.1681 16.6667 10.168C17.0339 10.168 17.3316 10.4659 17.3318 10.833V11.333C17.3318 12.2555 17.3331 12.9879 17.2849 13.5771C17.2422 14.0993 17.1584 14.5541 16.9792 14.9717L16.8962 15.1484C16.5609 15.8066 16.0507 16.3571 15.4246 16.7412L15.1492 16.8955C14.6833 17.1329 14.1739 17.2354 13.5769 17.2842C12.9878 17.3323 12.256 17.332 11.3337 17.332H8.66675C7.74446 17.332 7.01271 17.3323 6.42358 17.2842C5.90135 17.2415 5.44665 17.1577 5.02905 16.9785L4.85229 16.8955C4.19396 16.5601 3.64271 16.0502 3.25854 15.4238L3.10425 15.1484C2.86697 14.6827 2.76534 14.1739 2.71655 13.5771C2.66841 12.9879 2.6687 12.2555 2.6687 11.333ZM13.4646 3.11328C14.4201 2.334 15.8288 2.38969 16.7195 3.28027L16.8865 3.46485C17.6141 4.35685 17.6143 5.64423 16.8865 6.53613L16.7195 6.7207L11.6726 11.7686C11.1373 12.3039 10.4624 12.6746 9.72827 12.8408L9.41089 12.8994L7.59351 13.1582C7.38637 13.1877 7.17701 13.1187 7.02905 12.9707C6.88112 12.8227 6.81199 12.6134 6.84155 12.4063L7.10132 10.5898L7.15991 10.2715C7.3262 9.53749 7.69692 8.86241 8.23218 8.32715L13.2791 3.28027L13.4646 3.11328ZM15.7791 4.2207C15.3753 3.81702 14.7366 3.79124 14.3035 4.14453L14.2195 4.2207L9.17261 9.26856C8.81541 9.62578 8.56774 10.0756 8.45679 10.5654L8.41772 10.7773L8.28296 11.7158L9.22241 11.582L9.43433 11.543C9.92426 11.432 10.3749 11.1844 10.7322 10.8271L15.7791 5.78027L15.8552 5.69629C16.185 5.29194 16.1852 4.708 15.8552 4.30371L15.7791 4.2207Z"})],-1),Ue("span",null,"新聊天",-1)])],2),Ue("button",{class:li(["sidebar-item",{active:e.value==="search"}]),onClick:h[1]||(h[1]=c=>t("search"))},[...h[4]||(h[4]=[Ue("svg",{class:"icon",viewBox:"0 0 24 24"},[Ue("path",{d:"M14.0857 8.74999C14.0857 5.80355 11.6972 3.41503 8.75073 3.41503C5.80429 3.41503 3.41577 5.80355 3.41577 8.74999C3.41577 11.6964 5.80429 14.085 8.75073 14.085C11.6972 14.085 14.0857 11.6964 14.0857 8.74999ZM15.4158 8.74999C15.4158 10.3539 14.848 11.8245 13.9041 12.9746L13.9705 13.0303L16.9705 16.0303L17.0564 16.1338C17.2269 16.3919 17.1977 16.7434 16.9705 16.9707C16.7432 17.1975 16.3925 17.226 16.1345 17.0557L16.03 16.9707L13.03 13.9707L12.9753 13.9033C11.8253 14.8472 10.3547 15.415 8.75073 15.415C5.06975 15.415 2.08569 12.431 2.08569 8.74999C2.08569 5.06901 5.06975 2.08495 8.75073 2.08495C12.4317 2.08495 15.4158 5.06901 15.4158 8.74999Z"})],-1),Ue("span",null,"搜尋聊天",-1),Ue("span",{class:"shortcut"},"⌘K",-1)])],2),Ue("button",{class:li(["sidebar-item",{active:e.value==="library"}]),onClick:h[2]||(h[2]=c=>t("library"))},[...h[5]||(h[5]=[Ue("svg",{class:"icon",viewBox:"0 0 24 24"},[Ue("path",{d:"M9.72841 1.5897C10.1797 1.60809 10.7322 1.67665 11.4159 1.7606L14.2284 2.1063L15.1581 2.22446C15.4371 2.26322 15.6859 2.3028 15.9071 2.34849C16.3571 2.44144 16.7509 2.57006 17.1015 2.80649L17.3026 2.95396C17.7576 3.31618 18.1055 3.79802 18.3056 4.34751L18.3544 4.49692C18.4567 4.84845 18.4772 5.21519 18.4608 5.61704C18.4516 5.84273 18.4292 6.09381 18.3993 6.37388L18.2899 7.30454L17.9442 10.117C17.8603 10.8007 17.7934 11.3535 17.702 11.7958C17.6207 12.1895 17.5122 12.5401 17.328 12.8563L17.244 12.9901C17.0958 13.2098 16.921 13.4086 16.7255 13.5829L16.6171 13.662C16.3496 13.8174 16.0009 13.769 15.787 13.5292C15.5427 13.255 15.5666 12.834 15.8407 12.5897L16.0018 12.4276C16.0519 12.3703 16.0986 12.3095 16.1415 12.2459L16.2128 12.1239C16.2813 11.9875 16.3421 11.8041 16.3993 11.5272C16.4771 11.1504 16.5383 10.6605 16.6249 9.95493L16.9696 7.14243L17.077 6.23228C17.1047 5.97357 17.1239 5.7546 17.1317 5.56235C17.1432 5.27997 17.1291 5.08722 17.0956 4.93833L17.0556 4.80259C16.9396 4.4842 16.7381 4.20493 16.4745 3.99497L16.3573 3.90903C16.2103 3.80991 16.0075 3.72745 15.6386 3.65122C15.4502 3.61231 15.2331 3.57756 14.9755 3.54185L14.0663 3.42563L11.2538 3.08091C10.5481 2.99426 10.0582 2.93444 9.67372 2.9188C9.39129 2.90732 9.19861 2.92142 9.0497 2.95493L8.91395 2.99497C8.59536 3.11093 8.31538 3.31224 8.10536 3.57603L8.0204 3.69321C7.95293 3.79324 7.89287 3.91951 7.83778 4.10532L7.787 4.23032C7.64153 4.50308 7.31955 4.64552 7.01161 4.55454C6.65948 4.45019 6.45804 4.07952 6.56239 3.72739L6.63075 3.52036C6.70469 3.31761 6.79738 3.12769 6.91786 2.94907L7.06532 2.7479C7.42756 2.29294 7.90937 1.94497 8.45888 1.74497L8.60829 1.69614C8.95981 1.59385 9.32655 1.57335 9.72841 1.5897Z"}),Ue("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.3886 5.58677C10.8476 5.5681 11.2608 5.5975 11.6581 5.74204L11.8895 5.83677C12.4185 6.07813 12.8721 6.46152 13.1991 6.94614L13.2831 7.07993C13.4673 7.39617 13.5758 7.74677 13.6571 8.14048C13.7484 8.58274 13.8154 9.13563 13.8993 9.81919L14.245 12.6317L14.3554 13.5624C14.3852 13.8423 14.4067 14.0936 14.4159 14.3192C14.4322 14.7209 14.4118 15.0879 14.3095 15.4393L14.2606 15.5887C14.0606 16.138 13.7126 16.6202 13.2577 16.9823L13.0565 17.1297C12.7061 17.366 12.312 17.4948 11.8622 17.5877C11.6411 17.6334 11.3919 17.673 11.1132 17.7118L10.1835 17.8299L7.37098 18.1756C6.68748 18.2596 6.13466 18.3282 5.68348 18.3465C5.28176 18.3628 4.9148 18.3424 4.56337 18.2401L4.41395 18.1913C3.86454 17.9912 3.38258 17.6432 3.0204 17.1883L2.87294 16.9872C2.63655 16.6367 2.50788 16.2427 2.41493 15.7928C2.36926 15.5717 2.32964 15.3226 2.29091 15.0438L2.17274 14.1141L1.82704 11.3016C1.74311 10.6181 1.67455 10.0653 1.65614 9.61411C1.63747 9.15518 1.66697 8.74175 1.81141 8.34458L1.90614 8.11313C2.14741 7.58441 2.53115 7.13051 3.01552 6.80356L3.1493 6.71958C3.46543 6.53545 3.8163 6.42688 4.20985 6.34556C4.65206 6.25423 5.20506 6.18729 5.88856 6.10337L8.70106 5.75767L9.63173 5.64731C9.91161 5.61744 10.163 5.59597 10.3886 5.58677ZM6.75673 13.0594C6.39143 12.978 6.00943 13.0106 5.66298 13.1522C5.5038 13.2173 5.32863 13.3345 5.06923 13.5829C4.80403 13.8368 4.49151 14.1871 4.04091 14.6932L3.64833 15.1327C3.67072 15.2763 3.69325 15.4061 3.71766 15.5243C3.79389 15.893 3.87637 16.0961 3.97548 16.243L4.06141 16.3602C4.27134 16.6237 4.5507 16.8253 4.86903 16.9413L5.00477 16.9813C5.1536 17.0148 5.34659 17.0289 5.6288 17.0174C6.01317 17.0018 6.50346 16.9419 7.20888 16.8553L10.0214 16.5106L10.9306 16.3944C11.0173 16.3824 11.0997 16.3693 11.1776 16.3573L8.61513 14.3065C8.08582 13.8831 7.71807 13.5905 7.41395 13.3846C7.19112 13.2338 7.02727 13.1469 6.88856 13.0975L6.75673 13.0594ZM10.4432 6.91587C10.2511 6.9237 10.0319 6.94288 9.77333 6.97056L8.86317 7.07798L6.05067 7.42271C5.34527 7.50932 4.85514 7.57047 4.47841 7.64829C4.20174 7.70549 4.01803 7.76626 3.88173 7.83481L3.75966 7.9061C3.47871 8.09575 3.25597 8.35913 3.1161 8.66587L3.06141 8.79966C3.00092 8.96619 2.96997 9.18338 2.98524 9.55942C3.00091 9.94382 3.06074 10.4341 3.14735 11.1395L3.42274 13.3895L3.64442 13.1434C3.82631 12.9454 3.99306 12.7715 4.1493 12.6219C4.46768 12.3171 4.78299 12.0748 5.16005 11.9208L5.38661 11.8377C5.92148 11.6655 6.49448 11.6387 7.04579 11.7616L7.19325 11.7987C7.53151 11.897 7.8399 12.067 8.15907 12.2831C8.51737 12.5256 8.9325 12.8582 9.4452 13.2684L12.5966 15.7889C12.7786 15.6032 12.9206 15.3806 13.0106 15.1336L13.0507 14.9979C13.0842 14.8491 13.0982 14.6561 13.0868 14.3739C13.079 14.1817 13.0598 13.9625 13.0321 13.704L12.9247 12.7938L12.58 9.9813C12.4933 9.27584 12.4322 8.78581 12.3544 8.40903C12.2972 8.13219 12.2364 7.94873 12.1679 7.81235L12.0966 7.69028C11.9069 7.40908 11.6437 7.18669 11.3368 7.04673L11.203 6.99204C11.0364 6.93147 10.8195 6.90059 10.4432 6.91587Z"})],-1),Ue("span",null,"圖庫",-1)])],2),Ue("button",{class:li(["sidebar-item",{active:e.value==="projects"}]),onClick:o},[h[7]||(h[7]=Ue("svg",{class:"icon",viewBox:"0 0 24 24"},[Ue("path",{d:"M15.2041 17.5V15.665H13.3691C13.0019 15.665 12.7041 15.3673 12.7041 15C12.7041 14.6327 13.0019 14.335 13.3691 14.335H15.2041V12.5C15.2041 12.1327 15.5019 11.835 15.8691 11.835C16.2362 11.8352 16.5332 12.1329 16.5332 12.5V14.335H18.3691C18.7362 14.3352 19.0332 14.6329 19.0332 15C19.0332 15.3671 18.7362 15.6648 18.3691 15.665H16.5332V17.5C16.5332 17.8671 16.2362 18.1648 15.8691 18.165C15.5019 18.165 15.2041 17.8673 15.2041 17.5ZM2.12012 12.7002V7.29981C2.12012 6.64581 2.11922 6.1149 2.1543 5.68555C2.19002 5.24867 2.26619 4.85832 2.45117 4.49512L2.56836 4.28516C2.86045 3.80898 3.27979 3.42103 3.78028 3.16602L3.91797 3.10156C4.24192 2.96268 4.5885 2.90039 4.97071 2.86914C5.40006 2.83406 5.93096 2.83496 6.58496 2.83496H7.28028C7.42346 2.83496 7.52305 2.83479 7.6211 2.84082L7.875 2.86719C8.46133 2.95309 9.01189 3.20874 9.45703 3.60547L9.70215 3.84473C9.81425 3.95779 9.85105 3.99455 9.88672 4.02637L9.99805 4.11719C10.2646 4.31741 10.5851 4.43638 10.9199 4.45703L11.1797 4.45996H13.6914C14.2499 4.45996 14.703 4.45958 15.0713 4.48535C15.4458 4.51157 15.7828 4.56683 16.1025 4.70313L16.3662 4.83106C16.9638 5.15706 17.4378 5.67623 17.707 6.30762L17.7939 6.54981C17.868 6.79538 17.904 7.05317 17.9238 7.33203C17.9498 7.69789 17.9502 8.14747 17.9502 8.7002C17.9501 8.87631 17.8803 9.0453 17.7559 9.16992C17.6311 9.29464 17.4615 9.36524 17.2852 9.36524H3.4502V12.7002C3.4502 13.3761 3.45084 13.8434 3.48047 14.2061C3.50947 14.5608 3.56304 14.7568 3.63672 14.9014L3.70215 15.0195C3.86642 15.2873 4.10236 15.505 4.38379 15.6484L4.50391 15.7002C4.63661 15.7476 4.81329 15.783 5.0791 15.8047C5.44174 15.8343 5.90903 15.835 6.58496 15.835H9.40918L9.54395 15.8486C9.84681 15.9108 10.0742 16.1788 10.0742 16.5C10.0742 16.8212 9.84681 17.0892 9.54395 17.1514L9.40918 17.165H6.58496C5.93096 17.165 5.40006 17.1659 4.97071 17.1309C4.5885 17.0996 4.24192 17.0373 3.91797 16.8984L3.78028 16.834C3.27979 16.579 2.86045 16.191 2.56836 15.7148L2.45117 15.5049C2.26619 15.1417 2.19002 14.7513 2.1543 14.3145C2.11922 13.8851 2.12012 13.3542 2.12012 12.7002ZM3.4502 8.03516H16.6172C16.6146 7.79548 16.6098 7.59777 16.5977 7.42676C16.5816 7.20054 16.5552 7.04845 16.5205 6.9336L16.4834 6.8291C16.332 6.47411 16.0655 6.1824 15.7295 5.99903L15.5811 5.92676C15.4545 5.8728 15.2835 5.83385 14.9785 5.8125C14.6674 5.79073 14.2686 5.79004 13.6914 5.79004H11.1797L10.8379 5.78418C10.2426 5.74746 9.67313 5.53663 9.19922 5.18067L9.00196 5.01953C8.92848 4.95403 8.85889 4.88222 8.75781 4.78028L8.57227 4.59863C8.32169 4.37525 8.01175 4.23086 7.68164 4.18262L7.54004 4.16797C7.49225 4.16502 7.43987 4.16504 7.28028 4.16504H6.58496C5.90903 4.16504 5.44174 4.16569 5.0791 4.19531C4.81329 4.21705 4.63661 4.25237 4.50391 4.29981L4.38379 4.35156C4.10236 4.49499 3.86642 4.71271 3.70215 4.98047L3.63672 5.09863C3.56304 5.24324 3.50947 5.43924 3.48047 5.79395C3.45084 6.15659 3.4502 6.62388 3.4502 7.29981V8.03516Z"})],-1)),h[8]||(h[8]=Ue("span",null,"專案",-1)),s.value.length?(kt(),Ot("svg",{key:0,class:"icon",style:fn([{"margin-left":"auto",transition:"transform 0.2s"},{transform:a.value?"rotate(90deg)":"rotate(0deg)"}]),viewBox:"0 0 24 24"},[...h[6]||(h[6]=[Ue("path",{d:"M9 6l6 6-6 6",fill:"none",stroke:"currentColor","stroke-width":"2"},null,-1)])],4)):Pa("",!0)],2),a.value&&s.value.length?(kt(),Ot("div",up,[(kt(!0),Ot(Kt,null,zu(s.value,(c,d)=>(kt(),Ot("div",{class:li(["sidebar-item toc-item cursor-pointer",{active:Ii(n).currentIndex===d}]),key:d,onClick:b=>i(d)},Ys(c),11,lp))),128))])):Pa("",!0)])]))}},hp=Tr(fp,[["__scopeId","data-v-8fb986ec"]]),cp={class:"input-inner"},dp=["onKeydown"],pp={class:"btn-row"},gp={class:"btn-left"},vp=["disabled"],mp=["disabled"],bp={class:"btn-right"},yp=["disabled"],_p={__name:"ChatInput",setup(r){const e=ba(),t=_n(),i=Lt(null),n=Lt(""),s=Lt(!1),a=()=>{const c=n.value.trim();c&&(t.pushMessage({sender:"user",text:c}),n.value="")},o=c=>{s.value||t.isInputDisabled||(c.preventDefault(),a())},u=()=>{i.value?.click()},h=async c=>{const d=c.target.files[0];d&&await e.loadFile(d),c.target.value=""};return(c,d)=>(kt(),Ot("div",cp,[jf(Ue("textarea",{"onUpdate:modelValue":d[0]||(d[0]=b=>n.value=b),placeholder:"詢問任何問題",rows:"1",class:"textarea-input",onKeydown:xc(wc(o,["exact","prevent"]),["enter"]),onCompositionstart:d[1]||(d[1]=b=>s.value=!0),onCompositionend:d[2]||(d[2]=b=>s.value=!1)},null,40,dp),[[bc,n.value]]),Ue("div",pp,[Ue("div",gp,[Ue("input",{ref_key:"fileInputRef",ref:i,type:"file",accept:".epub",class:"file-input",onChange:h,disabled:Ii(t).isInputDisabled},null,40,vp),Ue("button",{class:"icon-btn",onClick:u,disabled:Ii(t).isInputDisabled,"aria-label":"上傳 EPUB"},[...d[3]||(d[3]=[Ue("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",class:"icon"},[Ue("path",{d:"M4.33496 12.5V7.5C4.33496 7.13273 4.63273 6.83496 5 6.83496C5.36727 6.83496 5.66504 7.13273 5.66504 7.5V12.5C5.66504 14.8942 7.60585 16.835 10 16.835C12.3942 16.835 14.335 14.8942 14.335 12.5V5.83301C14.3348 4.35959 13.1404 3.16522 11.667 3.16504C10.1934 3.16504 8.99822 4.35948 8.99805 5.83301V12.5C8.99805 13.0532 9.44679 13.502 10 13.502C10.5532 13.502 11.002 13.0532 11.002 12.5V7.5C11.002 7.13273 11.2997 6.83496 11.667 6.83496C12.0341 6.83514 12.332 7.13284 12.332 7.5V12.5C12.332 13.7877 11.2877 14.832 10 14.832C8.71226 14.832 7.66797 13.7877 7.66797 12.5V5.83301C7.66814 3.62494 9.45888 1.83496 11.667 1.83496C13.875 1.83514 15.6649 3.62505 15.665 5.83301V12.5C15.665 15.6287 13.1287 18.165 10 18.165C6.87131 18.165 4.33496 15.6287 4.33496 12.5Z"})],-1)])],8,mp)]),Ue("div",bp,[Ue("button",{class:"icon-btn",onClick:a,disabled:!n.value.trim()||Ii(t).isInputDisabled,"aria-label":"送出"},[...d[4]||(d[4]=[Ue("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",class:"icon"},[Ue("path",{d:"M8.99992 16V6.41407L5.70696 9.70704C5.31643 10.0976 4.68342 10.0976 4.29289 9.70704C3.90237 9.31652 3.90237 8.6835 4.29289 8.29298L9.29289 3.29298L9.36907 3.22462C9.76184 2.90427 10.3408 2.92686 10.707 3.29298L15.707 8.29298L15.7753 8.36915C16.0957 8.76192 16.0731 9.34092 15.707 9.70704C15.3408 10.0732 14.7618 10.0958 14.3691 9.7754L14.2929 9.70704L10.9999 6.41407V16C10.9999 16.5523 10.5522 17 9.99992 17C9.44764 17 8.99992 16.5523 8.99992 16Z"})],-1)])],8,yp)])])]))}},wp=Tr(_p,[["__scopeId","data-v-842a27c6"]]),Ep={class:"topbar"},xp={__name:"AppHeader",props:{},setup(r){return(e,t)=>(kt(),Ot("header",Ep,[...t[0]||(t[0]=[Ue("div",{class:"logo"},"ePub.AI",-1),Ue("div",{class:"auth-buttons"},[Ue("button",null,"登入"),Ue("button",{class:"primary"},"免費註冊")],-1)])]))}},Cp=Tr(xp,[["__scopeId","data-v-dd554dee"]]),Ap={key:0,class:"chat-placeholder"},Dp={class:"message-inner"},Sp=["innerHTML"],Tp={key:1,class:"message-text"},kp={__name:"ChatMessages",setup(r){const e=_n(),t=Lt(null);function i(){t.value&&t.value.scrollTo({top:t.value.scrollHeight,behavior:"smooth"})}return vr(()=>e.messages,()=>{i()},{deep:!0,flush:"post"}),(n,s)=>(kt(),Ot("div",{class:"chat-content",ref_key:"chatContainer",ref:t},[Ii(e).messages.length===0?(kt(),Ot("div",Ap," 今天有什麼計畫？ ")):(kt(!0),Ot(Kt,{key:1},zu(Ii(e).messages,(a,o)=>(kt(),Ot("div",{key:o,class:li(["chat-message",a.sender])},[Ue("div",Dp,[a.sender==="epub"?(kt(),Ot("div",{key:0,class:"message-text",innerHTML:a.text},null,8,Sp)):(kt(),Ot("div",Tp,Ys(a.text),1))])],2))),128))],512))}},Rp=Tr(kp,[["__scopeId","data-v-5b4035d6"]]);function zl(r){return new Promise(e=>setTimeout(e,r))}async function Lp(r){await zl(800);const e=[`看起來「${r}」好像不是一個完整的問題，可以再說明一下嗎？`,`我有點不太確定「${r}」的意思，能再解釋一下嗎？`,`「${r}」這段好像沒有明確的內容，可以幫我補充一下上下文嗎？`,`我沒太明白「${r}」是指什麼，可以再具體一點嗎？`,`可能我誤會了，但「${r}」這句話我不太懂你的意思 😅`];return e[Math.floor(Math.random()*e.length)]}async function Np(r){r.onMessage(async e=>{if(e.sender==="user"){r.isInputDisabled=!0;const t=await Lp(e.text),i={sender:"ai",text:Lt("")};r.pushMessage(i);for(const n of t)i.text.value+=n,await zl(40);r.isInputDisabled=!1}})}const Ip={class:"layout"},Op={class:"main"},Bp={class:"main-top"},Pp={class:"main-middle"},Fp={class:"main-bottom"},Mp={__name:"App",setup(r){const e=_n();return ba(),Np(e),(t,i)=>(kt(),Ot("div",Ip,[Bt(hp,{class:"sidebar-container"}),Ue("div",Op,[Ue("div",Bp,[Bt(Cp)]),Ue("div",Pp,[Bt(Rp)]),Ue("div",Fp,[Bt(wp)])])]))}},zp=Tr(Mp,[["__scopeId","data-v-86904357"]]),Ul=Dc(zp);Ul.use(kc());Ul.mount("#app");
