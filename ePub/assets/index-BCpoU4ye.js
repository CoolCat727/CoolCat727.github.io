(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ro(r){const e=Object.create(null);for(const t of r.split(","))e[t]=1;return t=>t in e}const ut={},si=[],lr=()=>{},il=()=>!1,On=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),Oo=r=>r.startsWith("onUpdate:"),Pt=Object.assign,No=(r,e)=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)},Ec=Object.prototype.hasOwnProperty,it=(r,e)=>Ec.call(r,e),Fe=Array.isArray,oi=r=>Nn(r)==="[object Map]",nl=r=>Nn(r)==="[object Set]",He=r=>typeof r=="function",Et=r=>typeof r=="string",Br=r=>typeof r=="symbol",pt=r=>r!==null&&typeof r=="object",sl=r=>(pt(r)||He(r))&&He(r.then)&&He(r.catch),ol=Object.prototype.toString,Nn=r=>ol.call(r),xc=r=>Nn(r).slice(8,-1),al=r=>Nn(r)==="[object Object]",ko=r=>Et(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Ci=Ro(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kn=r=>{const e=Object.create(null);return(t=>e[t]||(e[t]=r(t)))},Cc=/-\w/g,kr=kn(r=>r.replace(Cc,e=>e.slice(1).toUpperCase())),Ac=/\B([A-Z])/g,Pr=kn(r=>r.replace(Ac,"-$1").toLowerCase()),ul=kn(r=>r.charAt(0).toUpperCase()+r.slice(1)),is=kn(r=>r?`on${ul(r)}`:""),Or=(r,e)=>!Object.is(r,e),nn=(r,...e)=>{for(let t=0;t<r.length;t++)r[t](...e)},ll=(r,e,t,i=!1)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,writable:i,value:t})},so=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let la;const Ln=()=>la||(la=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function In(r){if(Fe(r)){const e={};for(let t=0;t<r.length;t++){const i=r[t],n=Et(i)?Rc(i):In(i);if(n)for(const s in n)e[s]=n[s]}return e}else if(Et(r)||pt(r))return r}const Dc=/;(?![^(]*\))/g,Sc=/:([^]+)/,Tc=/\/\*[^]*?\*\//g;function Rc(r){const e={};return r.replace(Tc,"").split(Dc).forEach(t=>{if(t){const i=t.split(Sc);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function vr(r){let e="";if(Et(r))e=r;else if(Fe(r))for(let t=0;t<r.length;t++){const i=vr(r[t]);i&&(e+=i+" ")}else if(pt(r))for(const t in r)r[t]&&(e+=t+" ");return e.trim()}const Oc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Nc=Ro(Oc);function fl(r){return!!r||r===""}const cl=r=>!!(r&&r.__v_isRef===!0),Lo=r=>Et(r)?r:r==null?"":Fe(r)||pt(r)&&(r.toString===ol||!He(r.toString))?cl(r)?Lo(r.value):JSON.stringify(r,hl,2):String(r),hl=(r,e)=>cl(e)?hl(r,e.value):oi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,n],s)=>(t[ns(i,s)+" =>"]=n,t),{})}:nl(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>ns(t))}:Br(e)?ns(e):pt(e)&&!Fe(e)&&!al(e)?String(e):e,ns=(r,e="")=>{var t;return Br(r)?`Symbol(${(t=r.description)!=null?t:e})`:r};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Tt;class dl{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Tt,!e&&Tt&&(this.index=(Tt.scopes||(Tt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Tt;try{return Tt=this,e()}finally{Tt=t}}}on(){++this._on===1&&(this.prevScope=Tt,Tt=this)}off(){this._on>0&&--this._on===0&&(Tt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(this.effects.length=0,t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function pl(r){return new dl(r)}function gl(){return Tt}function kc(r,e=!1){Tt&&Tt.cleanups.push(r)}let ct;const ss=new WeakSet;class ml{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Tt&&Tt.active&&Tt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ss.has(this)&&(ss.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||yl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,fa(this),bl(this);const e=ct,t=ir;ct=this,ir=!0;try{return this.fn()}finally{wl(this),ct=e,ir=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Po(e);this.deps=this.depsTail=void 0,fa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ss.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){oo(this)&&this.run()}get dirty(){return oo(this)}}let vl=0,Ai,Di;function yl(r,e=!1){if(r.flags|=8,e){r.next=Di,Di=r;return}r.next=Ai,Ai=r}function Io(){vl++}function Bo(){if(--vl>0)return;if(Di){let e=Di;for(Di=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let r;for(;Ai;){let e=Ai;for(Ai=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){r||(r=i)}e=t}}if(r)throw r}function bl(r){for(let e=r.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function wl(r){let e,t=r.depsTail,i=t;for(;i;){const n=i.prevDep;i.version===-1?(i===t&&(t=n),Po(i),Lc(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}r.deps=e,r.depsTail=t}function oo(r){for(let e=r.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(_l(e.dep.computed)||e.dep.version!==e.version))return!0;return!!r._dirty}function _l(r){if(r.flags&4&&!(r.flags&16)||(r.flags&=-17,r.globalVersion===Ii)||(r.globalVersion=Ii,!r.isSSR&&r.flags&128&&(!r.deps&&!r._dirty||!oo(r))))return;r.flags|=2;const e=r.dep,t=ct,i=ir;ct=r,ir=!0;try{bl(r);const n=r.fn(r._value);(e.version===0||Or(n,r._value))&&(r.flags|=128,r._value=n,e.version++)}catch(n){throw e.version++,n}finally{ct=t,ir=i,wl(r),r.flags&=-3}}function Po(r,e=!1){const{dep:t,prevSub:i,nextSub:n}=r;if(i&&(i.nextSub=n,r.prevSub=void 0),n&&(n.prevSub=i,r.nextSub=void 0),t.subs===r&&(t.subs=i,!i&&t.computed)){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)Po(s,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function Lc(r){const{prevDep:e,nextDep:t}=r;e&&(e.nextDep=t,r.prevDep=void 0),t&&(t.prevDep=e,r.nextDep=void 0)}let ir=!0;const El=[];function wr(){El.push(ir),ir=!1}function _r(){const r=El.pop();ir=r===void 0?!0:r}function fa(r){const{cleanup:e}=r;if(r.cleanup=void 0,e){const t=ct;ct=void 0;try{e()}finally{ct=t}}}let Ii=0;class Ic{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Fo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ct||!ir||ct===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==ct)t=this.activeLink=new Ic(ct,this),ct.deps?(t.prevDep=ct.depsTail,ct.depsTail.nextDep=t,ct.depsTail=t):ct.deps=ct.depsTail=t,xl(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const i=t.nextDep;i.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=i),t.prevDep=ct.depsTail,t.nextDep=void 0,ct.depsTail.nextDep=t,ct.depsTail=t,ct.deps===t&&(ct.deps=i)}return t}trigger(e){this.version++,Ii++,this.notify(e)}notify(e){Io();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Bo()}}}function xl(r){if(r.dep.sc++,r.sub.flags&4){const e=r.dep.computed;if(e&&!r.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)xl(i)}const t=r.dep.subs;t!==r&&(r.prevSub=t,t&&(t.nextSub=r)),r.dep.subs=r}}const dn=new WeakMap,qr=Symbol(""),ao=Symbol(""),Bi=Symbol("");function Rt(r,e,t){if(ir&&ct){let i=dn.get(r);i||dn.set(r,i=new Map);let n=i.get(t);n||(i.set(t,n=new Fo),n.map=i,n.key=t),n.track()}}function yr(r,e,t,i,n,s){const o=dn.get(r);if(!o){Ii++;return}const a=u=>{u&&u.trigger()};if(Io(),e==="clear")o.forEach(a);else{const u=Fe(r),l=u&&ko(t);if(u&&t==="length"){const f=Number(i);o.forEach((d,v)=>{(v==="length"||v===Bi||!Br(v)&&v>=f)&&a(d)})}else switch((t!==void 0||o.has(void 0))&&a(o.get(t)),l&&a(o.get(Bi)),e){case"add":u?l&&a(o.get("length")):(a(o.get(qr)),oi(r)&&a(o.get(ao)));break;case"delete":u||(a(o.get(qr)),oi(r)&&a(o.get(ao)));break;case"set":oi(r)&&a(o.get(qr));break}}Bo()}function Bc(r,e){const t=dn.get(r);return t&&t.get(e)}function Gr(r){const e=tt(r);return e===r?e:(Rt(e,"iterate",Bi),Xt(r)?e:e.map(Dt))}function Bn(r){return Rt(r=tt(r),"iterate",Bi),r}const Pc={__proto__:null,[Symbol.iterator](){return os(this,Symbol.iterator,Dt)},concat(...r){return Gr(this).concat(...r.map(e=>Fe(e)?Gr(e):e))},entries(){return os(this,"entries",r=>(r[1]=Dt(r[1]),r))},every(r,e){return pr(this,"every",r,e,void 0,arguments)},filter(r,e){return pr(this,"filter",r,e,t=>t.map(Dt),arguments)},find(r,e){return pr(this,"find",r,e,Dt,arguments)},findIndex(r,e){return pr(this,"findIndex",r,e,void 0,arguments)},findLast(r,e){return pr(this,"findLast",r,e,Dt,arguments)},findLastIndex(r,e){return pr(this,"findLastIndex",r,e,void 0,arguments)},forEach(r,e){return pr(this,"forEach",r,e,void 0,arguments)},includes(...r){return as(this,"includes",r)},indexOf(...r){return as(this,"indexOf",r)},join(r){return Gr(this).join(r)},lastIndexOf(...r){return as(this,"lastIndexOf",r)},map(r,e){return pr(this,"map",r,e,void 0,arguments)},pop(){return vi(this,"pop")},push(...r){return vi(this,"push",r)},reduce(r,...e){return ca(this,"reduce",r,e)},reduceRight(r,...e){return ca(this,"reduceRight",r,e)},shift(){return vi(this,"shift")},some(r,e){return pr(this,"some",r,e,void 0,arguments)},splice(...r){return vi(this,"splice",r)},toReversed(){return Gr(this).toReversed()},toSorted(r){return Gr(this).toSorted(r)},toSpliced(...r){return Gr(this).toSpliced(...r)},unshift(...r){return vi(this,"unshift",r)},values(){return os(this,"values",Dt)}};function os(r,e,t){const i=Bn(r),n=i[e]();return i!==r&&!Xt(r)&&(n._next=n.next,n.next=()=>{const s=n._next();return s.done||(s.value=t(s.value)),s}),n}const Fc=Array.prototype;function pr(r,e,t,i,n,s){const o=Bn(r),a=o!==r&&!Xt(r),u=o[e];if(u!==Fc[e]){const d=u.apply(r,s);return a?Dt(d):d}let l=t;o!==r&&(a?l=function(d,v){return t.call(this,Dt(d),v,r)}:t.length>2&&(l=function(d,v){return t.call(this,d,v,r)}));const f=u.call(o,l,i);return a&&n?n(f):f}function ca(r,e,t,i){const n=Bn(r);let s=t;return n!==r&&(Xt(r)?t.length>3&&(s=function(o,a,u){return t.call(this,o,a,u,r)}):s=function(o,a,u){return t.call(this,o,Dt(a),u,r)}),n[e](s,...i)}function as(r,e,t){const i=tt(r);Rt(i,"iterate",Bi);const n=i[e](...t);return(n===-1||n===!1)&&Uo(t[0])?(t[0]=tt(t[0]),i[e](...t)):n}function vi(r,e,t=[]){wr(),Io();const i=tt(r)[e].apply(r,t);return Bo(),_r(),i}const Mc=Ro("__proto__,__v_isRef,__isVue"),Cl=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Br));function zc(r){Br(r)||(r=String(r));const e=tt(this);return Rt(e,"has",r),e.hasOwnProperty(r)}class Al{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){if(t==="__v_skip")return e.__v_skip;const n=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!n;if(t==="__v_isReadonly")return n;if(t==="__v_isShallow")return s;if(t==="__v_raw")return i===(n?s?Kc:Rl:s?Tl:Sl).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=Fe(e);if(!n){let u;if(o&&(u=Pc[t]))return u;if(t==="hasOwnProperty")return zc}const a=Reflect.get(e,t,yt(e)?e:i);if((Br(t)?Cl.has(t):Mc(t))||(n||Rt(e,"get",t),s))return a;if(yt(a)){const u=o&&ko(t)?a:a.value;return n&&pt(u)?lo(u):u}return pt(a)?n?lo(a):Pn(a):a}}class Dl extends Al{constructor(e=!1){super(!1,e)}set(e,t,i,n){let s=e[t];if(!this._isShallow){const u=Lr(s);if(!Xt(i)&&!Lr(i)&&(s=tt(s),i=tt(i)),!Fe(e)&&yt(s)&&!yt(i))return u||(s.value=i),!0}const o=Fe(e)&&ko(t)?Number(t)<e.length:it(e,t),a=Reflect.set(e,t,i,yt(e)?e:n);return e===tt(n)&&(o?Or(i,s)&&yr(e,"set",t,i):yr(e,"add",t,i)),a}deleteProperty(e,t){const i=it(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&i&&yr(e,"delete",t,void 0),n}has(e,t){const i=Reflect.has(e,t);return(!Br(t)||!Cl.has(t))&&Rt(e,"has",t),i}ownKeys(e){return Rt(e,"iterate",Fe(e)?"length":qr),Reflect.ownKeys(e)}}class Uc extends Al{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const qc=new Dl,jc=new Uc,Wc=new Dl(!0);const uo=r=>r,Xi=r=>Reflect.getPrototypeOf(r);function Hc(r,e,t){return function(...i){const n=this.__v_raw,s=tt(n),o=oi(s),a=r==="entries"||r===Symbol.iterator&&o,u=r==="keys"&&o,l=n[r](...i),f=t?uo:e?pn:Dt;return!e&&Rt(s,"iterate",u?ao:qr),{next(){const{value:d,done:v}=l.next();return v?{value:d,done:v}:{value:a?[f(d[0]),f(d[1])]:f(d),done:v}},[Symbol.iterator](){return this}}}}function Yi(r){return function(...e){return r==="delete"?!1:r==="clear"?void 0:this}}function Vc(r,e){const t={get(n){const s=this.__v_raw,o=tt(s),a=tt(n);r||(Or(n,a)&&Rt(o,"get",n),Rt(o,"get",a));const{has:u}=Xi(o),l=e?uo:r?pn:Dt;if(u.call(o,n))return l(s.get(n));if(u.call(o,a))return l(s.get(a));s!==o&&s.get(n)},get size(){const n=this.__v_raw;return!r&&Rt(tt(n),"iterate",qr),n.size},has(n){const s=this.__v_raw,o=tt(s),a=tt(n);return r||(Or(n,a)&&Rt(o,"has",n),Rt(o,"has",a)),n===a?s.has(n):s.has(n)||s.has(a)},forEach(n,s){const o=this,a=o.__v_raw,u=tt(a),l=e?uo:r?pn:Dt;return!r&&Rt(u,"iterate",qr),a.forEach((f,d)=>n.call(s,l(f),l(d),o))}};return Pt(t,r?{add:Yi("add"),set:Yi("set"),delete:Yi("delete"),clear:Yi("clear")}:{add(n){!e&&!Xt(n)&&!Lr(n)&&(n=tt(n));const s=tt(this);return Xi(s).has.call(s,n)||(s.add(n),yr(s,"add",n,n)),this},set(n,s){!e&&!Xt(s)&&!Lr(s)&&(s=tt(s));const o=tt(this),{has:a,get:u}=Xi(o);let l=a.call(o,n);l||(n=tt(n),l=a.call(o,n));const f=u.call(o,n);return o.set(n,s),l?Or(s,f)&&yr(o,"set",n,s):yr(o,"add",n,s),this},delete(n){const s=tt(this),{has:o,get:a}=Xi(s);let u=o.call(s,n);u||(n=tt(n),u=o.call(s,n)),a&&a.call(s,n);const l=s.delete(n);return u&&yr(s,"delete",n,void 0),l},clear(){const n=tt(this),s=n.size!==0,o=n.clear();return s&&yr(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{t[n]=Hc(n,r,e)}),t}function Mo(r,e){const t=Vc(r,e);return(i,n,s)=>n==="__v_isReactive"?!r:n==="__v_isReadonly"?r:n==="__v_raw"?i:Reflect.get(it(t,n)&&n in i?t:i,n,s)}const $c={get:Mo(!1,!1)},Zc={get:Mo(!1,!0)},Gc={get:Mo(!0,!1)};const Sl=new WeakMap,Tl=new WeakMap,Rl=new WeakMap,Kc=new WeakMap;function Xc(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Yc(r){return r.__v_skip||!Object.isExtensible(r)?0:Xc(xc(r))}function Pn(r){return Lr(r)?r:zo(r,!1,qc,$c,Sl)}function Jc(r){return zo(r,!1,Wc,Zc,Tl)}function lo(r){return zo(r,!0,jc,Gc,Rl)}function zo(r,e,t,i,n){if(!pt(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const s=Yc(r);if(s===0)return r;const o=n.get(r);if(o)return o;const a=new Proxy(r,s===2?i:t);return n.set(r,a),a}function Nr(r){return Lr(r)?Nr(r.__v_raw):!!(r&&r.__v_isReactive)}function Lr(r){return!!(r&&r.__v_isReadonly)}function Xt(r){return!!(r&&r.__v_isShallow)}function Uo(r){return r?!!r.__v_raw:!1}function tt(r){const e=r&&r.__v_raw;return e?tt(e):r}function qo(r){return!it(r,"__v_skip")&&Object.isExtensible(r)&&ll(r,"__v_skip",!0),r}const Dt=r=>pt(r)?Pn(r):r,pn=r=>pt(r)?lo(r):r;function yt(r){return r?r.__v_isRef===!0:!1}function Bt(r){return Qc(r,!1)}function Qc(r,e){return yt(r)?r:new eh(r,e)}class eh{constructor(e,t){this.dep=new Fo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:tt(e),this._value=t?e:Dt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,i=this.__v_isShallow||Xt(e)||Lr(e);e=i?e:tt(e),Or(e,t)&&(this._rawValue=e,this._value=i?e:Dt(e),this.dep.trigger())}}function jr(r){return yt(r)?r.value:r}const th={get:(r,e,t)=>e==="__v_raw"?r:jr(Reflect.get(r,e,t)),set:(r,e,t,i)=>{const n=r[e];return yt(n)&&!yt(t)?(n.value=t,!0):Reflect.set(r,e,t,i)}};function Ol(r){return Nr(r)?r:new Proxy(r,th)}function rh(r){const e=Fe(r)?new Array(r.length):{};for(const t in r)e[t]=nh(r,t);return e}class ih{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Bc(tt(this._object),this._key)}}function nh(r,e,t){const i=r[e];return yt(i)?i:new ih(r,e,t)}class sh{constructor(e,t,i){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Fo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ii-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&ct!==this)return yl(this,!0),!0}get value(){const e=this.dep.track();return _l(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function oh(r,e,t=!1){let i,n;return He(r)?i=r:(i=r.get,n=r.set),new sh(i,n,t)}const Ji={},gn=new WeakMap;let zr;function ah(r,e=!1,t=zr){if(t){let i=gn.get(t);i||gn.set(t,i=[]),i.push(r)}}function uh(r,e,t=ut){const{immediate:i,deep:n,once:s,scheduler:o,augmentJob:a,call:u}=t,l=T=>n?T:Xt(T)||n===!1||n===0?br(T,1):br(T);let f,d,v,m,x=!1,w=!1;if(yt(r)?(d=()=>r.value,x=Xt(r)):Nr(r)?(d=()=>l(r),x=!0):Fe(r)?(w=!0,x=r.some(T=>Nr(T)||Xt(T)),d=()=>r.map(T=>{if(yt(T))return T.value;if(Nr(T))return l(T);if(He(T))return u?u(T,2):T()})):He(r)?e?d=u?()=>u(r,2):r:d=()=>{if(v){wr();try{v()}finally{_r()}}const T=zr;zr=f;try{return u?u(r,3,[m]):r(m)}finally{zr=T}}:d=lr,e&&n){const T=d,_=n===!0?1/0:n;d=()=>br(T(),_)}const p=gl(),g=()=>{f.stop(),p&&p.active&&No(p.effects,f)};if(s&&e){const T=e;e=(..._)=>{T(..._),g()}}let y=w?new Array(r.length).fill(Ji):Ji;const C=T=>{if(!(!(f.flags&1)||!f.dirty&&!T))if(e){const _=f.run();if(n||x||(w?_.some((R,O)=>Or(R,y[O])):Or(_,y))){v&&v();const R=zr;zr=f;try{const O=[_,y===Ji?void 0:w&&y[0]===Ji?[]:y,m];y=_,u?u(e,3,O):e(...O)}finally{zr=R}}}else f.run()};return a&&a(C),f=new ml(d),f.scheduler=o?()=>o(C,!1):C,m=T=>ah(T,!1,f),v=f.onStop=()=>{const T=gn.get(f);if(T){if(u)u(T,4);else for(const _ of T)_();gn.delete(f)}},e?i?C(!0):y=f.run():o?o(C.bind(null,!0),!0):f.run(),g.pause=f.pause.bind(f),g.resume=f.resume.bind(f),g.stop=g,g}function br(r,e=1/0,t){if(e<=0||!pt(r)||r.__v_skip||(t=t||new Map,(t.get(r)||0)>=e))return r;if(t.set(r,e),e--,yt(r))br(r.value,e,t);else if(Fe(r))for(let i=0;i<r.length;i++)br(r[i],e,t);else if(nl(r)||oi(r))r.forEach(i=>{br(i,e,t)});else if(al(r)){for(const i in r)br(r[i],e,t);for(const i of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,i)&&br(r[i],e,t)}return r}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function qi(r,e,t,i){try{return i?r(...i):r()}catch(n){Fn(n,e,t)}}function cr(r,e,t,i){if(He(r)){const n=qi(r,e,t,i);return n&&sl(n)&&n.catch(s=>{Fn(s,e,t)}),n}if(Fe(r)){const n=[];for(let s=0;s<r.length;s++)n.push(cr(r[s],e,t,i));return n}}function Fn(r,e,t,i=!0){const n=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ut;if(e){let a=e.parent;const u=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${t}`;for(;a;){const f=a.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](r,u,l)===!1)return}a=a.parent}if(s){wr(),qi(s,null,10,[r,u,l]),_r();return}}lh(r,t,n,i,o)}function lh(r,e,t,i=!0,n=!1){if(n)throw r;console.error(r)}const kt=[];let ar=-1;const ai=[];let Dr=null,ei=0;const Nl=Promise.resolve();let mn=null;function kl(r){const e=mn||Nl;return r?e.then(this?r.bind(this):r):e}function fh(r){let e=ar+1,t=kt.length;for(;e<t;){const i=e+t>>>1,n=kt[i],s=Pi(n);s<r||s===r&&n.flags&2?e=i+1:t=i}return e}function jo(r){if(!(r.flags&1)){const e=Pi(r),t=kt[kt.length-1];!t||!(r.flags&2)&&e>=Pi(t)?kt.push(r):kt.splice(fh(e),0,r),r.flags|=1,Ll()}}function Ll(){mn||(mn=Nl.then(Bl))}function ch(r){Fe(r)?ai.push(...r):Dr&&r.id===-1?Dr.splice(ei+1,0,r):r.flags&1||(ai.push(r),r.flags|=1),Ll()}function ha(r,e,t=ar+1){for(;t<kt.length;t++){const i=kt[t];if(i&&i.flags&2){if(r&&i.id!==r.uid)continue;kt.splice(t,1),t--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Il(r){if(ai.length){const e=[...new Set(ai)].sort((t,i)=>Pi(t)-Pi(i));if(ai.length=0,Dr){Dr.push(...e);return}for(Dr=e,ei=0;ei<Dr.length;ei++){const t=Dr[ei];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}Dr=null,ei=0}}const Pi=r=>r.id==null?r.flags&2?-1:1/0:r.id;function Bl(r){try{for(ar=0;ar<kt.length;ar++){const e=kt[ar];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),qi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ar<kt.length;ar++){const e=kt[ar];e&&(e.flags&=-2)}ar=-1,kt.length=0,Il(),mn=null,(kt.length||ai.length)&&Bl()}}let Gt=null,Pl=null;function vn(r){const e=Gt;return Gt=r,Pl=r&&r.type.__scopeId||null,e}function hh(r,e=Gt,t){if(!e||r._n)return r;const i=(...n)=>{i._d&&Ea(-1);const s=vn(e);let o;try{o=r(...n)}finally{vn(s),i._d&&Ea(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function dh(r,e){if(Gt===null)return r;const t=qn(Gt),i=r.dirs||(r.dirs=[]);for(let n=0;n<e.length;n++){let[s,o,a,u=ut]=e[n];s&&(He(s)&&(s={mounted:s,updated:s}),s.deep&&br(o),i.push({dir:s,instance:t,value:o,oldValue:void 0,arg:a,modifiers:u}))}return r}function Fr(r,e,t,i){const n=r.dirs,s=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];s&&(a.oldValue=s[o].value);let u=a.dir[i];u&&(wr(),cr(u,t,8,[r.el,a,r,e]),_r())}}const ph=Symbol("_vte"),gh=r=>r.__isTeleport,mh=Symbol("_leaveCb");function Wo(r,e){r.shapeFlag&6&&r.component?(r.transition=e,Wo(r.component.subTree,e)):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}function Fl(r){r.ids=[r.ids[0]+r.ids[2]+++"-",0,0]}const yn=new WeakMap;function Si(r,e,t,i,n=!1){if(Fe(r)){r.forEach((x,w)=>Si(x,e&&(Fe(e)?e[w]:e),t,i,n));return}if(Ti(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Si(r,e,t,i.component.subTree);return}const s=i.shapeFlag&4?qn(i.component):i.el,o=n?null:s,{i:a,r:u}=r,l=e&&e.r,f=a.refs===ut?a.refs={}:a.refs,d=a.setupState,v=tt(d),m=d===ut?il:x=>it(v,x);if(l!=null&&l!==u){if(da(e),Et(l))f[l]=null,m(l)&&(d[l]=null);else if(yt(l)){l.value=null;const x=e;x.k&&(f[x.k]=null)}}if(He(u))qi(u,a,12,[o,f]);else{const x=Et(u),w=yt(u);if(x||w){const p=()=>{if(r.f){const g=x?m(u)?d[u]:f[u]:u.value;if(n)Fe(g)&&No(g,s);else if(Fe(g))g.includes(s)||g.push(s);else if(x)f[u]=[s],m(u)&&(d[u]=f[u]);else{const y=[s];u.value=y,r.k&&(f[r.k]=y)}}else x?(f[u]=o,m(u)&&(d[u]=o)):w&&(u.value=o,r.k&&(f[r.k]=o))};if(o){const g=()=>{p(),yn.delete(r)};g.id=-1,yn.set(r,g),Wt(g,t)}else da(r),p()}}}function da(r){const e=yn.get(r);e&&(e.flags|=8,yn.delete(r))}Ln().requestIdleCallback;Ln().cancelIdleCallback;const Ti=r=>!!r.type.__asyncLoader,Ml=r=>r.type.__isKeepAlive;function vh(r,e){zl(r,"a",e)}function yh(r,e){zl(r,"da",e)}function zl(r,e,t=It){const i=r.__wdc||(r.__wdc=()=>{let n=t;for(;n;){if(n.isDeactivated)return;n=n.parent}return r()});if(Mn(e,i,t),t){let n=t.parent;for(;n&&n.parent;)Ml(n.parent.vnode)&&bh(i,e,t,n),n=n.parent}}function bh(r,e,t,i){const n=Mn(e,r,i,!0);Ul(()=>{No(i[e],n)},t)}function Mn(r,e,t=It,i=!1){if(t){const n=t[r]||(t[r]=[]),s=e.__weh||(e.__weh=(...o)=>{wr();const a=ji(t),u=cr(e,t,r,o);return a(),_r(),u});return i?n.unshift(s):n.push(s),s}}const Cr=r=>(e,t=It)=>{(!Mi||r==="sp")&&Mn(r,(...i)=>e(...i),t)},wh=Cr("bm"),_h=Cr("m"),Eh=Cr("bu"),xh=Cr("u"),Ch=Cr("bum"),Ul=Cr("um"),Ah=Cr("sp"),Dh=Cr("rtg"),Sh=Cr("rtc");function Th(r,e=It){Mn("ec",r,e)}const Rh=Symbol.for("v-ndc");function ql(r,e,t,i){let n;const s=t,o=Fe(r);if(o||Et(r)){const a=o&&Nr(r);let u=!1,l=!1;a&&(u=!Xt(r),l=Lr(r),r=Bn(r)),n=new Array(r.length);for(let f=0,d=r.length;f<d;f++)n[f]=e(u?l?pn(Dt(r[f])):Dt(r[f]):r[f],f,void 0,s)}else if(typeof r=="number"){n=new Array(r);for(let a=0;a<r;a++)n[a]=e(a+1,a,void 0,s)}else if(pt(r))if(r[Symbol.iterator])n=Array.from(r,(a,u)=>e(a,u,void 0,s));else{const a=Object.keys(r);n=new Array(a.length);for(let u=0,l=a.length;u<l;u++){const f=a[u];n[u]=e(r[f],f,u,s)}}else n=[];return n}const fo=r=>r?ff(r)?qn(r):fo(r.parent):null,Ri=Pt(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>fo(r.parent),$root:r=>fo(r.root),$host:r=>r.ce,$emit:r=>r.emit,$options:r=>Wl(r),$forceUpdate:r=>r.f||(r.f=()=>{jo(r.update)}),$nextTick:r=>r.n||(r.n=kl.bind(r.proxy)),$watch:r=>Jh.bind(r)}),us=(r,e)=>r!==ut&&!r.__isScriptSetup&&it(r,e),Oh={get({_:r},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:i,data:n,props:s,accessCache:o,type:a,appContext:u}=r;let l;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return i[e];case 2:return n[e];case 4:return t[e];case 3:return s[e]}else{if(us(i,e))return o[e]=1,i[e];if(n!==ut&&it(n,e))return o[e]=2,n[e];if((l=r.propsOptions[0])&&it(l,e))return o[e]=3,s[e];if(t!==ut&&it(t,e))return o[e]=4,t[e];co&&(o[e]=0)}}const f=Ri[e];let d,v;if(f)return e==="$attrs"&&Rt(r.attrs,"get",""),f(r);if((d=a.__cssModules)&&(d=d[e]))return d;if(t!==ut&&it(t,e))return o[e]=4,t[e];if(v=u.config.globalProperties,it(v,e))return v[e]},set({_:r},e,t){const{data:i,setupState:n,ctx:s}=r;return us(n,e)?(n[e]=t,!0):i!==ut&&it(i,e)?(i[e]=t,!0):it(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(s[e]=t,!0)},has({_:{data:r,setupState:e,accessCache:t,ctx:i,appContext:n,propsOptions:s,type:o}},a){let u,l;return!!(t[a]||r!==ut&&a[0]!=="$"&&it(r,a)||us(e,a)||(u=s[0])&&it(u,a)||it(i,a)||it(Ri,a)||it(n.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(r,e,t){return t.get!=null?r._.accessCache[e]=0:it(t,"value")&&this.set(r,e,t.value,null),Reflect.defineProperty(r,e,t)}};function pa(r){return Fe(r)?r.reduce((e,t)=>(e[t]=null,e),{}):r}let co=!0;function Nh(r){const e=Wl(r),t=r.proxy,i=r.ctx;co=!1,e.beforeCreate&&ga(e.beforeCreate,r,"bc");const{data:n,computed:s,methods:o,watch:a,provide:u,inject:l,created:f,beforeMount:d,mounted:v,beforeUpdate:m,updated:x,activated:w,deactivated:p,beforeDestroy:g,beforeUnmount:y,destroyed:C,unmounted:T,render:_,renderTracked:R,renderTriggered:O,errorCaptured:k,serverPrefetch:S,expose:I,inheritAttrs:$,components:j,directives:K,filters:ae}=e;if(l&&kh(l,i,null),o)for(const ee in o){const Y=o[ee];He(Y)&&(i[ee]=Y.bind(t))}if(n){const ee=n.call(t,t);pt(ee)&&(r.data=Pn(ee))}if(co=!0,s)for(const ee in s){const Y=s[ee],be=He(Y)?Y.bind(t,t):He(Y.get)?Y.get.bind(t,t):lr,ke=!He(Y)&&He(Y.set)?Y.set.bind(t):lr,ce=jn({get:be,set:ke});Object.defineProperty(i,ee,{enumerable:!0,configurable:!0,get:()=>ce.value,set:we=>ce.value=we})}if(a)for(const ee in a)jl(a[ee],i,t,ee);if(u){const ee=He(u)?u.call(t):u;Reflect.ownKeys(ee).forEach(Y=>{Mh(Y,ee[Y])})}f&&ga(f,r,"c");function ue(ee,Y){Fe(Y)?Y.forEach(be=>ee(be.bind(t))):Y&&ee(Y.bind(t))}if(ue(wh,d),ue(_h,v),ue(Eh,m),ue(xh,x),ue(vh,w),ue(yh,p),ue(Th,k),ue(Sh,R),ue(Dh,O),ue(Ch,y),ue(Ul,T),ue(Ah,S),Fe(I))if(I.length){const ee=r.exposed||(r.exposed={});I.forEach(Y=>{Object.defineProperty(ee,Y,{get:()=>t[Y],set:be=>t[Y]=be,enumerable:!0})})}else r.exposed||(r.exposed={});_&&r.render===lr&&(r.render=_),$!=null&&(r.inheritAttrs=$),j&&(r.components=j),K&&(r.directives=K),S&&Fl(r)}function kh(r,e,t=lr){Fe(r)&&(r=ho(r));for(const i in r){const n=r[i];let s;pt(n)?"default"in n?s=Oi(n.from||i,n.default,!0):s=Oi(n.from||i):s=Oi(n),yt(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function ga(r,e,t){cr(Fe(r)?r.map(i=>i.bind(e.proxy)):r.bind(e.proxy),e,t)}function jl(r,e,t,i){let n=i.includes(".")?rf(t,i):()=>t[i];if(Et(r)){const s=e[r];He(s)&&Ni(n,s)}else if(He(r))Ni(n,r.bind(t));else if(pt(r))if(Fe(r))r.forEach(s=>jl(s,e,t,i));else{const s=He(r.handler)?r.handler.bind(t):e[r.handler];He(s)&&Ni(n,s,r)}}function Wl(r){const e=r.type,{mixins:t,extends:i}=e,{mixins:n,optionsCache:s,config:{optionMergeStrategies:o}}=r.appContext,a=s.get(e);let u;return a?u=a:!n.length&&!t&&!i?u=e:(u={},n.length&&n.forEach(l=>bn(u,l,o,!0)),bn(u,e,o)),pt(e)&&s.set(e,u),u}function bn(r,e,t,i=!1){const{mixins:n,extends:s}=e;s&&bn(r,s,t,!0),n&&n.forEach(o=>bn(r,o,t,!0));for(const o in e)if(!(i&&o==="expose")){const a=Lh[o]||t&&t[o];r[o]=a?a(r[o],e[o]):e[o]}return r}const Lh={data:ma,props:va,emits:va,methods:xi,computed:xi,beforeCreate:Nt,created:Nt,beforeMount:Nt,mounted:Nt,beforeUpdate:Nt,updated:Nt,beforeDestroy:Nt,beforeUnmount:Nt,destroyed:Nt,unmounted:Nt,activated:Nt,deactivated:Nt,errorCaptured:Nt,serverPrefetch:Nt,components:xi,directives:xi,watch:Bh,provide:ma,inject:Ih};function ma(r,e){return e?r?function(){return Pt(He(r)?r.call(this,this):r,He(e)?e.call(this,this):e)}:e:r}function Ih(r,e){return xi(ho(r),ho(e))}function ho(r){if(Fe(r)){const e={};for(let t=0;t<r.length;t++)e[r[t]]=r[t];return e}return r}function Nt(r,e){return r?[...new Set([].concat(r,e))]:e}function xi(r,e){return r?Pt(Object.create(null),r,e):e}function va(r,e){return r?Fe(r)&&Fe(e)?[...new Set([...r,...e])]:Pt(Object.create(null),pa(r),pa(e??{})):e}function Bh(r,e){if(!r)return e;if(!e)return r;const t=Pt(Object.create(null),r);for(const i in e)t[i]=Nt(r[i],e[i]);return t}function Hl(){return{app:null,config:{isNativeTag:il,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ph=0;function Fh(r,e){return function(i,n=null){He(i)||(i=Pt({},i)),n!=null&&!pt(n)&&(n=null);const s=Hl(),o=new WeakSet,a=[];let u=!1;const l=s.app={_uid:Ph++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:Ed,get config(){return s.config},set config(f){},use(f,...d){return o.has(f)||(f&&He(f.install)?(o.add(f),f.install(l,...d)):He(f)&&(o.add(f),f(l,...d))),l},mixin(f){return s.mixins.includes(f)||s.mixins.push(f),l},component(f,d){return d?(s.components[f]=d,l):s.components[f]},directive(f,d){return d?(s.directives[f]=d,l):s.directives[f]},mount(f,d,v){if(!u){const m=l._ceVNode||zt(i,n);return m.appContext=s,v===!0?v="svg":v===!1&&(v=void 0),r(m,f,v),u=!0,l._container=f,f.__vue_app__=l,qn(m.component)}},onUnmount(f){a.push(f)},unmount(){u&&(cr(a,l._instance,16),r(null,l._container),delete l._container.__vue_app__)},provide(f,d){return s.provides[f]=d,l},runWithContext(f){const d=Wr;Wr=l;try{return f()}finally{Wr=d}}};return l}}let Wr=null;function Mh(r,e){if(It){let t=It.provides;const i=It.parent&&It.parent.provides;i===t&&(t=It.provides=Object.create(i)),t[r]=e}}function Oi(r,e,t=!1){const i=lf();if(i||Wr){let n=Wr?Wr._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&r in n)return n[r];if(arguments.length>1)return t&&He(e)?e.call(i&&i.proxy):e}}function zh(){return!!(lf()||Wr)}const Vl={},$l=()=>Object.create(Vl),Zl=r=>Object.getPrototypeOf(r)===Vl;function Uh(r,e,t,i=!1){const n={},s=$l();r.propsDefaults=Object.create(null),Gl(r,e,n,s);for(const o in r.propsOptions[0])o in n||(n[o]=void 0);t?r.props=i?n:Jc(n):r.type.props?r.props=n:r.props=s,r.attrs=s}function qh(r,e,t,i){const{props:n,attrs:s,vnode:{patchFlag:o}}=r,a=tt(n),[u]=r.propsOptions;let l=!1;if((i||o>0)&&!(o&16)){if(o&8){const f=r.vnode.dynamicProps;for(let d=0;d<f.length;d++){let v=f[d];if(zn(r.emitsOptions,v))continue;const m=e[v];if(u)if(it(s,v))m!==s[v]&&(s[v]=m,l=!0);else{const x=kr(v);n[x]=po(u,a,x,m,r,!1)}else m!==s[v]&&(s[v]=m,l=!0)}}}else{Gl(r,e,n,s)&&(l=!0);let f;for(const d in a)(!e||!it(e,d)&&((f=Pr(d))===d||!it(e,f)))&&(u?t&&(t[d]!==void 0||t[f]!==void 0)&&(n[d]=po(u,a,d,void 0,r,!0)):delete n[d]);if(s!==a)for(const d in s)(!e||!it(e,d))&&(delete s[d],l=!0)}l&&yr(r.attrs,"set","")}function Gl(r,e,t,i){const[n,s]=r.propsOptions;let o=!1,a;if(e)for(let u in e){if(Ci(u))continue;const l=e[u];let f;n&&it(n,f=kr(u))?!s||!s.includes(f)?t[f]=l:(a||(a={}))[f]=l:zn(r.emitsOptions,u)||(!(u in i)||l!==i[u])&&(i[u]=l,o=!0)}if(s){const u=tt(t),l=a||ut;for(let f=0;f<s.length;f++){const d=s[f];t[d]=po(n,u,d,l[d],r,!it(l,d))}}return o}function po(r,e,t,i,n,s){const o=r[t];if(o!=null){const a=it(o,"default");if(a&&i===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&He(u)){const{propsDefaults:l}=n;if(t in l)i=l[t];else{const f=ji(n);i=l[t]=u.call(null,e),f()}}else i=u;n.ce&&n.ce._setProp(t,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Pr(t))&&(i=!0))}return i}const jh=new WeakMap;function Kl(r,e,t=!1){const i=t?jh:e.propsCache,n=i.get(r);if(n)return n;const s=r.props,o={},a=[];let u=!1;if(!He(r)){const f=d=>{u=!0;const[v,m]=Kl(d,e,!0);Pt(o,v),m&&a.push(...m)};!t&&e.mixins.length&&e.mixins.forEach(f),r.extends&&f(r.extends),r.mixins&&r.mixins.forEach(f)}if(!s&&!u)return pt(r)&&i.set(r,si),si;if(Fe(s))for(let f=0;f<s.length;f++){const d=kr(s[f]);ya(d)&&(o[d]=ut)}else if(s)for(const f in s){const d=kr(f);if(ya(d)){const v=s[f],m=o[d]=Fe(v)||He(v)?{type:v}:Pt({},v),x=m.type;let w=!1,p=!0;if(Fe(x))for(let g=0;g<x.length;++g){const y=x[g],C=He(y)&&y.name;if(C==="Boolean"){w=!0;break}else C==="String"&&(p=!1)}else w=He(x)&&x.name==="Boolean";m[0]=w,m[1]=p,(w||it(m,"default"))&&a.push(d)}}const l=[o,a];return pt(r)&&i.set(r,l),l}function ya(r){return r[0]!=="$"&&!Ci(r)}const Ho=r=>r==="_"||r==="_ctx"||r==="$stable",Vo=r=>Fe(r)?r.map(ur):[ur(r)],Wh=(r,e,t)=>{if(e._n)return e;const i=hh((...n)=>Vo(e(...n)),t);return i._c=!1,i},Xl=(r,e,t)=>{const i=r._ctx;for(const n in r){if(Ho(n))continue;const s=r[n];if(He(s))e[n]=Wh(n,s,i);else if(s!=null){const o=Vo(s);e[n]=()=>o}}},Yl=(r,e)=>{const t=Vo(e);r.slots.default=()=>t},Jl=(r,e,t)=>{for(const i in e)(t||!Ho(i))&&(r[i]=e[i])},Hh=(r,e,t)=>{const i=r.slots=$l();if(r.vnode.shapeFlag&32){const n=e._;n?(Jl(i,e,t),t&&ll(i,"_",n,!0)):Xl(e,i)}else e&&Yl(r,e)},Vh=(r,e,t)=>{const{vnode:i,slots:n}=r;let s=!0,o=ut;if(i.shapeFlag&32){const a=e._;a?t&&a===1?s=!1:Jl(n,e,t):(s=!e.$stable,Xl(e,n)),o=e}else e&&(Yl(r,e),o={default:1});if(s)for(const a in n)!Ho(a)&&o[a]==null&&delete n[a]},Wt=od;function $h(r){return Zh(r)}function Zh(r,e){const t=Ln();t.__VUE__=!0;const{insert:i,remove:n,patchProp:s,createElement:o,createText:a,createComment:u,setText:l,setElementText:f,parentNode:d,nextSibling:v,setScopeId:m=lr,insertStaticContent:x}=r,w=(B,M,Z,ie=null,te=null,Q=null,pe=void 0,he=null,fe=!!M.dynamicChildren)=>{if(B===M)return;B&&!yi(B,M)&&(ie=$e(B),we(B,te,Q,!0),B=null),M.patchFlag===-2&&(fe=!1,M.dynamicChildren=null);const{type:J,ref:me,shapeFlag:ne}=M;switch(J){case Un:p(B,M,Z,ie);break;case Ir:g(B,M,Z,ie);break;case sn:B==null&&y(M,Z,ie,pe);break;case rr:j(B,M,Z,ie,te,Q,pe,he,fe);break;default:ne&1?_(B,M,Z,ie,te,Q,pe,he,fe):ne&6?K(B,M,Z,ie,te,Q,pe,he,fe):(ne&64||ne&128)&&J.process(B,M,Z,ie,te,Q,pe,he,fe,Je)}me!=null&&te?Si(me,B&&B.ref,Q,M||B,!M):me==null&&B&&B.ref!=null&&Si(B.ref,null,Q,B,!0)},p=(B,M,Z,ie)=>{if(B==null)i(M.el=a(M.children),Z,ie);else{const te=M.el=B.el;M.children!==B.children&&l(te,M.children)}},g=(B,M,Z,ie)=>{B==null?i(M.el=u(M.children||""),Z,ie):M.el=B.el},y=(B,M,Z,ie)=>{[B.el,B.anchor]=x(B.children,M,Z,ie,B.el,B.anchor)},C=({el:B,anchor:M},Z,ie)=>{let te;for(;B&&B!==M;)te=v(B),i(B,Z,ie),B=te;i(M,Z,ie)},T=({el:B,anchor:M})=>{let Z;for(;B&&B!==M;)Z=v(B),n(B),B=Z;n(M)},_=(B,M,Z,ie,te,Q,pe,he,fe)=>{M.type==="svg"?pe="svg":M.type==="math"&&(pe="mathml"),B==null?R(M,Z,ie,te,Q,pe,he,fe):S(B,M,te,Q,pe,he,fe)},R=(B,M,Z,ie,te,Q,pe,he)=>{let fe,J;const{props:me,shapeFlag:ne,transition:Ae,dirs:Oe}=B;if(fe=B.el=o(B.type,Q,me&&me.is,me),ne&8?f(fe,B.children):ne&16&&k(B.children,fe,null,ie,te,ls(B,Q),pe,he),Oe&&Fr(B,null,ie,"created"),O(fe,B,B.scopeId,pe,ie),me){for(const Ie in me)Ie!=="value"&&!Ci(Ie)&&s(fe,Ie,null,me[Ie],Q,ie);"value"in me&&s(fe,"value",null,me.value,Q),(J=me.onVnodeBeforeMount)&&sr(J,ie,B)}Oe&&Fr(B,null,ie,"beforeMount");const Le=Gh(te,Ae);Le&&Ae.beforeEnter(fe),i(fe,M,Z),((J=me&&me.onVnodeMounted)||Le||Oe)&&Wt(()=>{J&&sr(J,ie,B),Le&&Ae.enter(fe),Oe&&Fr(B,null,ie,"mounted")},te)},O=(B,M,Z,ie,te)=>{if(Z&&m(B,Z),ie)for(let Q=0;Q<ie.length;Q++)m(B,ie[Q]);if(te){let Q=te.subTree;if(M===Q||sf(Q.type)&&(Q.ssContent===M||Q.ssFallback===M)){const pe=te.vnode;O(B,pe,pe.scopeId,pe.slotScopeIds,te.parent)}}},k=(B,M,Z,ie,te,Q,pe,he,fe=0)=>{for(let J=fe;J<B.length;J++){const me=B[J]=he?Sr(B[J]):ur(B[J]);w(null,me,M,Z,ie,te,Q,pe,he)}},S=(B,M,Z,ie,te,Q,pe)=>{const he=M.el=B.el;let{patchFlag:fe,dynamicChildren:J,dirs:me}=M;fe|=B.patchFlag&16;const ne=B.props||ut,Ae=M.props||ut;let Oe;if(Z&&Mr(Z,!1),(Oe=Ae.onVnodeBeforeUpdate)&&sr(Oe,Z,M,B),me&&Fr(M,B,Z,"beforeUpdate"),Z&&Mr(Z,!0),(ne.innerHTML&&Ae.innerHTML==null||ne.textContent&&Ae.textContent==null)&&f(he,""),J?I(B.dynamicChildren,J,he,Z,ie,ls(M,te),Q):pe||Y(B,M,he,null,Z,ie,ls(M,te),Q,!1),fe>0){if(fe&16)$(he,ne,Ae,Z,te);else if(fe&2&&ne.class!==Ae.class&&s(he,"class",null,Ae.class,te),fe&4&&s(he,"style",ne.style,Ae.style,te),fe&8){const Le=M.dynamicProps;for(let Ie=0;Ie<Le.length;Ie++){const qe=Le[Ie],nt=ne[qe],Qe=Ae[qe];(Qe!==nt||qe==="value")&&s(he,qe,nt,Qe,te,Z)}}fe&1&&B.children!==M.children&&f(he,M.children)}else!pe&&J==null&&$(he,ne,Ae,Z,te);((Oe=Ae.onVnodeUpdated)||me)&&Wt(()=>{Oe&&sr(Oe,Z,M,B),me&&Fr(M,B,Z,"updated")},ie)},I=(B,M,Z,ie,te,Q,pe)=>{for(let he=0;he<M.length;he++){const fe=B[he],J=M[he],me=fe.el&&(fe.type===rr||!yi(fe,J)||fe.shapeFlag&198)?d(fe.el):Z;w(fe,J,me,null,ie,te,Q,pe,!0)}},$=(B,M,Z,ie,te)=>{if(M!==Z){if(M!==ut)for(const Q in M)!Ci(Q)&&!(Q in Z)&&s(B,Q,M[Q],null,te,ie);for(const Q in Z){if(Ci(Q))continue;const pe=Z[Q],he=M[Q];pe!==he&&Q!=="value"&&s(B,Q,he,pe,te,ie)}"value"in Z&&s(B,"value",M.value,Z.value,te)}},j=(B,M,Z,ie,te,Q,pe,he,fe)=>{const J=M.el=B?B.el:a(""),me=M.anchor=B?B.anchor:a("");let{patchFlag:ne,dynamicChildren:Ae,slotScopeIds:Oe}=M;Oe&&(he=he?he.concat(Oe):Oe),B==null?(i(J,Z,ie),i(me,Z,ie),k(M.children||[],Z,me,te,Q,pe,he,fe)):ne>0&&ne&64&&Ae&&B.dynamicChildren?(I(B.dynamicChildren,Ae,Z,te,Q,pe,he),(M.key!=null||te&&M===te.subTree)&&Ql(B,M,!0)):Y(B,M,Z,me,te,Q,pe,he,fe)},K=(B,M,Z,ie,te,Q,pe,he,fe)=>{M.slotScopeIds=he,B==null?M.shapeFlag&512?te.ctx.activate(M,Z,ie,pe,fe):ae(M,Z,ie,te,Q,pe,fe):le(B,M,fe)},ae=(B,M,Z,ie,te,Q,pe)=>{const he=B.component=md(B,ie,te);if(Ml(B)&&(he.ctx.renderer=Je),vd(he,!1,pe),he.asyncDep){if(te&&te.registerDep(he,ue,pe),!B.el){const fe=he.subTree=zt(Ir);g(null,fe,M,Z),B.placeholder=fe.el}}else ue(he,B,M,Z,te,Q,pe)},le=(B,M,Z)=>{const ie=M.component=B.component;if(nd(B,M,Z))if(ie.asyncDep&&!ie.asyncResolved){ee(ie,M,Z);return}else ie.next=M,ie.update();else M.el=B.el,ie.vnode=M},ue=(B,M,Z,ie,te,Q,pe)=>{const he=()=>{if(B.isMounted){let{next:ne,bu:Ae,u:Oe,parent:Le,vnode:Ie}=B;{const ft=ef(B);if(ft){ne&&(ne.el=Ie.el,ee(B,ne,pe)),ft.asyncDep.then(()=>{B.isUnmounted||he()});return}}let qe=ne,nt;Mr(B,!1),ne?(ne.el=Ie.el,ee(B,ne,pe)):ne=Ie,Ae&&nn(Ae),(nt=ne.props&&ne.props.onVnodeBeforeUpdate)&&sr(nt,Le,ne,Ie),Mr(B,!0);const Qe=wa(B),ht=B.subTree;B.subTree=Qe,w(ht,Qe,d(ht.el),$e(ht),B,te,Q),ne.el=Qe.el,qe===null&&sd(B,Qe.el),Oe&&Wt(Oe,te),(nt=ne.props&&ne.props.onVnodeUpdated)&&Wt(()=>sr(nt,Le,ne,Ie),te)}else{let ne;const{el:Ae,props:Oe}=M,{bm:Le,m:Ie,parent:qe,root:nt,type:Qe}=B,ht=Ti(M);Mr(B,!1),Le&&nn(Le),!ht&&(ne=Oe&&Oe.onVnodeBeforeMount)&&sr(ne,qe,M),Mr(B,!0);{nt.ce&&nt.ce._def.shadowRoot!==!1&&nt.ce._injectChildStyle(Qe);const ft=B.subTree=wa(B);w(null,ft,Z,ie,B,te,Q),M.el=ft.el}if(Ie&&Wt(Ie,te),!ht&&(ne=Oe&&Oe.onVnodeMounted)){const ft=M;Wt(()=>sr(ne,qe,ft),te)}(M.shapeFlag&256||qe&&Ti(qe.vnode)&&qe.vnode.shapeFlag&256)&&B.a&&Wt(B.a,te),B.isMounted=!0,M=Z=ie=null}};B.scope.on();const fe=B.effect=new ml(he);B.scope.off();const J=B.update=fe.run.bind(fe),me=B.job=fe.runIfDirty.bind(fe);me.i=B,me.id=B.uid,fe.scheduler=()=>jo(me),Mr(B,!0),J()},ee=(B,M,Z)=>{M.component=B;const ie=B.vnode.props;B.vnode=M,B.next=null,qh(B,M.props,ie,Z),Vh(B,M.children,Z),wr(),ha(B),_r()},Y=(B,M,Z,ie,te,Q,pe,he,fe=!1)=>{const J=B&&B.children,me=B?B.shapeFlag:0,ne=M.children,{patchFlag:Ae,shapeFlag:Oe}=M;if(Ae>0){if(Ae&128){ke(J,ne,Z,ie,te,Q,pe,he,fe);return}else if(Ae&256){be(J,ne,Z,ie,te,Q,pe,he,fe);return}}Oe&8?(me&16&&et(J,te,Q),ne!==J&&f(Z,ne)):me&16?Oe&16?ke(J,ne,Z,ie,te,Q,pe,he,fe):et(J,te,Q,!0):(me&8&&f(Z,""),Oe&16&&k(ne,Z,ie,te,Q,pe,he,fe))},be=(B,M,Z,ie,te,Q,pe,he,fe)=>{B=B||si,M=M||si;const J=B.length,me=M.length,ne=Math.min(J,me);let Ae;for(Ae=0;Ae<ne;Ae++){const Oe=M[Ae]=fe?Sr(M[Ae]):ur(M[Ae]);w(B[Ae],Oe,Z,null,te,Q,pe,he,fe)}J>me?et(B,te,Q,!0,!1,ne):k(M,Z,ie,te,Q,pe,he,fe,ne)},ke=(B,M,Z,ie,te,Q,pe,he,fe)=>{let J=0;const me=M.length;let ne=B.length-1,Ae=me-1;for(;J<=ne&&J<=Ae;){const Oe=B[J],Le=M[J]=fe?Sr(M[J]):ur(M[J]);if(yi(Oe,Le))w(Oe,Le,Z,null,te,Q,pe,he,fe);else break;J++}for(;J<=ne&&J<=Ae;){const Oe=B[ne],Le=M[Ae]=fe?Sr(M[Ae]):ur(M[Ae]);if(yi(Oe,Le))w(Oe,Le,Z,null,te,Q,pe,he,fe);else break;ne--,Ae--}if(J>ne){if(J<=Ae){const Oe=Ae+1,Le=Oe<me?M[Oe].el:ie;for(;J<=Ae;)w(null,M[J]=fe?Sr(M[J]):ur(M[J]),Z,Le,te,Q,pe,he,fe),J++}}else if(J>Ae)for(;J<=ne;)we(B[J],te,Q,!0),J++;else{const Oe=J,Le=J,Ie=new Map;for(J=Le;J<=Ae;J++){const dt=M[J]=fe?Sr(M[J]):ur(M[J]);dt.key!=null&&Ie.set(dt.key,J)}let qe,nt=0;const Qe=Ae-Le+1;let ht=!1,ft=0;const ot=new Array(Qe);for(J=0;J<Qe;J++)ot[J]=0;for(J=Oe;J<=ne;J++){const dt=B[J];if(nt>=Qe){we(dt,te,Q,!0);continue}let D;if(dt.key!=null)D=Ie.get(dt.key);else for(qe=Le;qe<=Ae;qe++)if(ot[qe-Le]===0&&yi(dt,M[qe])){D=qe;break}D===void 0?we(dt,te,Q,!0):(ot[D-Le]=J+1,D>=ft?ft=D:ht=!0,w(dt,M[D],Z,null,te,Q,pe,he,fe),nt++)}const wt=ht?Kh(ot):si;for(qe=wt.length-1,J=Qe-1;J>=0;J--){const dt=Le+J,D=M[dt],oe=M[dt+1],de=dt+1<me?oe.el||oe.placeholder:ie;ot[J]===0?w(null,D,Z,de,te,Q,pe,he,fe):ht&&(qe<0||J!==wt[qe]?ce(D,Z,de,2):qe--)}}},ce=(B,M,Z,ie,te=null)=>{const{el:Q,type:pe,transition:he,children:fe,shapeFlag:J}=B;if(J&6){ce(B.component.subTree,M,Z,ie);return}if(J&128){B.suspense.move(M,Z,ie);return}if(J&64){pe.move(B,M,Z,Je);return}if(pe===rr){i(Q,M,Z);for(let ne=0;ne<fe.length;ne++)ce(fe[ne],M,Z,ie);i(B.anchor,M,Z);return}if(pe===sn){C(B,M,Z);return}if(ie!==2&&J&1&&he)if(ie===0)he.beforeEnter(Q),i(Q,M,Z),Wt(()=>he.enter(Q),te);else{const{leave:ne,delayLeave:Ae,afterLeave:Oe}=he,Le=()=>{B.ctx.isUnmounted?n(Q):i(Q,M,Z)},Ie=()=>{Q._isLeaving&&Q[mh](!0),ne(Q,()=>{Le(),Oe&&Oe()})};Ae?Ae(Q,Le,Ie):Ie()}else i(Q,M,Z)},we=(B,M,Z,ie=!1,te=!1)=>{const{type:Q,props:pe,ref:he,children:fe,dynamicChildren:J,shapeFlag:me,patchFlag:ne,dirs:Ae,cacheIndex:Oe}=B;if(ne===-2&&(te=!1),he!=null&&(wr(),Si(he,null,Z,B,!0),_r()),Oe!=null&&(M.renderCache[Oe]=void 0),me&256){M.ctx.deactivate(B);return}const Le=me&1&&Ae,Ie=!Ti(B);let qe;if(Ie&&(qe=pe&&pe.onVnodeBeforeUnmount)&&sr(qe,M,B),me&6)Ue(B.component,Z,ie);else{if(me&128){B.suspense.unmount(Z,ie);return}Le&&Fr(B,null,M,"beforeUnmount"),me&64?B.type.remove(B,M,Z,Je,ie):J&&!J.hasOnce&&(Q!==rr||ne>0&&ne&64)?et(J,M,Z,!1,!0):(Q===rr&&ne&384||!te&&me&16)&&et(fe,M,Z),ie&&Be(B)}(Ie&&(qe=pe&&pe.onVnodeUnmounted)||Le)&&Wt(()=>{qe&&sr(qe,M,B),Le&&Fr(B,null,M,"unmounted")},Z)},Be=B=>{const{type:M,el:Z,anchor:ie,transition:te}=B;if(M===rr){Re(Z,ie);return}if(M===sn){T(B);return}const Q=()=>{n(Z),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(B.shapeFlag&1&&te&&!te.persisted){const{leave:pe,delayLeave:he}=te,fe=()=>pe(Z,Q);he?he(B.el,Q,fe):fe()}else Q()},Re=(B,M)=>{let Z;for(;B!==M;)Z=v(B),n(B),B=Z;n(M)},Ue=(B,M,Z)=>{const{bum:ie,scope:te,job:Q,subTree:pe,um:he,m:fe,a:J}=B;ba(fe),ba(J),ie&&nn(ie),te.stop(),Q&&(Q.flags|=8,we(pe,B,M,Z)),he&&Wt(he,M),Wt(()=>{B.isUnmounted=!0},M)},et=(B,M,Z,ie=!1,te=!1,Q=0)=>{for(let pe=Q;pe<B.length;pe++)we(B[pe],M,Z,ie,te)},$e=B=>{if(B.shapeFlag&6)return $e(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const M=v(B.anchor||B.el),Z=M&&M[ph];return Z?v(Z):M};let Ne=!1;const Ye=(B,M,Z)=>{B==null?M._vnode&&we(M._vnode,null,null,!0):w(M._vnode||null,B,M,null,null,null,Z),M._vnode=B,Ne||(Ne=!0,ha(),Il(),Ne=!1)},Je={p:w,um:we,m:ce,r:Be,mt:ae,mc:k,pc:Y,pbc:I,n:$e,o:r};return{render:Ye,hydrate:void 0,createApp:Fh(Ye)}}function ls({type:r,props:e},t){return t==="svg"&&r==="foreignObject"||t==="mathml"&&r==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Mr({effect:r,job:e},t){t?(r.flags|=32,e.flags|=4):(r.flags&=-33,e.flags&=-5)}function Gh(r,e){return(!r||r&&!r.pendingBranch)&&e&&!e.persisted}function Ql(r,e,t=!1){const i=r.children,n=e.children;if(Fe(i)&&Fe(n))for(let s=0;s<i.length;s++){const o=i[s];let a=n[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[s]=Sr(n[s]),a.el=o.el),!t&&a.patchFlag!==-2&&Ql(o,a)),a.type===Un&&a.patchFlag!==-1&&(a.el=o.el),a.type===Ir&&!a.el&&(a.el=o.el)}}function Kh(r){const e=r.slice(),t=[0];let i,n,s,o,a;const u=r.length;for(i=0;i<u;i++){const l=r[i];if(l!==0){if(n=t[t.length-1],r[n]<l){e[i]=n,t.push(i);continue}for(s=0,o=t.length-1;s<o;)a=s+o>>1,r[t[a]]<l?s=a+1:o=a;l<r[t[s]]&&(s>0&&(e[i]=t[s-1]),t[s]=i)}}for(s=t.length,o=t[s-1];s-- >0;)t[s]=o,o=e[o];return t}function ef(r){const e=r.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ef(e)}function ba(r){if(r)for(let e=0;e<r.length;e++)r[e].flags|=8}const Xh=Symbol.for("v-scx"),Yh=()=>Oi(Xh);function Ni(r,e,t){return tf(r,e,t)}function tf(r,e,t=ut){const{immediate:i,deep:n,flush:s,once:o}=t,a=Pt({},t),u=e&&i||!e&&s!=="post";let l;if(Mi){if(s==="sync"){const m=Yh();l=m.__watcherHandles||(m.__watcherHandles=[])}else if(!u){const m=()=>{};return m.stop=lr,m.resume=lr,m.pause=lr,m}}const f=It;a.call=(m,x,w)=>cr(m,f,x,w);let d=!1;s==="post"?a.scheduler=m=>{Wt(m,f&&f.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(m,x)=>{x?m():jo(m)}),a.augmentJob=m=>{e&&(m.flags|=4),d&&(m.flags|=2,f&&(m.id=f.uid,m.i=f))};const v=uh(r,e,a);return Mi&&(l?l.push(v):u&&v()),v}function Jh(r,e,t){const i=this.proxy,n=Et(r)?r.includes(".")?rf(i,r):()=>i[r]:r.bind(i,i);let s;He(e)?s=e:(s=e.handler,t=e);const o=ji(this),a=tf(n,s.bind(i),t);return o(),a}function rf(r,e){const t=e.split(".");return()=>{let i=r;for(let n=0;n<t.length&&i;n++)i=i[t[n]];return i}}const Qh=(r,e)=>e==="modelValue"||e==="model-value"?r.modelModifiers:r[`${e}Modifiers`]||r[`${kr(e)}Modifiers`]||r[`${Pr(e)}Modifiers`];function ed(r,e,...t){if(r.isUnmounted)return;const i=r.vnode.props||ut;let n=t;const s=e.startsWith("update:"),o=s&&Qh(i,e.slice(7));o&&(o.trim&&(n=t.map(f=>Et(f)?f.trim():f)),o.number&&(n=t.map(so)));let a,u=i[a=is(e)]||i[a=is(kr(e))];!u&&s&&(u=i[a=is(Pr(e))]),u&&cr(u,r,6,n);const l=i[a+"Once"];if(l){if(!r.emitted)r.emitted={};else if(r.emitted[a])return;r.emitted[a]=!0,cr(l,r,6,n)}}const td=new WeakMap;function nf(r,e,t=!1){const i=t?td:e.emitsCache,n=i.get(r);if(n!==void 0)return n;const s=r.emits;let o={},a=!1;if(!He(r)){const u=l=>{const f=nf(l,e,!0);f&&(a=!0,Pt(o,f))};!t&&e.mixins.length&&e.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}return!s&&!a?(pt(r)&&i.set(r,null),null):(Fe(s)?s.forEach(u=>o[u]=null):Pt(o,s),pt(r)&&i.set(r,o),o)}function zn(r,e){return!r||!On(e)?!1:(e=e.slice(2).replace(/Once$/,""),it(r,e[0].toLowerCase()+e.slice(1))||it(r,Pr(e))||it(r,e))}function wa(r){const{type:e,vnode:t,proxy:i,withProxy:n,propsOptions:[s],slots:o,attrs:a,emit:u,render:l,renderCache:f,props:d,data:v,setupState:m,ctx:x,inheritAttrs:w}=r,p=vn(r);let g,y;try{if(t.shapeFlag&4){const T=n||i,_=T;g=ur(l.call(_,T,f,d,m,v,x)),y=a}else{const T=e;g=ur(T.length>1?T(d,{attrs:a,slots:o,emit:u}):T(d,null)),y=e.props?a:rd(a)}}catch(T){ki.length=0,Fn(T,r,1),g=zt(Ir)}let C=g;if(y&&w!==!1){const T=Object.keys(y),{shapeFlag:_}=C;T.length&&_&7&&(s&&T.some(Oo)&&(y=id(y,s)),C=li(C,y,!1,!0))}return t.dirs&&(C=li(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(t.dirs):t.dirs),t.transition&&Wo(C,t.transition),g=C,vn(p),g}const rd=r=>{let e;for(const t in r)(t==="class"||t==="style"||On(t))&&((e||(e={}))[t]=r[t]);return e},id=(r,e)=>{const t={};for(const i in r)(!Oo(i)||!(i.slice(9)in e))&&(t[i]=r[i]);return t};function nd(r,e,t){const{props:i,children:n,component:s}=r,{props:o,children:a,patchFlag:u}=e,l=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&u>=0){if(u&1024)return!0;if(u&16)return i?_a(i,o,l):!!o;if(u&8){const f=e.dynamicProps;for(let d=0;d<f.length;d++){const v=f[d];if(o[v]!==i[v]&&!zn(l,v))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?_a(i,o,l):!0:!!o;return!1}function _a(r,e,t){const i=Object.keys(e);if(i.length!==Object.keys(r).length)return!0;for(let n=0;n<i.length;n++){const s=i[n];if(e[s]!==r[s]&&!zn(t,s))return!0}return!1}function sd({vnode:r,parent:e},t){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===r&&(i.el=r.el),i===r)(r=e.vnode).el=t,e=e.parent;else break}}const sf=r=>r.__isSuspense;function od(r,e){e&&e.pendingBranch?Fe(r)?e.effects.push(...r):e.effects.push(r):ch(r)}const rr=Symbol.for("v-fgt"),Un=Symbol.for("v-txt"),Ir=Symbol.for("v-cmt"),sn=Symbol.for("v-stc"),ki=[];let Ht=null;function Lt(r=!1){ki.push(Ht=r?null:[])}function ad(){ki.pop(),Ht=ki[ki.length-1]||null}let Fi=1;function Ea(r,e=!1){Fi+=r,r<0&&Ht&&e&&(Ht.hasOnce=!0)}function of(r){return r.dynamicChildren=Fi>0?Ht||si:null,ad(),Fi>0&&Ht&&Ht.push(r),r}function Mt(r,e,t,i,n,s){return of(je(r,e,t,i,n,s,!0))}function ud(r,e,t,i,n){return of(zt(r,e,t,i,n,!0))}function af(r){return r?r.__v_isVNode===!0:!1}function yi(r,e){return r.type===e.type&&r.key===e.key}const uf=({key:r})=>r??null,on=({ref:r,ref_key:e,ref_for:t})=>(typeof r=="number"&&(r=""+r),r!=null?Et(r)||yt(r)||He(r)?{i:Gt,r,k:e,f:!!t}:r:null);function je(r,e=null,t=null,i=0,n=null,s=r===rr?0:1,o=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&uf(e),ref:e&&on(e),scopeId:Pl,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Gt};return a?($o(u,t),s&128&&r.normalize(u)):t&&(u.shapeFlag|=Et(t)?8:16),Fi>0&&!o&&Ht&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&Ht.push(u),u}const zt=ld;function ld(r,e=null,t=null,i=0,n=null,s=!1){if((!r||r===Rh)&&(r=Ir),af(r)){const a=li(r,e,!0);return t&&$o(a,t),Fi>0&&!s&&Ht&&(a.shapeFlag&6?Ht[Ht.indexOf(r)]=a:Ht.push(a)),a.patchFlag=-2,a}if(_d(r)&&(r=r.__vccOpts),e){e=fd(e);let{class:a,style:u}=e;a&&!Et(a)&&(e.class=vr(a)),pt(u)&&(Uo(u)&&!Fe(u)&&(u=Pt({},u)),e.style=In(u))}const o=Et(r)?1:sf(r)?128:gh(r)?64:pt(r)?4:He(r)?2:0;return je(r,e,t,i,n,o,s,!0)}function fd(r){return r?Uo(r)||Zl(r)?Pt({},r):r:null}function li(r,e,t=!1,i=!1){const{props:n,ref:s,patchFlag:o,children:a,transition:u}=r,l=e?dd(n||{},e):n,f={__v_isVNode:!0,__v_skip:!0,type:r.type,props:l,key:l&&uf(l),ref:e&&e.ref?t&&s?Fe(s)?s.concat(on(e)):[s,on(e)]:on(e):s,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:a,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==rr?o===-1?16:o|16:o,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:u,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&li(r.ssContent),ssFallback:r.ssFallback&&li(r.ssFallback),placeholder:r.placeholder,el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return u&&i&&Wo(f,u.clone(f)),f}function cd(r=" ",e=0){return zt(Un,null,r,e)}function hd(r,e){const t=zt(sn,null,r);return t.staticCount=e,t}function xa(r="",e=!1){return e?(Lt(),ud(Ir,null,r)):zt(Ir,null,r)}function ur(r){return r==null||typeof r=="boolean"?zt(Ir):Fe(r)?zt(rr,null,r.slice()):af(r)?Sr(r):zt(Un,null,String(r))}function Sr(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:li(r)}function $o(r,e){let t=0;const{shapeFlag:i}=r;if(e==null)e=null;else if(Fe(e))t=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),$o(r,n()),n._c&&(n._d=!0));return}else{t=32;const n=e._;!n&&!Zl(e)?e._ctx=Gt:n===3&&Gt&&(Gt.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else He(e)?(e={default:e,_ctx:Gt},t=32):(e=String(e),i&64?(t=16,e=[cd(e)]):t=8);r.children=e,r.shapeFlag|=t}function dd(...r){const e={};for(let t=0;t<r.length;t++){const i=r[t];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=vr([e.class,i.class]));else if(n==="style")e.style=In([e.style,i.style]);else if(On(n)){const s=e[n],o=i[n];o&&s!==o&&!(Fe(s)&&s.includes(o))&&(e[n]=s?[].concat(s,o):o)}else n!==""&&(e[n]=i[n])}return e}function sr(r,e,t,i=null){cr(r,e,7,[t,i])}const pd=Hl();let gd=0;function md(r,e,t){const i=r.type,n=(e?e.appContext:r.appContext)||pd,s={uid:gd++,vnode:r,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new dl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Kl(i,n),emitsOptions:nf(i,n),emit:null,emitted:null,propsDefaults:ut,inheritAttrs:i.inheritAttrs,ctx:ut,data:ut,props:ut,attrs:ut,slots:ut,refs:ut,setupState:ut,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=ed.bind(null,s),r.ce&&r.ce(s),s}let It=null;const lf=()=>It||Gt;let wn,go;{const r=Ln(),e=(t,i)=>{let n;return(n=r[t])||(n=r[t]=[]),n.push(i),s=>{n.length>1?n.forEach(o=>o(s)):n[0](s)}};wn=e("__VUE_INSTANCE_SETTERS__",t=>It=t),go=e("__VUE_SSR_SETTERS__",t=>Mi=t)}const ji=r=>{const e=It;return wn(r),r.scope.on(),()=>{r.scope.off(),wn(e)}},Ca=()=>{It&&It.scope.off(),wn(null)};function ff(r){return r.vnode.shapeFlag&4}let Mi=!1;function vd(r,e=!1,t=!1){e&&go(e);const{props:i,children:n}=r.vnode,s=ff(r);Uh(r,i,s,e),Hh(r,n,t||e);const o=s?yd(r,e):void 0;return e&&go(!1),o}function yd(r,e){const t=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,Oh);const{setup:i}=t;if(i){wr();const n=r.setupContext=i.length>1?wd(r):null,s=ji(r),o=qi(i,r,0,[r.props,n]),a=sl(o);if(_r(),s(),(a||r.sp)&&!Ti(r)&&Fl(r),a){if(o.then(Ca,Ca),e)return o.then(u=>{Aa(r,u)}).catch(u=>{Fn(u,r,0)});r.asyncDep=o}else Aa(r,o)}else cf(r)}function Aa(r,e,t){He(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:pt(e)&&(r.setupState=Ol(e)),cf(r)}function cf(r,e,t){const i=r.type;r.render||(r.render=i.render||lr);{const n=ji(r);wr();try{Nh(r)}finally{_r(),n()}}}const bd={get(r,e){return Rt(r,"get",""),r[e]}};function wd(r){const e=t=>{r.exposed=t||{}};return{attrs:new Proxy(r.attrs,bd),slots:r.slots,emit:r.emit,expose:e}}function qn(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(Ol(qo(r.exposed)),{get(e,t){if(t in e)return e[t];if(t in Ri)return Ri[t](r)},has(e,t){return t in e||t in Ri}})):r.proxy}function _d(r){return He(r)&&"__vccOpts"in r}const jn=(r,e)=>oh(r,e,Mi),Ed="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let mo;const Da=typeof window<"u"&&window.trustedTypes;if(Da)try{mo=Da.createPolicy("vue",{createHTML:r=>r})}catch{}const hf=mo?r=>mo.createHTML(r):r=>r,xd="http://www.w3.org/2000/svg",Cd="http://www.w3.org/1998/Math/MathML",mr=typeof document<"u"?document:null,Sa=mr&&mr.createElement("template"),Ad={insert:(r,e,t)=>{e.insertBefore(r,t||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,t,i)=>{const n=e==="svg"?mr.createElementNS(xd,r):e==="mathml"?mr.createElementNS(Cd,r):t?mr.createElement(r,{is:t}):mr.createElement(r);return r==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:r=>mr.createTextNode(r),createComment:r=>mr.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>mr.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},insertStaticContent(r,e,t,i,n,s){const o=t?t.previousSibling:e.lastChild;if(n&&(n===s||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),t),!(n===s||!(n=n.nextSibling)););else{Sa.innerHTML=hf(i==="svg"?`<svg>${r}</svg>`:i==="mathml"?`<math>${r}</math>`:r);const a=Sa.content;if(i==="svg"||i==="mathml"){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Dd=Symbol("_vtc");function Sd(r,e,t){const i=r[Dd];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?r.removeAttribute("class"):t?r.setAttribute("class",e):r.className=e}const Ta=Symbol("_vod"),Td=Symbol("_vsh"),Rd=Symbol(""),Od=/(?:^|;)\s*display\s*:/;function Nd(r,e,t){const i=r.style,n=Et(t);let s=!1;if(t&&!n){if(e)if(Et(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();t[a]==null&&an(i,a,"")}else for(const o in e)t[o]==null&&an(i,o,"");for(const o in t)o==="display"&&(s=!0),an(i,o,t[o])}else if(n){if(e!==t){const o=i[Rd];o&&(t+=";"+o),i.cssText=t,s=Od.test(t)}}else e&&r.removeAttribute("style");Ta in r&&(r[Ta]=s?i.display:"",r[Td]&&(i.display="none"))}const Ra=/\s*!important$/;function an(r,e,t){if(Fe(t))t.forEach(i=>an(r,e,i));else if(t==null&&(t=""),e.startsWith("--"))r.setProperty(e,t);else{const i=kd(r,e);Ra.test(t)?r.setProperty(Pr(i),t.replace(Ra,""),"important"):r[i]=t}}const Oa=["Webkit","Moz","ms"],fs={};function kd(r,e){const t=fs[e];if(t)return t;let i=kr(e);if(i!=="filter"&&i in r)return fs[e]=i;i=ul(i);for(let n=0;n<Oa.length;n++){const s=Oa[n]+i;if(s in r)return fs[e]=s}return e}const Na="http://www.w3.org/1999/xlink";function ka(r,e,t,i,n,s=Nc(e)){i&&e.startsWith("xlink:")?t==null?r.removeAttributeNS(Na,e.slice(6,e.length)):r.setAttributeNS(Na,e,t):t==null||s&&!fl(t)?r.removeAttribute(e):r.setAttribute(e,s?"":Br(t)?String(t):t)}function La(r,e,t,i,n){if(e==="innerHTML"||e==="textContent"){t!=null&&(r[e]=e==="innerHTML"?hf(t):t);return}const s=r.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?r.getAttribute("value")||"":r.value,u=t==null?r.type==="checkbox"?"on":"":String(t);(a!==u||!("_value"in r))&&(r.value=u),t==null&&r.removeAttribute(e),r._value=t;return}let o=!1;if(t===""||t==null){const a=typeof r[e];a==="boolean"?t=fl(t):t==null&&a==="string"?(t="",o=!0):a==="number"&&(t=0,o=!0)}try{r[e]=t}catch{}o&&r.removeAttribute(n||e)}function ti(r,e,t,i){r.addEventListener(e,t,i)}function Ld(r,e,t,i){r.removeEventListener(e,t,i)}const Ia=Symbol("_vei");function Id(r,e,t,i,n=null){const s=r[Ia]||(r[Ia]={}),o=s[e];if(i&&o)o.value=i;else{const[a,u]=Bd(e);if(i){const l=s[e]=Md(i,n);ti(r,a,l,u)}else o&&(Ld(r,a,o,u),s[e]=void 0)}}const Ba=/(?:Once|Passive|Capture)$/;function Bd(r){let e;if(Ba.test(r)){e={};let i;for(;i=r.match(Ba);)r=r.slice(0,r.length-i[0].length),e[i[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Pr(r.slice(2)),e]}let cs=0;const Pd=Promise.resolve(),Fd=()=>cs||(Pd.then(()=>cs=0),cs=Date.now());function Md(r,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;cr(zd(i,t.value),e,5,[i])};return t.value=r,t.attached=Fd(),t}function zd(r,e){if(Fe(e)){const t=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{t.call(r),r._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const Pa=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,Ud=(r,e,t,i,n,s)=>{const o=n==="svg";e==="class"?Sd(r,i,o):e==="style"?Nd(r,t,i):On(e)?Oo(e)||Id(r,e,t,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):qd(r,e,i,o))?(La(r,e,i),!r.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ka(r,e,i,o,s,e!=="value")):r._isVueCE&&(/[A-Z]/.test(e)||!Et(i))?La(r,kr(e),i,s,e):(e==="true-value"?r._trueValue=i:e==="false-value"&&(r._falseValue=i),ka(r,e,i,o))};function qd(r,e,t,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in r&&Pa(e)&&He(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=r.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Pa(e)&&Et(t)?!1:e in r}const Fa=r=>{const e=r.props["onUpdate:modelValue"]||!1;return Fe(e)?t=>nn(e,t):e};function jd(r){r.target.composing=!0}function Ma(r){const e=r.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const hs=Symbol("_assign"),Wd={created(r,{modifiers:{lazy:e,trim:t,number:i}},n){r[hs]=Fa(n);const s=i||n.props&&n.props.type==="number";ti(r,e?"change":"input",o=>{if(o.target.composing)return;let a=r.value;t&&(a=a.trim()),s&&(a=so(a)),r[hs](a)}),t&&ti(r,"change",()=>{r.value=r.value.trim()}),e||(ti(r,"compositionstart",jd),ti(r,"compositionend",Ma),ti(r,"change",Ma))},mounted(r,{value:e}){r.value=e??""},beforeUpdate(r,{value:e,oldValue:t,modifiers:{lazy:i,trim:n,number:s}},o){if(r[hs]=Fa(o),r.composing)return;const a=(s||r.type==="number")&&!/^0\d/.test(r.value)?so(r.value):r.value,u=e??"";a!==u&&(document.activeElement===r&&r.type!=="range"&&(i&&e===t||n&&r.value.trim()===u)||(r.value=u))}},Hd=["ctrl","shift","alt","meta"],Vd={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,e)=>Hd.some(t=>r[`${t}Key`]&&!e.includes(t))},$d=(r,e)=>{const t=r._withMods||(r._withMods={}),i=e.join(".");return t[i]||(t[i]=((n,...s)=>{for(let o=0;o<e.length;o++){const a=Vd[e[o]];if(a&&a(n,e))return}return r(n,...s)}))},Zd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Gd=(r,e)=>{const t=r._withKeys||(r._withKeys={}),i=e.join(".");return t[i]||(t[i]=(n=>{if(!("key"in n))return;const s=Pr(n.key);if(e.some(o=>o===s||Zd[o]===s))return r(n)}))},Kd=Pt({patchProp:Ud},Ad);let za;function Xd(){return za||(za=$h(Kd))}const Yd=((...r)=>{const e=Xd().createApp(...r),{mount:t}=e;return e.mount=i=>{const n=Qd(i);if(!n)return;const s=e._component;!He(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=t(n,!1,Jd(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e});function Jd(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function Qd(r){return Et(r)?document.querySelector(r):r}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let df;const Wn=r=>df=r,pf=Symbol();function vo(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var Li;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(Li||(Li={}));function ep(){const r=pl(!0),e=r.run(()=>Bt({}));let t=[],i=[];const n=qo({install(s){Wn(n),n._a=s,s.provide(pf,n),s.config.globalProperties.$pinia=n,i.forEach(o=>t.push(o)),i=[]},use(s){return this._a?t.push(s):i.push(s),this},_p:t,_a:null,_e:r,_s:new Map,state:e});return n}const gf=()=>{};function Ua(r,e,t,i=gf){r.push(e);const n=()=>{const s=r.indexOf(e);s>-1&&(r.splice(s,1),i())};return!t&&gl()&&kc(n),n}function Kr(r,...e){r.slice().forEach(t=>{t(...e)})}const tp=r=>r(),qa=Symbol(),ds=Symbol();function yo(r,e){r instanceof Map&&e instanceof Map?e.forEach((t,i)=>r.set(i,t)):r instanceof Set&&e instanceof Set&&e.forEach(r.add,r);for(const t in e){if(!e.hasOwnProperty(t))continue;const i=e[t],n=r[t];vo(n)&&vo(i)&&r.hasOwnProperty(t)&&!yt(i)&&!Nr(i)?r[t]=yo(n,i):r[t]=i}return r}const rp=Symbol();function ip(r){return!vo(r)||!Object.prototype.hasOwnProperty.call(r,rp)}const{assign:Ar}=Object;function np(r){return!!(yt(r)&&r.effect)}function sp(r,e,t,i){const{state:n,actions:s,getters:o}=e,a=t.state.value[r];let u;function l(){a||(t.state.value[r]=n?n():{});const f=rh(t.state.value[r]);return Ar(f,s,Object.keys(o||{}).reduce((d,v)=>(d[v]=qo(jn(()=>{Wn(t);const m=t._s.get(r);return o[v].call(m,m)})),d),{}))}return u=mf(r,l,e,t,i,!0),u}function mf(r,e,t={},i,n,s){let o;const a=Ar({actions:{}},t),u={deep:!0};let l,f,d=[],v=[],m;const x=i.state.value[r];!s&&!x&&(i.state.value[r]={}),Bt({});let w;function p(k){let S;l=f=!1,typeof k=="function"?(k(i.state.value[r]),S={type:Li.patchFunction,storeId:r,events:m}):(yo(i.state.value[r],k),S={type:Li.patchObject,payload:k,storeId:r,events:m});const I=w=Symbol();kl().then(()=>{w===I&&(l=!0)}),f=!0,Kr(d,S,i.state.value[r])}const g=s?function(){const{state:S}=t,I=S?S():{};this.$patch($=>{Ar($,I)})}:gf;function y(){o.stop(),d=[],v=[],i._s.delete(r)}const C=(k,S="")=>{if(qa in k)return k[ds]=S,k;const I=function(){Wn(i);const $=Array.from(arguments),j=[],K=[];function ae(ee){j.push(ee)}function le(ee){K.push(ee)}Kr(v,{args:$,name:I[ds],store:_,after:ae,onError:le});let ue;try{ue=k.apply(this&&this.$id===r?this:_,$)}catch(ee){throw Kr(K,ee),ee}return ue instanceof Promise?ue.then(ee=>(Kr(j,ee),ee)).catch(ee=>(Kr(K,ee),Promise.reject(ee))):(Kr(j,ue),ue)};return I[qa]=!0,I[ds]=S,I},T={_p:i,$id:r,$onAction:Ua.bind(null,v),$patch:p,$reset:g,$subscribe(k,S={}){const I=Ua(d,k,S.detached,()=>$()),$=o.run(()=>Ni(()=>i.state.value[r],j=>{(S.flush==="sync"?f:l)&&k({storeId:r,type:Li.direct,events:m},j)},Ar({},u,S)));return I},$dispose:y},_=Pn(T);i._s.set(r,_);const O=(i._a&&i._a.runWithContext||tp)(()=>i._e.run(()=>(o=pl()).run(()=>e({action:C}))));for(const k in O){const S=O[k];if(yt(S)&&!np(S)||Nr(S))s||(x&&ip(S)&&(yt(S)?S.value=x[k]:yo(S,x[k])),i.state.value[r][k]=S);else if(typeof S=="function"){const I=C(S,k);O[k]=I,a.actions[k]=S}}return Ar(_,O),Ar(tt(_),O),Object.defineProperty(_,"$state",{get:()=>i.state.value[r],set:k=>{p(S=>{Ar(S,k)})}}),i._p.forEach(k=>{Ar(_,o.run(()=>k({store:_,app:i._a,pinia:i,options:a})))}),x&&s&&t.hydrate&&t.hydrate(_.$state,x),l=!0,f=!0,_}/*! #__NO_SIDE_EFFECTS__ */function vf(r,e,t){let i;const n=typeof e=="function";i=n?t:e;function s(o,a){const u=zh();return o=o||(u?Oi(pf,null):null),o&&Wn(o),o=df,o._s.has(r)||(n?mf(r,e,i,o):sp(r,i,o)),o._s.get(r)}return s.$id=r,s}const Hn=vf("chat",()=>{const r=Bt([]),e=Bt(!1),t=new Set;return{messages:r,isInputDisabled:e,pushMessage:o=>{o.timestamp=Date.now(),r.value.push(o);for(const a of t)try{a(o)}catch(u){console.warn("❌ Chat listener error:",u)}},clearMessages:()=>{r.value=[]},onMessage:o=>{if(typeof o=="function")return t.add(o),()=>{t.delete(o)}}}});var Kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hi(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Qi={exports:{}},ps={exports:{}},gs,ja;function yf(){if(ja)return gs;ja=1;var r=void 0;return gs=function(e){return e!==r&&e!==null},gs}var ms,Wa;function op(){if(Wa)return ms;Wa=1;var r=yf(),e={object:!0,function:!0,undefined:!0};return ms=function(t){return r(t)?hasOwnProperty.call(e,typeof t):!1},ms}var vs,Ha;function ap(){if(Ha)return vs;Ha=1;var r=op();return vs=function(e){if(!r(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch{return!1}},vs}var ys,Va;function up(){if(Va)return ys;Va=1;var r=ap();return ys=function(e){if(typeof e!="function"||!hasOwnProperty.call(e,"length"))return!1;try{if(typeof e.length!="number"||typeof e.call!="function"||typeof e.apply!="function")return!1}catch{return!1}return!r(e)},ys}var bs,$a;function lp(){if($a)return bs;$a=1;var r=up(),e=/^\s*class[\s{/}]/,t=Function.prototype.toString;return bs=function(i){return!(!r(i)||e.test(t.call(i)))},bs}var ws,Za;function fp(){return Za||(Za=1,ws=function(){var r=Object.assign,e;return typeof r!="function"?!1:(e={foo:"raz"},r(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}),ws}var _s,Ga;function cp(){return Ga||(Ga=1,_s=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),_s}var Es,Ka;function hp(){return Ka||(Ka=1,Es=function(){}),Es}var xs,Xa;function Zo(){if(Xa)return xs;Xa=1;var r=hp()();return xs=function(e){return e!==r&&e!==null},xs}var Cs,Ya;function dp(){if(Ya)return Cs;Ya=1;var r=Zo(),e=Object.keys;return Cs=function(t){return e(r(t)?Object(t):t)},Cs}var As,Ja;function pp(){return Ja||(Ja=1,As=cp()()?Object.keys:dp()),As}var Ds,Qa;function gp(){if(Qa)return Ds;Qa=1;var r=Zo();return Ds=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e},Ds}var Ss,eu;function mp(){if(eu)return Ss;eu=1;var r=pp(),e=gp(),t=Math.max;return Ss=function(i,n){var s,o,a=t(arguments.length,2),u;for(i=Object(e(i)),u=function(l){try{i[l]=n[l]}catch(f){s||(s=f)}},o=1;o<a;++o)n=arguments[o],r(n).forEach(u);if(s!==void 0)throw s;return i},Ss}var Ts,tu;function vp(){return tu||(tu=1,Ts=fp()()?Object.assign:mp()),Ts}var Rs,ru;function yp(){if(ru)return Rs;ru=1;var r=Zo(),e=Array.prototype.forEach,t=Object.create,i=function(n,s){var o;for(o in n)s[o]=n[o]};return Rs=function(n){var s=t(null);return e.call(arguments,function(o){r(o)&&i(Object(o),s)}),s},Rs}var Os,iu;function bp(){if(iu)return Os;iu=1;var r="razdwatrzy";return Os=function(){return typeof r.contains!="function"?!1:r.contains("dwa")===!0&&r.contains("foo")===!1},Os}var Ns,nu;function wp(){if(nu)return Ns;nu=1;var r=String.prototype.indexOf;return Ns=function(e){return r.call(this,e,arguments[1])>-1},Ns}var ks,su;function _p(){return su||(su=1,ks=bp()()?String.prototype.contains:wp()),ks}var ou;function Ep(){if(ou)return ps.exports;ou=1;var r=yf(),e=lp(),t=vp(),i=yp(),n=_p(),s=ps.exports=function(o,a){var u,l,f,d,v;return arguments.length<2||typeof o!="string"?(d=a,a=o,o=null):d=arguments[2],r(o)?(u=n.call(o,"c"),l=n.call(o,"e"),f=n.call(o,"w")):(u=f=!0,l=!1),v={value:a,configurable:u,enumerable:l,writable:f},d?t(i(d),v):v};return s.gs=function(o,a,u){var l,f,d,v;return typeof o!="string"?(d=u,u=a,a=o,o=null):d=arguments[3],r(a)?e(a)?r(u)?e(u)||(d=u,u=void 0):u=void 0:(d=a,a=u=void 0):a=void 0,r(o)?(l=n.call(o,"c"),f=n.call(o,"e")):(l=!0,f=!1),v={get:a,set:u,configurable:l,enumerable:f},d?t(i(d),v):v},ps.exports}var Ls,au;function xp(){return au||(au=1,Ls=function(r){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}),Ls}var uu;function Cp(){return uu||(uu=1,(function(r,e){var t=Ep(),i=xp(),n=Function.prototype.apply,s=Function.prototype.call,o=Object.create,a=Object.defineProperty,u=Object.defineProperties,l=Object.prototype.hasOwnProperty,f={configurable:!0,enumerable:!1,writable:!0},d,v,m,x,w,p,g;d=function(y,C){var T;return i(C),l.call(this,"__ee__")?T=this.__ee__:(T=f.value=o(null),a(this,"__ee__",f),f.value=null),T[y]?typeof T[y]=="object"?T[y].push(C):T[y]=[T[y],C]:T[y]=C,this},v=function(y,C){var T,_;return i(C),_=this,d.call(this,y,T=function(){m.call(_,y,T),n.call(C,this,arguments)}),T.__eeOnceListener__=C,this},m=function(y,C){var T,_,R,O;if(i(C),!l.call(this,"__ee__"))return this;if(T=this.__ee__,!T[y])return this;if(_=T[y],typeof _=="object")for(O=0;R=_[O];++O)(R===C||R.__eeOnceListener__===C)&&(_.length===2?T[y]=_[O?0:1]:_.splice(O,1));else(_===C||_.__eeOnceListener__===C)&&delete T[y];return this},x=function(y){var C,T,_,R,O;if(l.call(this,"__ee__")&&(R=this.__ee__[y],!!R))if(typeof R=="object"){for(T=arguments.length,O=new Array(T-1),C=1;C<T;++C)O[C-1]=arguments[C];for(R=R.slice(),C=0;_=R[C];++C)n.call(_,this,O)}else switch(arguments.length){case 1:s.call(R,this);break;case 2:s.call(R,this,arguments[1]);break;case 3:s.call(R,this,arguments[1],arguments[2]);break;default:for(T=arguments.length,O=new Array(T-1),C=1;C<T;++C)O[C-1]=arguments[C];n.call(R,this,O)}},w={on:d,once:v,off:m,emit:x},p={on:t(d),once:t(v),off:t(m),emit:t(x)},g=u({},p),r.exports=e=function(y){return y==null?o(g):u(Object(y),p)},e.methods=w})(Qi,Qi.exports)),Qi.exports}var Ap=Cp();const hr=hi(Ap);var bi={},gr={},Xr={},lu;function Vn(){if(lu)return Xr;lu=1;function r(n,s,o){if(o===void 0&&(o=Array.prototype),n&&typeof o.find=="function")return o.find.call(n,s);for(var a=0;a<n.length;a++)if(Object.prototype.hasOwnProperty.call(n,a)){var u=n[a];if(s.call(void 0,u,a,n))return u}}function e(n,s){return s===void 0&&(s=Object),s&&typeof s.freeze=="function"?s.freeze(n):n}var t=e({HTML:"text/html",isHTML:function(n){return n===t.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(n){return n===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Xr.find=r,Xr.freeze=e,Xr.MIME_TYPE=t,Xr.NAMESPACE=i,Xr}var fu;function bf(){if(fu)return gr;fu=1;var r=Vn(),e=r.find,t=r.NAMESPACE;function i(h){return h!==""}function n(h){return h?h.split(/[\t\n\f\r ]+/).filter(i):[]}function s(h,b){return h.hasOwnProperty(b)||(h[b]=!0),h}function o(h){if(!h)return[];var b=n(h);return Object.keys(b.reduce(s,{}))}function a(h){return function(b){return h&&h.indexOf(b)!==-1}}function u(h,b){for(var L in h)Object.prototype.hasOwnProperty.call(h,L)&&(b[L]=h[L])}function l(h,b){var L=h.prototype;if(!(L instanceof b)){let P=function(){};var c=P;P.prototype=b.prototype,P=new P,u(L,P),h.prototype=L=P}L.constructor!=h&&(typeof h!="function"&&console.error("unknown Class:"+h),L.constructor=h)}var f={},d=f.ELEMENT_NODE=1,v=f.ATTRIBUTE_NODE=2,m=f.TEXT_NODE=3,x=f.CDATA_SECTION_NODE=4,w=f.ENTITY_REFERENCE_NODE=5,p=f.ENTITY_NODE=6,g=f.PROCESSING_INSTRUCTION_NODE=7,y=f.COMMENT_NODE=8,C=f.DOCUMENT_NODE=9,T=f.DOCUMENT_TYPE_NODE=10,_=f.DOCUMENT_FRAGMENT_NODE=11,R=f.NOTATION_NODE=12,O={},k={};O.INDEX_SIZE_ERR=(k[1]="Index size error",1),O.DOMSTRING_SIZE_ERR=(k[2]="DOMString size error",2);var S=O.HIERARCHY_REQUEST_ERR=(k[3]="Hierarchy request error",3);O.WRONG_DOCUMENT_ERR=(k[4]="Wrong document",4),O.INVALID_CHARACTER_ERR=(k[5]="Invalid character",5),O.NO_DATA_ALLOWED_ERR=(k[6]="No data allowed",6),O.NO_MODIFICATION_ALLOWED_ERR=(k[7]="No modification allowed",7);var I=O.NOT_FOUND_ERR=(k[8]="Not found",8);O.NOT_SUPPORTED_ERR=(k[9]="Not supported",9);var $=O.INUSE_ATTRIBUTE_ERR=(k[10]="Attribute in use",10);O.INVALID_STATE_ERR=(k[11]="Invalid state",11),O.SYNTAX_ERR=(k[12]="Syntax error",12),O.INVALID_MODIFICATION_ERR=(k[13]="Invalid modification",13),O.NAMESPACE_ERR=(k[14]="Invalid namespace",14),O.INVALID_ACCESS_ERR=(k[15]="Invalid access",15);function j(h,b){if(b instanceof Error)var L=b;else L=this,Error.call(this,k[h]),this.message=k[h],Error.captureStackTrace&&Error.captureStackTrace(this,j);return L.code=h,b&&(this.message=this.message+": "+b),L}j.prototype=Error.prototype,u(O,j);function K(){}K.prototype={length:0,item:function(h){return h>=0&&h<this.length?this[h]:null},toString:function(h,b){for(var L=[],c=0;c<this.length;c++)oe(this[c],L,h,b);return L.join("")},filter:function(h){return Array.prototype.filter.call(this,h)},indexOf:function(h){return Array.prototype.indexOf.call(this,h)}};function ae(h,b){this._node=h,this._refresh=b,le(this)}function le(h){var b=h._node._inc||h._node.ownerDocument._inc;if(h._inc!==b){var L=h._refresh(h._node);if(U(h,"length",L.length),!h.$$length||L.length<h.$$length)for(var c=L.length;c in h;c++)Object.prototype.hasOwnProperty.call(h,c)&&delete h[c];u(L,h),h._inc=b}}ae.prototype.item=function(h){return le(this),this[h]||null},l(ae,K);function ue(){}function ee(h,b){for(var L=h.length;L--;)if(h[L]===b)return L}function Y(h,b,L,c){if(c?b[ee(b,c)]=L:b[b.length++]=L,h){L.ownerElement=h;var P=h.ownerDocument;P&&(c&&et(P,h,c),Ue(P,h,L))}}function be(h,b,L){var c=ee(b,L);if(c>=0){for(var P=b.length-1;c<P;)b[c]=b[++c];if(b.length=P,h){var W=h.ownerDocument;W&&(et(W,h,L),L.ownerElement=null)}}else throw new j(I,new Error(h.tagName+"@"+L))}ue.prototype={length:0,item:K.prototype.item,getNamedItem:function(h){for(var b=this.length;b--;){var L=this[b];if(L.nodeName==h)return L}},setNamedItem:function(h){var b=h.ownerElement;if(b&&b!=this._ownerElement)throw new j($);var L=this.getNamedItem(h.nodeName);return Y(this._ownerElement,this,h,L),L},setNamedItemNS:function(h){var b=h.ownerElement,L;if(b&&b!=this._ownerElement)throw new j($);return L=this.getNamedItemNS(h.namespaceURI,h.localName),Y(this._ownerElement,this,h,L),L},removeNamedItem:function(h){var b=this.getNamedItem(h);return be(this._ownerElement,this,b),b},removeNamedItemNS:function(h,b){var L=this.getNamedItemNS(h,b);return be(this._ownerElement,this,L),L},getNamedItemNS:function(h,b){for(var L=this.length;L--;){var c=this[L];if(c.localName==b&&c.namespaceURI==h)return c}return null}};function ke(){}ke.prototype={hasFeature:function(h,b){return!0},createDocument:function(h,b,L){var c=new Re;if(c.implementation=this,c.childNodes=new K,c.doctype=L||null,L&&c.appendChild(L),b){var P=c.createElementNS(h,b);c.appendChild(P)}return c},createDocumentType:function(h,b,L){var c=new Ie;return c.name=h,c.nodeName=h,c.publicId=b||"",c.systemId=L||"",c}};function ce(){}ce.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(h,b){return he(this,h,b)},replaceChild:function(h,b){he(this,h,b,pe),b&&this.removeChild(b)},removeChild:function(h){return Ne(this,h)},appendChild:function(h){return this.insertBefore(h,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(h){return De(this.ownerDocument||this,this,h)},normalize:function(){for(var h=this.firstChild;h;){var b=h.nextSibling;b&&b.nodeType==m&&h.nodeType==m?(this.removeChild(b),h.appendData(b.data)):(h.normalize(),h=b)}},isSupported:function(h,b){return this.ownerDocument.implementation.hasFeature(h,b)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(h){for(var b=this;b;){var L=b._nsMap;if(L){for(var c in L)if(Object.prototype.hasOwnProperty.call(L,c)&&L[c]===h)return c}b=b.nodeType==v?b.ownerDocument:b.parentNode}return null},lookupNamespaceURI:function(h){for(var b=this;b;){var L=b._nsMap;if(L&&h in L&&Object.prototype.hasOwnProperty.call(L,h))return L[h];b=b.nodeType==v?b.ownerDocument:b.parentNode}return null},isDefaultNamespace:function(h){var b=this.lookupPrefix(h);return b==null}};function we(h){return h=="<"&&"&lt;"||h==">"&&"&gt;"||h=="&"&&"&amp;"||h=='"'&&"&quot;"||"&#"+h.charCodeAt()+";"}u(f,ce),u(f,ce.prototype);function Be(h,b){if(b(h))return!0;if(h=h.firstChild)do if(Be(h,b))return!0;while(h=h.nextSibling)}function Re(){this.ownerDocument=this}function Ue(h,b,L){h&&h._inc++;var c=L.namespaceURI;c===t.XMLNS&&(b._nsMap[L.prefix?L.localName:""]=L.value)}function et(h,b,L,c){h&&h._inc++;var P=L.namespaceURI;P===t.XMLNS&&delete b._nsMap[L.prefix?L.localName:""]}function $e(h,b,L){if(h&&h._inc){h._inc++;var c=b.childNodes;if(L)c[c.length++]=L;else{for(var P=b.firstChild,W=0;P;)c[W++]=P,P=P.nextSibling;c.length=W,delete c[c.length]}}}function Ne(h,b){var L=b.previousSibling,c=b.nextSibling;return L?L.nextSibling=c:h.firstChild=c,c?c.previousSibling=L:h.lastChild=L,b.parentNode=null,b.previousSibling=null,b.nextSibling=null,$e(h.ownerDocument,h),b}function Ye(h){return h&&(h.nodeType===ce.DOCUMENT_NODE||h.nodeType===ce.DOCUMENT_FRAGMENT_NODE||h.nodeType===ce.ELEMENT_NODE)}function Je(h){return h&&(B(h)||M(h)||Me(h)||h.nodeType===ce.DOCUMENT_FRAGMENT_NODE||h.nodeType===ce.COMMENT_NODE||h.nodeType===ce.PROCESSING_INSTRUCTION_NODE)}function Me(h){return h&&h.nodeType===ce.DOCUMENT_TYPE_NODE}function B(h){return h&&h.nodeType===ce.ELEMENT_NODE}function M(h){return h&&h.nodeType===ce.TEXT_NODE}function Z(h,b){var L=h.childNodes||[];if(e(L,B)||Me(b))return!1;var c=e(L,Me);return!(b&&c&&L.indexOf(c)>L.indexOf(b))}function ie(h,b){var L=h.childNodes||[];function c(W){return B(W)&&W!==b}if(e(L,c))return!1;var P=e(L,Me);return!(b&&P&&L.indexOf(P)>L.indexOf(b))}function te(h,b,L){if(!Ye(h))throw new j(S,"Unexpected parent node type "+h.nodeType);if(L&&L.parentNode!==h)throw new j(I,"child not in parent");if(!Je(b)||Me(b)&&h.nodeType!==ce.DOCUMENT_NODE)throw new j(S,"Unexpected node type "+b.nodeType+" for parent node type "+h.nodeType)}function Q(h,b,L){var c=h.childNodes||[],P=b.childNodes||[];if(b.nodeType===ce.DOCUMENT_FRAGMENT_NODE){var W=P.filter(B);if(W.length>1||e(P,M))throw new j(S,"More than one element or text in fragment");if(W.length===1&&!Z(h,L))throw new j(S,"Element in fragment can not be inserted before doctype")}if(B(b)&&!Z(h,L))throw new j(S,"Only one element can be added and only after doctype");if(Me(b)){if(e(c,Me))throw new j(S,"Only one doctype is allowed");var E=e(c,B);if(L&&c.indexOf(E)<c.indexOf(L))throw new j(S,"Doctype can only be inserted before an element");if(!L&&E)throw new j(S,"Doctype can not be appended since element is present")}}function pe(h,b,L){var c=h.childNodes||[],P=b.childNodes||[];if(b.nodeType===ce.DOCUMENT_FRAGMENT_NODE){var W=P.filter(B);if(W.length>1||e(P,M))throw new j(S,"More than one element or text in fragment");if(W.length===1&&!ie(h,L))throw new j(S,"Element in fragment can not be inserted before doctype")}if(B(b)&&!ie(h,L))throw new j(S,"Only one element can be added and only after doctype");if(Me(b)){let G=function(Se){return Me(Se)&&Se!==L};var F=G;if(e(c,G))throw new j(S,"Only one doctype is allowed");var E=e(c,B);if(L&&c.indexOf(E)<c.indexOf(L))throw new j(S,"Doctype can only be inserted before an element")}}function he(h,b,L,c){te(h,b,L),h.nodeType===ce.DOCUMENT_NODE&&(c||Q)(h,b,L);var P=b.parentNode;if(P&&P.removeChild(b),b.nodeType===_){var W=b.firstChild;if(W==null)return b;var E=b.lastChild}else W=E=b;var F=L?L.previousSibling:h.lastChild;W.previousSibling=F,E.nextSibling=L,F?F.nextSibling=W:h.firstChild=W,L==null?h.lastChild=E:L.previousSibling=E;do W.parentNode=h;while(W!==E&&(W=W.nextSibling));return $e(h.ownerDocument||h,h),b.nodeType==_&&(b.firstChild=b.lastChild=null),b}function fe(h,b){return b.parentNode&&b.parentNode.removeChild(b),b.parentNode=h,b.previousSibling=h.lastChild,b.nextSibling=null,b.previousSibling?b.previousSibling.nextSibling=b:h.firstChild=b,h.lastChild=b,$e(h.ownerDocument,h,b),b}Re.prototype={nodeName:"#document",nodeType:C,doctype:null,documentElement:null,_inc:1,insertBefore:function(h,b){if(h.nodeType==_){for(var L=h.firstChild;L;){var c=L.nextSibling;this.insertBefore(L,b),L=c}return h}return he(this,h,b),h.ownerDocument=this,this.documentElement===null&&h.nodeType===d&&(this.documentElement=h),h},removeChild:function(h){return this.documentElement==h&&(this.documentElement=null),Ne(this,h)},replaceChild:function(h,b){he(this,h,b,pe),h.ownerDocument=this,b&&this.removeChild(b),B(h)&&(this.documentElement=h)},importNode:function(h,b){return de(this,h,b)},getElementById:function(h){var b=null;return Be(this.documentElement,function(L){if(L.nodeType==d&&L.getAttribute("id")==h)return b=L,!0}),b},getElementsByClassName:function(h){var b=o(h);return new ae(this,function(L){var c=[];return b.length>0&&Be(L.documentElement,function(P){if(P!==L&&P.nodeType===d){var W=P.getAttribute("class");if(W){var E=h===W;if(!E){var F=o(W);E=b.every(a(F))}E&&c.push(P)}}}),c})},createElement:function(h){var b=new J;b.ownerDocument=this,b.nodeName=h,b.tagName=h,b.localName=h,b.childNodes=new K;var L=b.attributes=new ue;return L._ownerElement=b,b},createDocumentFragment:function(){var h=new ht;return h.ownerDocument=this,h.childNodes=new K,h},createTextNode:function(h){var b=new Ae;return b.ownerDocument=this,b.appendData(h),b},createComment:function(h){var b=new Oe;return b.ownerDocument=this,b.appendData(h),b},createCDATASection:function(h){var b=new Le;return b.ownerDocument=this,b.appendData(h),b},createProcessingInstruction:function(h,b){var L=new ft;return L.ownerDocument=this,L.tagName=L.nodeName=L.target=h,L.nodeValue=L.data=b,L},createAttribute:function(h){var b=new me;return b.ownerDocument=this,b.name=h,b.nodeName=h,b.localName=h,b.specified=!0,b},createEntityReference:function(h){var b=new Qe;return b.ownerDocument=this,b.nodeName=h,b},createElementNS:function(h,b){var L=new J,c=b.split(":"),P=L.attributes=new ue;return L.childNodes=new K,L.ownerDocument=this,L.nodeName=b,L.tagName=b,L.namespaceURI=h,c.length==2?(L.prefix=c[0],L.localName=c[1]):L.localName=b,P._ownerElement=L,L},createAttributeNS:function(h,b){var L=new me,c=b.split(":");return L.ownerDocument=this,L.nodeName=b,L.name=b,L.namespaceURI=h,L.specified=!0,c.length==2?(L.prefix=c[0],L.localName=c[1]):L.localName=b,L}},l(Re,ce);function J(){this._nsMap={}}J.prototype={nodeType:d,hasAttribute:function(h){return this.getAttributeNode(h)!=null},getAttribute:function(h){var b=this.getAttributeNode(h);return b&&b.value||""},getAttributeNode:function(h){return this.attributes.getNamedItem(h)},setAttribute:function(h,b){var L=this.ownerDocument.createAttribute(h);L.value=L.nodeValue=""+b,this.setAttributeNode(L)},removeAttribute:function(h){var b=this.getAttributeNode(h);b&&this.removeAttributeNode(b)},appendChild:function(h){return h.nodeType===_?this.insertBefore(h,null):fe(this,h)},setAttributeNode:function(h){return this.attributes.setNamedItem(h)},setAttributeNodeNS:function(h){return this.attributes.setNamedItemNS(h)},removeAttributeNode:function(h){return this.attributes.removeNamedItem(h.nodeName)},removeAttributeNS:function(h,b){var L=this.getAttributeNodeNS(h,b);L&&this.removeAttributeNode(L)},hasAttributeNS:function(h,b){return this.getAttributeNodeNS(h,b)!=null},getAttributeNS:function(h,b){var L=this.getAttributeNodeNS(h,b);return L&&L.value||""},setAttributeNS:function(h,b,L){var c=this.ownerDocument.createAttributeNS(h,b);c.value=c.nodeValue=""+L,this.setAttributeNode(c)},getAttributeNodeNS:function(h,b){return this.attributes.getNamedItemNS(h,b)},getElementsByTagName:function(h){return new ae(this,function(b){var L=[];return Be(b,function(c){c!==b&&c.nodeType==d&&(h==="*"||c.tagName==h)&&L.push(c)}),L})},getElementsByTagNameNS:function(h,b){return new ae(this,function(L){var c=[];return Be(L,function(P){P!==L&&P.nodeType===d&&(h==="*"||P.namespaceURI===h)&&(b==="*"||P.localName==b)&&c.push(P)}),c})}},Re.prototype.getElementsByTagName=J.prototype.getElementsByTagName,Re.prototype.getElementsByTagNameNS=J.prototype.getElementsByTagNameNS,l(J,ce);function me(){}me.prototype.nodeType=v,l(me,ce);function ne(){}ne.prototype={data:"",substringData:function(h,b){return this.data.substring(h,h+b)},appendData:function(h){h=this.data+h,this.nodeValue=this.data=h,this.length=h.length},insertData:function(h,b){this.replaceData(h,0,b)},appendChild:function(h){throw new Error(k[S])},deleteData:function(h,b){this.replaceData(h,b,"")},replaceData:function(h,b,L){var c=this.data.substring(0,h),P=this.data.substring(h+b);L=c+L+P,this.nodeValue=this.data=L,this.length=L.length}},l(ne,ce);function Ae(){}Ae.prototype={nodeName:"#text",nodeType:m,splitText:function(h){var b=this.data,L=b.substring(h);b=b.substring(0,h),this.data=this.nodeValue=b,this.length=b.length;var c=this.ownerDocument.createTextNode(L);return this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling),c}},l(Ae,ne);function Oe(){}Oe.prototype={nodeName:"#comment",nodeType:y},l(Oe,ne);function Le(){}Le.prototype={nodeName:"#cdata-section",nodeType:x},l(Le,ne);function Ie(){}Ie.prototype.nodeType=T,l(Ie,ce);function qe(){}qe.prototype.nodeType=R,l(qe,ce);function nt(){}nt.prototype.nodeType=p,l(nt,ce);function Qe(){}Qe.prototype.nodeType=w,l(Qe,ce);function ht(){}ht.prototype.nodeName="#document-fragment",ht.prototype.nodeType=_,l(ht,ce);function ft(){}ft.prototype.nodeType=g,l(ft,ce);function ot(){}ot.prototype.serializeToString=function(h,b,L){return wt.call(h,b,L)},ce.prototype.toString=wt;function wt(h,b){var L=[],c=this.nodeType==9&&this.documentElement||this,P=c.prefix,W=c.namespaceURI;if(W&&P==null){var P=c.lookupPrefix(W);if(P==null)var E=[{namespace:W,prefix:null}]}return oe(this,L,h,b,E),L.join("")}function dt(h,b,L){var c=h.prefix||"",P=h.namespaceURI;if(!P||c==="xml"&&P===t.XML||P===t.XMLNS)return!1;for(var W=L.length;W--;){var E=L[W];if(E.prefix===c)return E.namespace!==P}return!0}function D(h,b,L){h.push(" ",b,'="',L.replace(/[<&"]/g,we),'"')}function oe(h,b,L,c,P){if(P||(P=[]),c)if(h=c(h),h){if(typeof h=="string"){b.push(h);return}}else return;switch(h.nodeType){case d:var W=h.attributes,E=W.length,Ge=h.firstChild,F=h.tagName;L=t.isHTML(h.namespaceURI)||L;var G=F;if(!L&&!h.prefix&&h.namespaceURI){for(var Se,_e=0;_e<W.length;_e++)if(W.item(_e).name==="xmlns"){Se=W.item(_e).value;break}if(!Se)for(var xe=P.length-1;xe>=0;xe--){var Pe=P[xe];if(Pe.prefix===""&&Pe.namespace===h.namespaceURI){Se=Pe.namespace;break}}if(Se!==h.namespaceURI)for(var xe=P.length-1;xe>=0;xe--){var Pe=P[xe];if(Pe.namespace===h.namespaceURI){Pe.prefix&&(G=Pe.prefix+":"+F);break}}}b.push("<",G);for(var xt=0;xt<E;xt++){var Ze=W.item(xt);Ze.prefix=="xmlns"?P.push({prefix:Ze.localName,namespace:Ze.value}):Ze.nodeName=="xmlns"&&P.push({prefix:"",namespace:Ze.value})}for(var xt=0;xt<E;xt++){var Ze=W.item(xt);if(dt(Ze,L,P)){var ze=Ze.prefix||"",at=Ze.namespaceURI;D(b,ze?"xmlns:"+ze:"xmlns",at),P.push({prefix:ze,namespace:at})}oe(Ze,b,L,c,P)}if(F===G&&dt(h,L,P)){var ze=h.prefix||"",at=h.namespaceURI;D(b,ze?"xmlns:"+ze:"xmlns",at),P.push({prefix:ze,namespace:at})}if(Ge||L&&!/^(?:meta|link|img|br|hr|input)$/i.test(F)){if(b.push(">"),L&&/^script$/i.test(F))for(;Ge;)Ge.data?b.push(Ge.data):oe(Ge,b,L,c,P.slice()),Ge=Ge.nextSibling;else for(;Ge;)oe(Ge,b,L,c,P.slice()),Ge=Ge.nextSibling;b.push("</",G,">")}else b.push("/>");return;case C:case _:for(var Ge=h.firstChild;Ge;)oe(Ge,b,L,c,P.slice()),Ge=Ge.nextSibling;return;case v:return D(b,h.name,h.value);case m:return b.push(h.data.replace(/[<&]/g,we).replace(/]]>/g,"]]&gt;"));case x:return b.push("<![CDATA[",h.data,"]]>");case y:return b.push("<!--",h.data,"-->");case T:var Ct=h.publicId,jt=h.systemId;if(b.push("<!DOCTYPE ",h.name),Ct)b.push(" PUBLIC ",Ct),jt&&jt!="."&&b.push(" ",jt),b.push(">");else if(jt&&jt!=".")b.push(" SYSTEM ",jt,">");else{var dr=h.internalSubset;dr&&b.push(" [",dr,"]"),b.push(">")}return;case g:return b.push("<?",h.target," ",h.data,"?>");case w:return b.push("&",h.nodeName,";");default:b.push("??",h.nodeName)}}function de(h,b,L){var c;switch(b.nodeType){case d:c=b.cloneNode(!1),c.ownerDocument=h;case _:break;case v:L=!0;break}if(c||(c=b.cloneNode(!1)),c.ownerDocument=h,c.parentNode=null,L)for(var P=b.firstChild;P;)c.appendChild(de(h,P,L)),P=P.nextSibling;return c}function De(h,b,L){var c=new b.constructor;for(var P in b)if(Object.prototype.hasOwnProperty.call(b,P)){var W=b[P];typeof W!="object"&&W!=c[P]&&(c[P]=W)}switch(b.childNodes&&(c.childNodes=new K),c.ownerDocument=h,c.nodeType){case d:var E=b.attributes,F=c.attributes=new ue,G=E.length;F._ownerElement=c;for(var Se=0;Se<G;Se++)c.setAttributeNode(De(h,E.item(Se),!0));break;case v:L=!0}if(L)for(var _e=b.firstChild;_e;)c.appendChild(De(h,_e,L)),_e=_e.nextSibling;return c}function U(h,b,L){h[b]=L}try{if(Object.defineProperty){let h=function(b){switch(b.nodeType){case d:case _:var L=[];for(b=b.firstChild;b;)b.nodeType!==7&&b.nodeType!==8&&L.push(h(b)),b=b.nextSibling;return L.join("");default:return b.nodeValue}};var re=h;Object.defineProperty(ae.prototype,"length",{get:function(){return le(this),this.$$length}}),Object.defineProperty(ce.prototype,"textContent",{get:function(){return h(this)},set:function(b){switch(this.nodeType){case d:case _:for(;this.firstChild;)this.removeChild(this.firstChild);(b||String(b))&&this.appendChild(this.ownerDocument.createTextNode(b));break;default:this.data=b,this.value=b,this.nodeValue=b}}}),U=function(b,L,c){b["$$"+L]=c}}}catch{}return gr.DocumentType=Ie,gr.DOMException=j,gr.DOMImplementation=ke,gr.Element=J,gr.Node=ce,gr.NodeList=K,gr.XMLSerializer=ot,gr}var Yr={},Is={},cu;function Dp(){return cu||(cu=1,(function(r){var e=Vn().freeze;r.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),r.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),r.entityMap=r.HTML_ENTITIES})(Is)),Is}var en={},hu;function Sp(){if(hu)return en;hu=1;var r=Vn().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),n=0,s=1,o=2,a=3,u=4,l=5,f=6,d=7;function v(S,I){this.message=S,this.locator=I,Error.captureStackTrace&&Error.captureStackTrace(this,v)}v.prototype=new Error,v.prototype.name=v.name;function m(){}m.prototype={parse:function(S,I,$){var j=this.domBuilder;j.startDocument(),T(I,I={}),x(S,I,$,j,this.errorHandler),j.endDocument()}};function x(S,I,$,j,K){function ae(J){if(J>65535){J-=65536;var me=55296+(J>>10),ne=56320+(J&1023);return String.fromCharCode(me,ne)}else return String.fromCharCode(J)}function le(J){var me=J.slice(1,-1);return me in $?$[me]:me.charAt(0)==="#"?ae(parseInt(me.substr(1).replace("x","0x"))):(K.error("entity not found:"+J),J)}function ue(J){if(J>Re){var me=S.substring(Re,J).replace(/&#?\w+;/g,le);ce&&ee(Re),j.characters(me,0,J-Re),Re=J}}function ee(J,me){for(;J>=be&&(me=ke.exec(S));)Y=me.index,be=Y+me[0].length,ce.lineNumber++;ce.columnNumber=J-Y+1}for(var Y=0,be=0,ke=/.*(?:\r\n?|\n)|.*$/g,ce=j.locator,we=[{currentNSMap:I}],Be={},Re=0;;){try{var Ue=S.indexOf("<",Re);if(Ue<0){if(!S.substr(Re).match(/^\s*$/)){var et=j.doc,$e=et.createTextNode(S.substr(Re));et.appendChild($e),j.currentElement=$e}return}switch(Ue>Re&&ue(Ue),S.charAt(Ue+1)){case"/":var te=S.indexOf(">",Ue+3),Ne=S.substring(Ue+2,te).replace(/[ \t\n\r]+$/g,""),Ye=we.pop();te<0?(Ne=S.substring(Ue+2).replace(/[\s<].*/,""),K.error("end tag name: "+Ne+" is not complete:"+Ye.tagName),te=Ue+1+Ne.length):Ne.match(/\s</)&&(Ne=Ne.replace(/[\s<].*/,""),K.error("end tag name: "+Ne+" maybe not complete"),te=Ue+1+Ne.length);var Je=Ye.localNSMap,Me=Ye.tagName==Ne,B=Me||Ye.tagName&&Ye.tagName.toLowerCase()==Ne.toLowerCase();if(B){if(j.endElement(Ye.uri,Ye.localName,Ne),Je)for(var M in Je)Object.prototype.hasOwnProperty.call(Je,M)&&j.endPrefixMapping(M);Me||K.fatalError("end tag name: "+Ne+" is not match the current start tagName:"+Ye.tagName)}else we.push(Ye);te++;break;case"?":ce&&ee(Ue),te=R(S,Ue,j);break;case"!":ce&&ee(Ue),te=_(S,Ue,j,K);break;default:ce&&ee(Ue);var Z=new O,ie=we[we.length-1].currentNSMap,te=p(S,Ue,Z,ie,le,K),Q=Z.length;if(!Z.closed&&C(S,te,Z.tagName,Be)&&(Z.closed=!0,$.nbsp||K.warning("unclosed xml attribute")),ce&&Q){for(var pe=w(ce,{}),he=0;he<Q;he++){var fe=Z[he];ee(fe.offset),fe.locator=w(ce,{})}j.locator=pe,g(Z,j,ie)&&we.push(Z),j.locator=ce}else g(Z,j,ie)&&we.push(Z);r.isHTML(Z.uri)&&!Z.closed?te=y(S,te,Z.tagName,le,j):te++}}catch(J){if(J instanceof v)throw J;K.error("element parse error: "+J),te=-1}te>Re?Re=te:ue(Math.max(Ue,Re)+1)}}function w(S,I){return I.lineNumber=S.lineNumber,I.columnNumber=S.columnNumber,I}function p(S,I,$,j,K,ae){function le(ce,we,Be){$.attributeNames.hasOwnProperty(ce)&&ae.fatalError("Attribute "+ce+" redefined"),$.addValue(ce,we,Be)}for(var ue,ee,Y=++I,be=n;;){var ke=S.charAt(Y);switch(ke){case"=":if(be===s)ue=S.slice(I,Y),be=a;else if(be===o)be=a;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(be===a||be===s)if(be===s&&(ae.warning('attribute value must after "="'),ue=S.slice(I,Y)),I=Y+1,Y=S.indexOf(ke,I),Y>0)ee=S.slice(I,Y).replace(/&#?\w+;/g,K),le(ue,ee,I-1),be=l;else throw new Error("attribute value no end '"+ke+"' match");else if(be==u)ee=S.slice(I,Y).replace(/&#?\w+;/g,K),le(ue,ee,I),ae.warning('attribute "'+ue+'" missed start quot('+ke+")!!"),I=Y+1,be=l;else throw new Error('attribute value must after "="');break;case"/":switch(be){case n:$.setTagName(S.slice(I,Y));case l:case f:case d:be=d,$.closed=!0;case u:case s:break;case o:$.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return ae.error("unexpected end of input"),be==n&&$.setTagName(S.slice(I,Y)),Y;case">":switch(be){case n:$.setTagName(S.slice(I,Y));case l:case f:case d:break;case u:case s:ee=S.slice(I,Y),ee.slice(-1)==="/"&&($.closed=!0,ee=ee.slice(0,-1));case o:be===o&&(ee=ue),be==u?(ae.warning('attribute "'+ee+'" missed quot(")!'),le(ue,ee.replace(/&#?\w+;/g,K),I)):((!r.isHTML(j[""])||!ee.match(/^(?:disabled|checked|selected)$/i))&&ae.warning('attribute "'+ee+'" missed value!! "'+ee+'" instead!!'),le(ee,ee,I));break;case a:throw new Error("attribute value missed!!")}return Y;case"":ke=" ";default:if(ke<=" ")switch(be){case n:$.setTagName(S.slice(I,Y)),be=f;break;case s:ue=S.slice(I,Y),be=o;break;case u:var ee=S.slice(I,Y).replace(/&#?\w+;/g,K);ae.warning('attribute "'+ee+'" missed quot(")!!'),le(ue,ee,I);case l:be=f;break}else switch(be){case o:$.tagName,(!r.isHTML(j[""])||!ue.match(/^(?:disabled|checked|selected)$/i))&&ae.warning('attribute "'+ue+'" missed value!! "'+ue+'" instead2!!'),le(ue,ue,I),I=Y,be=s;break;case l:ae.warning('attribute space is required"'+ue+'"!!');case f:be=s,I=Y;break;case a:be=u,I=Y;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}Y++}}function g(S,I,$){for(var j=S.tagName,K=null,ke=S.length;ke--;){var ae=S[ke],le=ae.qName,ue=ae.value,ce=le.indexOf(":");if(ce>0)var ee=ae.prefix=le.slice(0,ce),Y=le.slice(ce+1),be=ee==="xmlns"&&Y;else Y=le,ee=null,be=le==="xmlns"&&"";ae.localName=Y,be!==!1&&(K==null&&(K={},T($,$={})),$[be]=K[be]=ue,ae.uri=r.XMLNS,I.startPrefixMapping(be,ue))}for(var ke=S.length;ke--;){ae=S[ke];var ee=ae.prefix;ee&&(ee==="xml"&&(ae.uri=r.XML),ee!=="xmlns"&&(ae.uri=$[ee||""]))}var ce=j.indexOf(":");ce>0?(ee=S.prefix=j.slice(0,ce),Y=S.localName=j.slice(ce+1)):(ee=null,Y=S.localName=j);var we=S.uri=$[ee||""];if(I.startElement(we,Y,j,S),S.closed){if(I.endElement(we,Y,j),K)for(ee in K)Object.prototype.hasOwnProperty.call(K,ee)&&I.endPrefixMapping(ee)}else return S.currentNSMap=$,S.localNSMap=K,!0}function y(S,I,$,j,K){if(/^(?:script|textarea)$/i.test($)){var ae=S.indexOf("</"+$+">",I),le=S.substring(I+1,ae);if(/[&<]/.test(le))return/^script$/i.test($)?(K.characters(le,0,le.length),ae):(le=le.replace(/&#?\w+;/g,j),K.characters(le,0,le.length),ae)}return I+1}function C(S,I,$,j){var K=j[$];return K==null&&(K=S.lastIndexOf("</"+$+">"),K<I&&(K=S.lastIndexOf("</"+$)),j[$]=K),K<I}function T(S,I){for(var $ in S)Object.prototype.hasOwnProperty.call(S,$)&&(I[$]=S[$])}function _(S,I,$,j){var K=S.charAt(I+2);switch(K){case"-":if(S.charAt(I+3)==="-"){var ae=S.indexOf("-->",I+4);return ae>I?($.comment(S,I+4,ae-I-4),ae+3):(j.error("Unclosed comment"),-1)}else return-1;default:if(S.substr(I+3,6)=="CDATA["){var ae=S.indexOf("]]>",I+9);return $.startCDATA(),$.characters(S,I+9,ae-I-9),$.endCDATA(),ae+3}var le=k(S,I),ue=le.length;if(ue>1&&/!doctype/i.test(le[0][0])){var ee=le[1][0],Y=!1,be=!1;ue>3&&(/^public$/i.test(le[2][0])?(Y=le[3][0],be=ue>4&&le[4][0]):/^system$/i.test(le[2][0])&&(be=le[3][0]));var ke=le[ue-1];return $.startDTD(ee,Y,be),$.endDTD(),ke.index+ke[0].length}}return-1}function R(S,I,$){var j=S.indexOf("?>",I);if(j){var K=S.substring(I,j).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return K?(K[0].length,$.processingInstruction(K[1],K[2]),j+2):-1}return-1}function O(){this.attributeNames={}}O.prototype={setTagName:function(S){if(!i.test(S))throw new Error("invalid tagName:"+S);this.tagName=S},addValue:function(S,I,$){if(!i.test(S))throw new Error("invalid attribute:"+S);this.attributeNames[S]=this.length,this[this.length++]={qName:S,value:I,offset:$}},length:0,getLocalName:function(S){return this[S].localName},getLocator:function(S){return this[S].locator},getQName:function(S){return this[S].qName},getURI:function(S){return this[S].uri},getValue:function(S){return this[S].value}};function k(S,I){var $,j=[],K=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(K.lastIndex=I,K.exec(S);$=K.exec(S);)if(j.push($),$[1])return j}return en.XMLReader=m,en.ParseError=v,en}var du;function Tp(){if(du)return Yr;du=1;var r=Vn(),e=bf(),t=Dp(),i=Sp(),n=e.DOMImplementation,s=r.NAMESPACE,o=i.ParseError,a=i.XMLReader;function u(w){this.options=w||{locator:{}}}u.prototype.parseFromString=function(w,p){var g=this.options,y=new a,C=g.domBuilder||new f,T=g.errorHandler,_=g.locator,R=g.xmlns||{},O=/\/x?html?$/.test(p),k=O?t.HTML_ENTITIES:t.XML_ENTITIES;return _&&C.setDocumentLocator(_),y.errorHandler=l(T,C,_),y.domBuilder=g.domBuilder||C,O&&(R[""]=s.HTML),R.xml=R.xml||s.XML,w&&typeof w=="string"?y.parse(w,R,k):y.errorHandler.error("invalid doc source"),C.doc};function l(w,p,g){if(!w){if(p instanceof f)return p;w=p}var y={},C=w instanceof Function;g=g||{};function T(_){var R=w[_];!R&&C&&(R=w.length==2?function(O){w(_,O)}:w),y[_]=R&&function(O){R("[xmldom "+_+"]	"+O+v(g))}||function(){}}return T("warning"),T("error"),T("fatalError"),y}function f(){this.cdata=!1}function d(w,p){p.lineNumber=w.lineNumber,p.columnNumber=w.columnNumber}f.prototype={startDocument:function(){this.doc=new n().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(w,p,g,y){var C=this.doc,T=C.createElementNS(w,g||p),_=y.length;x(this,T),this.currentElement=T,this.locator&&d(this.locator,T);for(var R=0;R<_;R++){var w=y.getURI(R),O=y.getValue(R),g=y.getQName(R),k=C.createAttributeNS(w,g);this.locator&&d(y.getLocator(R),k),k.value=k.nodeValue=O,T.setAttributeNode(k)}},endElement:function(w,p,g){var y=this.currentElement;y.tagName,this.currentElement=y.parentNode},startPrefixMapping:function(w,p){},endPrefixMapping:function(w){},processingInstruction:function(w,p){var g=this.doc.createProcessingInstruction(w,p);this.locator&&d(this.locator,g),x(this,g)},ignorableWhitespace:function(w,p,g){},characters:function(w,p,g){if(w=m.apply(this,arguments),w){if(this.cdata)var y=this.doc.createCDATASection(w);else var y=this.doc.createTextNode(w);this.currentElement?this.currentElement.appendChild(y):/^\s*$/.test(w)&&this.doc.appendChild(y),this.locator&&d(this.locator,y)}},skippedEntity:function(w){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(w){(this.locator=w)&&(w.lineNumber=0)},comment:function(w,p,g){w=m.apply(this,arguments);var y=this.doc.createComment(w);this.locator&&d(this.locator,y),x(this,y)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(w,p,g){var y=this.doc.implementation;if(y&&y.createDocumentType){var C=y.createDocumentType(w,p,g);this.locator&&d(this.locator,C),x(this,C),this.doc.doctype=C}},warning:function(w){console.warn("[xmldom warning]	"+w,v(this.locator))},error:function(w){console.error("[xmldom error]	"+w,v(this.locator))},fatalError:function(w){throw new o(w,this.locator)}};function v(w){if(w)return`
@`+(w.systemId||"")+"#[line:"+w.lineNumber+",col:"+w.columnNumber+"]"}function m(w,p,g){return typeof w=="string"?w.substr(p,g):w.length>=p+g||p?new java.lang.String(w,p,g)+"":w}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(w){f.prototype[w]=function(){return null}});function x(w,p){w.currentElement?w.currentElement.appendChild(p):w.doc.appendChild(p)}return Yr.__DOMHandler=f,Yr.DOMParser=u,Yr.DOMImplementation=e.DOMImplementation,Yr.XMLSerializer=e.XMLSerializer,Yr}var pu;function Rp(){if(pu)return bi;pu=1;var r=bf();return bi.DOMImplementation=r.DOMImplementation,bi.XMLSerializer=r.XMLSerializer,bi.DOMParser=Tp().DOMParser,bi}var wf=Rp();const Go=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,Op=1,Np=3,_f=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function $n(){var r=new Date().getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(r+Math.random()*16)%16|0;return r=Math.floor(r/16),(t=="x"?i:i&7|8).toString(16)});return e}function kp(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function Ef(r){return!!(r&&r.nodeType==1)}function mt(r){return!isNaN(parseFloat(r))&&isFinite(r)}function xf(r){let e=parseFloat(r);return mt(r)===!1?!1:typeof r=="string"&&r.indexOf(".")>-1?!0:Math.floor(e)!==e}function ri(r){var e=["Webkit","webkit","Moz","O","ms"],t=["-webkit-","-webkit-","-moz-","-o-","-ms-"],i=r.toLowerCase(),n=e.length;if(typeof document>"u"||typeof document.body.style[i]<"u")return r;for(var s=0;s<n;s++)if(typeof document.body.style[t[s]+i]<"u")return t[s]+i;return r}function Cf(r){for(var e=1,t=arguments.length;e<t;e++){var i=arguments[e];for(var n in i)r[n]===void 0&&(r[n]=i[n])}return r}function St(r){var e=[].slice.call(arguments,1);return e.forEach(function(t){t&&Object.getOwnPropertyNames(t).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}),r}function Lp(r,e,t){var i=fi(r,e,t);return e.splice(i,0,r),i}function fi(r,e,t,i,n){var s=i||0,o=n||e.length,a=parseInt(s+(o-s)/2),u;return t||(t=function(l,f){if(l>f)return 1;if(l<f)return-1;if(l==f)return 0}),o-s<=0?a:(u=t(e[a],r),o-s===1?u>=0?a:a+1:u===0?a:u===-1?fi(r,e,t,a,o):fi(r,e,t,s,a))}function _n(r,e,t,i,n){var s=i||0,o=n||e.length,a=parseInt(s+(o-s)/2),u;return t||(t=function(l,f){if(l>f)return 1;if(l<f)return-1;if(l==f)return 0}),o-s<=0?-1:(u=t(e[a],r),o-s===1?u===0?a:-1:u===0?a:u===-1?_n(r,e,t,a,o):_n(r,e,t,s,a))}function un(r){var e=window.getComputedStyle(r),t=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],i=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],n=0,s=0;return t.forEach(function(o){n+=parseFloat(e[o])||0}),i.forEach(function(o){s+=parseFloat(e[o])||0}),{height:s,width:n}}function En(r){var e=window.getComputedStyle(r),t=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],i=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],n=0,s=0;return t.forEach(function(o){n+=parseFloat(e[o])||0}),i.forEach(function(o){s+=parseFloat(e[o])||0}),{height:s,width:n}}function bo(r){let e,t=r.ownerDocument;if(r.nodeType==Node.TEXT_NODE){let i=t.createRange();i.selectNodeContents(r),e=i.getBoundingClientRect()}else e=r.getBoundingClientRect();return e}function xn(){var r=window.innerWidth,e=window.innerHeight;return{top:0,left:0,right:r,bottom:e,width:r,height:e}}function Ko(r,e){for(var t=r.parentNode,i=t.childNodes,n,s=-1,o=0;o<i.length&&(n=i[o],n.nodeType===e&&s++,n!=r);o++);return s}function Ip(r){return Ko(r,Np)}function Af(r){return Ko(r,Op)}function zi(r){return["xml","opf","ncx"].indexOf(r)>-1}function Df(r,e){return new Blob([r],{type:e})}function Cn(r,e){var t,i=Df(r,e);return t=_f.createObjectURL(i),t}function Sf(r){return _f.revokeObjectURL(r)}function wo(r,e){var t,i;if(typeof r=="string")return t=btoa(r),i="data:"+e+";base64,"+t,i}function Tf(r){return Object.prototype.toString.call(r).slice(8,-1)}function fr(r,e,t){var i,n;return typeof DOMParser>"u"||t?n=wf.DOMParser:n=DOMParser,r.charCodeAt(0)===65279&&(r=r.slice(1)),i=new n().parseFromString(r,e),i}function lt(r,e){var t;if(!r)throw new Error("No Element Provided");if(typeof r.querySelector<"u")return r.querySelector(e);if(t=r.getElementsByTagName(e),t.length)return t[0]}function Er(r,e){return typeof r.querySelector<"u"?r.querySelectorAll(e):r.getElementsByTagName(e)}function ii(r,e,t){var i,n;if(typeof r.querySelector<"u"){e+="[";for(var s in t)e+=s+"~='"+t[s]+"'";return e+="]",r.querySelector(e)}else if(i=r.getElementsByTagName(e),n=Array.prototype.slice.call(i,0).filter(function(o){for(var a in t)if(o.getAttribute(a)===t[a])return!0;return!1}),n)return n[0]}function An(r,e){var t=r.ownerDocument||r;typeof t.createTreeWalker<"u"?Rf(r,e,NodeFilter.SHOW_TEXT):Xo(r,function(i){i&&i.nodeType===3&&e(i)})}function Rf(r,e,t){var i=document.createTreeWalker(r,t,null,!1);let n;for(;n=i.nextNode();)e(n)}function Xo(r,e){if(e(r))return!0;if(r=r.firstChild,r)do{if(Xo(r,e))return!0;r=r.nextSibling}while(r)}function Of(r){return new Promise(function(e,t){var i=new FileReader;i.readAsDataURL(r),i.onloadend=function(){e(i.result)}})}function Ke(){this.resolve=null,this.reject=null,this.id=$n(),this.promise=new Promise((r,e)=>{this.resolve=r,this.reject=e}),Object.freeze(this)}function Dn(r,e,t){var i;if(typeof r.querySelector<"u"&&(i=r.querySelector(`${e}[*|type="${t}"]`)),!i||i.length===0){i=Er(r,e);for(var n=0;n<i.length;n++)if(i[n].getAttributeNS("http://www.idpf.org/2007/ops","type")===t||i[n].getAttribute("epub:type")===t)return i[n]}else return i}function _o(r){for(var e=[],t=r.childNodes,i=0;i<t.length;i++){let n=t[i];n.nodeType===1&&e.push(n)}return e}function Eo(r){for(var e=[r];r;r=r.parentNode)e.unshift(r);return e}function ni(r,e,t){for(var i=[],n=r.childNodes,s=0;s<n.length;s++){let o=n[s];if(o.nodeType===1&&o.nodeName.toLowerCase()===e){if(t)return o;i.push(o)}}if(!t)return i}function Bp(r,e){let t;if(!(r===null||e===""))for(t=r.parentNode;t.nodeType===1;){if(t.tagName.toLowerCase()===e)return t;t=t.parentNode}}class Nf{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,t){this.startContainer=e,this.startOffset=t,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,t){this.endContainer=e,this.endOffset=t,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let t=e.parentNode,i=Array.prototype.indexOf.call(t.childNodes,e);this.setStart(t,i),this.setEnd(t,i+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let t=e.nodeType===3?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,t)}_commonAncestorContainer(e,t){var i=Eo(e||this.startContainer),n=Eo(t||this.endContainer);if(i[0]==n[0]){for(var s=0;s<i.length;s++)if(i[s]!=n[s])return i[s-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}const Pp=Object.freeze(Object.defineProperty({__proto__:null,RangeObject:Nf,blob2base64:Of,borders:En,bounds:un,createBase64Url:wo,createBlob:Df,createBlobUrl:Cn,defaults:Cf,defer:Ke,documentHeight:kp,extend:St,filterChildren:ni,findChildren:_o,getParentByTagName:Bp,indexOfElementNode:Af,indexOfNode:Ko,indexOfSorted:_n,indexOfTextNode:Ip,insert:Lp,isElement:Ef,isFloat:xf,isNumber:mt,isXml:zi,locationOf:fi,nodeBounds:bo,parents:Eo,parse:fr,prefixed:ri,qs:lt,qsa:Er,qsp:ii,querySelectorByType:Dn,requestAnimationFrame:Go,revokeBlobUrl:Sf,sprint:An,treeWalker:Rf,type:Tf,uuid:$n,walk:Xo,windowBounds:xn},Symbol.toStringTag,{value:"Module"}));var Bs,gu;function Fp(){if(gu)return Bs;if(gu=1,!r)var r={cwd:function(){return"/"}};function e(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+s)}function t(s,o){for(var a="",u=-1,l=0,f,d=0;d<=s.length;++d){if(d<s.length)f=s.charCodeAt(d);else{if(f===47)break;f=47}if(f===47){if(!(u===d-1||l===1))if(u!==d-1&&l===2){if(a.length<2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){for(var v=a.length-1,m=v;m>=0&&a.charCodeAt(m)!==47;--m);if(m!==v){m===-1?a="":a=a.slice(0,m),u=d,l=0;continue}}else if(a.length===2||a.length===1){a="",u=d,l=0;continue}}o&&(a.length>0?a+="/..":a="..")}else a.length>0?a+="/"+s.slice(u+1,d):a=s.slice(u+1,d);u=d,l=0}else f===46&&l!==-1?++l:l=-1}return a}function i(s,o){var a=o.dir||o.root,u=o.base||(o.name||"")+(o.ext||"");return a?a===o.root?a+u:a+s+u:u}var n={resolve:function(){for(var o="",a=!1,u,l=arguments.length-1;l>=-1&&!a;l--){var f;l>=0?f=arguments[l]:(u===void 0&&(u=r.cwd()),f=u),e(f),f.length!==0&&(o=f+"/"+o,a=f.charCodeAt(0)===47)}return o=t(o,!a),a?o.length>0?"/"+o:"/":o.length>0?o:"."},normalize:function(o){if(e(o),o.length===0)return".";var a=o.charCodeAt(0)===47,u=o.charCodeAt(o.length-1)===47;return o=t(o,!a),o.length===0&&!a&&(o="."),o.length>0&&u&&(o+="/"),a?"/"+o:o},isAbsolute:function(o){return e(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,a=0;a<arguments.length;++a){var u=arguments[a];e(u),u.length>0&&(o===void 0?o=u:o+="/"+u)}return o===void 0?".":n.normalize(o)},relative:function(o,a){if(e(o),e(a),o===a||(o=n.resolve(o),a=n.resolve(a),o===a))return"";for(var u=1;u<o.length&&o.charCodeAt(u)===47;++u);for(var l=o.length,f=l-u,d=1;d<a.length&&a.charCodeAt(d)===47;++d);for(var v=a.length,m=v-d,x=f<m?f:m,w=-1,p=0;p<=x;++p){if(p===x){if(m>x){if(a.charCodeAt(d+p)===47)return a.slice(d+p+1);if(p===0)return a.slice(d+p)}else f>x&&(o.charCodeAt(u+p)===47?w=p:p===0&&(w=0));break}var g=o.charCodeAt(u+p),y=a.charCodeAt(d+p);if(g!==y)break;g===47&&(w=p)}var C="";for(p=u+w+1;p<=l;++p)(p===l||o.charCodeAt(p)===47)&&(C.length===0?C+="..":C+="/..");return C.length>0?C+a.slice(d+w):(d+=w,a.charCodeAt(d)===47&&++d,a.slice(d))},_makeLong:function(o){return o},dirname:function(o){if(e(o),o.length===0)return".";for(var a=o.charCodeAt(0),u=a===47,l=-1,f=!0,d=o.length-1;d>=1;--d)if(a=o.charCodeAt(d),a===47){if(!f){l=d;break}}else f=!1;return l===-1?u?"/":".":u&&l===1?"//":o.slice(0,l)},basename:function(o,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');e(o);var u=0,l=-1,f=!0,d;if(a!==void 0&&a.length>0&&a.length<=o.length){if(a.length===o.length&&a===o)return"";var v=a.length-1,m=-1;for(d=o.length-1;d>=0;--d){var x=o.charCodeAt(d);if(x===47){if(!f){u=d+1;break}}else m===-1&&(f=!1,m=d+1),v>=0&&(x===a.charCodeAt(v)?--v===-1&&(l=d):(v=-1,l=m))}return u===l?l=m:l===-1&&(l=o.length),o.slice(u,l)}else{for(d=o.length-1;d>=0;--d)if(o.charCodeAt(d)===47){if(!f){u=d+1;break}}else l===-1&&(f=!1,l=d+1);return l===-1?"":o.slice(u,l)}},extname:function(o){e(o);for(var a=-1,u=0,l=-1,f=!0,d=0,v=o.length-1;v>=0;--v){var m=o.charCodeAt(v);if(m===47){if(!f){u=v+1;break}continue}l===-1&&(f=!1,l=v+1),m===46?a===-1?a=v:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||l===-1||d===0||d===1&&a===l-1&&a===u+1?"":o.slice(a,l)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof o);return i("/",o)},parse:function(o){e(o);var a={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return a;var u=o.charCodeAt(0),l=u===47,f;l?(a.root="/",f=1):f=0;for(var d=-1,v=0,m=-1,x=!0,w=o.length-1,p=0;w>=f;--w){if(u=o.charCodeAt(w),u===47){if(!x){v=w+1;break}continue}m===-1&&(x=!1,m=w+1),u===46?d===-1?d=w:p!==1&&(p=1):d!==-1&&(p=-1)}return d===-1||m===-1||p===0||p===1&&d===m-1&&d===v+1?m!==-1&&(v===0&&l?a.base=a.name=o.slice(1,m):a.base=a.name=o.slice(v,m)):(v===0&&l?(a.name=o.slice(1,d),a.base=o.slice(1,m)):(a.name=o.slice(v,d),a.base=o.slice(v,m)),a.ext=o.slice(d,m)),v>0?a.dir=o.slice(0,v-1):l&&(a.dir="/"),a},sep:"/",delimiter:":",posix:null};return Bs=n,Bs}var Mp=Fp();const Tr=hi(Mp);class xr{constructor(e){var t,i;t=e.indexOf("://"),t>-1&&(e=new URL(e).pathname),i=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=i.dir+"/",this.filename=i.base,this.extension=i.ext.slice(1)}parse(e){return Tr.parse(e)}isAbsolute(e){return Tr.isAbsolute(e||this.path)}isDirectory(e){return e.charAt(e.length-1)==="/"}resolve(e){return Tr.resolve(this.directory,e)}relative(e){var t=e&&e.indexOf("://")>-1;return t?e:Tr.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}}class er{constructor(e,t){var i=e.indexOf("://")>-1,n=e,s;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=t,!i&&t!==!1&&typeof t!="string"&&window&&window.location&&(this.base=window.location.href),i||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,n=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(s=new xr(this.base),n=s.resolve(n))}this.Path=new xr(n),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var t=e.indexOf("://")>-1,i;return t?e:(i=Tr.resolve(this.directory,e),this.origin+i)}relative(e){return Tr.relative(e,this.directory)}toString(){return this.href}}const Jr=1,Zt=3,zp=9;class Xe{constructor(e,t,i){var n;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof Xe))return new Xe(e,t,i);if(typeof t=="string"?this.base=this.parseComponent(t):typeof t=="object"&&t.steps&&(this.base=t),n=this.checkType(e),n==="string")return this.str=e,St(this,this.parse(e));if(n==="range")return St(this,this.fromRange(e,this.base,i));if(n==="node")return St(this,this.fromNode(e,this.base,i));if(n==="EpubCFI"&&e.path)return e;if(e)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(e){return this.isCfiString(e)?"string":e&&typeof e=="object"&&(Tf(e)==="Range"||typeof e.startContainer<"u")?"range":e&&typeof e=="object"&&typeof e.nodeType<"u"?"node":e&&typeof e=="object"&&e instanceof Xe?"EpubCFI":!1}parse(e){var t={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},i,n,s;return typeof e!="string"?{spinePos:-1}:(e.indexOf("epubcfi(")===0&&e[e.length-1]===")"&&(e=e.slice(8,e.length-1)),i=this.getChapterComponent(e),i?(t.base=this.parseComponent(i),n=this.getPathComponent(e),t.path=this.parseComponent(n),s=this.getRange(e),s&&(t.range=!0,t.start=this.parseComponent(s[0]),t.end=this.parseComponent(s[1])),t.spinePos=t.base.steps[1].index,t):{spinePos:-1})}parseComponent(e){var t={steps:[],terminal:{offset:null,assertion:null}},i=e.split(":"),n=i[0].split("/"),s;return i.length>1&&(s=i[1],t.terminal=this.parseTerminal(s)),n[0]===""&&n.shift(),t.steps=n.map((function(o){return this.parseStep(o)}).bind(this)),t}parseStep(e){var t,i,n,s,o;if(s=e.match(/\[(.*)\]/),s&&s[1]&&(o=s[1]),i=parseInt(e),!isNaN(i))return i%2===0?(t="element",n=i/2-1):(t="text",n=(i-1)/2),{type:t,index:n,id:o||null}}parseTerminal(e){var t,i,n=e.match(/\[(.*)\]/);return n&&n[1]?(t=parseInt(e.split("[")[0]),i=n[1]):t=parseInt(e),mt(t)||(t=null),{offset:t,assertion:i}}getChapterComponent(e){var t=e.split("!");return t[0]}getPathComponent(e){var t=e.split("!");if(t[1])return t[1].split(",")[0]}getRange(e){var t=e.split(",");return t.length===3?[t[1],t[2]]:!1}getCharecterOffsetComponent(e){var t=e.split(":");return t[1]||""}joinSteps(e){return e?e.map(function(t){var i="";return t.type==="element"&&(i+=(t.index+1)*2),t.type==="text"&&(i+=1+2*t.index),t.id&&(i+="["+t.id+"]"),i}).join("/"):""}segmentString(e){var t="/";return t+=this.joinSteps(e.steps),e.terminal&&e.terminal.offset!=null&&(t+=":"+e.terminal.offset),e.terminal&&e.terminal.assertion!=null&&(t+="["+e.terminal.assertion+"]"),t}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")",e}compare(e,t){var i,n,s,o;if(typeof e=="string"&&(e=new Xe(e)),typeof t=="string"&&(t=new Xe(t)),e.spinePos>t.spinePos)return 1;if(e.spinePos<t.spinePos)return-1;e.range?(i=e.path.steps.concat(e.start.steps),s=e.start.terminal):(i=e.path.steps,s=e.path.terminal),t.range?(n=t.path.steps.concat(t.start.steps),o=t.start.terminal):(n=t.path.steps,o=t.path.terminal);for(var a=0;a<i.length;a++){if(!i[a])return-1;if(!n[a]||i[a].index>n[a].index)return 1;if(i[a].index<n[a].index)return-1}return i.length<n.length?-1:s.offset>o.offset?1:s.offset<o.offset?-1:0}step(e){var t=e.nodeType===Zt?"text":"element";return{id:e.id,tagName:e.tagName,type:t,index:this.position(e)}}filteredStep(e,t){var i=this.filter(e,t),n;if(i)return n=i.nodeType===Zt?"text":"element",{id:i.id,tagName:i.tagName,type:n,index:this.filteredPosition(i,t)}}pathTo(e,t,i){for(var n={steps:[],terminal:{offset:null,assertion:null}},s=e,o;s&&s.parentNode&&s.parentNode.nodeType!=zp;)i?o=this.filteredStep(s,i):o=this.step(s),o&&n.steps.unshift(o),s=s.parentNode;return t!=null&&t>=0&&(n.terminal.offset=t,n.steps[n.steps.length-1].type!="text"&&n.steps.push({type:"text",index:0})),n}equalStep(e,t){return!e||!t?!1:e.index===t.index&&e.id===t.id&&e.type===t.type}fromRange(e,t,i){var n={range:!1,base:{},path:{},start:null,end:null},s=e.startContainer,o=e.endContainer,a=e.startOffset,u=e.endOffset,l=!1;if(i&&(l=s.ownerDocument.querySelector("."+i)!=null),typeof t=="string"?(n.base=this.parseComponent(t),n.spinePos=n.base.steps[1].index):typeof t=="object"&&(n.base=t),e.collapsed)l&&(a=this.patchOffset(s,a,i)),n.path=this.pathTo(s,a,i);else{n.range=!0,l&&(a=this.patchOffset(s,a,i)),n.start=this.pathTo(s,a,i),l&&(u=this.patchOffset(o,u,i)),n.end=this.pathTo(o,u,i),n.path={steps:[],terminal:null};var f=n.start.steps.length,d;for(d=0;d<f&&this.equalStep(n.start.steps[d],n.end.steps[d]);d++)d===f-1?n.start.terminal===n.end.terminal&&(n.path.steps.push(n.start.steps[d]),n.range=!1):n.path.steps.push(n.start.steps[d]);n.start.steps=n.start.steps.slice(n.path.steps.length),n.end.steps=n.end.steps.slice(n.path.steps.length)}return n}fromNode(e,t,i){var n={range:!1,base:{},path:{},start:null,end:null};return typeof t=="string"?(n.base=this.parseComponent(t),n.spinePos=n.base.steps[1].index):typeof t=="object"&&(n.base=t),n.path=this.pathTo(e,null,i),n}filter(e,t){var i,n,s,o,a,u=!1;return e.nodeType===Zt?(u=!0,s=e.parentNode,i=e.parentNode.classList.contains(t)):(u=!1,i=e.classList.contains(t)),i&&u?(o=s.previousSibling,a=s.nextSibling,o&&o.nodeType===Zt?n=o:a&&a.nodeType===Zt&&(n=a),n||e):i&&!u?!1:e}patchOffset(e,t,i){if(e.nodeType!=Zt)throw new Error("Anchor must be a text node");var n=e,s=t;for(e.parentNode.classList.contains(i)&&(n=e.parentNode);n.previousSibling;){if(n.previousSibling.nodeType===Jr)if(n.previousSibling.classList.contains(i))s+=n.previousSibling.textContent.length;else break;else s+=n.previousSibling.textContent.length;n=n.previousSibling}return s}normalizedMap(e,t,i){var n={},s=-1,o,a=e.length,u,l;for(o=0;o<a;o++)u=e[o].nodeType,u===Jr&&e[o].classList.contains(i)&&(u=Zt),o>0&&u===Zt&&l===Zt?n[o]=s:t===u&&(s=s+1,n[o]=s),l=u;return n}position(e){var t,i;return e.nodeType===Jr?(t=e.parentNode.children,t||(t=_o(e.parentNode)),i=Array.prototype.indexOf.call(t,e)):(t=this.textNodes(e.parentNode),i=t.indexOf(e)),i}filteredPosition(e,t){var i,n,s;return e.nodeType===Jr?(i=e.parentNode.children,s=this.normalizedMap(i,Jr,t)):(i=e.parentNode.childNodes,e.parentNode.classList.contains(t)&&(e=e.parentNode,i=e.parentNode.childNodes),s=this.normalizedMap(i,Zt,t)),n=Array.prototype.indexOf.call(i,e),s[n]}stepsToXpath(e){var t=[".","*"];return e.forEach(function(i){var n=i.index+1;i.id?t.push("*[position()="+n+" and @id='"+i.id+"']"):i.type==="text"?t.push("text()["+n+"]"):t.push("*["+n+"]")}),t.join("/")}stepsToQuerySelector(e){var t=["html"];return e.forEach(function(i){var n=i.index+1;i.id?t.push("#"+i.id):i.type==="text"||t.push("*:nth-child("+n+")")}),t.join(">")}textNodes(e,t){return Array.prototype.slice.call(e.childNodes).filter(function(i){return i.nodeType===Zt?!0:!!(t&&i.classList.contains(t))})}walkToNode(e,t,i){var n=t||document,s=n.documentElement,o,a,u=e.length,l;for(l=0;l<u&&(a=e[l],a.type==="element"?a.id?s=n.getElementById(a.id):(o=s.children||_o(s),s=o[a.index]):a.type==="text"&&(s=this.textNodes(s,i)[a.index]),!!s);l++);return s}findNode(e,t,i){var n=t||document,s,o;return!i&&typeof n.evaluate<"u"?(o=this.stepsToXpath(e),s=n.evaluate(o,n,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):i?s=this.walkToNode(e,n,i):s=this.walkToNode(e,n),s}fixMiss(e,t,i,n){var s=this.findNode(e.slice(0,-1),i,n),o=s.childNodes,a=this.normalizedMap(o,Zt,n),u,l,f=e[e.length-1].index;for(let d in a){if(!a.hasOwnProperty(d))return;if(a[d]===f)if(u=o[d],l=u.textContent.length,t>l)t=t-l;else{u.nodeType===Jr?s=u.childNodes[0]:s=u;break}}return{container:s,offset:t}}toRange(e,t){var i=e||document,n,s,o,a,u,l=this,f,d,v=t?i.querySelector("."+t)!=null:!1,m;if(typeof i.createRange<"u"?n=i.createRange():n=new Nf,l.range?(s=l.start,f=l.path.steps.concat(s.steps),a=this.findNode(f,i,v?t:null),o=l.end,d=l.path.steps.concat(o.steps),u=this.findNode(d,i,v?t:null)):(s=l.path,f=l.path.steps,a=this.findNode(l.path.steps,i,v?t:null)),a)try{s.terminal.offset!=null?n.setStart(a,s.terminal.offset):n.setStart(a,0)}catch{m=this.fixMiss(f,s.terminal.offset,i,v?t:null),n.setStart(m.container,m.offset)}else return console.log("No startContainer found for",this.toString()),null;if(u)try{o.terminal.offset!=null?n.setEnd(u,o.terminal.offset):n.setEnd(u,0)}catch{m=this.fixMiss(d,l.end.terminal.offset,i,v?t:null),n.setEnd(m.container,m.offset)}return n}isCfiString(e){return typeof e=="string"&&e.indexOf("epubcfi(")===0&&e[e.length-1]===")"}generateChapterComponent(e,t,i){var n=parseInt(t),s=(e+1)*2,o="/"+s+"/";return o+=(n+1)*2,i&&(o+="["+i+"]"),o}collapse(e){this.range&&(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class tr{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if(typeof arguments[e]=="function")this.hooks.push(arguments[e]);else for(var t=0;t<arguments[e].length;++t)this.hooks.push(arguments[e][t])}deregister(e){let t;for(let i=0;i<this.hooks.length;i++)if(t=this.hooks[i],t===e){this.hooks.splice(i,1);break}}trigger(){var e=arguments,t=this.context,i=[];return this.hooks.forEach(function(n){try{var s=n.apply(t,e)}catch(o){console.log(o)}s&&typeof s.then=="function"&&i.push(s)}),Promise.all(i)}list(){return this.hooks}clear(){return this.hooks=[]}}function kf(r,e){var t,i,n=e.url,s=n.indexOf("://")>-1;r&&(i=lt(r,"head"),t=lt(i,"base"),t||(t=r.createElement("base"),i.insertBefore(t,i.firstChild)),!s&&window&&window.location&&(n=window.location.origin+n),t.setAttribute("href",n))}function Up(r,e){var t,i,n=e.canonical;r&&(t=lt(r,"head"),i=lt(t,"link[rel='canonical']"),i?i.setAttribute("href",n):(i=r.createElement("link"),i.setAttribute("rel","canonical"),i.setAttribute("href",n),t.appendChild(i)))}function qp(r,e){var t,i,n=e.idref;r&&(t=lt(r,"head"),i=lt(t,"link[property='dc.identifier']"),i?i.setAttribute("content",n):(i=r.createElement("meta"),i.setAttribute("name","dc.identifier"),i.setAttribute("content",n),t.appendChild(i)))}function jp(r,e){var t=r.querySelectorAll("a[href]");if(t.length)for(var i=lt(r.ownerDocument,"base"),n=i?i.getAttribute("href"):void 0,s=(function(a){var u=a.getAttribute("href");if(u.indexOf("mailto:")!==0){var l=u.indexOf("://")>-1;if(l)a.setAttribute("target","_blank");else{var f;try{f=new er(u,n)}catch{}a.onclick=function(){return f&&f.hash?e(f.Path.path+f.hash):e(f?f.Path.path:u),!1}}}}).bind(this),o=0;o<t.length;o++)s(t[o])}function mu(r,e,t){return e.forEach(function(i,n){i&&t[n]&&(i=i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),r=r.replace(new RegExp(i,"g"),t[n]))}),r}function Ui(r,e,t,i){var n=typeof window<"u"?window.URL:!1,s=n?"blob":"arraybuffer",o=new Ke,a=new XMLHttpRequest,u=XMLHttpRequest.prototype,l;"overrideMimeType"in u||Object.defineProperty(u,"overrideMimeType",{value:function(){}}),t&&(a.withCredentials=!0),a.onreadystatechange=d,a.onerror=f,a.open("GET",r,!0);for(l in i)a.setRequestHeader(l,i[l]);e=="json"&&a.setRequestHeader("Accept","application/json"),e||(e=new xr(r).extension),e=="blob"&&(a.responseType=s),zi(e)&&a.overrideMimeType("text/xml"),e=="binary"&&(a.responseType="arraybuffer"),a.send();function f(v){o.reject(v)}function d(){if(this.readyState===XMLHttpRequest.DONE){var v=!1;if((this.responseType===""||this.responseType==="document")&&(v=this.responseXML),this.status===200||this.status===0||v){var m;if(!this.response&&!v)return o.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),o.promise;if(this.status===403)return o.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),o.promise;v?m=this.responseXML:zi(e)?m=fr(this.response,"text/xml"):e=="xhtml"?m=fr(this.response,"application/xhtml+xml"):e=="html"||e=="htm"?m=fr(this.response,"text/html"):e=="json"?m=JSON.parse(this.response):e=="blob"?n?m=this.response:m=new Blob([this.response]):m=this.response,o.resolve(m)}else o.reject({status:this.status,message:this.response,stack:new Error().stack})}}return o.promise}class Wp{constructor(e,t){this.idref=e.idref,this.linear=e.linear==="yes",this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,t?this.hooks=t:(this.hooks={},this.hooks.serialize=new tr(this),this.hooks.content=new tr(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var t=e||this.request||Ui,i=new Ke,n=i.promise;return this.contents?i.resolve(this.contents):t(this.url).then((function(s){return this.document=s,this.contents=s.documentElement,this.hooks.content.trigger(this.document,this)}).bind(this)).then((function(){i.resolve(this.contents)}).bind(this)).catch(function(s){i.reject(s)}),n}base(){return kf(this.document,this)}render(e){var t=new Ke,i=t.promise;return this.output,this.load(e).then((function(n){var s=typeof navigator<"u"&&navigator.userAgent||"",o=s.indexOf("Trident")>=0,a;typeof XMLSerializer>"u"||o?a=wf.DOMParser:a=XMLSerializer;var u=new a;return this.output=u.serializeToString(n),this.output}).bind(this)).then((function(){return this.hooks.serialize.trigger(this.output,this)}).bind(this)).then((function(){t.resolve(this.output)}).bind(this)).catch(function(n){t.reject(n)}),i}find(e){var t=this,i=[],n=e.toLowerCase(),s=function(o){for(var a=o.textContent.toLowerCase(),u=t.document.createRange(),l,f,d=-1,v,m=150;f!=-1;)f=a.indexOf(n,d+1),f!=-1&&(u=t.document.createRange(),u.setStart(o,f),u.setEnd(o,f+n.length),l=t.cfiFromRange(u),o.textContent.length<m?v=o.textContent:(v=o.textContent.substring(f-m/2,f+m/2),v="..."+v+"..."),i.push({cfi:l,excerpt:v})),d=f};return An(t.document,function(o){s(o)}),i}search(e,t=5){if(typeof document.createTreeWalker>"u")return this.find(e);let i=[];const n=150,s=this,o=e.toLowerCase(),a=function(d){const x=d.reduce((w,p)=>w+p.textContent,"").toLowerCase().indexOf(o);if(x!=-1){const p=x+o.length;let g=0,y=0;if(x<d[0].length){let C;for(;g<d.length-1&&(y+=d[g].length,!(p<=y));)g+=1;let T=d[0],_=d[g],R=s.document.createRange();R.setStart(T,x);let O=d.slice(0,g).reduce((S,I)=>S+I.textContent.length,0);R.setEnd(_,O>p?p:p-O),C=s.cfiFromRange(R);let k=d.slice(0,g+1).reduce((S,I)=>S+I.textContent,"");k.length>n&&(k=k.substring(x-n/2,x+n/2),k="..."+k+"..."),i.push({cfi:C,excerpt:k})}}},u=document.createTreeWalker(s.document,NodeFilter.SHOW_TEXT,null,!1);let l,f=[];for(;l=u.nextNode();)f.push(l),f.length==t&&(a(f.slice(0,t)),f=f.slice(1,t));return f.length>0&&a(f),i}reconcileLayoutSettings(e){var t={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(i){var n=i.replace("rendition:",""),s=n.indexOf("-"),o,a;s!=-1&&(o=n.slice(0,s),a=n.slice(s+1),t[o]=a)}),t}cfiFromRange(e){return new Xe(e,this.cfiBase).toString()}cfiFromElement(e){return new Xe(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class Hp{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new tr,this.hooks.content=new tr,this.hooks.content.register(kf),this.hooks.content.register(Up),this.hooks.content.register(qp),this.epubcfi=new Xe,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,t,i){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((n,s)=>{var o=this.manifest[n.idref],a;n.index=s,n.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,n.index,n.id),n.href&&(n.url=t(n.href,!0),n.canonical=i(n.href)),o&&(n.href=o.href,n.url=t(n.href,!0),n.canonical=i(n.href),o.properties.length&&n.properties.push.apply(n.properties,o.properties)),n.linear==="yes"?(n.prev=(function(){let u=n.index;for(;u>0;){let l=this.get(u-1);if(l&&l.linear)return l;u-=1}}).bind(this),n.next=(function(){let u=n.index;for(;u<this.spineItems.length-1;){let l=this.get(u+1);if(l&&l.linear)return l;u+=1}}).bind(this)):(n.prev=function(){},n.next=function(){}),a=new Wp(n,this.hooks),this.append(a)}),this.loaded=!0}get(e){var t=0;if(typeof e>"u")for(;t<this.spineItems.length;){let i=this.spineItems[t];if(i&&i.linear)break;t+=1}else this.epubcfi.isCfiString(e)?t=new Xe(e).spinePos:typeof e=="number"||isNaN(e)===!1?t=e:typeof e=="string"&&e.indexOf("#")===0?t=this.spineById[e.substring(1)]:typeof e=="string"&&(e=e.split("#")[0],t=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[t]||null}append(e){var t=this.spineItems.length;return e.index=t,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=t,this.spineByHref[encodeURI(e.href)]=t,this.spineByHref[e.href]=t,this.spineById[e.idref]=t,t}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(t,i){t.index=i}),0}remove(e){var t=this.spineItems.indexOf(e);if(t>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(t,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let t=this.get(e);if(t&&t.linear)return t;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let t=this.get(e);if(t&&t.linear)return t;e-=1}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class Yo{constructor(e){this._q=[],this.context=e,this.tick=Go,this.running=!1,this.paused=!1}enqueue(){var e,t,i,n=[].shift.call(arguments),s=arguments;if(!n)throw new Error("No Task Provided");return typeof n=="function"?(e=new Ke,t=e.promise,i={task:n,args:s,deferred:e,promise:t}):i={promise:n},this._q.push(i),this.paused==!1&&!this.running&&this.run(),i.promise}dequeue(){var e,t,i;if(this._q.length&&!this.paused){if(e=this._q.shift(),t=e.task,t)return i=t.apply(this.context,e.args),i&&typeof i.then=="function"?i.then((function(){e.deferred.resolve.apply(this.context,arguments)}).bind(this),(function(){e.deferred.reject.apply(this.context,arguments)}).bind(this)):(e.deferred.resolve.apply(this.context,i),e.promise);if(e.promise)return e.promise}else return e=new Ke,e.deferred.resolve(),e.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new Ke),this.tick.call(window,()=>{this._q.length?this.dequeue().then((function(){this.run()}).bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then((function(){return this.running=void 0,this.flush()}).bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const Zn="0.3",ln=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],Ce={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class Lf{constructor(e,t,i){this.spine=e,this.request=t,this.pause=i||100,this.q=new Yo(this),this.epubcfi=new Xe,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each((function(t){t.linear&&this.q.enqueue(this.process.bind(this),t)}).bind(this)),this.q.run().then((function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}).bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then((function(t){var i=new Ke,n=this.parse(t,e.cfiBase);return this._locations=this._locations.concat(n),e.unload(),this.processingTimeout=setTimeout(()=>i.resolve(n),this.pause),i.promise}).bind(this))}parse(e,t,i){var n=[],s,o=e.ownerDocument,a=lt(o,"body"),u=0,l,f=i||this.break,d=function(v){var m=v.length,x,w=0;if(v.textContent.trim().length===0)return!1;for(u==0&&(s=this.createRange(),s.startContainer=v,s.startOffset=0),x=f-u,x>m&&(u+=m,w=m);w<m;)if(x=f-u,u===0&&(w+=1,s=this.createRange(),s.startContainer=v,s.startOffset=w),w+x>=m)u+=m-w,w=m;else{w+=x,s.endContainer=v,s.endOffset=w;let p=new Xe(s,t).toString();n.push(p),u=0}l=v};if(An(a,d.bind(this)),s&&s.startContainer&&l){s.endContainer=l,s.endOffset=l.length;let v=new Xe(s,t).toString();n.push(v),u=0}return n}generateFromWords(e,t,i){var n=e?new Xe(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each((function(s){s.linear&&(n?s.index>=n.spinePos&&this.q.enqueue(this.processWords.bind(this),s,t,n,i):this.q.enqueue(this.processWords.bind(this),s,t,n,i))}).bind(this)),this.q.run().then((function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}).bind(this))}processWords(e,t,i,n){return n&&this._locationsWords.length>=n?Promise.resolve():e.load(this.request).then((function(s){var o=new Ke,a=this.parseWords(s,e,t,i),u=n-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(a.length>=n?a.slice(0,u):a),e.unload(),this.processingTimeout=setTimeout(()=>o.resolve(a),this.pause),o.promise}).bind(this))}countWords(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,`
`),e.split(" ").length}parseWords(e,t,i,n){var s=t.cfiBase,o=[],a=e.ownerDocument,u=lt(a,"body"),l=i,f=n?n.spinePos!==t.index:!0,d;n&&t.index===n.spinePos&&(d=n.findNode(n.range?n.path.steps.concat(n.start.steps):n.path.steps,e.ownerDocument));var v=function(m){if(!f)if(m===d)f=!0;else return!1;if(m.textContent.length<10&&m.textContent.trim().length===0)return!1;var x=this.countWords(m.textContent),w,p=0;if(x===0)return!1;for(w=l-this._wordCounter,w>x&&(this._wordCounter+=x,p=x);p<x;)if(w=l-this._wordCounter,p+w>=x)this._wordCounter+=x-p,p=x;else{p+=w;let g=new Xe(m,s);o.push({cfi:g.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return An(u,v.bind(this)),o}locationFromCfi(e){let t;return Xe.prototype.isCfiString(e)&&(e=new Xe(e)),this._locations.length===0?-1:(t=fi(e,this._locations,this.epubcfi.compare),t>this.total?this.total:t)}percentageFromCfi(e){if(this._locations.length===0)return null;var t=this.locationFromCfi(e);return this.percentageFromLocation(t)}percentageFromLocation(e){return!e||!this.total?0:e/this.total}cfiFromLocation(e){var t=-1;return typeof e!="number"&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(t=this._locations[e]),t}cfiFromPercentage(e){let t;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){let i=new Xe(this._locations[this.total]);return i.collapse(),i.toString()}return t=Math.ceil(this.total*e),this.cfiFromLocation(t)}load(e){return typeof e=="string"?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var t;if(typeof e=="string")this._currentCfi=e;else if(typeof e=="number")this._current=e;else return;this._locations.length!==0&&(typeof e=="string"?(t=this.locationFromCfi(e),this._current=t):t=e,this.emit(Ce.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(t)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}hr(Lf.prototype);class Vp{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var t;if(!e)throw new Error("Container File Not Found");if(t=lt(e,"rootfile"),!t)throw new Error("No RootFile Found");this.packagePath=t.getAttribute("full-path"),this.directory=Tr.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class vu{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var t,i,n;if(!e)throw new Error("Package File Not Found");if(t=lt(e,"metadata"),!t)throw new Error("No Metadata Found");if(i=lt(e,"manifest"),!i)throw new Error("No Manifest Found");if(n=lt(e,"spine"),!n)throw new Error("No Spine Found");return this.manifest=this.parseManifest(i),this.navPath=this.findNavPath(i),this.ncxPath=this.findNcxPath(i,n),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=Af(n),this.spine=this.parseSpine(n,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(t),this.metadata.direction=n.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var t={};return t.title=this.getElementText(e,"title"),t.creator=this.getElementText(e,"creator"),t.description=this.getElementText(e,"description"),t.pubdate=this.getElementText(e,"date"),t.publisher=this.getElementText(e,"publisher"),t.identifier=this.getElementText(e,"identifier"),t.language=this.getElementText(e,"language"),t.rights=this.getElementText(e,"rights"),t.modified_date=this.getPropertyText(e,"dcterms:modified"),t.layout=this.getPropertyText(e,"rendition:layout"),t.orientation=this.getPropertyText(e,"rendition:orientation"),t.flow=this.getPropertyText(e,"rendition:flow"),t.viewport=this.getPropertyText(e,"rendition:viewport"),t.media_active_class=this.getPropertyText(e,"media:active-class"),t.spread=this.getPropertyText(e,"rendition:spread"),t}parseManifest(e){var t={},i=Er(e,"item"),n=Array.prototype.slice.call(i);return n.forEach(function(s){var o=s.getAttribute("id"),a=s.getAttribute("href")||"",u=s.getAttribute("media-type")||"",l=s.getAttribute("media-overlay")||"",f=s.getAttribute("properties")||"";t[o]={href:a,type:u,overlay:l,properties:f.length?f.split(" "):[]}}),t}parseSpine(e,t){var i=[],n=Er(e,"itemref"),s=Array.prototype.slice.call(n);return s.forEach(function(o,a){var u=o.getAttribute("idref"),l=o.getAttribute("properties")||"",f=l.length?l.split(" "):[],d={id:o.getAttribute("id"),idref:u,linear:o.getAttribute("linear")||"yes",properties:f,index:a};i.push(d)}),i}findUniqueIdentifier(e){var t=e.documentElement.getAttribute("unique-identifier");if(!t)return"";var i=e.getElementById(t);return i&&i.localName==="identifier"&&i.namespaceURI==="http://purl.org/dc/elements/1.1/"&&i.childNodes.length>0?i.childNodes[0].nodeValue.trim():""}findNavPath(e){var t=ii(e,"item",{properties:"nav"});return t?t.getAttribute("href"):!1}findNcxPath(e,t){var i=ii(e,"item",{"media-type":"application/x-dtbncx+xml"}),n;return i||(n=t.getAttribute("toc"),n&&(i=e.querySelector(`#${n}`))),i?i.getAttribute("href"):!1}findCoverPath(e){var t=lt(e,"package");t.getAttribute("version");var i=ii(e,"item",{properties:"cover-image"});if(i)return i.getAttribute("href");var n=ii(e,"meta",{name:"cover"});if(n){var s=n.getAttribute("content"),o=e.getElementById(s);return o?o.getAttribute("href"):""}else return!1}getElementText(e,t){var i=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",t),n;return!i||i.length===0?"":(n=i[0],n.childNodes.length?n.childNodes[0].nodeValue:"")}getPropertyText(e,t){var i=ii(e,"meta",{property:t});return i&&i.childNodes.length?i.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let t=e.readingOrder||e.spine;return this.spine=t.map((i,n)=>(i.index=n,i.linear=i.linear||"yes",i)),e.resources.forEach((i,n)=>{this.manifest[n]=i,i.rel&&i.rel[0]==="cover"&&(this.coverPath=i.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((i,n)=>(i.label=i.title,i)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class Ps{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let t=e.nodeType,i,n;t&&(i=lt(e,"html"),n=lt(e,"ncx")),t?i?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):n&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var t,i=0;i<e.length;i++)t=e[i],t.href&&(this.tocByHref[t.href]=i),t.id&&(this.tocById[t.id]=i),this.length++,t.subitems.length&&this.unpack(t.subitems)}get(e){var t;return e?(e.indexOf("#")===0?t=this.tocById[e.substring(1)]:e in this.tocByHref&&(t=this.tocByHref[e]),this.getByIndex(e,t,this.toc)):this.toc}getByIndex(e,t,i){if(i.length===0)return;const n=i[t];if(n&&(e===n.id||e===n.href))return n;{let s;for(let o=0;o<i.length&&(s=this.getByIndex(e,t,i[o].subitems),!s);++o);return s}}landmark(e){var t;return e?(t=this.landmarksByType[e],this.landmarks[t]):this.landmarks}parseNav(e){var t=Dn(e,"nav","toc"),i=[];if(!t)return i;let n=ni(t,"ol",!0);return n&&(i=this.parseNavList(n)),i}parseNavList(e,t){const i=[];if(!e||!e.children)return i;for(let n=0;n<e.children.length;n++){const s=this.navItem(e.children[n],t);s&&i.push(s)}return i}navItem(e,t){let i=e.getAttribute("id")||void 0,n=ni(e,"a",!0)||ni(e,"span",!0);if(!n)return;let s=n.getAttribute("href")||"";i||(i=s);let o=n.textContent||"",a=[],u=ni(e,"ol",!0);return u&&(a=this.parseNavList(u,i)),{id:i,href:s,label:o,subitems:a,parent:t}}parseLandmarks(e){var t=Dn(e,"nav","landmarks"),i=t?Er(t,"li"):[],n=i.length,s,o=[],a;if(!i||n===0)return o;for(s=0;s<n;++s)a=this.landmarkItem(i[s]),a&&(o.push(a),this.landmarksByType[a.type]=s);return o}landmarkItem(e){let t=ni(e,"a",!0);if(!t)return;let i=t.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,n=t.getAttribute("href")||"",s=t.textContent||"";return{href:n,label:s,type:i}}parseNcx(e){var t=Er(e,"navPoint"),i=t.length,n,s={},o=[],a,u;if(!t||i===0)return o;for(n=0;n<i;++n)a=this.ncxItem(t[n]),s[a.id]=a,a.parent?(u=s[a.parent],u.subitems.push(a)):o.push(a);return o}ncxItem(e){var t=e.getAttribute("id")||!1,i=lt(e,"content"),n=i.getAttribute("src"),s=lt(e,"navLabel"),o=s.textContent?s.textContent:"",a=[],u=e.parentNode,l;return u&&(u.nodeName==="navPoint"||u.nodeName.split(":").slice(-1)[0]==="navPoint")&&(l=u.getAttribute("id")),{id:t,href:n,label:o,subitems:a,parent:l}}load(e){return e.map(t=>(t.label=t.title,t.subitems=t.children?this.load(t.children):[],t))}forEach(e){return this.toc.forEach(e)}}var wi={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},$p=(function(){var r,e,t,i,n={};for(r in wi)if(wi.hasOwnProperty(r)){for(e in wi[r])if(wi[r].hasOwnProperty(e))if(t=wi[r][e],typeof t=="string")n[t]=r+"/"+e;else for(i=0;i<t.length;i++)n[t[i]]=r+"/"+e}return n})(),Zp="text/plain";function Gp(r){return r&&$p[r.split(".").pop().toLowerCase()]||Zp}const ui={lookup:Gp};class Kp{constructor(e,t){this.settings={replacements:t&&t.replacements||"base64",archive:t&&t.archive,resolver:t&&t.resolver,request:t&&t.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(t){return e[t]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if(e.type==="application/xhtml+xml"||e.type==="text/html")return!0}),this.assets=this.resources.filter(function(e){if(e.type!=="application/xhtml+xml"&&e.type!=="text/html")return!0}),this.css=this.resources.filter(function(e){if(e.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map((function(e){return e.href}).bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var t=new er(e),i=ui.lookup(t.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(e,"blob").then(n=>Of(n)).then(n=>wo(n,i)):this.settings.request(e,"blob").then(n=>Cn(n,i))}replacements(){if(this.settings.replacements==="none")return new Promise((function(t){t(this.urls)}).bind(this));var e=this.urls.map(t=>{var i=this.settings.resolver(t);return this.createUrl(i).catch(n=>(console.error(n),null))});return Promise.all(e).then(t=>(this.replacementUrls=t.filter(i=>typeof i=="string"),t))}replaceCss(e,t){var i=[];return e=e||this.settings.archive,t=t||this.settings.resolver,this.cssUrls.forEach((function(n){var s=this.createCssFile(n,e,t).then((function(o){var a=this.urls.indexOf(n);a>-1&&(this.replacementUrls[a]=o)}).bind(this));i.push(s)}).bind(this)),Promise.all(i)}createCssFile(e){var t;if(Tr.isAbsolute(e))return new Promise(function(o){o()});var i=this.settings.resolver(e),n;this.settings.archive?n=this.settings.archive.getText(i):n=this.settings.request(i,"text");var s=this.urls.map(o=>{var a=this.settings.resolver(o),u=new xr(i).relative(a);return u});return n?n.then(o=>(o=mu(o,s,this.replacementUrls),this.settings.replacements==="base64"?t=wo(o,"text/css"):t=Cn(o,"text/css"),t),o=>new Promise(function(a){a()})):new Promise(function(o){o()})}relativeTo(e,t){return t=t||this.settings.resolver,this.urls.map((function(i){var n=t(i),s=new xr(e).relative(n);return s}).bind(this))}get(e){var t=this.urls.indexOf(e);if(t!==-1)return this.replacementUrls.length?new Promise((function(i,n){i(this.replacementUrls[t])}).bind(this)):this.createUrl(e)}substitute(e,t){var i;return t?i=this.relativeTo(t):i=this.urls,mu(e,i,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class Fs{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new Xe,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var t=lt(e,"html"),i=lt(e,"ncx");if(t)return this.parseNav(e);if(i)return this.parseNcx(e)}parseNav(e){var t=Dn(e,"nav","page-list"),i=t?Er(t,"li"):[],n=i.length,s,o=[],a;if(!i||n===0)return o;for(s=0;s<n;++s)a=this.item(i[s]),o.push(a);return o}parseNcx(e){var t=[],i=0,n,s,o,a=0;if(s=lt(e,"pageList"),!s||(o=Er(s,"pageTarget"),a=o.length,!o||o.length===0))return t;for(i=0;i<a;++i)n=this.ncxItem(o[i]),t.push(n);return t}ncxItem(e){var t=lt(e,"navLabel"),i=lt(t,"text"),n=i.textContent,s=lt(e,"content"),o=s.getAttribute("src"),a=parseInt(n,10);return{href:o,page:a}}item(e){var t=lt(e,"a"),i=t.getAttribute("href")||"",n=t.textContent||"",s=parseInt(n),o=i.indexOf("epubcfi"),a,u,l;return o!=-1?(a=i.split("#"),u=a[0],l=a.length>1?a[1]:!1,{cfi:l,href:i,packageUrl:u,page:s}):{href:i,page:s}}process(e){e.forEach(function(t){this.pages.push(t.page),t.cfi&&this.locations.push(t.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var t=-1;if(this.locations.length===0)return-1;var i=_n(e,this.locations,this.epubcfi.compare);return i!=-1?t=this.pages[i]:(i=fi(e,this.locations,this.epubcfi.compare),t=i-1>=0?this.pages[i-1]:this.pages[0],t!==void 0||(t=-1)),t}cfiFromPage(e){var t=-1;typeof e!="number"&&(e=parseInt(e));var i=this.pages.indexOf(e);return i!=-1&&(t=this.locations[i]),t}pageFromPercentage(e){var t=Math.round(this.totalPages*e);return t}percentageFromPage(e){var t=(e-this.firstPage)/this.totalPages;return Math.round(t*1e3)/1e3}percentageFromCfi(e){var t=this.pageFromCfi(e),i=this.percentageFromPage(t);return i}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class If{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread=e.spread!=="none",this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,e.flow==="scrolled"||e.flow==="scrolled-continuous"||e.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return typeof e<"u"&&(e==="scrolled"||e==="scrolled-continuous"||e==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(e,t){return e&&(this._spread=e!=="none",this.update({spread:this._spread})),t>=0&&(this._minSpreadWidth=t),this._spread}calculate(e,t,i){var n=1,s=i||0,o=e,a=t,u=Math.floor(o/12),l,f,d,v;this._spread&&o>=this._minSpreadWidth?n=2:n=1,this.name==="reflowable"&&this._flow==="paginated"&&!(i>=0)&&(s=u%2===0?u:u-1),this.name==="pre-paginated"&&(s=0),n>1?(l=o/n-s,d=l+s):(l=o,d=o),this.name==="pre-paginated"&&n>1&&(o=l),f=l*n+s,v=o,this.width=o,this.height=a,this.spreadWidth=f,this.pageWidth=d,this.delta=v,this.columnWidth=l,this.gap=s,this.divisor=n,this.update({width:o,height:a,spreadWidth:f,pageWidth:d,delta:v,columnWidth:l,gap:s,divisor:n})}format(e,t,i){var n;return this.name==="pre-paginated"?n=e.fit(this.columnWidth,this.height,t):this._flow==="paginated"?n=e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):i&&i==="horizontal"?n=e.size(null,this.height):n=e.size(this.width,null),n}count(e,t){let i,n;return this.name==="pre-paginated"?(i=1,n=1):this._flow==="paginated"?(t=t||this.delta,i=Math.ceil(e/t),n=i*this.divisor):(t=t||this.height,i=Math.ceil(e/t),n=i),{spreads:i,pages:n}}update(e){if(Object.keys(e).forEach(t=>{this.props[t]===e[t]&&delete e[t]}),Object.keys(e).length>0){let t=St(this.props,e);this.emit(Ce.LAYOUT.UPDATED,t,e)}}}hr(If.prototype);class Xp{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(e){if(e){if(typeof e=="string")return this.registerUrl("default",e);if(typeof e=="object")return this.registerRules("default",e)}}registerThemes(e){for(var t in e)e.hasOwnProperty(t)&&(typeof e[t]=="string"?this.registerUrl(t,e[t]):this.registerRules(t,e[t]))}registerCss(e,t){this._themes[e]={serialized:t},(this._injected[e]||e=="default")&&this.update(e)}registerUrl(e,t){var i=new er(t);this._themes[e]={url:i.toString()},(this._injected[e]||e=="default")&&this.update(e)}registerRules(e,t){this._themes[e]={rules:t},(this._injected[e]||e=="default")&&this.update(e)}select(e){var t=this._current,i;this._current=e,this.update(e),i=this.rendition.getContents(),i.forEach(n=>{n.removeClass(t),n.addClass(e)})}update(e){var t=this.rendition.getContents();t.forEach(i=>{this.add(e,i)})}inject(e){var t=[],i=this._themes,n;for(var s in i)i.hasOwnProperty(s)&&(s===this._current||s==="default")&&(n=i[s],(n.rules&&Object.keys(n.rules).length>0||n.url&&t.indexOf(n.url)===-1)&&this.add(s,e),this._injected.push(s));this._current!="default"&&e.addClass(this._current)}add(e,t){var i=this._themes[e];!i||!t||(i.url?t.addStylesheet(i.url):i.serialized?(t.addStylesheetCss(i.serialized,e),i.injected=!0):i.rules&&(t.addStylesheetRules(i.rules,e),i.injected=!0))}override(e,t,i){var n=this.rendition.getContents();this._overrides[e]={value:t,priority:i===!0},n.forEach(s=>{s.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var t=this.rendition.getContents();delete this._overrides[e],t.forEach(i=>{i.css(e)})}overrides(e){var t=this._overrides;for(var i in t)t.hasOwnProperty(i)&&e.css(i,t[i].value,t[i].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class Sn{constructor(e,t,i,n=!1){this.layout=e,this.horizontal=i==="horizontal",this.direction=t||"ltr",this._dev=n}section(e){var t=this.findRanges(e),i=this.rangeListToCfiList(e.section.cfiBase,t);return i}page(e,t,i,n){var s=e&&e.document?e.document.body:!1,o;if(s){if(o=this.rangePairToCfiPair(t,{start:this.findStart(s,i,n),end:this.findEnd(s,i,n)}),this._dev===!0){let a=e.document,u=new Xe(o.start).toRange(a),l=new Xe(o.end).toRange(a),f=a.defaultView.getSelection(),d=a.createRange();f.removeAllRanges(),d.setStart(u.startContainer,u.startOffset),d.setEnd(l.endContainer,l.endOffset),f.addRange(d)}return o}}walk(e,t){if(!(e&&e.nodeType===Node.TEXT_NODE)){var i={acceptNode:function(u){return u.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},n=i.acceptNode;n.acceptNode=i.acceptNode;for(var s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n,!1),o,a;(o=s.nextNode())&&(a=t(o),!a););return a}}findRanges(e){for(var t=[],i=e.contents.scrollWidth(),n=Math.ceil(i/this.layout.spreadWidth),s=n*this.layout.divisor,o=this.layout.columnWidth,a=this.layout.gap,u,l,f=0;f<s.pages;f++)u=(o+a)*f,l=o*(f+1)+a*f,t.push({start:this.findStart(e.document.body,u,l),end:this.findEnd(e.document.body,u,l)});return t}findStart(e,t,i){for(var n=[e],s,o,a=e;n.length;)if(s=n.shift(),o=this.walk(s,u=>{var l,f,d,v,m;if(m=bo(u),this.horizontal&&this.direction==="ltr"){if(l=this.horizontal?m.left:m.top,f=this.horizontal?m.right:m.bottom,l>=t&&l<=i)return u;if(f>t)return u;a=u,n.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(l=m.left,f=m.right,f<=i&&f>=t)return u;if(l<i)return u;a=u,n.push(u)}else{if(d=m.top,v=m.bottom,d>=t&&d<=i)return u;if(v>t)return u;a=u,n.push(u)}}),o)return this.findTextStartRange(o,t,i);return this.findTextStartRange(a,t,i)}findEnd(e,t,i){for(var n=[e],s,o=e,a;n.length;)if(s=n.shift(),a=this.walk(s,u=>{var l,f,d,v,m;if(m=bo(u),this.horizontal&&this.direction==="ltr"){if(l=Math.round(m.left),f=Math.round(m.right),l>i&&o)return o;if(f>i)return u;o=u,n.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(l=Math.round(this.horizontal?m.left:m.top),f=Math.round(this.horizontal?m.right:m.bottom),f<t&&o)return o;if(l<t)return u;o=u,n.push(u)}else{if(d=Math.round(m.top),v=Math.round(m.bottom),d>i&&o)return o;if(v>i)return u;o=u,n.push(u)}}),a)return this.findTextEndRange(a,t,i);return this.findTextEndRange(o,t,i)}findTextStartRange(e,t,i){for(var n=this.splitTextNodeIntoRanges(e),s,o,a,u,l,f=0;f<n.length;f++)if(s=n[f],o=s.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(a=o.left,a>=t)return s}else if(this.horizontal&&this.direction==="rtl"){if(l=o.right,l<=i)return s}else if(u=o.top,u>=t)return s;return n[0]}findTextEndRange(e,t,i){for(var n=this.splitTextNodeIntoRanges(e),s,o,a,u,l,f,d,v=0;v<n.length;v++){if(o=n[v],a=o.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(u=a.left,l=a.right,u>i&&s)return s;if(l>i)return o}else if(this.horizontal&&this.direction==="rtl"){if(u=a.left,l=a.right,l<t&&s)return s;if(u<t)return o}else{if(f=a.top,d=a.bottom,f>i&&s)return s;if(d>i)return o}s=o}return n[n.length-1]}splitTextNodeIntoRanges(e,t){var i=[],n=e.textContent||"",s=n.trim(),o,a=e.ownerDocument,u=t||" ",l=s.indexOf(u);if(l===-1||e.nodeType!=Node.TEXT_NODE)return o=a.createRange(),o.selectNodeContents(e),[o];for(o=a.createRange(),o.setStart(e,0),o.setEnd(e,l),i.push(o),o=!1;l!=-1;)l=s.indexOf(u,l+1),l>0&&(o&&(o.setEnd(e,l),i.push(o)),o=a.createRange(),o.setStart(e,l+1));return o&&(o.setEnd(e,s.length),i.push(o)),i}rangePairToCfiPair(e,t){var i=t.start,n=t.end;i.collapse(!0),n.collapse(!1);let s=new Xe(i,e).toString(),o=new Xe(n,e).toString();return{start:s,end:o}}rangeListToCfiList(e,t){for(var i=[],n,s=0;s<t.length;s++)n=this.rangePairToCfiPair(e,t[s]),i.push(n);return i}axis(e){return e&&(this.horizontal=e==="horizontal"),this.horizontal}}const Bf=typeof navigator<"u",Yp=Bf&&/Chrome/.test(navigator.userAgent),yu=Bf&&!Yp&&/AppleWebKit/.test(navigator.userAgent),Jp=1;class Jo{constructor(e,t,i,n){this.epubcfi=new Xe,this.document=e,this.documentElement=this.document.documentElement,this.content=t||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=n||0,this.cfiBase=i||"",this.epubReadingSystem("epub.js",Zn),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return ln}width(e){var t=this.content;return e&&mt(e)&&(e=e+"px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}height(e){var t=this.content;return e&&mt(e)&&(e=e+"px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}contentWidth(e){var t=this.content||this.document.body;return e&&mt(e)&&(e=e+"px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}contentHeight(e){var t=this.content||this.document.body;return e&&mt(e)&&(e=e+"px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}textWidth(){let e,t,i=this.document.createRange(),n=this.content||this.document.body,s=En(n);return i.selectNodeContents(n),e=i.getBoundingClientRect(),t=e.width,s&&s.width&&(t+=s.width),Math.round(t)}textHeight(){let e,t,i=this.document.createRange(),n=this.content||this.document.body;return i.selectNodeContents(n),e=i.getBoundingClientRect(),t=e.bottom,Math.round(t)}scrollWidth(){var e=this.documentElement.scrollWidth;return e}scrollHeight(){var e=this.documentElement.scrollHeight;return e}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,t,i){var n=this.content||this.document.body;return t?n.style.setProperty(e,t,i?"important":""):n.style.removeProperty(e),this.window.getComputedStyle(n)[e]}viewport(e){var t=this.document.querySelector("meta[name='viewport']"),i={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},n=[],s={};if(t&&t.hasAttribute("content")){let o=t.getAttribute("content"),a=o.match(/width\s*=\s*([^,]*)/),u=o.match(/height\s*=\s*([^,]*)/),l=o.match(/initial-scale\s*=\s*([^,]*)/),f=o.match(/minimum-scale\s*=\s*([^,]*)/),d=o.match(/maximum-scale\s*=\s*([^,]*)/),v=o.match(/user-scalable\s*=\s*([^,]*)/);a&&a.length&&typeof a[1]<"u"&&(i.width=a[1]),u&&u.length&&typeof u[1]<"u"&&(i.height=u[1]),l&&l.length&&typeof l[1]<"u"&&(i.scale=l[1]),f&&f.length&&typeof f[1]<"u"&&(i.minimum=f[1]),d&&d.length&&typeof d[1]<"u"&&(i.maximum=d[1]),v&&v.length&&typeof v[1]<"u"&&(i.scalable=v[1])}return s=Cf(e||{},i),e&&(s.width&&n.push("width="+s.width),s.height&&n.push("height="+s.height),s.scale&&n.push("initial-scale="+s.scale),s.scalable==="no"?(n.push("minimum-scale="+s.scale),n.push("maximum-scale="+s.scale),n.push("user-scalable="+s.scalable)):(s.scalable&&n.push("user-scalable="+s.scalable),s.minimum&&n.push("minimum-scale="+s.minimum),s.maximum&&n.push("minimum-scale="+s.maximum)),t||(t=this.document.createElement("meta"),t.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(t)),t.setAttribute("content",n.join(", ")),this.window.scrollTo(0,0)),s}expand(){this.emit(Ce.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),t=this.textHeight();(e!=this._size.width||t!=this._size.height)&&(this._size={width:e,height:t},this.onResize&&this.onResize(this._size),this.emit(Ce.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,t=(function(a){a.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}).bind(this),i=0;i<e.length;i+=1){var n;try{n=e[i].cssRules}catch{return}if(!n)return;for(var s=0;s<n.length;s+=1)if(n[s].media){var o=this.window.matchMedia(n[s].media.mediaText);o.addListener(t)}}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(t=>{this.resizeCheck()});let e={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,e)}imageLoadListeners(){for(var e=this.document.querySelectorAll("img"),t,i=0;i<e.length;i++)t=e[i],typeof t.naturalWidth<"u"&&t.naturalWidth===0&&(t.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then((function(){this.resizeCheck()}).bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,t){var i,n={left:0,top:0};if(!this.document)return n;if(this.epubcfi.isCfiString(e)){let s=new Xe(e).toRange(this.document,t);if(s){try{if(!s.endContainer||s.startContainer==s.endContainer&&s.startOffset==s.endOffset){let o=s.startContainer.textContent.indexOf(" ",s.startOffset);o==-1&&(o=s.startContainer.textContent.length),s.setEnd(s.startContainer,o)}}catch(o){console.error("setting end offset to start container length failed",o)}if(s.startContainer.nodeType===Node.ELEMENT_NODE)i=s.startContainer.getBoundingClientRect(),n.left=i.left,n.top=i.top;else if(yu){let o=s.startContainer,a=new Range;try{o.nodeType===Jp?i=o.getBoundingClientRect():s.startOffset+2<o.length?(a.setStart(o,s.startOffset),a.setEnd(o,s.startOffset+2),i=a.getBoundingClientRect()):s.startOffset-2>0?(a.setStart(o,s.startOffset-2),a.setEnd(o,s.startOffset),i=a.getBoundingClientRect()):i=o.parentNode.getBoundingClientRect()}catch(u){console.error(u,u.stack)}}else i=s.getBoundingClientRect()}}else if(typeof e=="string"&&e.indexOf("#")>-1){let s=e.substring(e.indexOf("#")+1),o=this.document.getElementById(s);if(o)if(yu){let a=new Range;a.selectNode(o),i=a.getBoundingClientRect()}else i=o.getBoundingClientRect()}return i&&(n.left=i.left,n.top=i.top),n}addStylesheet(e){return new Promise((function(t,i){var n,s=!1;if(!this.document){t(!1);return}if(n=this.document.querySelector("link[href='"+e+"']"),n){t(!0);return}n=this.document.createElement("link"),n.type="text/css",n.rel="stylesheet",n.href=e,n.onload=n.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(()=>{t(!0)},1))},this.document.head.appendChild(n)}).bind(this))}_getStylesheetNode(e){var t;return e="epubjs-inserted-css-"+(e||""),this.document?(t=this.document.getElementById(e),t||(t=this.document.createElement("style"),t.id=e,this.document.head.appendChild(t)),t):!1}addStylesheetCss(e,t){if(!this.document||!e)return!1;var i;return i=this._getStylesheetNode(t),i.innerHTML=e,!0}addStylesheetRules(e,t){var i;if(!(!this.document||!e||e.length===0))if(i=this._getStylesheetNode(t).sheet,Object.prototype.toString.call(e)==="[object Array]")for(var n=0,s=e.length;n<s;n++){var o=1,a=e[n],u=e[n][0],l="";Object.prototype.toString.call(a[1][0])==="[object Array]"&&(a=a[1],o=0);for(var f=a.length;o<f;o++){var d=a[o];l+=d[0]+":"+d[1]+(d[2]?" !important":"")+`;
`}i.insertRule(u+"{"+l+"}",i.cssRules.length)}else Object.keys(e).forEach(m=>{const x=e[m];if(Array.isArray(x))x.forEach(w=>{const g=Object.keys(w).map(y=>`${y}:${w[y]}`).join(";");i.insertRule(`${m}{${g}}`,i.cssRules.length)});else{const p=Object.keys(x).map(g=>`${g}:${x[g]}`).join(";");i.insertRule(`${m}{${p}}`,i.cssRules.length)}})}addScript(e){return new Promise((function(t,i){var n,s=!1;if(!this.document){t(!1);return}n=this.document.createElement("script"),n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(function(){t(!0)},1))},this.document.head.appendChild(n)}).bind(this))}addClass(e){var t;this.document&&(t=this.content||this.document.body,t&&t.classList.add(e))}removeClass(e){var t;this.document&&(t=this.content||this.document.body,t&&t.classList.remove(e))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),ln.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(ln.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((function(){var t=this.window.getSelection();this.triggerSelectedEvent(t)}).bind(this),250)}triggerSelectedEvent(e){var t,i;e&&e.rangeCount>0&&(t=e.getRangeAt(0),t.collapsed||(i=new Xe(t,this.cfiBase).toString(),this.emit(Ce.CONTENTS.SELECTED,i),this.emit(Ce.CONTENTS.SELECTED_RANGE,t)))}range(e,t){var i=new Xe(e);return i.toRange(this.document,t)}cfiFromRange(e,t){return new Xe(e,this.cfiBase,t).toString()}cfiFromNode(e,t){return new Xe(e,this.cfiBase,t).toString()}map(e){var t=new Sn(e);return t.section()}size(e,t){var i={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),i.width=e,this.css("padding","0 "+e/12+"px")),t>=0&&(this.height(t),i.height=t),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(i)}columns(e,t,i,n,s){let o=ri("column-axis"),a=ri("column-gap"),u=ri("column-width"),l=ri("column-fill"),d=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),s==="rtl"&&d==="horizontal"&&this.direction(s),this.width(e),this.height(t),this.viewport({width:e,height:t,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),d==="vertical"?(this.css("padding-top",n/2+"px",!0),this.css("padding-bottom",n/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(o,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",n/2+"px",!0),this.css("padding-right",n/2+"px",!0),this.css(o,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(l,"auto"),this.css(a,n+"px"),this.css(u,i+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,t,i){var n="scale("+e+")",s="";this.css("transform-origin","top left"),(t>=0||i>=0)&&(s=" translate("+(t||0)+"px, "+(i||0)+"px )"),this.css("transform",n+s)}fit(e,t,i){var n=this.viewport(),s=parseInt(n.width),o=parseInt(n.height),a=e/s,u=t/o,l=a<u?a:u;if(this.layoutStyle("paginated"),this.width(s),this.height(o),this.overflow("hidden"),this.scaler(l,0,0),this.css("background-size",s*l+"px "+o*l+"px"),this.css("background-color","transparent"),i&&i.properties.includes("page-spread-left")){var f=e-s*l;this.css("margin-left",f+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,t,i,n,s){var o=new Sn(t,s);return o.page(this,e,i,n)}linksHandler(){jp(this.content,e=>{this.emit(Ce.CONTENTS.LINK_CLICKED,e)})}writingMode(e){let t=ri("writing-mode");return e&&this.documentElement&&(this.documentElement.style[t]=e),this.window.getComputedStyle(this.documentElement)[t]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,t){return navigator.epubReadingSystem={name:e,version:t,layoutStyle:this.layoutStyle(),hasFeature:function(i){switch(i){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}hr(Jo.prototype);class Qp{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,t,i,n,s,o){let a=encodeURI(t+e),l=new Xe(t).spinePos,f=new Pf({type:e,cfiRange:t,data:i,sectionIndex:l,cb:n,className:s,styles:o});return this._annotations[a]=f,l in this._annotationsBySectionIndex?this._annotationsBySectionIndex[l].push(a):this._annotationsBySectionIndex[l]=[a],this.rendition.views().forEach(v=>{f.sectionIndex===v.index&&f.attach(v)}),f}remove(e,t){let i=encodeURI(e+t);if(i in this._annotations){let n=this._annotations[i];if(t&&n.type!==t)return;this.rendition.views().forEach(o=>{this._removeFromAnnotationBySectionIndex(n.sectionIndex,i),n.sectionIndex===o.index&&n.detach(o)}),delete this._annotations[i]}}_removeFromAnnotationBySectionIndex(e,t){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(i=>i!==t)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,t,i,n,s){return this.add("highlight",e,t,i,n,s)}underline(e,t,i,n,s){return this.add("underline",e,t,i,n,s)}mark(e,t,i){return this.add("mark",e,t,i)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(n=>{this._annotations[n].attach(e)})}clear(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(n=>{this._annotations[n].detach(e)})}show(){}hide(){}}class Pf{constructor({type:e,cfiRange:t,data:i,sectionIndex:n,cb:s,className:o,styles:a}){this.type=e,this.cfiRange=t,this.data=i,this.sectionIndex=n,this.mark=void 0,this.cb=s,this.className=o,this.styles=a}update(e){this.data=e}attach(e){let{cfiRange:t,data:i,type:n,mark:s,cb:o,className:a,styles:u}=this,l;return n==="highlight"?l=e.highlight(t,i,o,a,u):n==="underline"?l=e.underline(t,i,o,a,u):n==="mark"&&(l=e.mark(t,i,o)),this.mark=l,this.emit(Ce.ANNOTATION.ATTACH,l),l}detach(e){let{cfiRange:t,type:i}=this,n;return e&&(i==="highlight"?n=e.unhighlight(t):i==="underline"?n=e.ununderline(t):i==="mark"&&(n=e.unmark(t))),this.mark=void 0,this.emit(Ce.ANNOTATION.DETACH,n),n}text(){}}hr(Pf.prototype);var Jt={},_i={},bu;function eg(){if(bu)return _i;bu=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.createElement=r;function r(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}return _i.default={createElement:r},_i}var Qr={},wu;function tg(){if(wu)return Qr;wu=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.proxyMouse=r,Qr.clone=e,Qr.default={proxyMouse:r};function r(i,n){function s(l){for(var f=n.length-1;f>=0;f--){var d=n[f],v=l.clientX,m=l.clientY;if(l.touches&&l.touches.length&&(v=l.touches[0].clientX,m=l.touches[0].clientY),!!t(d,i,v,m)){d.dispatchEvent(e(l));break}}}if(i.nodeName==="iframe"||i.nodeName==="IFRAME")try{this.target=i.contentDocument}catch{this.target=i}else this.target=i;for(var o=["mouseup","mousedown","click","touchstart"],a=0;a<o.length;a++){var u=o[a];this.target.addEventListener(u,function(l){return s(l)},!1)}}function e(i){var n=Object.assign({},i,{bubbles:!1});try{return new MouseEvent(i.type,n)}catch{var s=document.createEvent("MouseEvents");return s.initMouseEvent(i.type,!1,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget),s}}function t(i,n,s,o){var a=n.getBoundingClientRect();function u(m,x,w){var p=m.top-a.top,g=m.left-a.left,y=p+m.height,C=g+m.width;return p<=w&&g<=x&&y>w&&C>x}var l=i.getBoundingClientRect();if(!u(l,s,o))return!1;for(var f=i.getClientRects(),d=0,v=f.length;d<v;d++)if(u(f[d],s,o))return!0;return!1}return Qr}var _u;function rg(){if(_u)return Jt;_u=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.Underline=Jt.Highlight=Jt.Mark=Jt.Pane=void 0;var r=function w(p,g,y){p===null&&(p=Function.prototype);var C=Object.getOwnPropertyDescriptor(p,g);if(C===void 0){var T=Object.getPrototypeOf(p);return T===null?void 0:w(T,g,y)}else{if("value"in C)return C.value;var _=C.get;return _===void 0?void 0:_.call(y)}},e=(function(){function w(p,g){for(var y=0;y<g.length;y++){var C=g[y];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,g,y){return g&&w(p.prototype,g),y&&w(p,y),p}})(),t=eg(),i=o(t),n=tg(),s=o(n);function o(w){return w&&w.__esModule?w:{default:w}}function a(w,p){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:w}function u(w,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);w.prototype=Object.create(p&&p.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(w,p):w.__proto__=p)}function l(w,p){if(!(w instanceof p))throw new TypeError("Cannot call a class as a function")}Jt.Pane=(function(){function w(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;l(this,w),this.target=p,this.element=i.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),s.default.proxyMouse(this.target,this.marks),this.container=g,this.container.appendChild(this.element),this.render()}return e(w,[{key:"addMark",value:function(g){var y=i.default.createElement("g");return this.element.appendChild(y),g.bind(y,this.container),this.marks.push(g),g.render(),g}},{key:"removeMark",value:function(g){var y=this.marks.indexOf(g);if(y!==-1){var C=g.unbind();this.element.removeChild(C),this.marks.splice(y,1)}}},{key:"render",value:function(){m(this.element,v(this.target,this.container));var g=!0,y=!1,C=void 0;try{for(var T=this.marks[Symbol.iterator](),_;!(g=(_=T.next()).done);g=!0){var R=_.value;R.render()}}catch(O){y=!0,C=O}finally{try{!g&&T.return&&T.return()}finally{if(y)throw C}}}}]),w})();var f=Jt.Mark=(function(){function w(){l(this,w),this.element=null}return e(w,[{key:"bind",value:function(g,y){this.element=g,this.container=y}},{key:"unbind",value:function(){var g=this.element;return this.element=null,g}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(g){this.element&&this.element.dispatchEvent(g)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var g=[],y=this.element.firstChild;y;)g.push(y.getBoundingClientRect()),y=y.nextSibling;return g}},{key:"filteredRanges",value:function(){var g=Array.from(this.range.getClientRects());return g.filter(function(y){for(var C=0;C<g.length;C++){if(g[C]===y)return!0;var T=x(g[C],y);if(T)return!1}return!0})}}]),w})(),d=Jt.Highlight=(function(w){u(p,w);function p(g,y,C,T){l(this,p);var _=a(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return _.range=g,_.className=y,_.data=C||{},_.attributes=T||{},_}return e(p,[{key:"bind",value:function(y,C){r(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"bind",this).call(this,y,C);for(var T in this.data)this.data.hasOwnProperty(T)&&(this.element.dataset[T]=this.data[T]);for(var T in this.attributes)this.attributes.hasOwnProperty(T)&&this.element.setAttribute(T,this.attributes[T]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var y=this.element.ownerDocument.createDocumentFragment(),C=this.filteredRanges(),T=this.element.getBoundingClientRect(),_=this.container.getBoundingClientRect(),R=0,O=C.length;R<O;R++){var k=C[R],S=i.default.createElement("rect");S.setAttribute("x",k.left-T.left+_.left),S.setAttribute("y",k.top-T.top+_.top),S.setAttribute("height",k.height),S.setAttribute("width",k.width),y.appendChild(S)}this.element.appendChild(y)}}]),p})(f);Jt.Underline=(function(w){u(p,w);function p(g,y,C,T){return l(this,p),a(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,g,y,C,T))}return e(p,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var y=this.element.ownerDocument.createDocumentFragment(),C=this.filteredRanges(),T=this.element.getBoundingClientRect(),_=this.container.getBoundingClientRect(),R=0,O=C.length;R<O;R++){var k=C[R],S=i.default.createElement("rect");S.setAttribute("x",k.left-T.left+_.left),S.setAttribute("y",k.top-T.top+_.top),S.setAttribute("height",k.height),S.setAttribute("width",k.width),S.setAttribute("fill","none");var I=i.default.createElement("line");I.setAttribute("x1",k.left-T.left+_.left),I.setAttribute("x2",k.left-T.left+_.left+k.width),I.setAttribute("y1",k.top-T.top+_.top+k.height-1),I.setAttribute("y2",k.top-T.top+_.top+k.height-1),I.setAttribute("stroke-width",1),I.setAttribute("stroke","black"),I.setAttribute("stroke-linecap","square"),y.appendChild(S),y.appendChild(I)}this.element.appendChild(y)}}]),p})(d);function v(w,p){var g=p.getBoundingClientRect(),y=w.getBoundingClientRect();return{top:y.top-g.top,left:y.left-g.left,height:w.scrollHeight,width:w.scrollWidth}}function m(w,p){w.style.setProperty("top",p.top+"px","important"),w.style.setProperty("left",p.left+"px","important"),w.style.setProperty("height",p.height+"px","important"),w.style.setProperty("width",p.width+"px","important")}function x(w,p){return p.right<=w.right&&p.left>=w.left&&p.top>=w.top&&p.bottom<=w.bottom}return Jt}var tn=rg();class Ff{constructor(e,t){this.settings=St({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},t||{}),this.id="epubjs-view-"+$n(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new Xe,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var t=document.createElement("div");return t.classList.add("epub-view"),t.style.height="0px",t.style.width="0px",t.style.overflow="hidden",t.style.position="relative",t.style.display="block",e&&e=="horizontal"?t.style.flex="none":t.style.flex="initial",t}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=un(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(e,t){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then((function(i){return this.load(i)}).bind(this)).then((function(){let i=this.contents.writingMode(),n;return this.settings.flow==="scrolled"?n=i.indexOf("vertical")===0?"horizontal":"vertical":n=i.indexOf("vertical")===0?"vertical":"horizontal",i.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(n),this.emit(Ce.VIEWS.AXIS,n),this.setWritingMode(i),this.emit(Ce.VIEWS.WRITING_MODE,i),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((s,o)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),s()})}).bind(this),(function(i){return this.emit(Ce.VIEWS.LOAD_ERROR,i),new Promise((n,s)=>{s(i)})}).bind(this)).then((function(){this.emit(Ce.VIEWS.RENDERED,this.section)}).bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,t){var i=e||this.settings.width,n=t||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",i,n):this.settings.axis==="horizontal"?this.lock("height",i,n):this.lock("width",i,n),this.settings.width=i,this.settings.height=n}lock(e,t,i){var n=En(this.element),s;this.iframe?s=En(this.iframe):s={width:0,height:0},e=="width"&&mt(t)&&(this.lockedWidth=t-n.width-s.width),e=="height"&&mt(i)&&(this.lockedHeight=i-n.height-s.height),e==="both"&&mt(t)&&mt(i)&&(this.lockedWidth=t-n.width-s.width,this.lockedHeight=i-n.height-s.height),this.displayed&&this.iframe&&this.expand()}expand(e){var t=this.lockedWidth,i=this.lockedHeight,n;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(t=this.layout.columnWidth,i=this.layout.height):this.settings.axis==="horizontal"?(t=this.contents.textWidth(),t%this.layout.pageWidth>0&&(t=Math.ceil(t/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(n=t/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&n%2>0&&(t+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(i=this.contents.textHeight(),this.settings.flow==="paginated"&&i%this.layout.height>0&&(i=Math.ceil(i/this.layout.height)*this.layout.height)),(this._needsReframe||t!=this._width||i!=this._height)&&this.reframe(t,i),this._expanding=!1)}reframe(e,t){var i;mt(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),mt(t)&&(this.element.style.height=t+"px",this.iframe.style.height=t+"px",this._height=t);let n=this.prevBounds?e-this.prevBounds.width:e,s=this.prevBounds?t-this.prevBounds.height:t;i={width:e,height:t,widthDelta:n,heightDelta:s},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let o;for(let a in this.marks)this.marks.hasOwnProperty(a)&&(o=this.marks[a],this.placeMark(o.element,o.range))}),this.onResize(this,i),this.emit(Ce.VIEWS.RESIZED,i),this.prevBounds=i,this.elementBounds=un(this.element)}load(e){var t=new Ke,i=t.promise;if(!this.iframe)return t.reject(new Error("No Iframe Available")),i;if(this.iframe.onload=(function(s){this.onLoad(s,t)}).bind(this),this.settings.method==="blobUrl")this.blobUrl=Cn(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return t.reject(new Error("No Document Available")),i;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var n=this;MSApp.execUnsafeLocalFunction(function(){n.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return i}onLoad(e,t){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new Jo(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var i=this.document.querySelector("link[rel='canonical']");i?i.setAttribute("href",this.section.canonical):(i=this.document.createElement("link"),i.setAttribute("rel","canonical"),i.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(i)),this.contents.on(Ce.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(Ce.CONTENTS.RESIZE,n=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),t.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,e=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var t=new Ke;return this.displayed?t.resolve(this):this.render(e).then((function(){this.emit(Ce.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,t.resolve(this)}).bind(this),function(i){t.reject(i,this)}),t.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(Ce.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(Ce.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var t=this.contents.locationOf(e,this.settings.ignoreClass);return{left:t.left,top:t.top}}onDisplayed(e){}onResize(e,t){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=un(this.element)),this.elementBounds}highlight(e,t={},i,n="epubjs-hl",s={}){if(!this.contents)return;const o=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},s);let a=this.contents.range(e),u=()=>{this.emit(Ce.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||(this.pane=new tn.Pane(this.iframe,this.element));let l=new tn.Highlight(a,n,t,o),f=this.pane.addMark(l);return this.highlights[e]={mark:f,element:f.element,listeners:[u,i]},f.element.setAttribute("ref",n),f.element.addEventListener("click",u),f.element.addEventListener("touchstart",u),i&&(f.element.addEventListener("click",i),f.element.addEventListener("touchstart",i)),f}underline(e,t={},i,n="epubjs-ul",s={}){if(!this.contents)return;const o=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},s);let a=this.contents.range(e),u=()=>{this.emit(Ce.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||(this.pane=new tn.Pane(this.iframe,this.element));let l=new tn.Underline(a,n,t,o),f=this.pane.addMark(l);return this.underlines[e]={mark:f,element:f.element,listeners:[u,i]},f.element.setAttribute("ref",n),f.element.addEventListener("click",u),f.element.addEventListener("touchstart",u),i&&(f.element.addEventListener("click",i),f.element.addEventListener("touchstart",i)),f}mark(e,t={},i){if(!this.contents)return;if(e in this.marks)return this.marks[e];let n=this.contents.range(e);if(!n)return;let s=n.commonAncestorContainer,o=s.nodeType===1?s:s.parentNode,a=l=>{this.emit(Ce.VIEWS.MARK_CLICKED,e,t)};n.collapsed&&s.nodeType===1?(n=new Range,n.selectNodeContents(s)):n.collapsed&&(n=new Range,n.selectNodeContents(o));let u=this.document.createElement("a");return u.setAttribute("ref","epubjs-mk"),u.style.position="absolute",u.dataset.epubcfi=e,t&&Object.keys(t).forEach(l=>{u.dataset[l]=t[l]}),i&&(u.addEventListener("click",i),u.addEventListener("touchstart",i)),u.addEventListener("click",a),u.addEventListener("touchstart",a),this.placeMark(u,n),this.element.appendChild(u),this.marks[e]={element:u,range:n,listeners:[a,i]},o}placeMark(e,t){let i,n,s;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let a=t.getBoundingClientRect();i=a.top,n=a.right}else{let a=t.getClientRects(),u;for(var o=0;o!=a.length;o++)u=a[o],(!s||u.left<s)&&(s=u.left,n=Math.ceil(s/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,i=u.top)}e.style.top=`${i}px`,e.style.left=`${n}px`}unhighlight(e){let t;e in this.highlights&&(t=this.highlights[e],this.pane.removeMark(t.mark),t.listeners.forEach(i=>{i&&(t.element.removeEventListener("click",i),t.element.removeEventListener("touchstart",i))}),delete this.highlights[e])}ununderline(e){let t;e in this.underlines&&(t=this.underlines[e],this.pane.removeMark(t.mark),t.listeners.forEach(i=>{i&&(t.element.removeEventListener("click",i),t.element.removeEventListener("touchstart",i))}),delete this.underlines[e])}unmark(e){let t;e in this.marks&&(t=this.marks[e],this.element.removeChild(t.element),t.listeners.forEach(i=>{i&&(t.element.removeEventListener("click",i),t.element.removeEventListener("touchstart",i))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&Sf(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}hr(Ff.prototype);function ig(){var r="reverse",e=ng();return document.body.appendChild(e),e.scrollLeft>0?r="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(e.children[0].children[1].scrollIntoView(),e.scrollLeft<0&&(r="negative")):(e.scrollLeft=1,e.scrollLeft===0&&(r="negative")),document.body.removeChild(e),r}function ng(){var r=document.createElement("div");r.dir="rtl",r.style.position="fixed",r.style.width="1px",r.style.height="1px",r.style.top="0px",r.style.left="0px",r.style.overflow="hidden";var e=document.createElement("div");e.style.width="2px";var t=document.createElement("span");t.style.width="1px",t.style.display="inline-block";var i=document.createElement("span");return i.style.width="1px",i.style.display="inline-block",e.appendChild(t),e.appendChild(i),r.appendChild(e),r}var Ms,Eu;function Qo(){if(Eu)return Ms;Eu=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Ms=r,Ms}var zs,xu;function sg(){if(xu)return zs;xu=1;var r=typeof Kt=="object"&&Kt&&Kt.Object===Object&&Kt;return zs=r,zs}var Us,Cu;function Mf(){if(Cu)return Us;Cu=1;var r=sg(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return Us=t,Us}var qs,Au;function og(){if(Au)return qs;Au=1;var r=Mf(),e=function(){return r.Date.now()};return qs=e,qs}var js,Du;function ag(){if(Du)return js;Du=1;var r=/\s/;function e(t){for(var i=t.length;i--&&r.test(t.charAt(i)););return i}return js=e,js}var Ws,Su;function ug(){if(Su)return Ws;Su=1;var r=ag(),e=/^\s+/;function t(i){return i&&i.slice(0,r(i)+1).replace(e,"")}return Ws=t,Ws}var Hs,Tu;function zf(){if(Tu)return Hs;Tu=1;var r=Mf(),e=r.Symbol;return Hs=e,Hs}var Vs,Ru;function lg(){if(Ru)return Vs;Ru=1;var r=zf(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,n=r?r.toStringTag:void 0;function s(o){var a=t.call(o,n),u=o[n];try{o[n]=void 0;var l=!0}catch{}var f=i.call(o);return l&&(a?o[n]=u:delete o[n]),f}return Vs=s,Vs}var $s,Ou;function fg(){if(Ou)return $s;Ou=1;var r=Object.prototype,e=r.toString;function t(i){return e.call(i)}return $s=t,$s}var Zs,Nu;function cg(){if(Nu)return Zs;Nu=1;var r=zf(),e=lg(),t=fg(),i="[object Null]",n="[object Undefined]",s=r?r.toStringTag:void 0;function o(a){return a==null?a===void 0?n:i:s&&s in Object(a)?e(a):t(a)}return Zs=o,Zs}var Gs,ku;function hg(){if(ku)return Gs;ku=1;function r(e){return e!=null&&typeof e=="object"}return Gs=r,Gs}var Ks,Lu;function dg(){if(Lu)return Ks;Lu=1;var r=cg(),e=hg(),t="[object Symbol]";function i(n){return typeof n=="symbol"||e(n)&&r(n)==t}return Ks=i,Ks}var Xs,Iu;function pg(){if(Iu)return Xs;Iu=1;var r=ug(),e=Qo(),t=dg(),i=NaN,n=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt;function u(l){if(typeof l=="number")return l;if(t(l))return i;if(e(l)){var f=typeof l.valueOf=="function"?l.valueOf():l;l=e(f)?f+"":f}if(typeof l!="string")return l===0?l:+l;l=r(l);var d=s.test(l);return d||o.test(l)?a(l.slice(2),d?2:8):n.test(l)?i:+l}return Xs=u,Xs}var Ys,Bu;function Uf(){if(Bu)return Ys;Bu=1;var r=Qo(),e=og(),t=pg(),i="Expected a function",n=Math.max,s=Math.min;function o(a,u,l){var f,d,v,m,x,w,p=0,g=!1,y=!1,C=!0;if(typeof a!="function")throw new TypeError(i);u=t(u)||0,r(l)&&(g=!!l.leading,y="maxWait"in l,v=y?n(t(l.maxWait)||0,u):v,C="trailing"in l?!!l.trailing:C);function T(K){var ae=f,le=d;return f=d=void 0,p=K,m=a.apply(le,ae),m}function _(K){return p=K,x=setTimeout(k,u),g?T(K):m}function R(K){var ae=K-w,le=K-p,ue=u-ae;return y?s(ue,v-le):ue}function O(K){var ae=K-w,le=K-p;return w===void 0||ae>=u||ae<0||y&&le>=v}function k(){var K=e();if(O(K))return S(K);x=setTimeout(k,R(K))}function S(K){return x=void 0,C&&f?T(K):(f=d=void 0,m)}function I(){x!==void 0&&clearTimeout(x),p=0,f=w=d=x=void 0}function $(){return x===void 0?m:S(e())}function j(){var K=e(),ae=O(K);if(f=arguments,d=this,w=K,ae){if(x===void 0)return _(w);if(y)return clearTimeout(x),x=setTimeout(k,u),T(w)}return x===void 0&&(x=setTimeout(k,u)),m}return j.cancel=I,j.flush=$,j}return Ys=o,Ys}var Js,Pu;function gg(){if(Pu)return Js;Pu=1;var r=Uf(),e=Qo(),t="Expected a function";function i(n,s,o){var a=!0,u=!0;if(typeof n!="function")throw new TypeError(t);return e(o)&&(a="leading"in o?!!o.leading:a,u="trailing"in o?!!o.trailing:u),r(n,s,{leading:a,maxWait:s,trailing:u})}return Js=i,Js}var mg=gg();const vg=hi(mg);class yg{constructor(e){this.settings=e||{},this.id="epubjs-container-"+$n(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let t=e.height,i=e.width,n=e.overflow||!1,s=e.axis||"vertical",o=e.direction;St(this.settings,e),e.height&&mt(e.height)&&(t=e.height+"px"),e.width&&mt(e.width)&&(i=e.width+"px");let a=document.createElement("div");return a.id=this.id,a.classList.add("epub-container"),a.style.wordSpacing="0",a.style.lineHeight="0",a.style.verticalAlign="top",a.style.position="relative",s==="horizontal"&&(a.style.display="flex",a.style.flexDirection="row",a.style.flexWrap="nowrap"),i&&(a.style.width=i),t&&(a.style.height=t),n&&(n==="scroll"&&s==="vertical"?(a.style["overflow-y"]=n,a.style["overflow-x"]="hidden"):n==="scroll"&&s==="horizontal"?(a.style["overflow-y"]="hidden",a.style["overflow-x"]=n):a.style.overflow=n),o&&(a.dir=o,a.style.direction=o),o&&this.settings.fullsize&&(document.body.style.direction=o),a}wrap(e){var t=document.createElement("div");return t.style.visibility="hidden",t.style.overflow="hidden",t.style.width="0",t.style.height="0",t.appendChild(e),t}getElement(e){var t;if(Ef(e)?t=e:typeof e=="string"&&(t=document.getElementById(e)),!t)throw new Error("Not an Element");return t}attachTo(e){var t=this.getElement(e),i;if(t)return this.settings.hidden?i=this.wrapper:i=this.container,t.appendChild(i),this.element=t,t}getContainer(){return this.container}onResize(e){(!mt(this.settings.width)||!mt(this.settings.height))&&(this.resizeFunc=vg(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,t){var i;let n=e||this.settings.width,s=t||this.settings.height;e===null?(i=this.element.getBoundingClientRect(),i.width&&(e=Math.floor(i.width),this.container.style.width=e+"px")):mt(e)?this.container.style.width=e+"px":this.container.style.width=e,t===null?(i=i||this.element.getBoundingClientRect(),i.height&&(t=i.height,this.container.style.height=t+"px")):mt(t)?this.container.style.height=t+"px":this.container.style.height=t,mt(e)||(e=this.container.clientWidth),mt(t)||(t=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let o=xn(),a=window.getComputedStyle(document.body),u={left:parseFloat(a["padding-left"])||0,right:parseFloat(a["padding-right"])||0,top:parseFloat(a["padding-top"])||0,bottom:parseFloat(a["padding-bottom"])||0};return n||(e=o.width-u.left-u.right),(this.settings.fullsize&&!s||!s)&&(t=o.height-u.top-u.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:t-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return this.container.style.overflow!=="visible"&&(e=this.container&&this.container.getBoundingClientRect()),!e||!e.width||!e.height?xn():e}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,t){var i="#"+this.id+" ",n="";this.sheet||(this.sheet=this.getSheet()),t.forEach(function(s){for(var o in s)s.hasOwnProperty(o)&&(n+=o+":"+s[o]+";")}),this.sheet.insertRule(i+e+" {"+n+"}",0)}axis(e){e==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&(e==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):e==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class bg{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,t){return this._views.splice(t,0,e),this.container&&(t<this.container.children.length?this.container.insertBefore(e.element,this.container.children[t]):this.container.appendChild(e.element)),this.length++,e}remove(e){var t=this._views.indexOf(e);t>-1&&this._views.splice(t,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,t=this.length;if(this.length){for(var i=0;i<t;i++)e=this._views[i],this.destroy(e);this._views=[],this.length=0}}find(e){for(var t,i=this.length,n=0;n<i;n++)if(t=this._views[n],t.displayed&&t.section.index==e.index)return t}displayed(){for(var e=[],t,i=this.length,n=0;n<i;n++)t=this._views[n],t.displayed&&e.push(t);return e}show(){for(var e,t=this.length,i=0;i<t;i++)e=this._views[i],e.displayed&&e.show();this.hidden=!1}hide(){for(var e,t=this.length,i=0;i<t;i++)e=this._views[i],e.displayed&&e.hide();this.hidden=!0}}class Tn{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new Yo(this),this.settings=St(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),St(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,t){let i=e.tagName;typeof this.settings.fullsize>"u"&&i&&(i.toLowerCase()=="body"||i.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=t,this.settings.rtlScrollType=ig(),this.stage=new yg({width:t.width,height:t.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new bg(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",(function(t){this.destroy()}).bind(this)),this.settings.fullsize?e=window:e=this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:t}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout((function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(Ce.MANAGERS.ORIENTATION_CHANGE,t)}).bind(this),500)}onResized(e){this.resize()}resize(e,t,i){let n=this.stage.size(e,t);if(this.winBounds=xn(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===n.width&&this._stageSize.height===n.height||(this._stageSize=n,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(Ce.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},i))}createView(e,t){return new this.View(e,St(this.viewSettings,{forceRight:t}))}handleNextPrePaginated(e,t,i){let n;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(e||t.index===0)return;if(n=t.next(),n&&!n.properties.includes("page-spread-left"))return i.call(this,n)}}display(e,t){var i=new Ke,n=i.promise;(t===e.href||mt(t))&&(t=void 0);var s=this.views.find(e);if(s&&e&&this.layout.name!=="pre-paginated"){let a=s.offset();if(this.settings.direction==="ltr")this.scrollTo(a.left,a.top,!0);else{let u=s.width();this.scrollTo(a.left+u,a.top,!0)}if(t){let u=s.locationOf(t),l=s.width();this.moveTo(u,l)}return i.resolve(),n}this.clear();let o=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(o=!0),this.add(e,o).then((function(a){if(t){let u=a.locationOf(t),l=a.width();this.moveTo(u,l)}}).bind(this),a=>{i.reject(a)}).then((function(){return this.handleNextPrePaginated(o,e,this.add)}).bind(this)).then((function(){this.views.show(),i.resolve()}).bind(this)),n}afterDisplayed(e){this.emit(Ce.MANAGERS.ADDED,e)}afterResized(e){this.emit(Ce.MANAGERS.RESIZE,e.section)}moveTo(e,t){var i=0,n=0;this.isPaginated?(i=Math.floor(e.left/this.layout.delta)*this.layout.delta,i+this.layout.delta>this.container.scrollWidth&&(i=this.container.scrollWidth-this.layout.delta),n=Math.floor(e.top/this.layout.delta)*this.layout.delta,n+this.layout.delta>this.container.scrollHeight&&(n=this.container.scrollHeight-this.layout.delta)):n=e.top,this.settings.direction==="rtl"&&(i=i+this.layout.delta,i=i-t),this.scrollTo(i,n,!0)}add(e,t){var i=this.createView(e,t);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(Ce.VIEWS.AXIS,n=>{this.updateAxis(n)}),i.on(Ce.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),i.display(this.request)}append(e,t){var i=this.createView(e,t);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(Ce.VIEWS.AXIS,n=>{this.updateAxis(n)}),i.on(Ce.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),i.display(this.request)}prepend(e,t){var i=this.createView(e,t);return i.on(Ce.VIEWS.RESIZED,n=>{this.counter(n)}),this.views.prepend(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(Ce.VIEWS.AXIS,n=>{this.updateAxis(n)}),i.on(Ce.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),i.display(this.request)}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e,t;let i=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!i||i==="ltr")?(this.scrollLeft=this.container.scrollLeft,t=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,t<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&i==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(t=this.container.scrollLeft,t>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(t=this.container.scrollLeft+this.layout.delta*-1,t>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let n=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(n=!0),this.append(e,n).then((function(){return this.handleNextPrePaginated(n,e,this.append)}).bind(this),s=>s).then((function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}).bind(this))}}prev(){var e,t;let i=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!i||i==="ltr")?(this.scrollLeft=this.container.scrollLeft,t=this.container.scrollLeft,t>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&i==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(t=this.container.scrollLeft+this.container.offsetWidth,t<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(t=this.container.scrollLeft,t<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let n=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof e.prev()!="object"&&(n=!0),this.prepend(e,n).then((function(){var s;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(s=e.prev(),s))return this.prepend(s)}).bind(this),s=>s).then((function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}).bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),i=t.height<window.innerHeight?t.height:window.innerHeight,n=t.width<window.innerWidth?t.width:window.innerWidth,s=this.settings.axis==="vertical";this.settings.direction;let o=0,a=0;return this.settings.fullsize&&(o=s?window.scrollY:window.scrollX),e.map(l=>{let{index:f,href:d}=l.section,v=l.position(),m=l.width(),x=l.height(),w,p,g,y;s?(w=o+t.top-v.top+a,p=w+i-a,y=this.layout.count(x,i).pages,g=i):(w=o+t.left-v.left+a,p=w+n-a,y=this.layout.count(m,n).pages,g=n);let C=Math.ceil(w/g),T=[],_=Math.ceil(p/g);if(this.settings.direction==="rtl"&&!s){let k=C;C=y-_,_=y-k}T=[];for(var R=C;R<=_;R++){let k=R+1;T.push(k)}let O=this.mapping.page(l.contents,l.section.cfiBase,w,p);return{index:f,href:d,pages:T,totalPages:y,mapping:O}})}paginatedLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),i=0,n=0;return this.settings.fullsize&&(i=window.scrollX),e.map(o=>{let{index:a,href:u}=o.section,l,f=o.position(),d=o.width(),v,m,x;this.settings.direction==="rtl"?(l=t.right-i,x=Math.min(Math.abs(l-f.left),this.layout.width)-n,m=f.width-(f.right-l)-n,v=m-x):(l=t.left+i,x=Math.min(f.right-l,this.layout.width)-n,v=l-f.left+n,m=v+x),n+=x;let w=this.mapping.page(o.contents,o.section.cfiBase,v,m),p=this.layout.count(d).pages,g=Math.floor(v/this.layout.pageWidth),y=[],C=Math.floor(m/this.layout.pageWidth);if(g<0&&(g=0,C=C+1),this.settings.direction==="rtl"){let _=g;g=p-C,C=p-_}for(var T=g+1;T<=C;T++){let _=T;y.push(_)}return{index:a,href:u,pages:y,totalPages:p,mapping:w}})}isVisible(e,t,i,n){var s=e.position(),o=n||this.bounds();return this.settings.axis==="horizontal"&&s.right>o.left-t&&s.left<o.right+i?!0:this.settings.axis==="vertical"&&s.bottom>o.top-t&&s.top<o.bottom+i}visible(){for(var e=this.bounds(),t=this.views.displayed(),i=t.length,n=[],s,o,a=0;a<i;a++)o=t[a],s=this.isVisible(o,0,0,e),s===!0&&n.push(o);return n}scrollBy(e,t,i){let n=this.settings.direction==="rtl"?-1:1;i&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*n,t*n):(e&&(this.container.scrollLeft+=e*n),t&&(this.container.scrollTop+=t)),this.scrolled=!0}scrollTo(e,t,i){i&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,t):(this.container.scrollLeft=e,this.container.scrollTop=t),this.scrolled=!0}onScroll(){let e,t;this.settings.fullsize?(e=window.scrollY,t=window.scrollX):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:(this.emit(Ce.MANAGERS.SCROLL,{top:e,left:t}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.emit(Ce.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),20))}bounds(){var e;return e=this.stage.bounds(),e}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new Sn(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(t){t&&t.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,t){!t&&e===this.settings.axis||(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new Sn(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(e==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,t="auto"){let i=e==="paginated"||e==="auto";this.isPaginated=i,e==="scrolled-doc"||e==="scrolled-continuous"||e==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=i?"hidden":t,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(t){const i=t&&t.contents;i&&e.push(i)}),e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}}hr(Tn.prototype);const wg={easeInCubic:function(r){return Math.pow(r,3)}};class xo{constructor(e,t){this.settings=St({duration:80,minVelocity:.2,minDistance:10,easing:wg.easeInCubic},t||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(Ce.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(Ce.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let t=e.contents;["touchstart","touchmove","touchend"].forEach(i=>{t.on(i,n=>this.triggerViewEvent(n,t))})}triggerViewEvent(e,t){this.emit(e.type,e,t)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:t,screenY:i}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=t,this.startTouchY=i,this.startTime=this.now()),this.endTouchX=t,this.endTouchY=i,this.endTime=this.now()}onTouchMove(e){let{screenX:t,screenY:i}=e.touches[0],n=Math.abs(i-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&n<10&&(this.element.scrollLeft-=t-this.endTouchX),this.endTouchX=t,this.endTouchY=i,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let t=this.wasSwiped();t!==0?this.snap(t):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,t=this.endTouchX-this.startTouchX,i=Math.abs(t),n=this.endTime-this.startTime,s=t/n,o=this.settings.minVelocity;if(i<=this.settings.minDistance||i>=e)return 0;if(s>o)return-1;if(s<-o)return 1}needsSnap(){let e=this.scrollLeft,t=this.layout.pageWidth*this.layout.divisor;return e%t!==0}snap(e=0){let t=this.scrollLeft,i=this.layout.pageWidth*this.layout.divisor,n=Math.round(t/i)*i;return e&&(n+=e*i),this.smoothScrollTo(n)}smoothScrollTo(e){const t=new Ke,i=this.scrollLeft,n=this.now(),s=this.settings.duration,o=this.settings.easing;this.snapping=!0;function a(){const u=this.now(),l=Math.min(1,(u-n)/s);if(o(l),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,t.resolve();return}l<1?(window.requestAnimationFrame(a.bind(this)),this.scrollTo(i+(e-i)*l,0)):(this.scrollTo(e,0),this.snapping=!1,t.resolve())}return a.call(this),t.promise}scrollTo(e=0,t=0){this.fullsize?window.scroll(e,t):(this.scroller.scrollLeft=e,this.scroller.scrollTop=t)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}hr(xo.prototype);var _g=Uf();const Eg=hi(_g);class xg extends Tn{constructor(e){super(e),this.name="continuous",this.settings=St(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),St(this.settings,e.settings||{}),e.settings.gap!="undefined"&&e.settings.gap===0&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,t){return Tn.prototype.display.call(this,e,t).then((function(){return this.fill()}).bind(this))}fill(e){var t=e||new Ke;return this.q.enqueue(()=>this.check()).then(i=>{i?this.fill(t):t.resolve()}),t.promise}moveTo(e){var t=0,i=0;this.isPaginated?(t=Math.floor(e.left/this.layout.delta)*this.layout.delta,t+this.settings.offsetDelta):(i=e.top,e.top+this.settings.offsetDelta),(t>0||i>0)&&this.scrollBy(t,i,!0)}afterResized(e){this.emit(Ce.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var t=this.createView(e);return this.views.append(t),t.on(Ce.VIEWS.RESIZED,i=>{t.expanded=!0}),t.on(Ce.VIEWS.AXIS,i=>{this.updateAxis(i)}),t.on(Ce.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),t.onDisplayed=this.afterDisplayed.bind(this),t.onResize=this.afterResized.bind(this),t.display(this.request)}append(e){var t=this.createView(e);return t.on(Ce.VIEWS.RESIZED,i=>{t.expanded=!0}),t.on(Ce.VIEWS.AXIS,i=>{this.updateAxis(i)}),t.on(Ce.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),this.views.append(t),t.onDisplayed=this.afterDisplayed.bind(this),t}prepend(e){var t=this.createView(e);return t.on(Ce.VIEWS.RESIZED,i=>{this.counter(i),t.expanded=!0}),t.on(Ce.VIEWS.AXIS,i=>{this.updateAxis(i)}),t.on(Ce.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),this.views.prepend(t),t.onDisplayed=this.afterDisplayed.bind(this),t}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var t=this.bounds(),i=this.views.all(),n=i.length,s=typeof e<"u"?e:this.settings.offset||0,o,a,u=new Ke,l=[],f=0;f<n;f++)if(a=i[f],o=this.isVisible(a,s,s,t),o===!0)if(a.displayed)a.show();else{let d=a.display(this.request).then(function(v){v.show()},v=>{a.hide()});l.push(d)}else this.q.enqueue(a.destroy.bind(a)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout((function(){this.q.enqueue(this.trim.bind(this))}).bind(this),250);return l.length?Promise.all(l).catch(d=>{u.reject(d)}):(u.resolve(),u.promise)}check(e,t){var i=new Ke,n=[],s=this.settings.axis==="horizontal",o=this.settings.offset||0;e&&s&&(o=e),t&&!s&&(o=t);var a=this._bounds;let u=s?this.scrollLeft:this.scrollTop,l=s?Math.floor(a.width):a.height,f=s?this.container.scrollWidth:this.container.scrollHeight,d=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",v=this.settings.rtlScrollType,m=this.settings.direction==="rtl";this.settings.fullsize?(s&&m&&v==="negative"||!s&&m&&v==="default")&&(u=u*-1):(m&&v==="default"&&d==="horizontal"&&(u=f-l-u),m&&v==="negative"&&d==="horizontal"&&(u=u*-1));let x=()=>{let C=this.views.first(),T=C&&C.section.prev();T&&n.push(this.prepend(T))},w=()=>{let C=this.views.last(),T=C&&C.section.next();T&&n.push(this.append(T))},p=u+l+o,g=u-o;p>=f&&w(),g<0&&x();let y=n.map(C=>C.display(this.request));return n.length?Promise.all(y).then(()=>this.check()).then(()=>this.update(o),C=>C):(this.q.enqueue((function(){this.update()}).bind(this)),i.resolve(!1),i.promise)}trim(){for(var e=new Ke,t=this.views.displayed(),i=t[0],n=t[t.length-1],s=this.views.indexOf(i),o=this.views.indexOf(n),a=this.views.slice(0,s),u=this.views.slice(o+1),l=0;l<a.length-1;l++)this.erase(a[l],a);for(var f=1;f<u.length;f++)this.erase(u[f]);return e.resolve(),e.promise}erase(e,t){var i,n;this.settings.fullsize?(i=window.scrollY,n=window.scrollX):(i=this.container.scrollTop,n=this.container.scrollLeft);var s=e.bounds();this.views.remove(e),t&&(this.settings.axis==="vertical"?this.scrollTo(0,i-s.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(n+Math.floor(s.width),0,!0):this.scrollTo(n,0,!0):this.scrollTo(n-Math.floor(s.width),0,!0))}addEventListeners(e){window.addEventListener("unload",(function(t){this.ignore=!0,this.destroy()}).bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new xo(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var e;this.tick=Go;let t=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*t,this.scrollLeft=window.scrollX*t):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=Eg(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,t,i=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(e=window.scrollY*i,t=window.scrollX*i):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(t-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=t,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}).bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue((function(){return this.check()}).bind(this)),this.emit(Ce.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(Ce.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),this.settings.afterScrolledTimeout)}next(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}prev(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new xo(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class ea{constructor(e,t){this.settings=St(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),St(this.settings,t),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new tr(this),this.hooks.serialize=new tr(this),this.hooks.content=new tr(this),this.hooks.unloaded=new tr(this),this.hooks.layout=new tr(this),this.hooks.render=new tr(this),this.hooks.show=new tr(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new Xp(this),this.annotations=new Qp(this),this.epubcfi=new Xe,this.q=new Yo(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new Ke,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){var t;return typeof e=="string"&&e==="default"?t=Tn:typeof e=="string"&&e==="continuous"?t=xg:t=e,t}requireView(e){var t;return typeof e=="string"&&e==="iframe"?t=Ff:t=e,t}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(Ce.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(Ce.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(Ce.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(Ce.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(Ce.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(Ce.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue((function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(Ce.RENDITION.ATTACHED)}).bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(this.book){this.epubcfi.isCfiString(e);var t=new Ke,i=t.promise,n;return this.displaying=t,this.book.locations.length()&&xf(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),n=this.book.spine.get(e),n?(this.manager.display(n,e).then(()=>{t.resolve(n),this.displaying=void 0,this.emit(Ce.RENDITION.DISPLAYED,n),this.reportLocation()},s=>{this.emit(Ce.RENDITION.DISPLAY_ERROR,s)}),i):(t.reject(new Error("No Section Found")),i)}}afterDisplayed(e){e.on(Ce.VIEWS.MARK_CLICKED,(t,i)=>this.triggerMarkEvent(t,i,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(Ce.RENDITION.RENDERED,e.section,e)}):this.emit(Ce.RENDITION.RENDERED,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(Ce.RENDITION.REMOVED,e.section,e)})}onResized(e,t){this.emit(Ce.RENDITION.RESIZED,{width:e.width,height:e.height},t),this.location&&this.location.start&&this.display(t||this.location.start.cfi)}onOrientationChange(e){this.emit(Ce.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,t,i){e&&(this.settings.width=e),t&&(this.settings.height=t),this.manager.resize(e,t,i)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var t,i=this.settings.layout||e.layout||"reflowable",n=this.settings.spread||e.spread||"auto",s=this.settings.orientation||e.orientation||"auto",o=this.settings.flow||e.flow||"auto",a=e.viewport||"",u=this.settings.minSpreadWidth||e.minSpreadWidth||800,l=this.settings.direction||e.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),t={layout:i,spread:n,orientation:s,flow:o,viewport:a,minSpreadWidth:u,direction:l},t}flow(e){var t=e;(e==="scrolled"||e==="scrolled-doc"||e==="scrolled-continuous")&&(t="scrolled"),(e==="auto"||e==="paginated")&&(t="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(t),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(t),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new If(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(Ce.LAYOUT.UPDATED,(t,i)=>{this.emit(Ce.RENDITION.LAYOUT,t,i)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,t){this.settings.spread=e,t&&(this.settings.minSpreadWidth=t),this._layout&&this._layout.spread(e,t),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue((function(){requestAnimationFrame((function(){var i=this.manager.currentLocation();if(i&&i.then&&typeof i.then=="function")i.then((function(n){let s=this.located(n);!s||!s.start||!s.end||(this.location=s,this.emit(Ce.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Ce.RENDITION.RELOCATED,this.location))}).bind(this));else if(i){let n=this.located(i);if(!n||!n.start||!n.end)return;this.location=n,this.emit(Ce.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(Ce.RENDITION.RELOCATED,this.location)}}).bind(this))}).bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then=="function")e.then((function(t){return this.located(t)}).bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let t=e[0],i=e[e.length-1],n={start:{index:t.index,href:t.href,cfi:t.mapping.start,displayed:{page:t.pages[0]||1,total:t.totalPages}},end:{index:i.index,href:i.href,cfi:i.mapping.end,displayed:{page:i.pages[i.pages.length-1]||1,total:i.totalPages}}},s=this.book.locations.locationFromCfi(t.mapping.start),o=this.book.locations.locationFromCfi(i.mapping.end);s!=null&&(n.start.location=s,n.start.percentage=this.book.locations.percentageFromLocation(s)),o!=null&&(n.end.location=o,n.end.percentage=this.book.locations.percentageFromLocation(o));let a=this.book.pageList.pageFromCfi(t.mapping.start),u=this.book.pageList.pageFromCfi(i.mapping.end);return a!=-1&&(n.start.page=a),u!=-1&&(n.end.page=u),i.index===this.book.spine.last().index&&n.end.displayed.page>=n.end.displayed.total&&(n.atEnd=!0),t.index===this.book.spine.first().index&&n.start.displayed.page===1&&(n.atStart=!0),n}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){ln.forEach(t=>{e.on(t,i=>this.triggerViewEvent(i,e))}),e.on(Ce.CONTENTS.SELECTED,t=>this.triggerSelectedEvent(t,e))}triggerViewEvent(e,t){this.emit(e.type,e,t)}triggerSelectedEvent(e,t){this.emit(Ce.RENDITION.SELECTED,e,t)}triggerMarkEvent(e,t,i){this.emit(Ce.RENDITION.MARK_CLICKED,e,t,i)}getRange(e,t){var i=new Xe(e),n=this.manager.visible().filter(function(s){if(i.spinePos===s.index)return!0});if(n.length)return n[0].contents.range(i,t)}adjustImages(e){if(this._layout.name==="pre-paginated")return new Promise(function(s){s()});let t=e.window.getComputedStyle(e.content,null),i=(e.content.offsetHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)))*.95,n=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-n+"px":"100%")+"!important","max-height":i+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-n+"px":"100%")+"!important","max-height":i+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(s,o){setTimeout(function(){s()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(Ce.CONTENTS.LINK_CLICKED,t=>{let i=this.book.path.relative(t);this.display(i)})}injectStylesheet(e,t){let i=e.createElement("link");i.setAttribute("type","text/css"),i.setAttribute("rel","stylesheet"),i.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(i)}injectScript(e,t){let i=e.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",this.settings.script),i.textContent=" ",e.getElementsByTagName("head")[0].appendChild(i)}injectIdentifier(e,t){let i=this.book.packaging.metadata.identifier,n=e.createElement("meta");n.setAttribute("name","dc.relation.ispartof"),i&&n.setAttribute("content",i),e.getElementsByTagName("head")[0].appendChild(n)}}hr(ea.prototype);function Rr(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qs={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Fu;function Cg(){return Fu||(Fu=1,(function(r,e){(function(t){r.exports=t()})(function(){return(function t(i,n,s){function o(l,f){if(!n[l]){if(!i[l]){var d=typeof Rr=="function"&&Rr;if(!f&&d)return d(l,!0);if(a)return a(l,!0);var v=new Error("Cannot find module '"+l+"'");throw v.code="MODULE_NOT_FOUND",v}var m=n[l]={exports:{}};i[l][0].call(m.exports,function(x){var w=i[l][1][x];return o(w||x)},m,m.exports,t,i,n,s)}return n[l].exports}for(var a=typeof Rr=="function"&&Rr,u=0;u<s.length;u++)o(s[u]);return o})({1:[function(t,i,n){var s=t("./utils"),o=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(u){for(var l=[],f,d,v,m,x,w,p,g=0,y=u.length,C=y,T=s.getTypeOf(u)!=="string";g<u.length;)C=y-g,T?(f=u[g++],d=g<y?u[g++]:0,v=g<y?u[g++]:0):(f=u.charCodeAt(g++),d=g<y?u.charCodeAt(g++):0,v=g<y?u.charCodeAt(g++):0),m=f>>2,x=(f&3)<<4|d>>4,w=C>1?(d&15)<<2|v>>6:64,p=C>2?v&63:64,l.push(a.charAt(m)+a.charAt(x)+a.charAt(w)+a.charAt(p));return l.join("")},n.decode=function(u){var l,f,d,v,m,x,w,p=0,g=0,y="data:";if(u.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");u=u.replace(/[^A-Za-z0-9+/=]/g,"");var C=u.length*3/4;if(u.charAt(u.length-1)===a.charAt(64)&&C--,u.charAt(u.length-2)===a.charAt(64)&&C--,C%1!==0)throw new Error("Invalid base64 input, bad content length.");var T;for(o.uint8array?T=new Uint8Array(C|0):T=new Array(C|0);p<u.length;)v=a.indexOf(u.charAt(p++)),m=a.indexOf(u.charAt(p++)),x=a.indexOf(u.charAt(p++)),w=a.indexOf(u.charAt(p++)),l=v<<2|m>>4,f=(m&15)<<4|x>>2,d=(x&3)<<6|w,T[g++]=l,x!==64&&(T[g++]=f),w!==64&&(T[g++]=d);return T}},{"./support":30,"./utils":32}],2:[function(t,i,n){var s=t("./external"),o=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function l(f,d,v,m,x){this.compressedSize=f,this.uncompressedSize=d,this.crc32=v,this.compression=m,this.compressedContent=x}l.prototype={getContentWorker:function(){var f=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),d=this;return f.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(f,d,v){return f.pipe(new a).pipe(new u("uncompressedSize")).pipe(d.compressWorker(v)).pipe(new u("compressedSize")).withStreamInfo("compression",d)},i.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,i,n){var s=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,i,n){var s=t("./utils");function o(){for(var f,d=[],v=0;v<256;v++){f=v;for(var m=0;m<8;m++)f=f&1?3988292384^f>>>1:f>>>1;d[v]=f}return d}var a=o();function u(f,d,v,m){var x=a,w=m+v;f=f^-1;for(var p=m;p<w;p++)f=f>>>8^x[(f^d[p])&255];return f^-1}function l(f,d,v,m){var x=a,w=m+v;f=f^-1;for(var p=m;p<w;p++)f=f>>>8^x[(f^d.charCodeAt(p))&255];return f^-1}i.exports=function(d,v){if(typeof d>"u"||!d.length)return 0;var m=s.getTypeOf(d)!=="string";return m?u(v|0,d,d.length,0):l(v|0,d,d.length,0)}},{"./utils":32}],5:[function(t,i,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,i,n){var s=null;typeof Promise<"u"?s=Promise:s=t("lie"),i.exports={Promise:s}},{lie:37}],7:[function(t,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),a=t("./utils"),u=t("./stream/GenericWorker"),l=s?"uint8array":"array";n.magic="\b\0";function f(d,v){u.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=v,this.meta={}}a.inherits(f,u),f.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(l,d.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(v){d.push({data:v,meta:d.meta})}},n.compressWorker=function(d){return new f("Deflate",d)},n.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,i,n){var s=t("../utils"),o=t("../stream/GenericWorker"),a=t("../utf8"),u=t("../crc32"),l=t("../signature"),f=function(g,y){var C="",T;for(T=0;T<y;T++)C+=String.fromCharCode(g&255),g=g>>>8;return C},d=function(g,y){var C=g;return g||(C=y?16893:33204),(C&65535)<<16},v=function(g){return(g||0)&63},m=function(g,y,C,T,_,R){var O=g.file,k=g.compression,S=R!==a.utf8encode,I=s.transformTo("string",R(O.name)),$=s.transformTo("string",a.utf8encode(O.name)),j=O.comment,K=s.transformTo("string",R(j)),ae=s.transformTo("string",a.utf8encode(j)),le=$.length!==O.name.length,ue=ae.length!==j.length,ee,Y,be="",ke="",ce="",we=O.dir,Be=O.date,Re={crc32:0,compressedSize:0,uncompressedSize:0};(!y||C)&&(Re.crc32=g.crc32,Re.compressedSize=g.compressedSize,Re.uncompressedSize=g.uncompressedSize);var Ue=0;y&&(Ue|=8),!S&&(le||ue)&&(Ue|=2048);var et=0,$e=0;we&&(et|=16),_==="UNIX"?($e=798,et|=d(O.unixPermissions,we)):($e=20,et|=v(O.dosPermissions)),ee=Be.getUTCHours(),ee=ee<<6,ee=ee|Be.getUTCMinutes(),ee=ee<<5,ee=ee|Be.getUTCSeconds()/2,Y=Be.getUTCFullYear()-1980,Y=Y<<4,Y=Y|Be.getUTCMonth()+1,Y=Y<<5,Y=Y|Be.getUTCDate(),le&&(ke=f(1,1)+f(u(I),4)+$,be+="up"+f(ke.length,2)+ke),ue&&(ce=f(1,1)+f(u(K),4)+ae,be+="uc"+f(ce.length,2)+ce);var Ne="";Ne+=`
\0`,Ne+=f(Ue,2),Ne+=k.magic,Ne+=f(ee,2),Ne+=f(Y,2),Ne+=f(Re.crc32,4),Ne+=f(Re.compressedSize,4),Ne+=f(Re.uncompressedSize,4),Ne+=f(I.length,2),Ne+=f(be.length,2);var Ye=l.LOCAL_FILE_HEADER+Ne+I+be,Je=l.CENTRAL_FILE_HEADER+f($e,2)+Ne+f(K.length,2)+"\0\0\0\0"+f(et,4)+f(T,4)+I+be+K;return{fileRecord:Ye,dirRecord:Je}},x=function(g,y,C,T,_){var R="",O=s.transformTo("string",_(T));return R=l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(g,2)+f(g,2)+f(y,4)+f(C,4)+f(O.length,2)+O,R},w=function(g){var y="";return y=l.DATA_DESCRIPTOR+f(g.crc32,4)+f(g.compressedSize,4)+f(g.uncompressedSize,4),y};function p(g,y,C,T){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=y,this.zipPlatform=C,this.encodeFileName=T,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(p,o),p.prototype.push=function(g){var y=g.meta.percent||0,C=this.entriesCount,T=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,o.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:C?(y+100*(C-T-1))/C:100}}))},p.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var y=this.streamFiles&&!g.file.dir;if(y){var C=m(g,y,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:C.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(g){this.accumulate=!1;var y=this.streamFiles&&!g.file.dir,C=m(g,y,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(C.dirRecord),y)this.push({data:w(g),meta:{percent:100}});else for(this.push({data:C.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var g=this.bytesWritten,y=0;y<this.dirRecords.length;y++)this.push({data:this.dirRecords[y],meta:{percent:100}});var C=this.bytesWritten-g,T=x(this.dirRecords.length,C,g,this.zipComment,this.encodeFileName);this.push({data:T,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(g){this._sources.push(g);var y=this;return g.on("data",function(C){y.processChunk(C)}),g.on("end",function(){y.closedSource(y.previous.streamInfo),y._sources.length?y.prepareNextSource():y.end()}),g.on("error",function(C){y.error(C)}),this},p.prototype.resume=function(){if(!o.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},p.prototype.error=function(g){var y=this._sources;if(!o.prototype.error.call(this,g))return!1;for(var C=0;C<y.length;C++)try{y[C].error(g)}catch{}return!0},p.prototype.lock=function(){o.prototype.lock.call(this);for(var g=this._sources,y=0;y<g.length;y++)g[y].lock()},i.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,i,n){var s=t("../compressions"),o=t("./ZipFileWorker"),a=function(u,l){var f=u||l,d=s[f];if(!d)throw new Error(f+" is not a valid compression method !");return d};n.generateWorker=function(u,l,f){var d=new o(l.streamFiles,f,l.platform,l.encodeFileName),v=0;try{u.forEach(function(m,x){v++;var w=a(x.options.compression,l.compression),p=x.options.compressionOptions||l.compressionOptions||{},g=x.dir,y=x.date;x._compressWorker(w,p).withStreamInfo("file",{name:m,dir:g,date:y,comment:x.comment||"",unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions}).pipe(d)}),d.entriesCount=v}catch(m){d.error(m)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,i,n){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}s.prototype=t("./object"),s.prototype.loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=t("./external"),i.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,i,n){var s=t("./utils"),o=t("./external"),a=t("./utf8"),u=t("./zipEntries"),l=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function d(v){return new o.Promise(function(m,x){var w=v.decompressed.getContentWorker().pipe(new l);w.on("error",function(p){x(p)}).on("end",function(){w.streamInfo.crc32!==v.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}i.exports=function(v,m){var x=this;return m=s.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),f.isNode&&f.isStream(v)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",v,!0,m.optimizedBinaryString,m.base64).then(function(w){var p=new u(m);return p.load(w),p}).then(function(p){var g=[o.Promise.resolve(p)],y=p.files;if(m.checkCRC32)for(var C=0;C<y.length;C++)g.push(d(y[C]));return o.Promise.all(g)}).then(function(p){for(var g=p.shift(),y=g.files,C=0;C<y.length;C++){var T=y[C],_=T.fileNameStr,R=s.resolve(T.fileNameStr);x.file(R,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:m.createFolders}),T.dir||(x.file(R).unsafeOriginalName=_)}return g.zipComment.length&&(x.comment=g.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,i,n){var s=t("../utils"),o=t("../stream/GenericWorker");function a(u,l){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(l)}s.inherits(a,o),a.prototype._bindStream=function(u){var l=this;this._stream=u,u.pause(),u.on("data",function(f){l.push({data:f,meta:{percent:0}})}).on("error",function(f){l.isPaused?this.generatedError=f:l.error(f)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},a.prototype.pause=function(){return o.prototype.pause.call(this)?(this._stream.pause(),!0):!1},a.prototype.resume=function(){return o.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},i.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,i,n){var s=t("readable-stream").Readable,o=t("../utils");o.inherits(a,s);function a(u,l,f){s.call(this,l),this._helper=u;var d=this;u.on("data",function(v,m){d.push(v)||d._helper.pause(),f&&f(m)}).on("error",function(v){d.emit("error",v)}).on("end",function(){d.push(null)})}a.prototype._read=function(){this._helper.resume()},i.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,i,n){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,i,n){var s=t("./utf8"),o=t("./utils"),a=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),l=t("./defaults"),f=t("./compressedObject"),d=t("./zipObject"),v=t("./generate"),m=t("./nodejsUtils"),x=t("./nodejs/NodejsStreamInputAdapter"),w=function(_,R,O){var k=o.getTypeOf(R),S,I=o.extend(O||{},l);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&I.unixPermissions&16384&&(I.dir=!0),I.dosPermissions&&I.dosPermissions&16&&(I.dir=!0),I.dir&&(_=g(_)),I.createFolders&&(S=p(_))&&y.call(this,S,!0);var $=k==="string"&&I.binary===!1&&I.base64===!1;(!O||typeof O.binary>"u")&&(I.binary=!$);var j=R instanceof f&&R.uncompressedSize===0;(j||I.dir||!R||R.length===0)&&(I.base64=!1,I.binary=!0,R="",I.compression="STORE",k="string");var K=null;R instanceof f||R instanceof a?K=R:m.isNode&&m.isStream(R)?K=new x(_,R):K=o.prepareContent(_,R,I.binary,I.optimizedBinaryString,I.base64);var ae=new d(_,K,I);this.files[_]=ae},p=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var R=_.lastIndexOf("/");return R>0?_.substring(0,R):""},g=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},y=function(_,R){return R=typeof R<"u"?R:l.createFolders,_=g(_),this.files[_]||w.call(this,_,null,{dir:!0,createFolders:R}),this.files[_]};function C(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var R,O,k;for(R in this.files)k=this.files[R],O=R.slice(this.root.length,R.length),O&&R.slice(0,this.root.length)===this.root&&_(O,k)},filter:function(_){var R=[];return this.forEach(function(O,k){_(O,k)&&R.push(k)}),R},file:function(_,R,O){if(arguments.length===1)if(C(_)){var k=_;return this.filter(function(I,$){return!$.dir&&k.test(I)})}else{var S=this.files[this.root+_];return S&&!S.dir?S:null}else _=this.root+_,w.call(this,_,R,O);return this},folder:function(_){if(!_)return this;if(C(_))return this.filter(function(S,I){return I.dir&&_.test(S)});var R=this.root+_,O=y.call(this,R),k=this.clone();return k.root=O.name,k},remove:function(_){_=this.root+_;var R=this.files[_];if(R||(_.slice(-1)!=="/"&&(_+="/"),R=this.files[_]),R&&!R.dir)delete this.files[_];else for(var O=this.filter(function(S,I){return I.name.slice(0,_.length)===_}),k=0;k<O.length;k++)delete this.files[O[k].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var R,O={};try{if(O=o.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode}),O.type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");o.checkSupport(O.type),(O.platform==="darwin"||O.platform==="freebsd"||O.platform==="linux"||O.platform==="sunos")&&(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var k=O.comment||this.comment||"";R=v.generateWorker(this,O,k)}catch(S){R=new a("error"),R.error(S)}return new u(R,O.type||"string",O.mimeType)},generateAsync:function(_,R){return this.generateInternalStream(_).accumulate(R)},generateNodeStream:function(_,R){return _=_||{},_.type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(R)}};i.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,i,n){i.exports=t("stream")},{stream:void 0}],17:[function(t,i,n){var s=t("./DataReader"),o=t("../utils");function a(u){s.call(this,u);for(var l=0;l<this.data.length;l++)u[l]=u[l]&255}o.inherits(a,s),a.prototype.byteAt=function(u){return this.data[this.zero+u]},a.prototype.lastIndexOfSignature=function(u){for(var l=u.charCodeAt(0),f=u.charCodeAt(1),d=u.charCodeAt(2),v=u.charCodeAt(3),m=this.length-4;m>=0;--m)if(this.data[m]===l&&this.data[m+1]===f&&this.data[m+2]===d&&this.data[m+3]===v)return m-this.zero;return-1},a.prototype.readAndCheckSignature=function(u){var l=u.charCodeAt(0),f=u.charCodeAt(1),d=u.charCodeAt(2),v=u.charCodeAt(3),m=this.readData(4);return l===m[0]&&f===m[1]&&d===m[2]&&v===m[3]},a.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},i.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,i,n){var s=t("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var u=0,l;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC((a>>25&127)+1980,(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(a&31)<<1))}},i.exports=o},{"../utils":32}],19:[function(t,i,n){var s=t("./Uint8ArrayReader"),o=t("../utils");function a(u){s.call(this,u)}o.inherits(a,s),a.prototype.readData=function(u){this.checkOffset(u);var l=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},i.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,i,n){var s=t("./DataReader"),o=t("../utils");function a(u){s.call(this,u)}o.inherits(a,s),a.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},a.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},a.prototype.readAndCheckSignature=function(u){var l=this.readData(4);return u===l},a.prototype.readData=function(u){this.checkOffset(u);var l=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},i.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,i,n){var s=t("./ArrayReader"),o=t("../utils");function a(u){s.call(this,u)}o.inherits(a,s),a.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,l},i.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,i,n){var s=t("../utils"),o=t("../support"),a=t("./ArrayReader"),u=t("./StringReader"),l=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");i.exports=function(d){var v=s.getTypeOf(d);return s.checkSupport(v),v==="string"&&!o.uint8array?new u(d):v==="nodebuffer"?new l(d):o.uint8array?new f(s.transformTo("uint8array",d)):new a(s.transformTo("array",d))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,i,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,i,n){var s=t("./GenericWorker"),o=t("../utils");function a(u){s.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(a,s),a.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},i.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,i,n){var s=t("./GenericWorker"),o=t("../crc32"),a=t("../utils");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a.inherits(u,s),u.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},i.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,i,n){var s=t("../utils"),o=t("./GenericWorker");function a(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(a,o),a.prototype.processChunk=function(u){if(u){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+u.data.length}o.prototype.processChunk.call(this,u)},i.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,i,n){var s=t("../utils"),o=t("./GenericWorker"),a=16*1024;function u(l){o.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(d){f.dataIsReady=!0,f.data=d,f.max=d&&d.length||0,f.type=s.getTypeOf(d),f.isPaused||f._tickAndRepeat()},function(d){f.error(d)})}s.inherits(u,o),u.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return o.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0):!1},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=a,f=null,d=Math.min(this.max,this.index+l);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,d);break;case"uint8array":f=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":f=this.data.slice(this.index,d);break}return this.index=d,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(t,i,n){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return this.isFinished?!1:(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(u){a.processChunk(u)}),o.on("end",function(){a.end()}),o.on("error",function(u){a.error(u)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var o=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},i.exports=s},{}],29:[function(t,i,n){var s=t("../utils"),o=t("./ConvertWorker"),a=t("./GenericWorker"),u=t("../base64"),l=t("../support"),f=t("../external"),d=null;if(l.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(p,g,y){switch(p){case"blob":return s.newBlob(s.transformTo("arraybuffer",g),y);case"base64":return u.encode(g);default:return s.transformTo(p,g)}}function m(p,g){var y,C=0,T=null,_=0;for(y=0;y<g.length;y++)_+=g[y].length;switch(p){case"string":return g.join("");case"array":return Array.prototype.concat.apply([],g);case"uint8array":for(T=new Uint8Array(_),y=0;y<g.length;y++)T.set(g[y],C),C+=g[y].length;return T;case"nodebuffer":return Buffer.concat(g);default:throw new Error("concat : unsupported type '"+p+"'")}}function x(p,g){return new f.Promise(function(y,C){var T=[],_=p._internalType,R=p._outputType,O=p._mimeType;p.on("data",function(k,S){T.push(k),g&&g(S)}).on("error",function(k){T=[],C(k)}).on("end",function(){try{var k=v(R,m(_,T),O);y(k)}catch(S){C(S)}T=[]}).resume()})}function w(p,g,y){var C=g;switch(g){case"blob":case"arraybuffer":C="uint8array";break;case"base64":C="string";break}try{this._internalType=C,this._outputType=g,this._mimeType=y,s.checkSupport(C),this._worker=p.pipe(new o(C)),p.lock()}catch(T){this._worker=new a("error"),this._worker.error(T)}}w.prototype={accumulate:function(p){return x(this,p)},on:function(p,g){var y=this;return p==="data"?this._worker.on(p,function(C){g.call(y,C.data,C.meta)}):this._worker.on(p,function(){s.delay(g,arguments,y)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},p)}},i.exports=w},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,i,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var s=new ArrayBuffer(0);try{n.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,a=new o;a.append(s),n.blob=a.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(t,i,n){for(var s=t("./utils"),o=t("./support"),a=t("./nodejsUtils"),u=t("./stream/GenericWorker"),l=new Array(256),f=0;f<256;f++)l[f]=f>=252?6:f>=248?5:f>=240?4:f>=224?3:f>=192?2:1;l[254]=l[254]=1;var d=function(p){var g,y,C,T,_,R=p.length,O=0;for(T=0;T<R;T++)y=p.charCodeAt(T),(y&64512)===55296&&T+1<R&&(C=p.charCodeAt(T+1),(C&64512)===56320&&(y=65536+(y-55296<<10)+(C-56320),T++)),O+=y<128?1:y<2048?2:y<65536?3:4;for(o.uint8array?g=new Uint8Array(O):g=new Array(O),_=0,T=0;_<O;T++)y=p.charCodeAt(T),(y&64512)===55296&&T+1<R&&(C=p.charCodeAt(T+1),(C&64512)===56320&&(y=65536+(y-55296<<10)+(C-56320),T++)),y<128?g[_++]=y:y<2048?(g[_++]=192|y>>>6,g[_++]=128|y&63):y<65536?(g[_++]=224|y>>>12,g[_++]=128|y>>>6&63,g[_++]=128|y&63):(g[_++]=240|y>>>18,g[_++]=128|y>>>12&63,g[_++]=128|y>>>6&63,g[_++]=128|y&63);return g},v=function(p,g){var y;for(g=g||p.length,g>p.length&&(g=p.length),y=g-1;y>=0&&(p[y]&192)===128;)y--;return y<0||y===0?g:y+l[p[y]]>g?y:g},m=function(p){var g,y,C,T,_=p.length,R=new Array(_*2);for(y=0,g=0;g<_;){if(C=p[g++],C<128){R[y++]=C;continue}if(T=l[C],T>4){R[y++]=65533,g+=T-1;continue}for(C&=T===2?31:T===3?15:7;T>1&&g<_;)C=C<<6|p[g++]&63,T--;if(T>1){R[y++]=65533;continue}C<65536?R[y++]=C:(C-=65536,R[y++]=55296|C>>10&1023,R[y++]=56320|C&1023)}return R.length!==y&&(R.subarray?R=R.subarray(0,y):R.length=y),s.applyFromCharCode(R)};n.utf8encode=function(g){return o.nodebuffer?a.newBufferFrom(g,"utf-8"):d(g)},n.utf8decode=function(g){return o.nodebuffer?s.transformTo("nodebuffer",g).toString("utf-8"):(g=s.transformTo(o.uint8array?"uint8array":"array",g),m(g))};function x(){u.call(this,"utf-8 decode"),this.leftOver=null}s.inherits(x,u),x.prototype.processChunk=function(p){var g=s.transformTo(o.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=g;g=new Uint8Array(y.length+this.leftOver.length),g.set(this.leftOver,0),g.set(y,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var C=v(g),T=g;C!==g.length&&(o.uint8array?(T=g.subarray(0,C),this.leftOver=g.subarray(C,g.length)):(T=g.slice(0,C),this.leftOver=g.slice(C,g.length))),this.push({data:n.utf8decode(T),meta:p.meta})},x.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=x;function w(){u.call(this,"utf-8 encode")}s.inherits(w,u),w.prototype.processChunk=function(p){this.push({data:n.utf8encode(p.data),meta:p.meta})},n.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,i,n){var s=t("./support"),o=t("./base64"),a=t("./nodejsUtils"),u=t("./external");t("setimmediate");function l(p){var g=null;return s.uint8array?g=new Uint8Array(p.length):g=new Array(p.length),d(p,g)}n.newBlob=function(p,g){n.checkSupport("blob");try{return new Blob([p],{type:g})}catch{try{var y=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,C=new y;return C.append(p),C.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};function f(p){return p}function d(p,g){for(var y=0;y<p.length;++y)g[y]=p.charCodeAt(y)&255;return g}var v={stringifyByChunk:function(p,g,y){var C=[],T=0,_=p.length;if(_<=y)return String.fromCharCode.apply(null,p);for(;T<_;)g==="array"||g==="nodebuffer"?C.push(String.fromCharCode.apply(null,p.slice(T,Math.min(T+y,_)))):C.push(String.fromCharCode.apply(null,p.subarray(T,Math.min(T+y,_)))),T+=y;return C.join("")},stringifyByChar:function(p){for(var g="",y=0;y<p.length;y++)g+=String.fromCharCode(p[y]);return g},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}})()}};function m(p){var g=65536,y=n.getTypeOf(p),C=!0;if(y==="uint8array"?C=v.applyCanBeUsed.uint8array:y==="nodebuffer"&&(C=v.applyCanBeUsed.nodebuffer),C)for(;g>1;)try{return v.stringifyByChunk(p,y,g)}catch{g=Math.floor(g/2)}return v.stringifyByChar(p)}n.applyFromCharCode=m;function x(p,g){for(var y=0;y<p.length;y++)g[y]=p[y];return g}var w={};w.string={string:f,array:function(p){return d(p,new Array(p.length))},arraybuffer:function(p){return w.string.uint8array(p).buffer},uint8array:function(p){return d(p,new Uint8Array(p.length))},nodebuffer:function(p){return d(p,a.allocBuffer(p.length))}},w.array={string:m,array:f,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(p)}},w.arraybuffer={string:function(p){return m(new Uint8Array(p))},array:function(p){return x(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:f,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return a.newBufferFrom(new Uint8Array(p))}},w.uint8array={string:m,array:function(p){return x(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:f,nodebuffer:function(p){return a.newBufferFrom(p)}},w.nodebuffer={string:m,array:function(p){return x(p,new Array(p.length))},arraybuffer:function(p){return w.nodebuffer.uint8array(p).buffer},uint8array:function(p){return x(p,new Uint8Array(p.length))},nodebuffer:f},n.transformTo=function(p,g){if(g||(g=""),!p)return g;n.checkSupport(p);var y=n.getTypeOf(g),C=w[y][p](g);return C},n.resolve=function(p){for(var g=p.split("/"),y=[],C=0;C<g.length;C++){var T=g[C];T==="."||T===""&&C!==0&&C!==g.length-1||(T===".."?y.pop():y.push(T))}return y.join("/")},n.getTypeOf=function(p){if(typeof p=="string")return"string";if(Object.prototype.toString.call(p)==="[object Array]")return"array";if(s.nodebuffer&&a.isBuffer(p))return"nodebuffer";if(s.uint8array&&p instanceof Uint8Array)return"uint8array";if(s.arraybuffer&&p instanceof ArrayBuffer)return"arraybuffer"},n.checkSupport=function(p){var g=s[p.toLowerCase()];if(!g)throw new Error(p+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(p){var g="",y,C;for(C=0;C<(p||"").length;C++)y=p.charCodeAt(C),g+="\\x"+(y<16?"0":"")+y.toString(16).toUpperCase();return g},n.delay=function(p,g,y){setImmediate(function(){p.apply(y||null,g||[])})},n.inherits=function(p,g){var y=function(){};y.prototype=g.prototype,p.prototype=new y},n.extend=function(){var p={},g,y;for(g=0;g<arguments.length;g++)for(y in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],y)&&typeof p[y]>"u"&&(p[y]=arguments[g][y]);return p},n.prepareContent=function(p,g,y,C,T){var _=u.Promise.resolve(g).then(function(R){var O=s.blob&&(R instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(R))!==-1);return O&&typeof FileReader<"u"?new u.Promise(function(k,S){var I=new FileReader;I.onload=function($){k($.target.result)},I.onerror=function($){S($.target.error)},I.readAsArrayBuffer(R)}):R});return _.then(function(R){var O=n.getTypeOf(R);return O?(O==="arraybuffer"?R=n.transformTo("uint8array",R):O==="string"&&(T?R=o.decode(R):y&&C!==!0&&(R=l(R))),R):u.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,i,n){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./signature"),u=t("./zipEntry"),l=t("./support");function f(d){this.files=[],this.loadOptions=d}f.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(v)+", expected "+o.pretty(d)+")")}},isSignature:function(d,v){var m=this.reader.index;this.reader.setIndex(d);var x=this.reader.readString(4),w=x===v;return this.reader.setIndex(m),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),v=l.uint8array?"uint8array":"array",m=o.transformTo(v,d);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d=this.zip64EndOfCentralSize-44,v=0,m,x,w;v<d;)m=this.reader.readInt(2),x=this.reader.readInt(4),w=this.reader.readData(x),this.zip64ExtensibleData[m]={id:m,length:x,value:w}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,v;for(d=0;d<this.files.length;d++)v=this.files[d],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)d=new u({zip64:this.zip64},this.loadOptions),d.readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0){var v=!this.isSignature(0,a.LOCAL_FILE_HEADER);throw v?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(d);var m=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),d<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var x=this.centralDirOffset+this.centralDirSize;this.zip64&&(x+=20,x+=12+this.zip64EndOfCentralSize);var w=m-x;if(w>0)this.isSignature(m,a.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(d){this.reader=s(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,i,n){var s=t("./reader/readerFor"),o=t("./utils"),a=t("./compressedObject"),u=t("./crc32"),l=t("./utf8"),f=t("./compressions"),d=t("./support"),v=0,m=3,x=function(p){for(var g in f)if(Object.prototype.hasOwnProperty.call(f,g)&&f[g].magic===p)return f[g];return null};function w(p,g){this.options=p,this.loadOptions=g}w.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(p){var g,y;if(p.skip(22),this.fileNameLength=p.readInt(2),y=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(g=x(this.compressionMethod),g===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,g,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var g=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(g),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),p===v&&(this.dosPermissions=this.externalFileAttributes&63),p===m&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var g=p.index+this.extraFieldsLength,y,C,T;for(this.extraFields||(this.extraFields={});p.index+4<g;)y=p.readInt(2),C=p.readInt(2),T=p.readData(C),this.extraFields[y]={id:y,length:C,value:T};p.setIndex(g)},handleUTF8:function(){var p=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var y=o.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var C=this.findExtraFieldUnicodeComment();if(C!==null)this.fileCommentStr=C;else{var T=o.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(T)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var g=s(p.value);return g.readInt(1)!==1||u(this.fileName)!==g.readInt(4)?null:l.utf8decode(g.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var g=s(p.value);return g.readInt(1)!==1||u(this.fileComment)!==g.readInt(4)?null:l.utf8decode(g.readData(p.length-5))}return null}},i.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,i,n){var s=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),a=t("./utf8"),u=t("./compressedObject"),l=t("./stream/GenericWorker"),f=function(x,w,p){this.name=x,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=w,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}};f.prototype={internalStream:function(x){var w=null,p="string";try{if(!x)throw new Error("No output type specified.");p=x.toLowerCase();var g=p==="string"||p==="text";(p==="binarystring"||p==="text")&&(p="string"),w=this._decompressWorker();var y=!this._dataBinary;y&&!g&&(w=w.pipe(new a.Utf8EncodeWorker)),!y&&g&&(w=w.pipe(new a.Utf8DecodeWorker))}catch(C){w=new l("error"),w.error(C)}return new s(w,p,"")},async:function(x,w){return this.internalStream(x).accumulate(w)},nodeStream:function(x,w){return this.internalStream(x||"nodebuffer").toNodejsStream(w)},_compressWorker:function(x,w){if(this._data instanceof u&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new a.Utf8EncodeWorker)),u.createWorkerFrom(p,x,w)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<d.length;m++)f.prototype[d[m]]=v;i.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,i,n){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(x),f=s.document.createTextNode("");l.observe(f,{characterData:!0}),a=function(){f.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=x,a=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var p=s.document.createElement("script");p.onreadystatechange=function(){x(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},s.document.documentElement.appendChild(p)}:a=function(){setTimeout(x,0)};var v,m=[];function x(){v=!0;for(var p,g,y=m.length;y;){for(g=m,m=[],p=-1;++p<y;)g[p]();y=m.length}v=!1}i.exports=w;function w(p){m.push(p)===1&&!v&&a()}}).call(this,typeof Kt<"u"?Kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,i,n){var s=t("immediate");function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],f=["PENDING"];i.exports=d;function d(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,_!==o&&w(this,_)}d.prototype.finally=function(_){if(typeof _!="function")return this;var R=this.constructor;return this.then(O,k);function O(S){function I(){return S}return R.resolve(_()).then(I)}function k(S){function I(){throw S}return R.resolve(_()).then(I)}},d.prototype.catch=function(_){return this.then(null,_)},d.prototype.then=function(_,R){if(typeof _!="function"&&this.state===l||typeof R!="function"&&this.state===u)return this;var O=new this.constructor(o);if(this.state!==f){var k=this.state===l?_:R;m(O,k,this.outcome)}else this.queue.push(new v(O,_,R));return O};function v(_,R,O){this.promise=_,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(_){a.resolve(this.promise,_)},v.prototype.otherCallFulfilled=function(_){m(this.promise,this.onFulfilled,_)},v.prototype.callRejected=function(_){a.reject(this.promise,_)},v.prototype.otherCallRejected=function(_){m(this.promise,this.onRejected,_)};function m(_,R,O){s(function(){var k;try{k=R(O)}catch(S){return a.reject(_,S)}k===_?a.reject(_,new TypeError("Cannot resolve promise with itself")):a.resolve(_,k)})}a.resolve=function(_,R){var O=p(x,R);if(O.status==="error")return a.reject(_,O.value);var k=O.value;if(k)w(_,k);else{_.state=l,_.outcome=R;for(var S=-1,I=_.queue.length;++S<I;)_.queue[S].callFulfilled(R)}return _},a.reject=function(_,R){_.state=u,_.outcome=R;for(var O=-1,k=_.queue.length;++O<k;)_.queue[O].callRejected(R);return _};function x(_){var R=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof R=="function")return function(){R.apply(_,arguments)}}function w(_,R){var O=!1;function k(j){O||(O=!0,a.reject(_,j))}function S(j){O||(O=!0,a.resolve(_,j))}function I(){R(S,k)}var $=p(I);$.status==="error"&&k($.value)}function p(_,R){var O={};try{O.value=_(R),O.status="success"}catch(k){O.status="error",O.value=k}return O}d.resolve=g;function g(_){return _ instanceof this?_:a.resolve(new this(o),_)}d.reject=y;function y(_){var R=new this(o);return a.reject(R,_)}d.all=C;function C(_){var R=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=_.length,k=!1;if(!O)return this.resolve([]);for(var S=new Array(O),I=0,$=-1,j=new this(o);++$<O;)K(_[$],$);return j;function K(ae,le){R.resolve(ae).then(ue,function(ee){k||(k=!0,a.reject(j,ee))});function ue(ee){S[le]=ee,++I===O&&!k&&(k=!0,a.resolve(j,S))}}}d.race=T;function T(_){var R=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=_.length,k=!1;if(!O)return this.resolve([]);for(var S=-1,I=new this(o);++S<O;)$(_[S]);return I;function $(j){R.resolve(j).then(function(K){k||(k=!0,a.resolve(I,K))},function(K){k||(k=!0,a.reject(I,K))})}}},{immediate:36}],38:[function(t,i,n){var s=t("./lib/utils/common").assign,o=t("./lib/deflate"),a=t("./lib/inflate"),u=t("./lib/zlib/constants"),l={};s(l,o,a,u),i.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,i,n){var s=t("./zlib/deflate"),o=t("./utils/common"),a=t("./utils/strings"),u=t("./zlib/messages"),l=t("./zlib/zstream"),f=Object.prototype.toString,d=0,v=4,m=0,x=1,w=2,p=-1,g=0,y=8;function C(O){if(!(this instanceof C))return new C(O);this.options=o.assign({level:p,method:y,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},O||{});var k=this.options;k.raw&&k.windowBits>0?k.windowBits=-k.windowBits:k.gzip&&k.windowBits>0&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var S=s.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(S!==m)throw new Error(u[S]);if(k.header&&s.deflateSetHeader(this.strm,k.header),k.dictionary){var I;if(typeof k.dictionary=="string"?I=a.string2buf(k.dictionary):f.call(k.dictionary)==="[object ArrayBuffer]"?I=new Uint8Array(k.dictionary):I=k.dictionary,S=s.deflateSetDictionary(this.strm,I),S!==m)throw new Error(u[S]);this._dict_set=!0}}C.prototype.push=function(O,k){var S=this.strm,I=this.options.chunkSize,$,j;if(this.ended)return!1;j=k===~~k?k:k===!0?v:d,typeof O=="string"?S.input=a.string2buf(O):f.call(O)==="[object ArrayBuffer]"?S.input=new Uint8Array(O):S.input=O,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new o.Buf8(I),S.next_out=0,S.avail_out=I),$=s.deflate(S,j),$!==x&&$!==m)return this.onEnd($),this.ended=!0,!1;(S.avail_out===0||S.avail_in===0&&(j===v||j===w))&&(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(S.output,S.next_out))):this.onData(o.shrinkBuf(S.output,S.next_out)))}while((S.avail_in>0||S.avail_out===0)&&$!==x);return j===v?($=s.deflateEnd(this.strm),this.onEnd($),this.ended=!0,$===m):(j===w&&(this.onEnd(m),S.avail_out=0),!0)},C.prototype.onData=function(O){this.chunks.push(O)},C.prototype.onEnd=function(O){O===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg};function T(O,k){var S=new C(k);if(S.push(O,!0),S.err)throw S.msg||u[S.err];return S.result}function _(O,k){return k=k||{},k.raw=!0,T(O,k)}function R(O,k){return k=k||{},k.gzip=!0,T(O,k)}n.Deflate=C,n.deflate=T,n.deflateRaw=_,n.gzip=R},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,i,n){var s=t("./zlib/inflate"),o=t("./utils/common"),a=t("./utils/strings"),u=t("./zlib/constants"),l=t("./zlib/messages"),f=t("./zlib/zstream"),d=t("./zlib/gzheader"),v=Object.prototype.toString;function m(p){if(!(this instanceof m))return new m(p);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},p||{});var g=this.options;g.raw&&g.windowBits>=0&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),g.windowBits>=0&&g.windowBits<16&&!(p&&p.windowBits)&&(g.windowBits+=32),g.windowBits>15&&g.windowBits<48&&(g.windowBits&15)===0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var y=s.inflateInit2(this.strm,g.windowBits);if(y!==u.Z_OK)throw new Error(l[y]);this.header=new d,s.inflateGetHeader(this.strm,this.header)}m.prototype.push=function(p,g){var y=this.strm,C=this.options.chunkSize,T=this.options.dictionary,_,R,O,k,S,I,$=!1;if(this.ended)return!1;R=g===~~g?g:g===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof p=="string"?y.input=a.binstring2buf(p):v.call(p)==="[object ArrayBuffer]"?y.input=new Uint8Array(p):y.input=p,y.next_in=0,y.avail_in=y.input.length;do{if(y.avail_out===0&&(y.output=new o.Buf8(C),y.next_out=0,y.avail_out=C),_=s.inflate(y,u.Z_NO_FLUSH),_===u.Z_NEED_DICT&&T&&(typeof T=="string"?I=a.string2buf(T):v.call(T)==="[object ArrayBuffer]"?I=new Uint8Array(T):I=T,_=s.inflateSetDictionary(this.strm,I)),_===u.Z_BUF_ERROR&&$===!0&&(_=u.Z_OK,$=!1),_!==u.Z_STREAM_END&&_!==u.Z_OK)return this.onEnd(_),this.ended=!0,!1;y.next_out&&(y.avail_out===0||_===u.Z_STREAM_END||y.avail_in===0&&(R===u.Z_FINISH||R===u.Z_SYNC_FLUSH))&&(this.options.to==="string"?(O=a.utf8border(y.output,y.next_out),k=y.next_out-O,S=a.buf2string(y.output,O),y.next_out=k,y.avail_out=C-k,k&&o.arraySet(y.output,y.output,O,k,0),this.onData(S)):this.onData(o.shrinkBuf(y.output,y.next_out))),y.avail_in===0&&y.avail_out===0&&($=!0)}while((y.avail_in>0||y.avail_out===0)&&_!==u.Z_STREAM_END);return _===u.Z_STREAM_END&&(R=u.Z_FINISH),R===u.Z_FINISH?(_=s.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===u.Z_OK):(R===u.Z_SYNC_FLUSH&&(this.onEnd(u.Z_OK),y.avail_out=0),!0)},m.prototype.onData=function(p){this.chunks.push(p)},m.prototype.onEnd=function(p){p===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg};function x(p,g){var y=new m(g);if(y.push(p,!0),y.err)throw y.msg||l[y.err];return y.result}function w(p,g){return g=g||{},g.raw=!0,x(p,g)}n.Inflate=m,n.inflate=x,n.inflateRaw=w,n.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(u){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var f=l.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var d in f)f.hasOwnProperty(d)&&(u[d]=f[d])}}return u},n.shrinkBuf=function(u,l){return u.length===l?u:u.subarray?u.subarray(0,l):(u.length=l,u)};var o={arraySet:function(u,l,f,d,v){if(l.subarray&&u.subarray){u.set(l.subarray(f,f+d),v);return}for(var m=0;m<d;m++)u[v+m]=l[f+m]},flattenChunks:function(u){var l,f,d,v,m,x;for(d=0,l=0,f=u.length;l<f;l++)d+=u[l].length;for(x=new Uint8Array(d),v=0,l=0,f=u.length;l<f;l++)m=u[l],x.set(m,v),v+=m.length;return x}},a={arraySet:function(u,l,f,d,v){for(var m=0;m<d;m++)u[v+m]=l[f+m]},flattenChunks:function(u){return[].concat.apply([],u)}};n.setTyped=function(u){u?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(s)},{}],42:[function(t,i,n){var s=t("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var u=new s.Buf8(256),l=0;l<256;l++)u[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;u[254]=u[254]=1,n.string2buf=function(d){var v,m,x,w,p,g=d.length,y=0;for(w=0;w<g;w++)m=d.charCodeAt(w),(m&64512)===55296&&w+1<g&&(x=d.charCodeAt(w+1),(x&64512)===56320&&(m=65536+(m-55296<<10)+(x-56320),w++)),y+=m<128?1:m<2048?2:m<65536?3:4;for(v=new s.Buf8(y),p=0,w=0;p<y;w++)m=d.charCodeAt(w),(m&64512)===55296&&w+1<g&&(x=d.charCodeAt(w+1),(x&64512)===56320&&(m=65536+(m-55296<<10)+(x-56320),w++)),m<128?v[p++]=m:m<2048?(v[p++]=192|m>>>6,v[p++]=128|m&63):m<65536?(v[p++]=224|m>>>12,v[p++]=128|m>>>6&63,v[p++]=128|m&63):(v[p++]=240|m>>>18,v[p++]=128|m>>>12&63,v[p++]=128|m>>>6&63,v[p++]=128|m&63);return v};function f(d,v){if(v<65537&&(d.subarray&&a||!d.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(d,v));for(var m="",x=0;x<v;x++)m+=String.fromCharCode(d[x]);return m}n.buf2binstring=function(d){return f(d,d.length)},n.binstring2buf=function(d){for(var v=new s.Buf8(d.length),m=0,x=v.length;m<x;m++)v[m]=d.charCodeAt(m);return v},n.buf2string=function(d,v){var m,x,w,p,g=v||d.length,y=new Array(g*2);for(x=0,m=0;m<g;){if(w=d[m++],w<128){y[x++]=w;continue}if(p=u[w],p>4){y[x++]=65533,m+=p-1;continue}for(w&=p===2?31:p===3?15:7;p>1&&m<g;)w=w<<6|d[m++]&63,p--;if(p>1){y[x++]=65533;continue}w<65536?y[x++]=w:(w-=65536,y[x++]=55296|w>>10&1023,y[x++]=56320|w&1023)}return f(y,x)},n.utf8border=function(d,v){var m;for(v=v||d.length,v>d.length&&(v=d.length),m=v-1;m>=0&&(d[m]&192)===128;)m--;return m<0||m===0?v:m+u[d[m]]>v?m:v}},{"./common":41}],43:[function(t,i,n){function s(o,a,u,l){for(var f=o&65535|0,d=o>>>16&65535|0,v=0;u!==0;){v=u>2e3?2e3:u,u-=v;do f=f+a[l++]|0,d=d+f|0;while(--v);f%=65521,d%=65521}return f|d<<16|0}i.exports=s},{}],44:[function(t,i,n){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,i,n){function s(){for(var u,l=[],f=0;f<256;f++){u=f;for(var d=0;d<8;d++)u=u&1?3988292384^u>>>1:u>>>1;l[f]=u}return l}var o=s();function a(u,l,f,d){var v=o,m=d+f;u^=-1;for(var x=d;x<m;x++)u=u>>>8^v[(u^l[x])&255];return u^-1}i.exports=a},{}],46:[function(t,i,n){var s=t("../utils/common"),o=t("./trees"),a=t("./adler32"),u=t("./crc32"),l=t("./messages"),f=0,d=1,v=3,m=4,x=5,w=0,p=1,g=-2,y=-3,C=-5,T=-1,_=1,R=2,O=3,k=4,S=0,I=2,$=8,j=9,K=15,ae=8,le=29,ue=256,ee=ue+1+le,Y=30,be=19,ke=2*ee+1,ce=15,we=3,Be=258,Re=Be+we+1,Ue=32,et=42,$e=69,Ne=73,Ye=91,Je=103,Me=113,B=666,M=1,Z=2,ie=3,te=4,Q=3;function pe(c,P){return c.msg=l[P],P}function he(c){return(c<<1)-(c>4?9:0)}function fe(c){for(var P=c.length;--P>=0;)c[P]=0}function J(c){var P=c.state,W=P.pending;W>c.avail_out&&(W=c.avail_out),W!==0&&(s.arraySet(c.output,P.pending_buf,P.pending_out,W,c.next_out),c.next_out+=W,P.pending_out+=W,c.total_out+=W,c.avail_out-=W,P.pending-=W,P.pending===0&&(P.pending_out=0))}function me(c,P){o._tr_flush_block(c,c.block_start>=0?c.block_start:-1,c.strstart-c.block_start,P),c.block_start=c.strstart,J(c.strm)}function ne(c,P){c.pending_buf[c.pending++]=P}function Ae(c,P){c.pending_buf[c.pending++]=P>>>8&255,c.pending_buf[c.pending++]=P&255}function Oe(c,P,W,E){var F=c.avail_in;return F>E&&(F=E),F===0?0:(c.avail_in-=F,s.arraySet(P,c.input,c.next_in,F,W),c.state.wrap===1?c.adler=a(c.adler,P,F,W):c.state.wrap===2&&(c.adler=u(c.adler,P,F,W)),c.next_in+=F,c.total_in+=F,F)}function Le(c,P){var W=c.max_chain_length,E=c.strstart,F,G,Se=c.prev_length,_e=c.nice_match,xe=c.strstart>c.w_size-Re?c.strstart-(c.w_size-Re):0,Pe=c.window,xt=c.w_mask,Ze=c.prev,ze=c.strstart+Be,at=Pe[E+Se-1],Ge=Pe[E+Se];c.prev_length>=c.good_match&&(W>>=2),_e>c.lookahead&&(_e=c.lookahead);do if(F=P,!(Pe[F+Se]!==Ge||Pe[F+Se-1]!==at||Pe[F]!==Pe[E]||Pe[++F]!==Pe[E+1])){E+=2,F++;do;while(Pe[++E]===Pe[++F]&&Pe[++E]===Pe[++F]&&Pe[++E]===Pe[++F]&&Pe[++E]===Pe[++F]&&Pe[++E]===Pe[++F]&&Pe[++E]===Pe[++F]&&Pe[++E]===Pe[++F]&&Pe[++E]===Pe[++F]&&E<ze);if(G=Be-(ze-E),E=ze-Be,G>Se){if(c.match_start=P,Se=G,G>=_e)break;at=Pe[E+Se-1],Ge=Pe[E+Se]}}while((P=Ze[P&xt])>xe&&--W!==0);return Se<=c.lookahead?Se:c.lookahead}function Ie(c){var P=c.w_size,W,E,F,G,Se;do{if(G=c.window_size-c.lookahead-c.strstart,c.strstart>=P+(P-Re)){s.arraySet(c.window,c.window,P,P,0),c.match_start-=P,c.strstart-=P,c.block_start-=P,E=c.hash_size,W=E;do F=c.head[--W],c.head[W]=F>=P?F-P:0;while(--E);E=P,W=E;do F=c.prev[--W],c.prev[W]=F>=P?F-P:0;while(--E);G+=P}if(c.strm.avail_in===0)break;if(E=Oe(c.strm,c.window,c.strstart+c.lookahead,G),c.lookahead+=E,c.lookahead+c.insert>=we)for(Se=c.strstart-c.insert,c.ins_h=c.window[Se],c.ins_h=(c.ins_h<<c.hash_shift^c.window[Se+1])&c.hash_mask;c.insert&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[Se+we-1])&c.hash_mask,c.prev[Se&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=Se,Se++,c.insert--,!(c.lookahead+c.insert<we)););}while(c.lookahead<Re&&c.strm.avail_in!==0)}function qe(c,P){var W=65535;for(W>c.pending_buf_size-5&&(W=c.pending_buf_size-5);;){if(c.lookahead<=1){if(Ie(c),c.lookahead===0&&P===f)return M;if(c.lookahead===0)break}c.strstart+=c.lookahead,c.lookahead=0;var E=c.block_start+W;if((c.strstart===0||c.strstart>=E)&&(c.lookahead=c.strstart-E,c.strstart=E,me(c,!1),c.strm.avail_out===0)||c.strstart-c.block_start>=c.w_size-Re&&(me(c,!1),c.strm.avail_out===0))return M}return c.insert=0,P===m?(me(c,!0),c.strm.avail_out===0?ie:te):(c.strstart>c.block_start&&(me(c,!1),c.strm.avail_out===0),M)}function nt(c,P){for(var W,E;;){if(c.lookahead<Re){if(Ie(c),c.lookahead<Re&&P===f)return M;if(c.lookahead===0)break}if(W=0,c.lookahead>=we&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+we-1])&c.hash_mask,W=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),W!==0&&c.strstart-W<=c.w_size-Re&&(c.match_length=Le(c,W)),c.match_length>=we)if(E=o._tr_tally(c,c.strstart-c.match_start,c.match_length-we),c.lookahead-=c.match_length,c.match_length<=c.max_lazy_match&&c.lookahead>=we){c.match_length--;do c.strstart++,c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+we-1])&c.hash_mask,W=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart;while(--c.match_length!==0);c.strstart++}else c.strstart+=c.match_length,c.match_length=0,c.ins_h=c.window[c.strstart],c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+1])&c.hash_mask;else E=o._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++;if(E&&(me(c,!1),c.strm.avail_out===0))return M}return c.insert=c.strstart<we-1?c.strstart:we-1,P===m?(me(c,!0),c.strm.avail_out===0?ie:te):c.last_lit&&(me(c,!1),c.strm.avail_out===0)?M:Z}function Qe(c,P){for(var W,E,F;;){if(c.lookahead<Re){if(Ie(c),c.lookahead<Re&&P===f)return M;if(c.lookahead===0)break}if(W=0,c.lookahead>=we&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+we-1])&c.hash_mask,W=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),c.prev_length=c.match_length,c.prev_match=c.match_start,c.match_length=we-1,W!==0&&c.prev_length<c.max_lazy_match&&c.strstart-W<=c.w_size-Re&&(c.match_length=Le(c,W),c.match_length<=5&&(c.strategy===_||c.match_length===we&&c.strstart-c.match_start>4096)&&(c.match_length=we-1)),c.prev_length>=we&&c.match_length<=c.prev_length){F=c.strstart+c.lookahead-we,E=o._tr_tally(c,c.strstart-1-c.prev_match,c.prev_length-we),c.lookahead-=c.prev_length-1,c.prev_length-=2;do++c.strstart<=F&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+we-1])&c.hash_mask,W=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart);while(--c.prev_length!==0);if(c.match_available=0,c.match_length=we-1,c.strstart++,E&&(me(c,!1),c.strm.avail_out===0))return M}else if(c.match_available){if(E=o._tr_tally(c,0,c.window[c.strstart-1]),E&&me(c,!1),c.strstart++,c.lookahead--,c.strm.avail_out===0)return M}else c.match_available=1,c.strstart++,c.lookahead--}return c.match_available&&(E=o._tr_tally(c,0,c.window[c.strstart-1]),c.match_available=0),c.insert=c.strstart<we-1?c.strstart:we-1,P===m?(me(c,!0),c.strm.avail_out===0?ie:te):c.last_lit&&(me(c,!1),c.strm.avail_out===0)?M:Z}function ht(c,P){for(var W,E,F,G,Se=c.window;;){if(c.lookahead<=Be){if(Ie(c),c.lookahead<=Be&&P===f)return M;if(c.lookahead===0)break}if(c.match_length=0,c.lookahead>=we&&c.strstart>0&&(F=c.strstart-1,E=Se[F],E===Se[++F]&&E===Se[++F]&&E===Se[++F])){G=c.strstart+Be;do;while(E===Se[++F]&&E===Se[++F]&&E===Se[++F]&&E===Se[++F]&&E===Se[++F]&&E===Se[++F]&&E===Se[++F]&&E===Se[++F]&&F<G);c.match_length=Be-(G-F),c.match_length>c.lookahead&&(c.match_length=c.lookahead)}if(c.match_length>=we?(W=o._tr_tally(c,1,c.match_length-we),c.lookahead-=c.match_length,c.strstart+=c.match_length,c.match_length=0):(W=o._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++),W&&(me(c,!1),c.strm.avail_out===0))return M}return c.insert=0,P===m?(me(c,!0),c.strm.avail_out===0?ie:te):c.last_lit&&(me(c,!1),c.strm.avail_out===0)?M:Z}function ft(c,P){for(var W;;){if(c.lookahead===0&&(Ie(c),c.lookahead===0)){if(P===f)return M;break}if(c.match_length=0,W=o._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++,W&&(me(c,!1),c.strm.avail_out===0))return M}return c.insert=0,P===m?(me(c,!0),c.strm.avail_out===0?ie:te):c.last_lit&&(me(c,!1),c.strm.avail_out===0)?M:Z}function ot(c,P,W,E,F){this.good_length=c,this.max_lazy=P,this.nice_length=W,this.max_chain=E,this.func=F}var wt;wt=[new ot(0,0,0,0,qe),new ot(4,4,8,4,nt),new ot(4,5,16,8,nt),new ot(4,6,32,32,nt),new ot(4,4,16,16,Qe),new ot(8,16,32,32,Qe),new ot(8,16,128,128,Qe),new ot(8,32,128,256,Qe),new ot(32,128,258,1024,Qe),new ot(32,258,258,4096,Qe)];function dt(c){c.window_size=2*c.w_size,fe(c.head),c.max_lazy_match=wt[c.level].max_lazy,c.good_match=wt[c.level].good_length,c.nice_match=wt[c.level].nice_length,c.max_chain_length=wt[c.level].max_chain,c.strstart=0,c.block_start=0,c.lookahead=0,c.insert=0,c.match_length=c.prev_length=we-1,c.match_available=0,c.ins_h=0}function D(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(ke*2),this.dyn_dtree=new s.Buf16((2*Y+1)*2),this.bl_tree=new s.Buf16((2*be+1)*2),fe(this.dyn_ltree),fe(this.dyn_dtree),fe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(ce+1),this.heap=new s.Buf16(2*ee+1),fe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*ee+1),fe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function oe(c){var P;return!c||!c.state?pe(c,g):(c.total_in=c.total_out=0,c.data_type=I,P=c.state,P.pending=0,P.pending_out=0,P.wrap<0&&(P.wrap=-P.wrap),P.status=P.wrap?et:Me,c.adler=P.wrap===2?0:1,P.last_flush=f,o._tr_init(P),w)}function de(c){var P=oe(c);return P===w&&dt(c.state),P}function De(c,P){return!c||!c.state||c.state.wrap!==2?g:(c.state.gzhead=P,w)}function U(c,P,W,E,F,G){if(!c)return g;var Se=1;if(P===T&&(P=6),E<0?(Se=0,E=-E):E>15&&(Se=2,E-=16),F<1||F>j||W!==$||E<8||E>15||P<0||P>9||G<0||G>k)return pe(c,g);E===8&&(E=9);var _e=new D;return c.state=_e,_e.strm=c,_e.wrap=Se,_e.gzhead=null,_e.w_bits=E,_e.w_size=1<<_e.w_bits,_e.w_mask=_e.w_size-1,_e.hash_bits=F+7,_e.hash_size=1<<_e.hash_bits,_e.hash_mask=_e.hash_size-1,_e.hash_shift=~~((_e.hash_bits+we-1)/we),_e.window=new s.Buf8(_e.w_size*2),_e.head=new s.Buf16(_e.hash_size),_e.prev=new s.Buf16(_e.w_size),_e.lit_bufsize=1<<F+6,_e.pending_buf_size=_e.lit_bufsize*4,_e.pending_buf=new s.Buf8(_e.pending_buf_size),_e.d_buf=1*_e.lit_bufsize,_e.l_buf=3*_e.lit_bufsize,_e.level=P,_e.strategy=G,_e.method=W,de(c)}function re(c,P){return U(c,P,$,K,ae,S)}function h(c,P){var W,E,F,G;if(!c||!c.state||P>x||P<0)return c?pe(c,g):g;if(E=c.state,!c.output||!c.input&&c.avail_in!==0||E.status===B&&P!==m)return pe(c,c.avail_out===0?C:g);if(E.strm=c,W=E.last_flush,E.last_flush=P,E.status===et)if(E.wrap===2)c.adler=0,ne(E,31),ne(E,139),ne(E,8),E.gzhead?(ne(E,(E.gzhead.text?1:0)+(E.gzhead.hcrc?2:0)+(E.gzhead.extra?4:0)+(E.gzhead.name?8:0)+(E.gzhead.comment?16:0)),ne(E,E.gzhead.time&255),ne(E,E.gzhead.time>>8&255),ne(E,E.gzhead.time>>16&255),ne(E,E.gzhead.time>>24&255),ne(E,E.level===9?2:E.strategy>=R||E.level<2?4:0),ne(E,E.gzhead.os&255),E.gzhead.extra&&E.gzhead.extra.length&&(ne(E,E.gzhead.extra.length&255),ne(E,E.gzhead.extra.length>>8&255)),E.gzhead.hcrc&&(c.adler=u(c.adler,E.pending_buf,E.pending,0)),E.gzindex=0,E.status=$e):(ne(E,0),ne(E,0),ne(E,0),ne(E,0),ne(E,0),ne(E,E.level===9?2:E.strategy>=R||E.level<2?4:0),ne(E,Q),E.status=Me);else{var Se=$+(E.w_bits-8<<4)<<8,_e=-1;E.strategy>=R||E.level<2?_e=0:E.level<6?_e=1:E.level===6?_e=2:_e=3,Se|=_e<<6,E.strstart!==0&&(Se|=Ue),Se+=31-Se%31,E.status=Me,Ae(E,Se),E.strstart!==0&&(Ae(E,c.adler>>>16),Ae(E,c.adler&65535)),c.adler=1}if(E.status===$e)if(E.gzhead.extra){for(F=E.pending;E.gzindex<(E.gzhead.extra.length&65535)&&!(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>F&&(c.adler=u(c.adler,E.pending_buf,E.pending-F,F)),J(c),F=E.pending,E.pending===E.pending_buf_size));)ne(E,E.gzhead.extra[E.gzindex]&255),E.gzindex++;E.gzhead.hcrc&&E.pending>F&&(c.adler=u(c.adler,E.pending_buf,E.pending-F,F)),E.gzindex===E.gzhead.extra.length&&(E.gzindex=0,E.status=Ne)}else E.status=Ne;if(E.status===Ne)if(E.gzhead.name){F=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>F&&(c.adler=u(c.adler,E.pending_buf,E.pending-F,F)),J(c),F=E.pending,E.pending===E.pending_buf_size)){G=1;break}E.gzindex<E.gzhead.name.length?G=E.gzhead.name.charCodeAt(E.gzindex++)&255:G=0,ne(E,G)}while(G!==0);E.gzhead.hcrc&&E.pending>F&&(c.adler=u(c.adler,E.pending_buf,E.pending-F,F)),G===0&&(E.gzindex=0,E.status=Ye)}else E.status=Ye;if(E.status===Ye)if(E.gzhead.comment){F=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>F&&(c.adler=u(c.adler,E.pending_buf,E.pending-F,F)),J(c),F=E.pending,E.pending===E.pending_buf_size)){G=1;break}E.gzindex<E.gzhead.comment.length?G=E.gzhead.comment.charCodeAt(E.gzindex++)&255:G=0,ne(E,G)}while(G!==0);E.gzhead.hcrc&&E.pending>F&&(c.adler=u(c.adler,E.pending_buf,E.pending-F,F)),G===0&&(E.status=Je)}else E.status=Je;if(E.status===Je&&(E.gzhead.hcrc?(E.pending+2>E.pending_buf_size&&J(c),E.pending+2<=E.pending_buf_size&&(ne(E,c.adler&255),ne(E,c.adler>>8&255),c.adler=0,E.status=Me)):E.status=Me),E.pending!==0){if(J(c),c.avail_out===0)return E.last_flush=-1,w}else if(c.avail_in===0&&he(P)<=he(W)&&P!==m)return pe(c,C);if(E.status===B&&c.avail_in!==0)return pe(c,C);if(c.avail_in!==0||E.lookahead!==0||P!==f&&E.status!==B){var xe=E.strategy===R?ft(E,P):E.strategy===O?ht(E,P):wt[E.level].func(E,P);if((xe===ie||xe===te)&&(E.status=B),xe===M||xe===ie)return c.avail_out===0&&(E.last_flush=-1),w;if(xe===Z&&(P===d?o._tr_align(E):P!==x&&(o._tr_stored_block(E,0,0,!1),P===v&&(fe(E.head),E.lookahead===0&&(E.strstart=0,E.block_start=0,E.insert=0))),J(c),c.avail_out===0))return E.last_flush=-1,w}return P!==m?w:E.wrap<=0?p:(E.wrap===2?(ne(E,c.adler&255),ne(E,c.adler>>8&255),ne(E,c.adler>>16&255),ne(E,c.adler>>24&255),ne(E,c.total_in&255),ne(E,c.total_in>>8&255),ne(E,c.total_in>>16&255),ne(E,c.total_in>>24&255)):(Ae(E,c.adler>>>16),Ae(E,c.adler&65535)),J(c),E.wrap>0&&(E.wrap=-E.wrap),E.pending!==0?w:p)}function b(c){var P;return!c||!c.state?g:(P=c.state.status,P!==et&&P!==$e&&P!==Ne&&P!==Ye&&P!==Je&&P!==Me&&P!==B?pe(c,g):(c.state=null,P===Me?pe(c,y):w))}function L(c,P){var W=P.length,E,F,G,Se,_e,xe,Pe,xt;if(!c||!c.state||(E=c.state,Se=E.wrap,Se===2||Se===1&&E.status!==et||E.lookahead))return g;for(Se===1&&(c.adler=a(c.adler,P,W,0)),E.wrap=0,W>=E.w_size&&(Se===0&&(fe(E.head),E.strstart=0,E.block_start=0,E.insert=0),xt=new s.Buf8(E.w_size),s.arraySet(xt,P,W-E.w_size,E.w_size,0),P=xt,W=E.w_size),_e=c.avail_in,xe=c.next_in,Pe=c.input,c.avail_in=W,c.next_in=0,c.input=P,Ie(E);E.lookahead>=we;){F=E.strstart,G=E.lookahead-(we-1);do E.ins_h=(E.ins_h<<E.hash_shift^E.window[F+we-1])&E.hash_mask,E.prev[F&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=F,F++;while(--G);E.strstart=F,E.lookahead=we-1,Ie(E)}return E.strstart+=E.lookahead,E.block_start=E.strstart,E.insert=E.lookahead,E.lookahead=0,E.match_length=E.prev_length=we-1,E.match_available=0,c.next_in=xe,c.input=Pe,c.avail_in=_e,E.wrap=Se,w}n.deflateInit=re,n.deflateInit2=U,n.deflateReset=de,n.deflateResetKeep=oe,n.deflateSetHeader=De,n.deflate=h,n.deflateEnd=b,n.deflateSetDictionary=L,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,i,n){function s(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}i.exports=s},{}],48:[function(t,i,n){var s=30,o=12;i.exports=function(u,l){var f,d,v,m,x,w,p,g,y,C,T,_,R,O,k,S,I,$,j,K,ae,le,ue,ee,Y;f=u.state,d=u.next_in,ee=u.input,v=d+(u.avail_in-5),m=u.next_out,Y=u.output,x=m-(l-u.avail_out),w=m+(u.avail_out-257),p=f.dmax,g=f.wsize,y=f.whave,C=f.wnext,T=f.window,_=f.hold,R=f.bits,O=f.lencode,k=f.distcode,S=(1<<f.lenbits)-1,I=(1<<f.distbits)-1;e:do{R<15&&(_+=ee[d++]<<R,R+=8,_+=ee[d++]<<R,R+=8),$=O[_&S];t:for(;;){if(j=$>>>24,_>>>=j,R-=j,j=$>>>16&255,j===0)Y[m++]=$&65535;else if(j&16){K=$&65535,j&=15,j&&(R<j&&(_+=ee[d++]<<R,R+=8),K+=_&(1<<j)-1,_>>>=j,R-=j),R<15&&(_+=ee[d++]<<R,R+=8,_+=ee[d++]<<R,R+=8),$=k[_&I];r:for(;;){if(j=$>>>24,_>>>=j,R-=j,j=$>>>16&255,j&16){if(ae=$&65535,j&=15,R<j&&(_+=ee[d++]<<R,R+=8,R<j&&(_+=ee[d++]<<R,R+=8)),ae+=_&(1<<j)-1,ae>p){u.msg="invalid distance too far back",f.mode=s;break e}if(_>>>=j,R-=j,j=m-x,ae>j){if(j=ae-j,j>y&&f.sane){u.msg="invalid distance too far back",f.mode=s;break e}if(le=0,ue=T,C===0){if(le+=g-j,j<K){K-=j;do Y[m++]=T[le++];while(--j);le=m-ae,ue=Y}}else if(C<j){if(le+=g+C-j,j-=C,j<K){K-=j;do Y[m++]=T[le++];while(--j);if(le=0,C<K){j=C,K-=j;do Y[m++]=T[le++];while(--j);le=m-ae,ue=Y}}}else if(le+=C-j,j<K){K-=j;do Y[m++]=T[le++];while(--j);le=m-ae,ue=Y}for(;K>2;)Y[m++]=ue[le++],Y[m++]=ue[le++],Y[m++]=ue[le++],K-=3;K&&(Y[m++]=ue[le++],K>1&&(Y[m++]=ue[le++]))}else{le=m-ae;do Y[m++]=Y[le++],Y[m++]=Y[le++],Y[m++]=Y[le++],K-=3;while(K>2);K&&(Y[m++]=Y[le++],K>1&&(Y[m++]=Y[le++]))}}else if((j&64)===0){$=k[($&65535)+(_&(1<<j)-1)];continue r}else{u.msg="invalid distance code",f.mode=s;break e}break}}else if((j&64)===0){$=O[($&65535)+(_&(1<<j)-1)];continue t}else if(j&32){f.mode=o;break e}else{u.msg="invalid literal/length code",f.mode=s;break e}break}}while(d<v&&m<w);K=R>>3,d-=K,R-=K<<3,_&=(1<<R)-1,u.next_in=d,u.next_out=m,u.avail_in=d<v?5+(v-d):5-(d-v),u.avail_out=m<w?257+(w-m):257-(m-w),f.hold=_,f.bits=R}},{}],49:[function(t,i,n){var s=t("../utils/common"),o=t("./adler32"),a=t("./crc32"),u=t("./inffast"),l=t("./inftrees"),f=0,d=1,v=2,m=4,x=5,w=6,p=0,g=1,y=2,C=-2,T=-3,_=-4,R=-5,O=8,k=1,S=2,I=3,$=4,j=5,K=6,ae=7,le=8,ue=9,ee=10,Y=11,be=12,ke=13,ce=14,we=15,Be=16,Re=17,Ue=18,et=19,$e=20,Ne=21,Ye=22,Je=23,Me=24,B=25,M=26,Z=27,ie=28,te=29,Q=30,pe=31,he=32,fe=852,J=592,me=15,ne=me;function Ae(U){return(U>>>24&255)+(U>>>8&65280)+((U&65280)<<8)+((U&255)<<24)}function Oe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Le(U){var re;return!U||!U.state?C:(re=U.state,U.total_in=U.total_out=re.total=0,U.msg="",re.wrap&&(U.adler=re.wrap&1),re.mode=k,re.last=0,re.havedict=0,re.dmax=32768,re.head=null,re.hold=0,re.bits=0,re.lencode=re.lendyn=new s.Buf32(fe),re.distcode=re.distdyn=new s.Buf32(J),re.sane=1,re.back=-1,p)}function Ie(U){var re;return!U||!U.state?C:(re=U.state,re.wsize=0,re.whave=0,re.wnext=0,Le(U))}function qe(U,re){var h,b;return!U||!U.state||(b=U.state,re<0?(h=0,re=-re):(h=(re>>4)+1,re<48&&(re&=15)),re&&(re<8||re>15))?C:(b.window!==null&&b.wbits!==re&&(b.window=null),b.wrap=h,b.wbits=re,Ie(U))}function nt(U,re){var h,b;return U?(b=new Oe,U.state=b,b.window=null,h=qe(U,re),h!==p&&(U.state=null),h):C}function Qe(U){return nt(U,ne)}var ht=!0,ft,ot;function wt(U){if(ht){var re;for(ft=new s.Buf32(512),ot=new s.Buf32(32),re=0;re<144;)U.lens[re++]=8;for(;re<256;)U.lens[re++]=9;for(;re<280;)U.lens[re++]=7;for(;re<288;)U.lens[re++]=8;for(l(d,U.lens,0,288,ft,0,U.work,{bits:9}),re=0;re<32;)U.lens[re++]=5;l(v,U.lens,0,32,ot,0,U.work,{bits:5}),ht=!1}U.lencode=ft,U.lenbits=9,U.distcode=ot,U.distbits=5}function dt(U,re,h,b){var L,c=U.state;return c.window===null&&(c.wsize=1<<c.wbits,c.wnext=0,c.whave=0,c.window=new s.Buf8(c.wsize)),b>=c.wsize?(s.arraySet(c.window,re,h-c.wsize,c.wsize,0),c.wnext=0,c.whave=c.wsize):(L=c.wsize-c.wnext,L>b&&(L=b),s.arraySet(c.window,re,h-b,L,c.wnext),b-=L,b?(s.arraySet(c.window,re,h-b,b,0),c.wnext=b,c.whave=c.wsize):(c.wnext+=L,c.wnext===c.wsize&&(c.wnext=0),c.whave<c.wsize&&(c.whave+=L))),0}function D(U,re){var h,b,L,c,P,W,E,F,G,Se,_e,xe,Pe,xt,Ze=0,ze,at,Ge,Ct,jt,dr,gt,Ft,At=new s.Buf8(4),Yt,Vt,Gi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return C;h=U.state,h.mode===be&&(h.mode=ke),P=U.next_out,L=U.output,E=U.avail_out,c=U.next_in,b=U.input,W=U.avail_in,F=h.hold,G=h.bits,Se=W,_e=E,Ft=p;e:for(;;)switch(h.mode){case k:if(h.wrap===0){h.mode=ke;break}for(;G<16;){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}if(h.wrap&2&&F===35615){h.check=0,At[0]=F&255,At[1]=F>>>8&255,h.check=a(h.check,At,2,0),F=0,G=0,h.mode=S;break}if(h.flags=0,h.head&&(h.head.done=!1),!(h.wrap&1)||(((F&255)<<8)+(F>>8))%31){U.msg="incorrect header check",h.mode=Q;break}if((F&15)!==O){U.msg="unknown compression method",h.mode=Q;break}if(F>>>=4,G-=4,gt=(F&15)+8,h.wbits===0)h.wbits=gt;else if(gt>h.wbits){U.msg="invalid window size",h.mode=Q;break}h.dmax=1<<gt,U.adler=h.check=1,h.mode=F&512?ee:be,F=0,G=0;break;case S:for(;G<16;){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}if(h.flags=F,(h.flags&255)!==O){U.msg="unknown compression method",h.mode=Q;break}if(h.flags&57344){U.msg="unknown header flags set",h.mode=Q;break}h.head&&(h.head.text=F>>8&1),h.flags&512&&(At[0]=F&255,At[1]=F>>>8&255,h.check=a(h.check,At,2,0)),F=0,G=0,h.mode=I;case I:for(;G<32;){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}h.head&&(h.head.time=F),h.flags&512&&(At[0]=F&255,At[1]=F>>>8&255,At[2]=F>>>16&255,At[3]=F>>>24&255,h.check=a(h.check,At,4,0)),F=0,G=0,h.mode=$;case $:for(;G<16;){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}h.head&&(h.head.xflags=F&255,h.head.os=F>>8),h.flags&512&&(At[0]=F&255,At[1]=F>>>8&255,h.check=a(h.check,At,2,0)),F=0,G=0,h.mode=j;case j:if(h.flags&1024){for(;G<16;){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}h.length=F,h.head&&(h.head.extra_len=F),h.flags&512&&(At[0]=F&255,At[1]=F>>>8&255,h.check=a(h.check,At,2,0)),F=0,G=0}else h.head&&(h.head.extra=null);h.mode=K;case K:if(h.flags&1024&&(xe=h.length,xe>W&&(xe=W),xe&&(h.head&&(gt=h.head.extra_len-h.length,h.head.extra||(h.head.extra=new Array(h.head.extra_len)),s.arraySet(h.head.extra,b,c,xe,gt)),h.flags&512&&(h.check=a(h.check,b,xe,c)),W-=xe,c+=xe,h.length-=xe),h.length))break e;h.length=0,h.mode=ae;case ae:if(h.flags&2048){if(W===0)break e;xe=0;do gt=b[c+xe++],h.head&&gt&&h.length<65536&&(h.head.name+=String.fromCharCode(gt));while(gt&&xe<W);if(h.flags&512&&(h.check=a(h.check,b,xe,c)),W-=xe,c+=xe,gt)break e}else h.head&&(h.head.name=null);h.length=0,h.mode=le;case le:if(h.flags&4096){if(W===0)break e;xe=0;do gt=b[c+xe++],h.head&&gt&&h.length<65536&&(h.head.comment+=String.fromCharCode(gt));while(gt&&xe<W);if(h.flags&512&&(h.check=a(h.check,b,xe,c)),W-=xe,c+=xe,gt)break e}else h.head&&(h.head.comment=null);h.mode=ue;case ue:if(h.flags&512){for(;G<16;){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}if(F!==(h.check&65535)){U.msg="header crc mismatch",h.mode=Q;break}F=0,G=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0),U.adler=h.check=0,h.mode=be;break;case ee:for(;G<32;){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}U.adler=h.check=Ae(F),F=0,G=0,h.mode=Y;case Y:if(h.havedict===0)return U.next_out=P,U.avail_out=E,U.next_in=c,U.avail_in=W,h.hold=F,h.bits=G,y;U.adler=h.check=1,h.mode=be;case be:if(re===x||re===w)break e;case ke:if(h.last){F>>>=G&7,G-=G&7,h.mode=Z;break}for(;G<3;){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}switch(h.last=F&1,F>>>=1,G-=1,F&3){case 0:h.mode=ce;break;case 1:if(wt(h),h.mode=$e,re===w){F>>>=2,G-=2;break e}break;case 2:h.mode=Re;break;case 3:U.msg="invalid block type",h.mode=Q}F>>>=2,G-=2;break;case ce:for(F>>>=G&7,G-=G&7;G<32;){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}if((F&65535)!==(F>>>16^65535)){U.msg="invalid stored block lengths",h.mode=Q;break}if(h.length=F&65535,F=0,G=0,h.mode=we,re===w)break e;case we:h.mode=Be;case Be:if(xe=h.length,xe){if(xe>W&&(xe=W),xe>E&&(xe=E),xe===0)break e;s.arraySet(L,b,c,xe,P),W-=xe,c+=xe,E-=xe,P+=xe,h.length-=xe;break}h.mode=be;break;case Re:for(;G<14;){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}if(h.nlen=(F&31)+257,F>>>=5,G-=5,h.ndist=(F&31)+1,F>>>=5,G-=5,h.ncode=(F&15)+4,F>>>=4,G-=4,h.nlen>286||h.ndist>30){U.msg="too many length or distance symbols",h.mode=Q;break}h.have=0,h.mode=Ue;case Ue:for(;h.have<h.ncode;){for(;G<3;){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}h.lens[Gi[h.have++]]=F&7,F>>>=3,G-=3}for(;h.have<19;)h.lens[Gi[h.have++]]=0;if(h.lencode=h.lendyn,h.lenbits=7,Yt={bits:h.lenbits},Ft=l(f,h.lens,0,19,h.lencode,0,h.work,Yt),h.lenbits=Yt.bits,Ft){U.msg="invalid code lengths set",h.mode=Q;break}h.have=0,h.mode=et;case et:for(;h.have<h.nlen+h.ndist;){for(;Ze=h.lencode[F&(1<<h.lenbits)-1],ze=Ze>>>24,at=Ze>>>16&255,Ge=Ze&65535,!(ze<=G);){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}if(Ge<16)F>>>=ze,G-=ze,h.lens[h.have++]=Ge;else{if(Ge===16){for(Vt=ze+2;G<Vt;){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}if(F>>>=ze,G-=ze,h.have===0){U.msg="invalid bit length repeat",h.mode=Q;break}gt=h.lens[h.have-1],xe=3+(F&3),F>>>=2,G-=2}else if(Ge===17){for(Vt=ze+3;G<Vt;){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}F>>>=ze,G-=ze,gt=0,xe=3+(F&7),F>>>=3,G-=3}else{for(Vt=ze+7;G<Vt;){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}F>>>=ze,G-=ze,gt=0,xe=11+(F&127),F>>>=7,G-=7}if(h.have+xe>h.nlen+h.ndist){U.msg="invalid bit length repeat",h.mode=Q;break}for(;xe--;)h.lens[h.have++]=gt}}if(h.mode===Q)break;if(h.lens[256]===0){U.msg="invalid code -- missing end-of-block",h.mode=Q;break}if(h.lenbits=9,Yt={bits:h.lenbits},Ft=l(d,h.lens,0,h.nlen,h.lencode,0,h.work,Yt),h.lenbits=Yt.bits,Ft){U.msg="invalid literal/lengths set",h.mode=Q;break}if(h.distbits=6,h.distcode=h.distdyn,Yt={bits:h.distbits},Ft=l(v,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,Yt),h.distbits=Yt.bits,Ft){U.msg="invalid distances set",h.mode=Q;break}if(h.mode=$e,re===w)break e;case $e:h.mode=Ne;case Ne:if(W>=6&&E>=258){U.next_out=P,U.avail_out=E,U.next_in=c,U.avail_in=W,h.hold=F,h.bits=G,u(U,_e),P=U.next_out,L=U.output,E=U.avail_out,c=U.next_in,b=U.input,W=U.avail_in,F=h.hold,G=h.bits,h.mode===be&&(h.back=-1);break}for(h.back=0;Ze=h.lencode[F&(1<<h.lenbits)-1],ze=Ze>>>24,at=Ze>>>16&255,Ge=Ze&65535,!(ze<=G);){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}if(at&&(at&240)===0){for(Ct=ze,jt=at,dr=Ge;Ze=h.lencode[dr+((F&(1<<Ct+jt)-1)>>Ct)],ze=Ze>>>24,at=Ze>>>16&255,Ge=Ze&65535,!(Ct+ze<=G);){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}F>>>=Ct,G-=Ct,h.back+=Ct}if(F>>>=ze,G-=ze,h.back+=ze,h.length=Ge,at===0){h.mode=M;break}if(at&32){h.back=-1,h.mode=be;break}if(at&64){U.msg="invalid literal/length code",h.mode=Q;break}h.extra=at&15,h.mode=Ye;case Ye:if(h.extra){for(Vt=h.extra;G<Vt;){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}h.length+=F&(1<<h.extra)-1,F>>>=h.extra,G-=h.extra,h.back+=h.extra}h.was=h.length,h.mode=Je;case Je:for(;Ze=h.distcode[F&(1<<h.distbits)-1],ze=Ze>>>24,at=Ze>>>16&255,Ge=Ze&65535,!(ze<=G);){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}if((at&240)===0){for(Ct=ze,jt=at,dr=Ge;Ze=h.distcode[dr+((F&(1<<Ct+jt)-1)>>Ct)],ze=Ze>>>24,at=Ze>>>16&255,Ge=Ze&65535,!(Ct+ze<=G);){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}F>>>=Ct,G-=Ct,h.back+=Ct}if(F>>>=ze,G-=ze,h.back+=ze,at&64){U.msg="invalid distance code",h.mode=Q;break}h.offset=Ge,h.extra=at&15,h.mode=Me;case Me:if(h.extra){for(Vt=h.extra;G<Vt;){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}h.offset+=F&(1<<h.extra)-1,F>>>=h.extra,G-=h.extra,h.back+=h.extra}if(h.offset>h.dmax){U.msg="invalid distance too far back",h.mode=Q;break}h.mode=B;case B:if(E===0)break e;if(xe=_e-E,h.offset>xe){if(xe=h.offset-xe,xe>h.whave&&h.sane){U.msg="invalid distance too far back",h.mode=Q;break}xe>h.wnext?(xe-=h.wnext,Pe=h.wsize-xe):Pe=h.wnext-xe,xe>h.length&&(xe=h.length),xt=h.window}else xt=L,Pe=P-h.offset,xe=h.length;xe>E&&(xe=E),E-=xe,h.length-=xe;do L[P++]=xt[Pe++];while(--xe);h.length===0&&(h.mode=Ne);break;case M:if(E===0)break e;L[P++]=h.length,E--,h.mode=Ne;break;case Z:if(h.wrap){for(;G<32;){if(W===0)break e;W--,F|=b[c++]<<G,G+=8}if(_e-=E,U.total_out+=_e,h.total+=_e,_e&&(U.adler=h.check=h.flags?a(h.check,L,_e,P-_e):o(h.check,L,_e,P-_e)),_e=E,(h.flags?F:Ae(F))!==h.check){U.msg="incorrect data check",h.mode=Q;break}F=0,G=0}h.mode=ie;case ie:if(h.wrap&&h.flags){for(;G<32;){if(W===0)break e;W--,F+=b[c++]<<G,G+=8}if(F!==(h.total&4294967295)){U.msg="incorrect length check",h.mode=Q;break}F=0,G=0}h.mode=te;case te:Ft=g;break e;case Q:Ft=T;break e;case pe:return _;case he:default:return C}return U.next_out=P,U.avail_out=E,U.next_in=c,U.avail_in=W,h.hold=F,h.bits=G,(h.wsize||_e!==U.avail_out&&h.mode<Q&&(h.mode<Z||re!==m))&&dt(U,U.output,U.next_out,_e-U.avail_out),Se-=U.avail_in,_e-=U.avail_out,U.total_in+=Se,U.total_out+=_e,h.total+=_e,h.wrap&&_e&&(U.adler=h.check=h.flags?a(h.check,L,_e,U.next_out-_e):o(h.check,L,_e,U.next_out-_e)),U.data_type=h.bits+(h.last?64:0)+(h.mode===be?128:0)+(h.mode===$e||h.mode===we?256:0),(Se===0&&_e===0||re===m)&&Ft===p&&(Ft=R),Ft}function oe(U){if(!U||!U.state)return C;var re=U.state;return re.window&&(re.window=null),U.state=null,p}function de(U,re){var h;return!U||!U.state||(h=U.state,(h.wrap&2)===0)?C:(h.head=re,re.done=!1,p)}function De(U,re){var h=re.length,b,L,c;return!U||!U.state||(b=U.state,b.wrap!==0&&b.mode!==Y)?C:b.mode===Y&&(L=1,L=o(L,re,h,0),L!==b.check)?T:(c=dt(U,re,h,h),c?(b.mode=pe,_):(b.havedict=1,p))}n.inflateReset=Ie,n.inflateReset2=qe,n.inflateResetKeep=Le,n.inflateInit=Qe,n.inflateInit2=nt,n.inflate=D,n.inflateEnd=oe,n.inflateGetHeader=de,n.inflateSetDictionary=De,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,i,n){var s=t("../utils/common"),o=15,a=852,u=592,l=0,f=1,d=2,v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],w=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(g,y,C,T,_,R,O,k){var S=k.bits,I=0,$=0,j=0,K=0,ae=0,le=0,ue=0,ee=0,Y=0,be=0,ke,ce,we,Be,Re,Ue=null,et=0,$e,Ne=new s.Buf16(o+1),Ye=new s.Buf16(o+1),Je=null,Me=0,B,M,Z;for(I=0;I<=o;I++)Ne[I]=0;for($=0;$<T;$++)Ne[y[C+$]]++;for(ae=S,K=o;K>=1&&Ne[K]===0;K--);if(ae>K&&(ae=K),K===0)return _[R++]=1<<24|64<<16|0,_[R++]=1<<24|64<<16|0,k.bits=1,0;for(j=1;j<K&&Ne[j]===0;j++);for(ae<j&&(ae=j),ee=1,I=1;I<=o;I++)if(ee<<=1,ee-=Ne[I],ee<0)return-1;if(ee>0&&(g===l||K!==1))return-1;for(Ye[1]=0,I=1;I<o;I++)Ye[I+1]=Ye[I]+Ne[I];for($=0;$<T;$++)y[C+$]!==0&&(O[Ye[y[C+$]]++]=$);if(g===l?(Ue=Je=O,$e=19):g===f?(Ue=v,et-=257,Je=m,Me-=257,$e=256):(Ue=x,Je=w,$e=-1),be=0,$=0,I=j,Re=R,le=ae,ue=0,we=-1,Y=1<<ae,Be=Y-1,g===f&&Y>a||g===d&&Y>u)return 1;for(;;){B=I-ue,O[$]<$e?(M=0,Z=O[$]):O[$]>$e?(M=Je[Me+O[$]],Z=Ue[et+O[$]]):(M=96,Z=0),ke=1<<I-ue,ce=1<<le,j=ce;do ce-=ke,_[Re+(be>>ue)+ce]=B<<24|M<<16|Z|0;while(ce!==0);for(ke=1<<I-1;be&ke;)ke>>=1;if(ke!==0?(be&=ke-1,be+=ke):be=0,$++,--Ne[I]===0){if(I===K)break;I=y[C+O[$]]}if(I>ae&&(be&Be)!==we){for(ue===0&&(ue=ae),Re+=j,le=I-ue,ee=1<<le;le+ue<K&&(ee-=Ne[le+ue],!(ee<=0));)le++,ee<<=1;if(Y+=1<<le,g===f&&Y>a||g===d&&Y>u)return 1;we=be&Be,_[we]=ae<<24|le<<16|Re-R|0}}return be!==0&&(_[Re+be]=I-ue<<24|64<<16|0),k.bits=ae,0}},{"../utils/common":41}],51:[function(t,i,n){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,i,n){var s=t("../utils/common"),o=4,a=0,u=1,l=2;function f(D){for(var oe=D.length;--oe>=0;)D[oe]=0}var d=0,v=1,m=2,x=3,w=258,p=29,g=256,y=g+1+p,C=30,T=19,_=2*y+1,R=15,O=16,k=7,S=256,I=16,$=17,j=18,K=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ae=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],le=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ue=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=512,Y=new Array((y+2)*2);f(Y);var be=new Array(C*2);f(be);var ke=new Array(ee);f(ke);var ce=new Array(w-x+1);f(ce);var we=new Array(p);f(we);var Be=new Array(C);f(Be);function Re(D,oe,de,De,U){this.static_tree=D,this.extra_bits=oe,this.extra_base=de,this.elems=De,this.max_length=U,this.has_stree=D&&D.length}var Ue,et,$e;function Ne(D,oe){this.dyn_tree=D,this.max_code=0,this.stat_desc=oe}function Ye(D){return D<256?ke[D]:ke[256+(D>>>7)]}function Je(D,oe){D.pending_buf[D.pending++]=oe&255,D.pending_buf[D.pending++]=oe>>>8&255}function Me(D,oe,de){D.bi_valid>O-de?(D.bi_buf|=oe<<D.bi_valid&65535,Je(D,D.bi_buf),D.bi_buf=oe>>O-D.bi_valid,D.bi_valid+=de-O):(D.bi_buf|=oe<<D.bi_valid&65535,D.bi_valid+=de)}function B(D,oe,de){Me(D,de[oe*2],de[oe*2+1])}function M(D,oe){var de=0;do de|=D&1,D>>>=1,de<<=1;while(--oe>0);return de>>>1}function Z(D){D.bi_valid===16?(Je(D,D.bi_buf),D.bi_buf=0,D.bi_valid=0):D.bi_valid>=8&&(D.pending_buf[D.pending++]=D.bi_buf&255,D.bi_buf>>=8,D.bi_valid-=8)}function ie(D,oe){var de=oe.dyn_tree,De=oe.max_code,U=oe.stat_desc.static_tree,re=oe.stat_desc.has_stree,h=oe.stat_desc.extra_bits,b=oe.stat_desc.extra_base,L=oe.stat_desc.max_length,c,P,W,E,F,G,Se=0;for(E=0;E<=R;E++)D.bl_count[E]=0;for(de[D.heap[D.heap_max]*2+1]=0,c=D.heap_max+1;c<_;c++)P=D.heap[c],E=de[de[P*2+1]*2+1]+1,E>L&&(E=L,Se++),de[P*2+1]=E,!(P>De)&&(D.bl_count[E]++,F=0,P>=b&&(F=h[P-b]),G=de[P*2],D.opt_len+=G*(E+F),re&&(D.static_len+=G*(U[P*2+1]+F)));if(Se!==0){do{for(E=L-1;D.bl_count[E]===0;)E--;D.bl_count[E]--,D.bl_count[E+1]+=2,D.bl_count[L]--,Se-=2}while(Se>0);for(E=L;E!==0;E--)for(P=D.bl_count[E];P!==0;)W=D.heap[--c],!(W>De)&&(de[W*2+1]!==E&&(D.opt_len+=(E-de[W*2+1])*de[W*2],de[W*2+1]=E),P--)}}function te(D,oe,de){var De=new Array(R+1),U=0,re,h;for(re=1;re<=R;re++)De[re]=U=U+de[re-1]<<1;for(h=0;h<=oe;h++){var b=D[h*2+1];b!==0&&(D[h*2]=M(De[b]++,b))}}function Q(){var D,oe,de,De,U,re=new Array(R+1);for(de=0,De=0;De<p-1;De++)for(we[De]=de,D=0;D<1<<K[De];D++)ce[de++]=De;for(ce[de-1]=De,U=0,De=0;De<16;De++)for(Be[De]=U,D=0;D<1<<ae[De];D++)ke[U++]=De;for(U>>=7;De<C;De++)for(Be[De]=U<<7,D=0;D<1<<ae[De]-7;D++)ke[256+U++]=De;for(oe=0;oe<=R;oe++)re[oe]=0;for(D=0;D<=143;)Y[D*2+1]=8,D++,re[8]++;for(;D<=255;)Y[D*2+1]=9,D++,re[9]++;for(;D<=279;)Y[D*2+1]=7,D++,re[7]++;for(;D<=287;)Y[D*2+1]=8,D++,re[8]++;for(te(Y,y+1,re),D=0;D<C;D++)be[D*2+1]=5,be[D*2]=M(D,5);Ue=new Re(Y,K,g+1,y,R),et=new Re(be,ae,0,C,R),$e=new Re(new Array(0),le,0,T,k)}function pe(D){var oe;for(oe=0;oe<y;oe++)D.dyn_ltree[oe*2]=0;for(oe=0;oe<C;oe++)D.dyn_dtree[oe*2]=0;for(oe=0;oe<T;oe++)D.bl_tree[oe*2]=0;D.dyn_ltree[S*2]=1,D.opt_len=D.static_len=0,D.last_lit=D.matches=0}function he(D){D.bi_valid>8?Je(D,D.bi_buf):D.bi_valid>0&&(D.pending_buf[D.pending++]=D.bi_buf),D.bi_buf=0,D.bi_valid=0}function fe(D,oe,de,De){he(D),Je(D,de),Je(D,~de),s.arraySet(D.pending_buf,D.window,oe,de,D.pending),D.pending+=de}function J(D,oe,de,De){var U=oe*2,re=de*2;return D[U]<D[re]||D[U]===D[re]&&De[oe]<=De[de]}function me(D,oe,de){for(var De=D.heap[de],U=de<<1;U<=D.heap_len&&(U<D.heap_len&&J(oe,D.heap[U+1],D.heap[U],D.depth)&&U++,!J(oe,De,D.heap[U],D.depth));)D.heap[de]=D.heap[U],de=U,U<<=1;D.heap[de]=De}function ne(D,oe,de){var De,U,re=0,h,b;if(D.last_lit!==0)do De=D.pending_buf[D.d_buf+re*2]<<8|D.pending_buf[D.d_buf+re*2+1],U=D.pending_buf[D.l_buf+re],re++,De===0?B(D,U,oe):(h=ce[U],B(D,h+g+1,oe),b=K[h],b!==0&&(U-=we[h],Me(D,U,b)),De--,h=Ye(De),B(D,h,de),b=ae[h],b!==0&&(De-=Be[h],Me(D,De,b)));while(re<D.last_lit);B(D,S,oe)}function Ae(D,oe){var de=oe.dyn_tree,De=oe.stat_desc.static_tree,U=oe.stat_desc.has_stree,re=oe.stat_desc.elems,h,b,L=-1,c;for(D.heap_len=0,D.heap_max=_,h=0;h<re;h++)de[h*2]!==0?(D.heap[++D.heap_len]=L=h,D.depth[h]=0):de[h*2+1]=0;for(;D.heap_len<2;)c=D.heap[++D.heap_len]=L<2?++L:0,de[c*2]=1,D.depth[c]=0,D.opt_len--,U&&(D.static_len-=De[c*2+1]);for(oe.max_code=L,h=D.heap_len>>1;h>=1;h--)me(D,de,h);c=re;do h=D.heap[1],D.heap[1]=D.heap[D.heap_len--],me(D,de,1),b=D.heap[1],D.heap[--D.heap_max]=h,D.heap[--D.heap_max]=b,de[c*2]=de[h*2]+de[b*2],D.depth[c]=(D.depth[h]>=D.depth[b]?D.depth[h]:D.depth[b])+1,de[h*2+1]=de[b*2+1]=c,D.heap[1]=c++,me(D,de,1);while(D.heap_len>=2);D.heap[--D.heap_max]=D.heap[1],ie(D,oe),te(de,L,D.bl_count)}function Oe(D,oe,de){var De,U=-1,re,h=oe[1],b=0,L=7,c=4;for(h===0&&(L=138,c=3),oe[(de+1)*2+1]=65535,De=0;De<=de;De++)re=h,h=oe[(De+1)*2+1],!(++b<L&&re===h)&&(b<c?D.bl_tree[re*2]+=b:re!==0?(re!==U&&D.bl_tree[re*2]++,D.bl_tree[I*2]++):b<=10?D.bl_tree[$*2]++:D.bl_tree[j*2]++,b=0,U=re,h===0?(L=138,c=3):re===h?(L=6,c=3):(L=7,c=4))}function Le(D,oe,de){var De,U=-1,re,h=oe[1],b=0,L=7,c=4;for(h===0&&(L=138,c=3),De=0;De<=de;De++)if(re=h,h=oe[(De+1)*2+1],!(++b<L&&re===h)){if(b<c)do B(D,re,D.bl_tree);while(--b!==0);else re!==0?(re!==U&&(B(D,re,D.bl_tree),b--),B(D,I,D.bl_tree),Me(D,b-3,2)):b<=10?(B(D,$,D.bl_tree),Me(D,b-3,3)):(B(D,j,D.bl_tree),Me(D,b-11,7));b=0,U=re,h===0?(L=138,c=3):re===h?(L=6,c=3):(L=7,c=4)}}function Ie(D){var oe;for(Oe(D,D.dyn_ltree,D.l_desc.max_code),Oe(D,D.dyn_dtree,D.d_desc.max_code),Ae(D,D.bl_desc),oe=T-1;oe>=3&&D.bl_tree[ue[oe]*2+1]===0;oe--);return D.opt_len+=3*(oe+1)+5+5+4,oe}function qe(D,oe,de,De){var U;for(Me(D,oe-257,5),Me(D,de-1,5),Me(D,De-4,4),U=0;U<De;U++)Me(D,D.bl_tree[ue[U]*2+1],3);Le(D,D.dyn_ltree,oe-1),Le(D,D.dyn_dtree,de-1)}function nt(D){var oe=4093624447,de;for(de=0;de<=31;de++,oe>>>=1)if(oe&1&&D.dyn_ltree[de*2]!==0)return a;if(D.dyn_ltree[18]!==0||D.dyn_ltree[20]!==0||D.dyn_ltree[26]!==0)return u;for(de=32;de<g;de++)if(D.dyn_ltree[de*2]!==0)return u;return a}var Qe=!1;function ht(D){Qe||(Q(),Qe=!0),D.l_desc=new Ne(D.dyn_ltree,Ue),D.d_desc=new Ne(D.dyn_dtree,et),D.bl_desc=new Ne(D.bl_tree,$e),D.bi_buf=0,D.bi_valid=0,pe(D)}function ft(D,oe,de,De){Me(D,(d<<1)+(De?1:0),3),fe(D,oe,de)}function ot(D){Me(D,v<<1,3),B(D,S,Y),Z(D)}function wt(D,oe,de,De){var U,re,h=0;D.level>0?(D.strm.data_type===l&&(D.strm.data_type=nt(D)),Ae(D,D.l_desc),Ae(D,D.d_desc),h=Ie(D),U=D.opt_len+3+7>>>3,re=D.static_len+3+7>>>3,re<=U&&(U=re)):U=re=de+5,de+4<=U&&oe!==-1?ft(D,oe,de,De):D.strategy===o||re===U?(Me(D,(v<<1)+(De?1:0),3),ne(D,Y,be)):(Me(D,(m<<1)+(De?1:0),3),qe(D,D.l_desc.max_code+1,D.d_desc.max_code+1,h+1),ne(D,D.dyn_ltree,D.dyn_dtree)),pe(D),De&&he(D)}function dt(D,oe,de){return D.pending_buf[D.d_buf+D.last_lit*2]=oe>>>8&255,D.pending_buf[D.d_buf+D.last_lit*2+1]=oe&255,D.pending_buf[D.l_buf+D.last_lit]=de&255,D.last_lit++,oe===0?D.dyn_ltree[de*2]++:(D.matches++,oe--,D.dyn_ltree[(ce[de]+g+1)*2]++,D.dyn_dtree[Ye(oe)*2]++),D.last_lit===D.lit_bufsize-1}n._tr_init=ht,n._tr_stored_block=ft,n._tr_flush_block=wt,n._tr_tally=dt,n._tr_align=ot},{"../utils/common":41}],53:[function(t,i,n){function s(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}i.exports=s},{}],54:[function(t,i,n){(function(s){(function(o,a){if(o.setImmediate)return;var u=1,l={},f=!1,d=o.document,v;function m(k){typeof k!="function"&&(k=new Function(""+k));for(var S=new Array(arguments.length-1),I=0;I<S.length;I++)S[I]=arguments[I+1];var $={callback:k,args:S};return l[u]=$,v(u),u++}function x(k){delete l[k]}function w(k){var S=k.callback,I=k.args;switch(I.length){case 0:S();break;case 1:S(I[0]);break;case 2:S(I[0],I[1]);break;case 3:S(I[0],I[1],I[2]);break;default:S.apply(a,I);break}}function p(k){if(f)setTimeout(p,0,k);else{var S=l[k];if(S){f=!0;try{w(S)}finally{x(k),f=!1}}}}function g(){v=function(k){process.nextTick(function(){p(k)})}}function y(){if(o.postMessage&&!o.importScripts){var k=!0,S=o.onmessage;return o.onmessage=function(){k=!1},o.postMessage("","*"),o.onmessage=S,k}}function C(){var k="setImmediate$"+Math.random()+"$",S=function(I){I.source===o&&typeof I.data=="string"&&I.data.indexOf(k)===0&&p(+I.data.slice(k.length))};o.addEventListener?o.addEventListener("message",S,!1):o.attachEvent("onmessage",S),v=function(I){o.postMessage(k+I,"*")}}function T(){var k=new MessageChannel;k.port1.onmessage=function(S){var I=S.data;p(I)},v=function(S){k.port2.postMessage(S)}}function _(){var k=d.documentElement;v=function(S){var I=d.createElement("script");I.onreadystatechange=function(){p(S),I.onreadystatechange=null,k.removeChild(I),I=null},k.appendChild(I)}}function R(){v=function(k){setTimeout(p,0,k)}}var O=Object.getPrototypeOf&&Object.getPrototypeOf(o);O=O&&O.setTimeout?O:o,{}.toString.call(o.process)==="[object process]"?g():y()?C():o.MessageChannel?T():d&&"onreadystatechange"in d.createElement("script")?_():R(),O.setImmediate=m,O.clearImmediate=x})(typeof self>"u"?typeof s>"u"?this:s:self)}).call(this,typeof Kt<"u"?Kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Qs)),Qs.exports}var Ag=Cg();const Dg=hi(Ag);class Sg{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new Dg}catch{throw new Error("JSZip lib not loaded")}}open(e,t){return this.zip.loadAsync(e,{base64:t})}openUrl(e,t){return Ui(e,"binary").then((function(i){return this.zip.loadAsync(i,{base64:t})}).bind(this))}request(e,t){var i=new Ke,n,s=new xr(e);return t||(t=s.extension),t=="blob"?n=this.getBlob(e):n=this.getText(e),n?n.then((function(o){let a=this.handleResponse(o,t);i.resolve(a)}).bind(this)):i.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),i.promise}handleResponse(e,t){var i;return t=="json"?i=JSON.parse(e):zi(t)?i=fr(e,"text/xml"):t=="xhtml"?i=fr(e,"application/xhtml+xml"):t=="html"||t=="htm"?i=fr(e,"text/html"):i=e,i}getBlob(e,t){var i=window.decodeURIComponent(e.substr(1)),n=this.zip.file(i);if(n)return t=t||ui.lookup(n.name),n.async("uint8array").then(function(s){return new Blob([s],{type:t})})}getText(e,t){var i=window.decodeURIComponent(e.substr(1)),n=this.zip.file(i);if(n)return n.async("string").then(function(s){return s})}getBase64(e,t){var i=window.decodeURIComponent(e.substr(1)),n=this.zip.file(i);if(n)return t=t||ui.lookup(n.name),n.async("base64").then(function(s){return"data:"+t+";base64,"+s})}createUrl(e,t){var i=new Ke,n=window.URL||window.webkitURL||window.mozURL,s,o,a=t&&t.base64;return e in this.urlCache?(i.resolve(this.urlCache[e]),i.promise):(a?(o=this.getBase64(e),o&&o.then((function(u){this.urlCache[e]=u,i.resolve(u)}).bind(this))):(o=this.getBlob(e),o&&o.then((function(u){s=n.createObjectURL(u),this.urlCache[e]=s,i.resolve(s)}).bind(this))),o||i.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),i.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[e];i&&t.revokeObjectURL(i)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.zip=void 0,this.urlCache={}}}var eo={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var Mu;function Tg(){return Mu||(Mu=1,(function(r,e){(function(t){r.exports=t()})(function(){return(function t(i,n,s){function o(l,f){if(!n[l]){if(!i[l]){var d=typeof Rr=="function"&&Rr;if(!f&&d)return d(l,!0);if(a)return a(l,!0);var v=new Error("Cannot find module '"+l+"'");throw v.code="MODULE_NOT_FOUND",v}var m=n[l]={exports:{}};i[l][0].call(m.exports,function(x){var w=i[l][1][x];return o(w||x)},m,m.exports,t,i,n,s)}return n[l].exports}for(var a=typeof Rr=="function"&&Rr,u=0;u<s.length;u++)o(s[u]);return o})({1:[function(t,i,n){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var u=0,l=new o(x),f=s.document.createTextNode("");l.observe(f,{characterData:!0}),a=function(){f.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=x,a=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var p=s.document.createElement("script");p.onreadystatechange=function(){x(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},s.document.documentElement.appendChild(p)}:a=function(){setTimeout(x,0)};var v,m=[];function x(){v=!0;for(var p,g,y=m.length;y;){for(g=m,m=[],p=-1;++p<y;)g[p]();y=m.length}v=!1}i.exports=w;function w(p){m.push(p)===1&&!v&&a()}}).call(this,typeof Kt<"u"?Kt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(t,i,n){var s=t(1);function o(){}var a={},u=["REJECTED"],l=["FULFILLED"],f=["PENDING"];i.exports=d;function d(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,_!==o&&w(this,_)}d.prototype.catch=function(_){return this.then(null,_)},d.prototype.then=function(_,R){if(typeof _!="function"&&this.state===l||typeof R!="function"&&this.state===u)return this;var O=new this.constructor(o);if(this.state!==f){var k=this.state===l?_:R;m(O,k,this.outcome)}else this.queue.push(new v(O,_,R));return O};function v(_,R,O){this.promise=_,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(_){a.resolve(this.promise,_)},v.prototype.otherCallFulfilled=function(_){m(this.promise,this.onFulfilled,_)},v.prototype.callRejected=function(_){a.reject(this.promise,_)},v.prototype.otherCallRejected=function(_){m(this.promise,this.onRejected,_)};function m(_,R,O){s(function(){var k;try{k=R(O)}catch(S){return a.reject(_,S)}k===_?a.reject(_,new TypeError("Cannot resolve promise with itself")):a.resolve(_,k)})}a.resolve=function(_,R){var O=p(x,R);if(O.status==="error")return a.reject(_,O.value);var k=O.value;if(k)w(_,k);else{_.state=l,_.outcome=R;for(var S=-1,I=_.queue.length;++S<I;)_.queue[S].callFulfilled(R)}return _},a.reject=function(_,R){_.state=u,_.outcome=R;for(var O=-1,k=_.queue.length;++O<k;)_.queue[O].callRejected(R);return _};function x(_){var R=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof R=="function")return function(){R.apply(_,arguments)}}function w(_,R){var O=!1;function k(j){O||(O=!0,a.reject(_,j))}function S(j){O||(O=!0,a.resolve(_,j))}function I(){R(S,k)}var $=p(I);$.status==="error"&&k($.value)}function p(_,R){var O={};try{O.value=_(R),O.status="success"}catch(k){O.status="error",O.value=k}return O}d.resolve=g;function g(_){return _ instanceof this?_:a.resolve(new this(o),_)}d.reject=y;function y(_){var R=new this(o);return a.reject(R,_)}d.all=C;function C(_){var R=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=_.length,k=!1;if(!O)return this.resolve([]);for(var S=new Array(O),I=0,$=-1,j=new this(o);++$<O;)K(_[$],$);return j;function K(ae,le){R.resolve(ae).then(ue,function(ee){k||(k=!0,a.reject(j,ee))});function ue(ee){S[le]=ee,++I===O&&!k&&(k=!0,a.resolve(j,S))}}}d.race=T;function T(_){var R=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=_.length,k=!1;if(!O)return this.resolve([]);for(var S=-1,I=new this(o);++S<O;)$(_[S]);return I;function $(j){R.resolve(j).then(function(K){k||(k=!0,a.resolve(I,K))},function(K){k||(k=!0,a.reject(I,K))})}}},{1:1}],3:[function(t,i,n){(function(s){typeof s.Promise!="function"&&(s.Promise=t(2))}).call(this,typeof Kt<"u"?Kt:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(t,i,n){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A};function o(A,z){if(!(A instanceof z))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=a();function l(){try{if(!u||!u.open)return!1;var A=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),z=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!A||z)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function f(A,z){A=A||[],z=z||{};try{return new Blob(A,z)}catch(q){if(q.name!=="TypeError")throw q;for(var N=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,H=new N,V=0;V<A.length;V+=1)H.append(A[V]);return H.getBlob(z.type)}}typeof Promise>"u"&&t(3);var d=Promise;function v(A,z){z&&A.then(function(N){z(null,N)},function(N){z(N)})}function m(A,z,N){typeof z=="function"&&A.then(z),typeof N=="function"&&A.catch(N)}function x(A){return typeof A!="string"&&(console.warn(A+" used as a key, but it is not a string."),A=String(A)),A}function w(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",g=void 0,y={},C=Object.prototype.toString,T="readonly",_="readwrite";function R(A){for(var z=A.length,N=new ArrayBuffer(z),H=new Uint8Array(N),V=0;V<z;V++)H[V]=A.charCodeAt(V);return N}function O(A){return new d(function(z){var N=A.transaction(p,_),H=f([""]);N.objectStore(p).put(H,"key"),N.onabort=function(V){V.preventDefault(),V.stopPropagation(),z(!1)},N.oncomplete=function(){var V=navigator.userAgent.match(/Chrome\/(\d+)/),q=navigator.userAgent.match(/Edge\//);z(q||!V||parseInt(V[1],10)>=43)}}).catch(function(){return!1})}function k(A){return typeof g=="boolean"?d.resolve(g):O(A).then(function(z){return g=z,g})}function S(A){var z=y[A.name],N={};N.promise=new d(function(H,V){N.resolve=H,N.reject=V}),z.deferredOperations.push(N),z.dbReady?z.dbReady=z.dbReady.then(function(){return N.promise}):z.dbReady=N.promise}function I(A){var z=y[A.name],N=z.deferredOperations.pop();if(N)return N.resolve(),N.promise}function $(A,z){var N=y[A.name],H=N.deferredOperations.pop();if(H)return H.reject(z),H.promise}function j(A,z){return new d(function(N,H){if(y[A.name]=y[A.name]||we(),A.db)if(z)S(A),A.db.close();else return N(A.db);var V=[A.name];z&&V.push(A.version);var q=u.open.apply(u,V);z&&(q.onupgradeneeded=function(se){var ge=q.result;try{ge.createObjectStore(A.storeName),se.oldVersion<=1&&ge.createObjectStore(p)}catch(ve){if(ve.name==="ConstraintError")console.warn('The database "'+A.name+'" has been upgraded from version '+se.oldVersion+" to version "+se.newVersion+', but the storage "'+A.storeName+'" already exists.');else throw ve}}),q.onerror=function(se){se.preventDefault(),H(q.error)},q.onsuccess=function(){var se=q.result;se.onversionchange=function(ge){ge.target.close()},N(se),I(A)}})}function K(A){return j(A,!1)}function ae(A){return j(A,!0)}function le(A,z){if(!A.db)return!0;var N=!A.db.objectStoreNames.contains(A.storeName),H=A.version<A.db.version,V=A.version>A.db.version;if(H&&(A.version!==z&&console.warn('The database "'+A.name+`" can't be downgraded from version `+A.db.version+" to version "+A.version+"."),A.version=A.db.version),V||N){if(N){var q=A.db.version+1;q>A.version&&(A.version=q)}return!0}return!1}function ue(A){return new d(function(z,N){var H=new FileReader;H.onerror=N,H.onloadend=function(V){var q=btoa(V.target.result||"");z({__local_forage_encoded_blob:!0,data:q,type:A.type})},H.readAsBinaryString(A)})}function ee(A){var z=R(atob(A.data));return f([z],{type:A.type})}function Y(A){return A&&A.__local_forage_encoded_blob}function be(A){var z=this,N=z._initReady().then(function(){var H=y[z._dbInfo.name];if(H&&H.dbReady)return H.dbReady});return m(N,A,A),N}function ke(A){S(A);for(var z=y[A.name],N=z.forages,H=0;H<N.length;H++){var V=N[H];V._dbInfo.db&&(V._dbInfo.db.close(),V._dbInfo.db=null)}return A.db=null,K(A).then(function(q){return A.db=q,le(A)?ae(A):q}).then(function(q){A.db=z.db=q;for(var se=0;se<N.length;se++)N[se]._dbInfo.db=q}).catch(function(q){throw $(A,q),q})}function ce(A,z,N,H){H===void 0&&(H=1);try{var V=A.db.transaction(A.storeName,z);N(null,V)}catch(q){if(H>0&&(!A.db||q.name==="InvalidStateError"||q.name==="NotFoundError"))return d.resolve().then(function(){if(!A.db||q.name==="NotFoundError"&&!A.db.objectStoreNames.contains(A.storeName)&&A.version<=A.db.version)return A.db&&(A.version=A.db.version+1),ae(A)}).then(function(){return ke(A).then(function(){ce(A,z,N,H-1)})}).catch(N);N(q)}}function we(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Be(A){var z=this,N={db:null};if(A)for(var H in A)N[H]=A[H];var V=y[N.name];V||(V=we(),y[N.name]=V),V.forages.push(z),z._initReady||(z._initReady=z.ready,z.ready=be);var q=[];function se(){return d.resolve()}for(var ge=0;ge<V.forages.length;ge++){var ve=V.forages[ge];ve!==z&&q.push(ve._initReady().catch(se))}var ye=V.forages.slice(0);return d.all(q).then(function(){return N.db=V.db,K(N)}).then(function(Ee){return N.db=Ee,le(N,z._defaultConfig.version)?ae(N):Ee}).then(function(Ee){N.db=V.db=Ee,z._dbInfo=N;for(var Te=0;Te<ye.length;Te++){var Ve=ye[Te];Ve!==z&&(Ve._dbInfo.db=N.db,Ve._dbInfo.version=N.version)}})}function Re(A,z){var N=this;A=x(A);var H=new d(function(V,q){N.ready().then(function(){ce(N._dbInfo,T,function(se,ge){if(se)return q(se);try{var ve=ge.objectStore(N._dbInfo.storeName),ye=ve.get(A);ye.onsuccess=function(){var Ee=ye.result;Ee===void 0&&(Ee=null),Y(Ee)&&(Ee=ee(Ee)),V(Ee)},ye.onerror=function(){q(ye.error)}}catch(Ee){q(Ee)}})}).catch(q)});return v(H,z),H}function Ue(A,z){var N=this,H=new d(function(V,q){N.ready().then(function(){ce(N._dbInfo,T,function(se,ge){if(se)return q(se);try{var ve=ge.objectStore(N._dbInfo.storeName),ye=ve.openCursor(),Ee=1;ye.onsuccess=function(){var Te=ye.result;if(Te){var Ve=Te.value;Y(Ve)&&(Ve=ee(Ve));var rt=A(Ve,Te.key,Ee++);rt!==void 0?V(rt):Te.continue()}else V()},ye.onerror=function(){q(ye.error)}}catch(Te){q(Te)}})}).catch(q)});return v(H,z),H}function et(A,z,N){var H=this;A=x(A);var V=new d(function(q,se){var ge;H.ready().then(function(){return ge=H._dbInfo,C.call(z)==="[object Blob]"?k(ge.db).then(function(ve){return ve?z:ue(z)}):z}).then(function(ve){ce(H._dbInfo,_,function(ye,Ee){if(ye)return se(ye);try{var Te=Ee.objectStore(H._dbInfo.storeName);ve===null&&(ve=void 0);var Ve=Te.put(ve,A);Ee.oncomplete=function(){ve===void 0&&(ve=null),q(ve)},Ee.onabort=Ee.onerror=function(){var rt=Ve.error?Ve.error:Ve.transaction.error;se(rt)}}catch(rt){se(rt)}})}).catch(se)});return v(V,N),V}function $e(A,z){var N=this;A=x(A);var H=new d(function(V,q){N.ready().then(function(){ce(N._dbInfo,_,function(se,ge){if(se)return q(se);try{var ve=ge.objectStore(N._dbInfo.storeName),ye=ve.delete(A);ge.oncomplete=function(){V()},ge.onerror=function(){q(ye.error)},ge.onabort=function(){var Ee=ye.error?ye.error:ye.transaction.error;q(Ee)}}catch(Ee){q(Ee)}})}).catch(q)});return v(H,z),H}function Ne(A){var z=this,N=new d(function(H,V){z.ready().then(function(){ce(z._dbInfo,_,function(q,se){if(q)return V(q);try{var ge=se.objectStore(z._dbInfo.storeName),ve=ge.clear();se.oncomplete=function(){H()},se.onabort=se.onerror=function(){var ye=ve.error?ve.error:ve.transaction.error;V(ye)}}catch(ye){V(ye)}})}).catch(V)});return v(N,A),N}function Ye(A){var z=this,N=new d(function(H,V){z.ready().then(function(){ce(z._dbInfo,T,function(q,se){if(q)return V(q);try{var ge=se.objectStore(z._dbInfo.storeName),ve=ge.count();ve.onsuccess=function(){H(ve.result)},ve.onerror=function(){V(ve.error)}}catch(ye){V(ye)}})}).catch(V)});return v(N,A),N}function Je(A,z){var N=this,H=new d(function(V,q){if(A<0){V(null);return}N.ready().then(function(){ce(N._dbInfo,T,function(se,ge){if(se)return q(se);try{var ve=ge.objectStore(N._dbInfo.storeName),ye=!1,Ee=ve.openKeyCursor();Ee.onsuccess=function(){var Te=Ee.result;if(!Te){V(null);return}A===0||ye?V(Te.key):(ye=!0,Te.advance(A))},Ee.onerror=function(){q(Ee.error)}}catch(Te){q(Te)}})}).catch(q)});return v(H,z),H}function Me(A){var z=this,N=new d(function(H,V){z.ready().then(function(){ce(z._dbInfo,T,function(q,se){if(q)return V(q);try{var ge=se.objectStore(z._dbInfo.storeName),ve=ge.openKeyCursor(),ye=[];ve.onsuccess=function(){var Ee=ve.result;if(!Ee){H(ye);return}ye.push(Ee.key),Ee.continue()},ve.onerror=function(){V(ve.error)}}catch(Ee){V(Ee)}})}).catch(V)});return v(N,A),N}function B(A,z){z=w.apply(this,arguments);var N=this.config();A=typeof A!="function"&&A||{},A.name||(A.name=A.name||N.name,A.storeName=A.storeName||N.storeName);var H=this,V;if(!A.name)V=d.reject("Invalid arguments");else{var q=A.name===N.name&&H._dbInfo.db,se=q?d.resolve(H._dbInfo.db):K(A).then(function(ge){var ve=y[A.name],ye=ve.forages;ve.db=ge;for(var Ee=0;Ee<ye.length;Ee++)ye[Ee]._dbInfo.db=ge;return ge});A.storeName?V=se.then(function(ge){if(ge.objectStoreNames.contains(A.storeName)){var ve=ge.version+1;S(A);var ye=y[A.name],Ee=ye.forages;ge.close();for(var Te=0;Te<Ee.length;Te++){var Ve=Ee[Te];Ve._dbInfo.db=null,Ve._dbInfo.version=ve}var rt=new d(function(st,_t){var vt=u.open(A.name,ve);vt.onerror=function($t){var mi=vt.result;mi.close(),_t($t)},vt.onupgradeneeded=function(){var $t=vt.result;$t.deleteObjectStore(A.storeName)},vt.onsuccess=function(){var $t=vt.result;$t.close(),st($t)}});return rt.then(function(st){ye.db=st;for(var _t=0;_t<Ee.length;_t++){var vt=Ee[_t];vt._dbInfo.db=st,I(vt._dbInfo)}}).catch(function(st){throw($(A,st)||d.resolve()).catch(function(){}),st})}}):V=se.then(function(ge){S(A);var ve=y[A.name],ye=ve.forages;ge.close();for(var Ee=0;Ee<ye.length;Ee++){var Te=ye[Ee];Te._dbInfo.db=null}var Ve=new d(function(rt,st){var _t=u.deleteDatabase(A.name);_t.onerror=function(){var vt=_t.result;vt&&vt.close(),st(_t.error)},_t.onblocked=function(){console.warn('dropInstance blocked for database "'+A.name+'" until all open connections are closed')},_t.onsuccess=function(){var vt=_t.result;vt&&vt.close(),rt(vt)}});return Ve.then(function(rt){ve.db=rt;for(var st=0;st<ye.length;st++){var _t=ye[st];I(_t._dbInfo)}}).catch(function(rt){throw($(A,rt)||d.resolve()).catch(function(){}),rt})})}return v(V,z),V}var M={_driver:"asyncStorage",_initStorage:Be,_support:l(),iterate:Ue,getItem:Re,setItem:et,removeItem:$e,clear:Ne,length:Ye,key:Je,keys:Me,dropInstance:B};function Z(){return typeof openDatabase=="function"}var ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",te="~~local_forage_type~",Q=/^~~local_forage_type~([^~]+)~/,pe="__lfsc__:",he=pe.length,fe="arbf",J="blob",me="si08",ne="ui08",Ae="uic8",Oe="si16",Le="si32",Ie="ur16",qe="ui32",nt="fl32",Qe="fl64",ht=he+fe.length,ft=Object.prototype.toString;function ot(A){var z=A.length*.75,N=A.length,H,V=0,q,se,ge,ve;A[A.length-1]==="="&&(z--,A[A.length-2]==="="&&z--);var ye=new ArrayBuffer(z),Ee=new Uint8Array(ye);for(H=0;H<N;H+=4)q=ie.indexOf(A[H]),se=ie.indexOf(A[H+1]),ge=ie.indexOf(A[H+2]),ve=ie.indexOf(A[H+3]),Ee[V++]=q<<2|se>>4,Ee[V++]=(se&15)<<4|ge>>2,Ee[V++]=(ge&3)<<6|ve&63;return ye}function wt(A){var z=new Uint8Array(A),N="",H;for(H=0;H<z.length;H+=3)N+=ie[z[H]>>2],N+=ie[(z[H]&3)<<4|z[H+1]>>4],N+=ie[(z[H+1]&15)<<2|z[H+2]>>6],N+=ie[z[H+2]&63];return z.length%3===2?N=N.substring(0,N.length-1)+"=":z.length%3===1&&(N=N.substring(0,N.length-2)+"=="),N}function dt(A,z){var N="";if(A&&(N=ft.call(A)),A&&(N==="[object ArrayBuffer]"||A.buffer&&ft.call(A.buffer)==="[object ArrayBuffer]")){var H,V=pe;A instanceof ArrayBuffer?(H=A,V+=fe):(H=A.buffer,N==="[object Int8Array]"?V+=me:N==="[object Uint8Array]"?V+=ne:N==="[object Uint8ClampedArray]"?V+=Ae:N==="[object Int16Array]"?V+=Oe:N==="[object Uint16Array]"?V+=Ie:N==="[object Int32Array]"?V+=Le:N==="[object Uint32Array]"?V+=qe:N==="[object Float32Array]"?V+=nt:N==="[object Float64Array]"?V+=Qe:z(new Error("Failed to get type for BinaryArray"))),z(V+wt(H))}else if(N==="[object Blob]"){var q=new FileReader;q.onload=function(){var se=te+A.type+"~"+wt(this.result);z(pe+J+se)},q.readAsArrayBuffer(A)}else try{z(JSON.stringify(A))}catch(se){console.error("Couldn't convert value into a JSON string: ",A),z(null,se)}}function D(A){if(A.substring(0,he)!==pe)return JSON.parse(A);var z=A.substring(ht),N=A.substring(he,ht),H;if(N===J&&Q.test(z)){var V=z.match(Q);H=V[1],z=z.substring(V[0].length)}var q=ot(z);switch(N){case fe:return q;case J:return f([q],{type:H});case me:return new Int8Array(q);case ne:return new Uint8Array(q);case Ae:return new Uint8ClampedArray(q);case Oe:return new Int16Array(q);case Ie:return new Uint16Array(q);case Le:return new Int32Array(q);case qe:return new Uint32Array(q);case nt:return new Float32Array(q);case Qe:return new Float64Array(q);default:throw new Error("Unkown type: "+N)}}var oe={serialize:dt,deserialize:D,stringToBuffer:ot,bufferToString:wt};function de(A,z,N,H){A.executeSql("CREATE TABLE IF NOT EXISTS "+z.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],N,H)}function De(A){var z=this,N={db:null};if(A)for(var H in A)N[H]=typeof A[H]!="string"?A[H].toString():A[H];var V=new d(function(q,se){try{N.db=openDatabase(N.name,String(N.version),N.description,N.size)}catch(ge){return se(ge)}N.db.transaction(function(ge){de(ge,N,function(){z._dbInfo=N,q()},function(ve,ye){se(ye)})},se)});return N.serializer=oe,V}function U(A,z,N,H,V,q){A.executeSql(N,H,V,function(se,ge){ge.code===ge.SYNTAX_ERR?se.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[z.storeName],function(ve,ye){ye.rows.length?q(ve,ge):de(ve,z,function(){ve.executeSql(N,H,V,q)},q)},q):q(se,ge)},q)}function re(A,z){var N=this;A=x(A);var H=new d(function(V,q){N.ready().then(function(){var se=N._dbInfo;se.db.transaction(function(ge){U(ge,se,"SELECT * FROM "+se.storeName+" WHERE key = ? LIMIT 1",[A],function(ve,ye){var Ee=ye.rows.length?ye.rows.item(0).value:null;Ee&&(Ee=se.serializer.deserialize(Ee)),V(Ee)},function(ve,ye){q(ye)})})}).catch(q)});return v(H,z),H}function h(A,z){var N=this,H=new d(function(V,q){N.ready().then(function(){var se=N._dbInfo;se.db.transaction(function(ge){U(ge,se,"SELECT * FROM "+se.storeName,[],function(ve,ye){for(var Ee=ye.rows,Te=Ee.length,Ve=0;Ve<Te;Ve++){var rt=Ee.item(Ve),st=rt.value;if(st&&(st=se.serializer.deserialize(st)),st=A(st,rt.key,Ve+1),st!==void 0){V(st);return}}V()},function(ve,ye){q(ye)})})}).catch(q)});return v(H,z),H}function b(A,z,N,H){var V=this;A=x(A);var q=new d(function(se,ge){V.ready().then(function(){z===void 0&&(z=null);var ve=z,ye=V._dbInfo;ye.serializer.serialize(z,function(Ee,Te){Te?ge(Te):ye.db.transaction(function(Ve){U(Ve,ye,"INSERT OR REPLACE INTO "+ye.storeName+" (key, value) VALUES (?, ?)",[A,Ee],function(){se(ve)},function(rt,st){ge(st)})},function(Ve){if(Ve.code===Ve.QUOTA_ERR){if(H>0){se(b.apply(V,[A,ve,N,H-1]));return}ge(Ve)}})})}).catch(ge)});return v(q,N),q}function L(A,z,N){return b.apply(this,[A,z,N,1])}function c(A,z){var N=this;A=x(A);var H=new d(function(V,q){N.ready().then(function(){var se=N._dbInfo;se.db.transaction(function(ge){U(ge,se,"DELETE FROM "+se.storeName+" WHERE key = ?",[A],function(){V()},function(ve,ye){q(ye)})})}).catch(q)});return v(H,z),H}function P(A){var z=this,N=new d(function(H,V){z.ready().then(function(){var q=z._dbInfo;q.db.transaction(function(se){U(se,q,"DELETE FROM "+q.storeName,[],function(){H()},function(ge,ve){V(ve)})})}).catch(V)});return v(N,A),N}function W(A){var z=this,N=new d(function(H,V){z.ready().then(function(){var q=z._dbInfo;q.db.transaction(function(se){U(se,q,"SELECT COUNT(key) as c FROM "+q.storeName,[],function(ge,ve){var ye=ve.rows.item(0).c;H(ye)},function(ge,ve){V(ve)})})}).catch(V)});return v(N,A),N}function E(A,z){var N=this,H=new d(function(V,q){N.ready().then(function(){var se=N._dbInfo;se.db.transaction(function(ge){U(ge,se,"SELECT key FROM "+se.storeName+" WHERE id = ? LIMIT 1",[A+1],function(ve,ye){var Ee=ye.rows.length?ye.rows.item(0).key:null;V(Ee)},function(ve,ye){q(ye)})})}).catch(q)});return v(H,z),H}function F(A){var z=this,N=new d(function(H,V){z.ready().then(function(){var q=z._dbInfo;q.db.transaction(function(se){U(se,q,"SELECT key FROM "+q.storeName,[],function(ge,ve){for(var ye=[],Ee=0;Ee<ve.rows.length;Ee++)ye.push(ve.rows.item(Ee).key);H(ye)},function(ge,ve){V(ve)})})}).catch(V)});return v(N,A),N}function G(A){return new d(function(z,N){A.transaction(function(H){H.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(V,q){for(var se=[],ge=0;ge<q.rows.length;ge++)se.push(q.rows.item(ge).name);z({db:A,storeNames:se})},function(V,q){N(q)})},function(H){N(H)})})}function Se(A,z){z=w.apply(this,arguments);var N=this.config();A=typeof A!="function"&&A||{},A.name||(A.name=A.name||N.name,A.storeName=A.storeName||N.storeName);var H=this,V;return A.name?V=new d(function(q){var se;A.name===N.name?se=H._dbInfo.db:se=openDatabase(A.name,"","",0),A.storeName?q({db:se,storeNames:[A.storeName]}):q(G(se))}).then(function(q){return new d(function(se,ge){q.db.transaction(function(ve){function ye(rt){return new d(function(st,_t){ve.executeSql("DROP TABLE IF EXISTS "+rt,[],function(){st()},function(vt,$t){_t($t)})})}for(var Ee=[],Te=0,Ve=q.storeNames.length;Te<Ve;Te++)Ee.push(ye(q.storeNames[Te]));d.all(Ee).then(function(){se()}).catch(function(rt){ge(rt)})},function(ve){ge(ve)})})}):V=d.reject("Invalid arguments"),v(V,z),V}var _e={_driver:"webSQLStorage",_initStorage:De,_support:Z(),iterate:h,getItem:re,setItem:L,removeItem:c,clear:P,length:W,key:E,keys:F,dropInstance:Se};function xe(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Pe(A,z){var N=A.name+"/";return A.storeName!==z.storeName&&(N+=A.storeName+"/"),N}function xt(){var A="_localforage_support_test";try{return localStorage.setItem(A,!0),localStorage.removeItem(A),!1}catch{return!0}}function Ze(){return!xt()||localStorage.length>0}function ze(A){var z=this,N={};if(A)for(var H in A)N[H]=A[H];return N.keyPrefix=Pe(A,z._defaultConfig),Ze()?(z._dbInfo=N,N.serializer=oe,d.resolve()):d.reject()}function at(A){var z=this,N=z.ready().then(function(){for(var H=z._dbInfo.keyPrefix,V=localStorage.length-1;V>=0;V--){var q=localStorage.key(V);q.indexOf(H)===0&&localStorage.removeItem(q)}});return v(N,A),N}function Ge(A,z){var N=this;A=x(A);var H=N.ready().then(function(){var V=N._dbInfo,q=localStorage.getItem(V.keyPrefix+A);return q&&(q=V.serializer.deserialize(q)),q});return v(H,z),H}function Ct(A,z){var N=this,H=N.ready().then(function(){for(var V=N._dbInfo,q=V.keyPrefix,se=q.length,ge=localStorage.length,ve=1,ye=0;ye<ge;ye++){var Ee=localStorage.key(ye);if(Ee.indexOf(q)===0){var Te=localStorage.getItem(Ee);if(Te&&(Te=V.serializer.deserialize(Te)),Te=A(Te,Ee.substring(se),ve++),Te!==void 0)return Te}}});return v(H,z),H}function jt(A,z){var N=this,H=N.ready().then(function(){var V=N._dbInfo,q;try{q=localStorage.key(A)}catch{q=null}return q&&(q=q.substring(V.keyPrefix.length)),q});return v(H,z),H}function dr(A){var z=this,N=z.ready().then(function(){for(var H=z._dbInfo,V=localStorage.length,q=[],se=0;se<V;se++){var ge=localStorage.key(se);ge.indexOf(H.keyPrefix)===0&&q.push(ge.substring(H.keyPrefix.length))}return q});return v(N,A),N}function gt(A){var z=this,N=z.keys().then(function(H){return H.length});return v(N,A),N}function Ft(A,z){var N=this;A=x(A);var H=N.ready().then(function(){var V=N._dbInfo;localStorage.removeItem(V.keyPrefix+A)});return v(H,z),H}function At(A,z,N){var H=this;A=x(A);var V=H.ready().then(function(){z===void 0&&(z=null);var q=z;return new d(function(se,ge){var ve=H._dbInfo;ve.serializer.serialize(z,function(ye,Ee){if(Ee)ge(Ee);else try{localStorage.setItem(ve.keyPrefix+A,ye),se(q)}catch(Te){(Te.name==="QuotaExceededError"||Te.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ge(Te),ge(Te)}})})});return v(V,N),V}function Yt(A,z){if(z=w.apply(this,arguments),A=typeof A!="function"&&A||{},!A.name){var N=this.config();A.name=A.name||N.name,A.storeName=A.storeName||N.storeName}var H=this,V;return A.name?V=new d(function(q){A.storeName?q(Pe(A,H._defaultConfig)):q(A.name+"/")}).then(function(q){for(var se=localStorage.length-1;se>=0;se--){var ge=localStorage.key(se);ge.indexOf(q)===0&&localStorage.removeItem(ge)}}):V=d.reject("Invalid arguments"),v(V,z),V}var Vt={_driver:"localStorageWrapper",_initStorage:ze,_support:xe(),iterate:Ct,getItem:Ge,setItem:At,removeItem:Ft,clear:at,length:gt,key:jt,keys:dr,dropInstance:Yt},Gi=function(z,N){return z===N||typeof z=="number"&&typeof N=="number"&&isNaN(z)&&isNaN(N)},dc=function(z,N){for(var H=z.length,V=0;V<H;){if(Gi(z[V],N))return!0;V++}return!1},oa=Array.isArray||function(A){return Object.prototype.toString.call(A)==="[object Array]"},gi={},aa={},Zr={INDEXEDDB:M,WEBSQL:_e,LOCALSTORAGE:Vt},pc=[Zr.INDEXEDDB._driver,Zr.WEBSQL._driver,Zr.LOCALSTORAGE._driver],Ki=["dropInstance"],Qn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ki),gc={description:"",driver:pc.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function mc(A,z){A[z]=function(){var N=arguments;return A.ready().then(function(){return A[z].apply(A,N)})}}function es(){for(var A=1;A<arguments.length;A++){var z=arguments[A];if(z)for(var N in z)z.hasOwnProperty(N)&&(oa(z[N])?arguments[0][N]=z[N].slice():arguments[0][N]=z[N])}return arguments[0]}var vc=(function(){function A(z){o(this,A);for(var N in Zr)if(Zr.hasOwnProperty(N)){var H=Zr[N],V=H._driver;this[N]=V,gi[V]||this.defineDriver(H)}this._defaultConfig=es({},gc),this._config=es({},this._defaultConfig,z),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return A.prototype.config=function(N){if((typeof N>"u"?"undefined":s(N))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var H in N){if(H==="storeName"&&(N[H]=N[H].replace(/\W/g,"_")),H==="version"&&typeof N[H]!="number")return new Error("Database version must be a number.");this._config[H]=N[H]}return"driver"in N&&N.driver?this.setDriver(this._config.driver):!0}else return typeof N=="string"?this._config[N]:this._config},A.prototype.defineDriver=function(N,H,V){var q=new d(function(se,ge){try{var ve=N._driver,ye=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!N._driver){ge(ye);return}for(var Ee=Qn.concat("_initStorage"),Te=0,Ve=Ee.length;Te<Ve;Te++){var rt=Ee[Te],st=!dc(Ki,rt);if((st||N[rt])&&typeof N[rt]!="function"){ge(ye);return}}var _t=function(){for(var mi=function(wc){return function(){var _c=new Error("Method "+wc+" is not implemented by the current driver"),ua=d.reject(_c);return v(ua,arguments[arguments.length-1]),ua}},ts=0,bc=Ki.length;ts<bc;ts++){var rs=Ki[ts];N[rs]||(N[rs]=mi(rs))}};_t();var vt=function(mi){gi[ve]&&console.info("Redefining LocalForage driver: "+ve),gi[ve]=N,aa[ve]=mi,se()};"_support"in N?N._support&&typeof N._support=="function"?N._support().then(vt,ge):vt(!!N._support):vt(!0)}catch($t){ge($t)}});return m(q,H,V),q},A.prototype.driver=function(){return this._driver||null},A.prototype.getDriver=function(N,H,V){var q=gi[N]?d.resolve(gi[N]):d.reject(new Error("Driver not found."));return m(q,H,V),q},A.prototype.getSerializer=function(N){var H=d.resolve(oe);return m(H,N),H},A.prototype.ready=function(N){var H=this,V=H._driverSet.then(function(){return H._ready===null&&(H._ready=H._initDriver()),H._ready});return m(V,N,N),V},A.prototype.setDriver=function(N,H,V){var q=this;oa(N)||(N=[N]);var se=this._getSupportedDrivers(N);function ge(){q._config.driver=q.driver()}function ve(Te){return q._extend(Te),ge(),q._ready=q._initStorage(q._config),q._ready}function ye(Te){return function(){var Ve=0;function rt(){for(;Ve<Te.length;){var st=Te[Ve];return Ve++,q._dbInfo=null,q._ready=null,q.getDriver(st).then(ve).catch(rt)}ge();var _t=new Error("No available storage method found.");return q._driverSet=d.reject(_t),q._driverSet}return rt()}}var Ee=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=Ee.then(function(){var Te=se[0];return q._dbInfo=null,q._ready=null,q.getDriver(Te).then(function(Ve){q._driver=Ve._driver,ge(),q._wrapLibraryMethodsWithReady(),q._initDriver=ye(se)})}).catch(function(){ge();var Te=new Error("No available storage method found.");return q._driverSet=d.reject(Te),q._driverSet}),m(this._driverSet,H,V),this._driverSet},A.prototype.supports=function(N){return!!aa[N]},A.prototype._extend=function(N){es(this,N)},A.prototype._getSupportedDrivers=function(N){for(var H=[],V=0,q=N.length;V<q;V++){var se=N[V];this.supports(se)&&H.push(se)}return H},A.prototype._wrapLibraryMethodsWithReady=function(){for(var N=0,H=Qn.length;N<H;N++)mc(this,Qn[N])},A.prototype.createInstance=function(N){return new A(N)},A})(),yc=new vc;i.exports=yc},{3:3}]},{},[4])(4)})})(eo)),eo.exports}var Rg=Tg();const zu=hi(Rg);class qf{constructor(e,t,i){this.urlCache={},this.storage=void 0,this.name=e,this.requester=t||Ui,this.resolver=i,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;typeof zu>"u"&&(e=zu),this.storage=e.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let t=navigator.onLine;this.online=t,t?this.emit("online",this):this.emit("offline",this)}add(e,t){let i=e.resources.map(n=>{let{href:s}=n,o=this.resolver(s),a=window.encodeURIComponent(o);return this.storage.getItem(a).then(u=>!u||t?this.requester(o,"binary").then(l=>this.storage.setItem(a,l)):u)});return Promise.all(i)}put(e,t,i){let n=window.encodeURIComponent(e);return this.storage.getItem(n).then(s=>s||this.requester(e,"binary",t,i).then(o=>this.storage.setItem(n,o)))}request(e,t,i,n){return this.online?this.requester(e,t,i,n).then(s=>(this.put(e),s)):this.retrieve(e,t)}retrieve(e,t){new Ke;var i,n=new xr(e);return t||(t=n.extension),t=="blob"?i=this.getBlob(e):i=this.getText(e),i.then(s=>{var o=new Ke,a;return s?(a=this.handleResponse(s,t),o.resolve(a)):o.reject({message:"File not found in storage: "+e,stack:new Error().stack}),o.promise})}handleResponse(e,t){var i;return t=="json"?i=JSON.parse(e):zi(t)?i=fr(e,"text/xml"):t=="xhtml"?i=fr(e,"application/xhtml+xml"):t=="html"||t=="htm"?i=fr(e,"text/html"):i=e,i}getBlob(e,t){let i=window.encodeURIComponent(e);return this.storage.getItem(i).then(function(n){if(n)return t=t||ui.lookup(e),new Blob([n],{type:t})})}getText(e,t){let i=window.encodeURIComponent(e);return t=t||ui.lookup(e),this.storage.getItem(i).then(function(n){var s=new Ke,o=new FileReader,a;if(n)return a=new Blob([n],{type:t}),o.addEventListener("loadend",()=>{s.resolve(o.result)}),o.readAsText(a,t),s.promise})}getBase64(e,t){let i=window.encodeURIComponent(e);return t=t||ui.lookup(e),this.storage.getItem(i).then(n=>{var s=new Ke,o=new FileReader,a;if(n)return a=new Blob([n],{type:t}),o.addEventListener("loadend",()=>{s.resolve(o.result)}),o.readAsDataURL(a,t),s.promise})}createUrl(e,t){var i=new Ke,n=window.URL||window.webkitURL||window.mozURL,s,o,a=t&&t.base64;return e in this.urlCache?(i.resolve(this.urlCache[e]),i.promise):(a?(o=this.getBase64(e),o&&o.then((function(u){this.urlCache[e]=u,i.resolve(u)}).bind(this))):(o=this.getBlob(e),o&&o.then((function(u){s=n.createObjectURL(u),this.urlCache[e]=s,i.resolve(s)}).bind(this))),o||i.reject({message:"File not found in storage: "+e,stack:new Error().stack}),i.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[e];i&&t.revokeObjectURL(i)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.urlCache={},this.removeListeners()}}hr(qf.prototype);class to{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;const t=lt(e,"display_options");return t?(Er(t,"option").forEach(n=>{let s="";switch(n.childNodes.length&&(s=n.childNodes[0].nodeValue),n.attributes.name.value){case"interactive":this.interactive=s;break;case"fixed-layout":this.fixedLayout=s;break;case"open-to-spread":this.openToSpread=s;break;case"orientation-lock":this.orientationLock=s;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const Uu="META-INF/container.xml",Og="META-INF/com.apple.ibooks.display-options.xml",Qt={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class ta{constructor(e,t){typeof t>"u"&&typeof e!="string"&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&(t=e,e=void 0),this.settings=St(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),St(this.settings,t),this.opening=new Ke,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new Ke,spine:new Ke,metadata:new Ke,cover:new Ke,navigation:new Ke,pageList:new Ke,resources:new Ke,displayOptions:new Ke},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||Ui,this.spine=new Hp,this.locations=new Lf(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(i=>{var n=new Error("Cannot load book at "+e);this.emit(Ce.BOOK.OPEN_FAILED,n)})}open(e,t){var i,n=t||this.determineType(e);return n===Qt.BINARY?(this.archived=!0,this.url=new er("/",""),i=this.openEpub(e)):n===Qt.BASE64?(this.archived=!0,this.url=new er("/",""),i=this.openEpub(e,n)):n===Qt.EPUB?(this.archived=!0,this.url=new er("/",""),i=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):n==Qt.OPF?(this.url=new er(e),i=this.openPackaging(this.url.Path.toString())):n==Qt.MANIFEST?(this.url=new er(e),i=this.openManifest(this.url.Path.toString())):(this.url=new er(e),i=this.openContainer(Uu).then(this.openPackaging.bind(this))),i}openEpub(e,t){return this.unarchive(e,t||this.settings.encoding).then(()=>this.openContainer(Uu)).then(i=>this.openPackaging(i))}openContainer(e){return this.load(e).then(t=>(this.container=new Vp(t),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new xr(e),this.load(e).then(t=>(this.packaging=new vu(t),this.unpack(this.packaging)))}openManifest(e){return this.path=new xr(e),this.load(e).then(t=>(this.packaging=new vu,this.packaging.load(t),this.unpack(this.packaging)))}load(e){var t=this.resolve(e);return this.archived?this.archive.request(t):this.request(t,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,t){if(e){var i=e,n=e.indexOf("://")>-1;return n?e:(this.path&&(i=this.path.resolve(e)),t!=!1&&this.url&&(i=this.url.resolve(i)),i)}}canonical(e){var t=e;return e?(this.settings.canonical?t=this.settings.canonical(e):t=this.resolve(e,!0),t):""}determineType(e){var t,i,n;if(this.settings.encoding==="base64")return Qt.BASE64;if(typeof e!="string")return Qt.BINARY;if(t=new er(e),i=t.path(),n=i.extension,n&&(n=n.replace(/\?.*$/,"")),!n)return Qt.DIRECTORY;if(n==="epub")return Qt.EPUB;if(n==="opf")return Qt.OPF;if(n==="json")return Qt.MANIFEST}unpack(e){this.package=e,this.packaging.metadata.layout===""?this.load(this.url.resolve(Og)).then(t=>{this.displayOptions=new to(t),this.loading.displayOptions.resolve(this.displayOptions)}).catch(t=>{this.displayOptions=new to,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new to,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new Kp(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(t=>{console.error(t)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let t=e.navPath||e.ncxPath,i=e.toc;return i?new Promise((n,s)=>{this.navigation=new Ps(i),e.pageList&&(this.pageList=new Fs(e.pageList)),n(this.navigation)}):t?this.load(t,"xml").then(n=>(this.navigation=new Ps(n),this.pageList=new Fs(n),this.navigation)):new Promise((n,s)=>{this.navigation=new Ps,this.pageList=new Fs,n(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,t){return this.rendition=new ea(this,t),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,t){return this.archive=new Sg,this.archive.open(e,t)}store(e){let t=this.settings.replacements&&this.settings.replacements!=="none",i=this.url,n=this.settings.requestMethod||Ui.bind(this);return this.storage=new qf(e,n,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let s=(o,a)=>{a.output=this.resources.substitute(o,a.url)};this.resources.settings.replacements=t||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new er("/",""),this.spine.hooks.serialize.register(s)}),this.storage.on("online",()=>{this.url=i,this.spine.hooks.serialize.deregister(s)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,t)=>{t.output=this.resources.substitute(e,t.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var t=new Xe(e),i=this.spine.get(t.spinePos),n=this.load.bind(this);return i?i.load(n).then(function(s){var o=t.toRange(i.document);return o}):new Promise((s,o)=>{o("CFI could not be found")})}key(e){var t=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${Zn}:${t}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}hr(ta.prototype);function $r(r,e){return new ta(r,e)}$r.VERSION=Zn;typeof global<"u"&&(global.EPUBJS_VERSION=Zn);$r.Book=ta;$r.Rendition=ea;$r.Contents=Jo;$r.CFI=Xe;$r.utils=Pp;const ra=vf("epub",()=>{const r=Hn(),e=Bt(null),t=Bt(""),i=Bt([]),n=Bt(0),s=jn(()=>{const d=i.value.length-1;return{get current(){return n.value},get max(){return d},get min(){return 0},next(){return n.value<d?(n.value++,n.value):null},prev(){return n.value>0?(n.value--,n.value):null}}}),o=async f=>{try{if(!f)return;e.value=$r(f),await e.value.ready,i.value=e.value.navigation.toc,n.value=0}catch(d){console.error("❌ EPUB 讀取錯誤:",d)}},a=async f=>{if(!e.value||!i.value.length)return;const d=i.value[f],v=await e.value.load(d.href);t.value=v.body.innerHTML,t.value&&t.value.trim()&&r.pushMessage({sender:"epub",text:t.value})};return{book:e,bookContent:t,toc:i,currentIndex:n,loadFile:o,loadChapter:a,nextPage:async()=>{const f=s.value.next();f!==null&&await a(f)},prevPage:async()=>{const f=s.value.prev();f!==null&&await a(f)}}}),Wi=(r,e)=>{const t=r.__vccOpts||r;for(const[i,n]of e)t[i]=n;return t},Ng={class:"sidebar"},kg={class:"sidebar-menu"},Lg={key:0,class:"toc-container"},Ig=["onClick"],Bg={__name:"Sidebar",setup(r){const e=Bt("new"),t=u=>{e.value=u},i=u=>{n.currentIndex=u,n.loadChapter(u)},n=ra(),s=jn(()=>n.toc.map(u=>u.label.trim()).filter(u=>u)),o=Bt(!1),a=()=>{o.value=!o.value,t("projects")};return(u,l)=>(Lt(),Mt("aside",Ng,[l[9]||(l[9]=hd('<div class="sidebar-header" data-v-8fb986ec><div class="sidebar-logo" data-v-8fb986ec><svg width="24" height="24" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg" data-v-8fb986ec><path d="M 2 23 L 4 19 L 4 18 L 3 16 L 1 14 L 1 13 L 1 12 L 3 9.1875 L 4 9 L 6 9 L 7 7.1875 L 6 2.1875 L 11 5.1875 L 15 5.1875 L 16 4.1875 L 20 1.1875 L 21 2.1875 L 21 2.1875 L 22 7.1875 L 24 8.1875 L 24 11.1875 L 23 13.1875 L 24 19.1875 L 24 21.1875 L 24 23 L 4 23 Z M 1 12 L 1 14 L 3 16 L 6 16.1875 L 8 15.1875 L 9 12.1875 L 12 12.1875 L 14 15.1875 L 16 16.1875 L 20 16.1875 L 22 14.1875 L 23 11.1875 L 24 11.1875 L 24 9.1875 L 20 8.1875 L 16 8.1875 L 13 9.1875 L 9 9 L 4 9 L 3 9.1875 L 2.1 10.173 Z" fill="none" stroke="#000000" stroke-width="1" data-v-8fb986ec></path></svg></div><button data-v-8fb986ec><svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="icon max-md:hidden" data-v-8fb986ec><path d="M6.83496 3.99992C6.38353 4.00411 6.01421 4.0122 5.69824 4.03801C5.31232 4.06954 5.03904 4.12266 4.82227 4.20012L4.62207 4.28606C4.18264 4.50996 3.81498 4.85035 3.55859 5.26848L3.45605 5.45207C3.33013 5.69922 3.25006 6.01354 3.20801 6.52824C3.16533 7.05065 3.16504 7.71885 3.16504 8.66301V11.3271C3.16504 12.2712 3.16533 12.9394 3.20801 13.4618C3.25006 13.9766 3.33013 14.2909 3.45605 14.538L3.55859 14.7216C3.81498 15.1397 4.18266 15.4801 4.62207 15.704L4.82227 15.79C5.03904 15.8674 5.31234 15.9205 5.69824 15.9521C6.01398 15.9779 6.383 15.986 6.83398 15.9902L6.83496 3.99992ZM18.165 11.3271C18.165 12.2493 18.1653 12.9811 18.1172 13.5702C18.0745 14.0924 17.9916 14.5472 17.8125 14.9648L17.7295 15.1415C17.394 15.8 16.8834 16.3511 16.2568 16.7353L15.9814 16.8896C15.5157 17.1268 15.0069 17.2285 14.4102 17.2773C13.821 17.3254 13.0893 17.3251 12.167 17.3251H7.83301C6.91071 17.3251 6.17898 17.3254 5.58984 17.2773C5.06757 17.2346 4.61294 17.1508 4.19531 16.9716L4.01855 16.8896C3.36014 16.5541 2.80898 16.0434 2.4248 15.4169L2.27051 15.1415C2.03328 14.6758 1.93158 14.167 1.88281 13.5702C1.83468 12.9811 1.83496 12.2493 1.83496 11.3271V8.66301C1.83496 7.74072 1.83468 7.00898 1.88281 6.41985C1.93157 5.82309 2.03329 5.31432 2.27051 4.84856L2.4248 4.57317C2.80898 3.94666 3.36012 3.436 4.01855 3.10051L4.19531 3.0175C4.61285 2.83843 5.06771 2.75548 5.58984 2.71281C6.17898 2.66468 6.91071 2.66496 7.83301 2.66496H12.167C13.0893 2.66496 13.821 2.66468 14.4102 2.71281C15.0069 2.76157 15.5157 2.86329 15.9814 3.10051L16.2568 3.25481C16.8833 3.63898 17.394 4.19012 17.7295 4.84856L17.8125 5.02531C17.9916 5.44285 18.0745 5.89771 18.1172 6.41985C18.1653 7.00898 18.165 7.74072 18.165 8.66301V11.3271ZM8.16406 15.995H12.167C13.1112 15.995 13.7794 15.9947 14.3018 15.9521C14.8164 15.91 15.1308 15.8299 15.3779 15.704L15.5615 15.6015C15.9797 15.3451 16.32 14.9774 16.5439 14.538L16.6299 14.3378C16.7074 14.121 16.7605 13.8478 16.792 13.4618C16.8347 12.9394 16.835 12.2712 16.835 11.3271V8.66301C16.835 7.71885 16.8347 7.05065 16.792 6.52824C16.7605 6.14232 16.7073 5.86904 16.6299 5.65227L16.5439 5.45207C16.32 5.01264 15.9796 4.64498 15.5615 4.3886L15.3779 4.28606C15.1308 4.16013 14.8165 4.08006 14.3018 4.03801C13.7794 3.99533 13.1112 3.99504 12.167 3.99504H8.16406C8.16407 3.99667 8.16504 3.99829 8.16504 3.99992L8.16406 15.995Z" data-v-8fb986ec></path></svg></button></div>',1)),je("nav",kg,[je("button",{class:vr(["sidebar-item",{active:e.value==="new"}]),onClick:l[0]||(l[0]=f=>t("new"))},[...l[3]||(l[3]=[je("svg",{class:"icon",viewBox:"0 0 24 24"},[je("path",{d:"M2.6687 11.333V8.66699C2.6687 7.74455 2.66841 7.01205 2.71655 6.42285C2.76533 5.82612 2.86699 5.31731 3.10425 4.85156L3.25854 4.57617C3.64272 3.94975 4.19392 3.43995 4.85229 3.10449L5.02905 3.02149C5.44666 2.84233 5.90133 2.75849 6.42358 2.71582C7.01272 2.66769 7.74445 2.66797 8.66675 2.66797H9.16675C9.53393 2.66797 9.83165 2.96586 9.83179 3.33301C9.83179 3.70028 9.53402 3.99805 9.16675 3.99805H8.66675C7.7226 3.99805 7.05438 3.99834 6.53198 4.04102C6.14611 4.07254 5.87277 4.12568 5.65601 4.20313L5.45581 4.28906C5.01645 4.51293 4.64872 4.85345 4.39233 5.27149L4.28979 5.45508C4.16388 5.7022 4.08381 6.01663 4.04175 6.53125C3.99906 7.05373 3.99878 7.7226 3.99878 8.66699V11.333C3.99878 12.2774 3.99906 12.9463 4.04175 13.4688C4.08381 13.9833 4.16389 14.2978 4.28979 14.5449L4.39233 14.7285C4.64871 15.1465 5.01648 15.4871 5.45581 15.7109L5.65601 15.7969C5.87276 15.8743 6.14614 15.9265 6.53198 15.958C7.05439 16.0007 7.72256 16.002 8.66675 16.002H11.3337C12.2779 16.002 12.9461 16.0007 13.4685 15.958C13.9829 15.916 14.2976 15.8367 14.5447 15.7109L14.7292 15.6074C15.147 15.3511 15.4879 14.9841 15.7117 14.5449L15.7976 14.3447C15.8751 14.128 15.9272 13.8546 15.9587 13.4688C16.0014 12.9463 16.0017 12.2774 16.0017 11.333V10.833C16.0018 10.466 16.2997 10.1681 16.6667 10.168C17.0339 10.168 17.3316 10.4659 17.3318 10.833V11.333C17.3318 12.2555 17.3331 12.9879 17.2849 13.5771C17.2422 14.0993 17.1584 14.5541 16.9792 14.9717L16.8962 15.1484C16.5609 15.8066 16.0507 16.3571 15.4246 16.7412L15.1492 16.8955C14.6833 17.1329 14.1739 17.2354 13.5769 17.2842C12.9878 17.3323 12.256 17.332 11.3337 17.332H8.66675C7.74446 17.332 7.01271 17.3323 6.42358 17.2842C5.90135 17.2415 5.44665 17.1577 5.02905 16.9785L4.85229 16.8955C4.19396 16.5601 3.64271 16.0502 3.25854 15.4238L3.10425 15.1484C2.86697 14.6827 2.76534 14.1739 2.71655 13.5771C2.66841 12.9879 2.6687 12.2555 2.6687 11.333ZM13.4646 3.11328C14.4201 2.334 15.8288 2.38969 16.7195 3.28027L16.8865 3.46485C17.6141 4.35685 17.6143 5.64423 16.8865 6.53613L16.7195 6.7207L11.6726 11.7686C11.1373 12.3039 10.4624 12.6746 9.72827 12.8408L9.41089 12.8994L7.59351 13.1582C7.38637 13.1877 7.17701 13.1187 7.02905 12.9707C6.88112 12.8227 6.81199 12.6134 6.84155 12.4063L7.10132 10.5898L7.15991 10.2715C7.3262 9.53749 7.69692 8.86241 8.23218 8.32715L13.2791 3.28027L13.4646 3.11328ZM15.7791 4.2207C15.3753 3.81702 14.7366 3.79124 14.3035 4.14453L14.2195 4.2207L9.17261 9.26856C8.81541 9.62578 8.56774 10.0756 8.45679 10.5654L8.41772 10.7773L8.28296 11.7158L9.22241 11.582L9.43433 11.543C9.92426 11.432 10.3749 11.1844 10.7322 10.8271L15.7791 5.78027L15.8552 5.69629C16.185 5.29194 16.1852 4.708 15.8552 4.30371L15.7791 4.2207Z"})],-1),je("span",null,"新聊天",-1)])],2),je("button",{class:vr(["sidebar-item",{active:e.value==="search"}]),onClick:l[1]||(l[1]=f=>t("search"))},[...l[4]||(l[4]=[je("svg",{class:"icon",viewBox:"0 0 24 24"},[je("path",{d:"M14.0857 8.74999C14.0857 5.80355 11.6972 3.41503 8.75073 3.41503C5.80429 3.41503 3.41577 5.80355 3.41577 8.74999C3.41577 11.6964 5.80429 14.085 8.75073 14.085C11.6972 14.085 14.0857 11.6964 14.0857 8.74999ZM15.4158 8.74999C15.4158 10.3539 14.848 11.8245 13.9041 12.9746L13.9705 13.0303L16.9705 16.0303L17.0564 16.1338C17.2269 16.3919 17.1977 16.7434 16.9705 16.9707C16.7432 17.1975 16.3925 17.226 16.1345 17.0557L16.03 16.9707L13.03 13.9707L12.9753 13.9033C11.8253 14.8472 10.3547 15.415 8.75073 15.415C5.06975 15.415 2.08569 12.431 2.08569 8.74999C2.08569 5.06901 5.06975 2.08495 8.75073 2.08495C12.4317 2.08495 15.4158 5.06901 15.4158 8.74999Z"})],-1),je("span",null,"搜尋聊天",-1),je("span",{class:"shortcut"},"⌘K",-1)])],2),je("button",{class:vr(["sidebar-item",{active:e.value==="library"}]),onClick:l[2]||(l[2]=f=>t("library"))},[...l[5]||(l[5]=[je("svg",{class:"icon",viewBox:"0 0 24 24"},[je("path",{d:"M9.72841 1.5897C10.1797 1.60809 10.7322 1.67665 11.4159 1.7606L14.2284 2.1063L15.1581 2.22446C15.4371 2.26322 15.6859 2.3028 15.9071 2.34849C16.3571 2.44144 16.7509 2.57006 17.1015 2.80649L17.3026 2.95396C17.7576 3.31618 18.1055 3.79802 18.3056 4.34751L18.3544 4.49692C18.4567 4.84845 18.4772 5.21519 18.4608 5.61704C18.4516 5.84273 18.4292 6.09381 18.3993 6.37388L18.2899 7.30454L17.9442 10.117C17.8603 10.8007 17.7934 11.3535 17.702 11.7958C17.6207 12.1895 17.5122 12.5401 17.328 12.8563L17.244 12.9901C17.0958 13.2098 16.921 13.4086 16.7255 13.5829L16.6171 13.662C16.3496 13.8174 16.0009 13.769 15.787 13.5292C15.5427 13.255 15.5666 12.834 15.8407 12.5897L16.0018 12.4276C16.0519 12.3703 16.0986 12.3095 16.1415 12.2459L16.2128 12.1239C16.2813 11.9875 16.3421 11.8041 16.3993 11.5272C16.4771 11.1504 16.5383 10.6605 16.6249 9.95493L16.9696 7.14243L17.077 6.23228C17.1047 5.97357 17.1239 5.7546 17.1317 5.56235C17.1432 5.27997 17.1291 5.08722 17.0956 4.93833L17.0556 4.80259C16.9396 4.4842 16.7381 4.20493 16.4745 3.99497L16.3573 3.90903C16.2103 3.80991 16.0075 3.72745 15.6386 3.65122C15.4502 3.61231 15.2331 3.57756 14.9755 3.54185L14.0663 3.42563L11.2538 3.08091C10.5481 2.99426 10.0582 2.93444 9.67372 2.9188C9.39129 2.90732 9.19861 2.92142 9.0497 2.95493L8.91395 2.99497C8.59536 3.11093 8.31538 3.31224 8.10536 3.57603L8.0204 3.69321C7.95293 3.79324 7.89287 3.91951 7.83778 4.10532L7.787 4.23032C7.64153 4.50308 7.31955 4.64552 7.01161 4.55454C6.65948 4.45019 6.45804 4.07952 6.56239 3.72739L6.63075 3.52036C6.70469 3.31761 6.79738 3.12769 6.91786 2.94907L7.06532 2.7479C7.42756 2.29294 7.90937 1.94497 8.45888 1.74497L8.60829 1.69614C8.95981 1.59385 9.32655 1.57335 9.72841 1.5897Z"}),je("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.3886 5.58677C10.8476 5.5681 11.2608 5.5975 11.6581 5.74204L11.8895 5.83677C12.4185 6.07813 12.8721 6.46152 13.1991 6.94614L13.2831 7.07993C13.4673 7.39617 13.5758 7.74677 13.6571 8.14048C13.7484 8.58274 13.8154 9.13563 13.8993 9.81919L14.245 12.6317L14.3554 13.5624C14.3852 13.8423 14.4067 14.0936 14.4159 14.3192C14.4322 14.7209 14.4118 15.0879 14.3095 15.4393L14.2606 15.5887C14.0606 16.138 13.7126 16.6202 13.2577 16.9823L13.0565 17.1297C12.7061 17.366 12.312 17.4948 11.8622 17.5877C11.6411 17.6334 11.3919 17.673 11.1132 17.7118L10.1835 17.8299L7.37098 18.1756C6.68748 18.2596 6.13466 18.3282 5.68348 18.3465C5.28176 18.3628 4.9148 18.3424 4.56337 18.2401L4.41395 18.1913C3.86454 17.9912 3.38258 17.6432 3.0204 17.1883L2.87294 16.9872C2.63655 16.6367 2.50788 16.2427 2.41493 15.7928C2.36926 15.5717 2.32964 15.3226 2.29091 15.0438L2.17274 14.1141L1.82704 11.3016C1.74311 10.6181 1.67455 10.0653 1.65614 9.61411C1.63747 9.15518 1.66697 8.74175 1.81141 8.34458L1.90614 8.11313C2.14741 7.58441 2.53115 7.13051 3.01552 6.80356L3.1493 6.71958C3.46543 6.53545 3.8163 6.42688 4.20985 6.34556C4.65206 6.25423 5.20506 6.18729 5.88856 6.10337L8.70106 5.75767L9.63173 5.64731C9.91161 5.61744 10.163 5.59597 10.3886 5.58677ZM6.75673 13.0594C6.39143 12.978 6.00943 13.0106 5.66298 13.1522C5.5038 13.2173 5.32863 13.3345 5.06923 13.5829C4.80403 13.8368 4.49151 14.1871 4.04091 14.6932L3.64833 15.1327C3.67072 15.2763 3.69325 15.4061 3.71766 15.5243C3.79389 15.893 3.87637 16.0961 3.97548 16.243L4.06141 16.3602C4.27134 16.6237 4.5507 16.8253 4.86903 16.9413L5.00477 16.9813C5.1536 17.0148 5.34659 17.0289 5.6288 17.0174C6.01317 17.0018 6.50346 16.9419 7.20888 16.8553L10.0214 16.5106L10.9306 16.3944C11.0173 16.3824 11.0997 16.3693 11.1776 16.3573L8.61513 14.3065C8.08582 13.8831 7.71807 13.5905 7.41395 13.3846C7.19112 13.2338 7.02727 13.1469 6.88856 13.0975L6.75673 13.0594ZM10.4432 6.91587C10.2511 6.9237 10.0319 6.94288 9.77333 6.97056L8.86317 7.07798L6.05067 7.42271C5.34527 7.50932 4.85514 7.57047 4.47841 7.64829C4.20174 7.70549 4.01803 7.76626 3.88173 7.83481L3.75966 7.9061C3.47871 8.09575 3.25597 8.35913 3.1161 8.66587L3.06141 8.79966C3.00092 8.96619 2.96997 9.18338 2.98524 9.55942C3.00091 9.94382 3.06074 10.4341 3.14735 11.1395L3.42274 13.3895L3.64442 13.1434C3.82631 12.9454 3.99306 12.7715 4.1493 12.6219C4.46768 12.3171 4.78299 12.0748 5.16005 11.9208L5.38661 11.8377C5.92148 11.6655 6.49448 11.6387 7.04579 11.7616L7.19325 11.7987C7.53151 11.897 7.8399 12.067 8.15907 12.2831C8.51737 12.5256 8.9325 12.8582 9.4452 13.2684L12.5966 15.7889C12.7786 15.6032 12.9206 15.3806 13.0106 15.1336L13.0507 14.9979C13.0842 14.8491 13.0982 14.6561 13.0868 14.3739C13.079 14.1817 13.0598 13.9625 13.0321 13.704L12.9247 12.7938L12.58 9.9813C12.4933 9.27584 12.4322 8.78581 12.3544 8.40903C12.2972 8.13219 12.2364 7.94873 12.1679 7.81235L12.0966 7.69028C11.9069 7.40908 11.6437 7.18669 11.3368 7.04673L11.203 6.99204C11.0364 6.93147 10.8195 6.90059 10.4432 6.91587Z"})],-1),je("span",null,"圖庫",-1)])],2),je("button",{class:vr(["sidebar-item",{active:e.value==="projects"}]),onClick:a},[l[7]||(l[7]=je("svg",{class:"icon",viewBox:"0 0 24 24"},[je("path",{d:"M15.2041 17.5V15.665H13.3691C13.0019 15.665 12.7041 15.3673 12.7041 15C12.7041 14.6327 13.0019 14.335 13.3691 14.335H15.2041V12.5C15.2041 12.1327 15.5019 11.835 15.8691 11.835C16.2362 11.8352 16.5332 12.1329 16.5332 12.5V14.335H18.3691C18.7362 14.3352 19.0332 14.6329 19.0332 15C19.0332 15.3671 18.7362 15.6648 18.3691 15.665H16.5332V17.5C16.5332 17.8671 16.2362 18.1648 15.8691 18.165C15.5019 18.165 15.2041 17.8673 15.2041 17.5ZM2.12012 12.7002V7.29981C2.12012 6.64581 2.11922 6.1149 2.1543 5.68555C2.19002 5.24867 2.26619 4.85832 2.45117 4.49512L2.56836 4.28516C2.86045 3.80898 3.27979 3.42103 3.78028 3.16602L3.91797 3.10156C4.24192 2.96268 4.5885 2.90039 4.97071 2.86914C5.40006 2.83406 5.93096 2.83496 6.58496 2.83496H7.28028C7.42346 2.83496 7.52305 2.83479 7.6211 2.84082L7.875 2.86719C8.46133 2.95309 9.01189 3.20874 9.45703 3.60547L9.70215 3.84473C9.81425 3.95779 9.85105 3.99455 9.88672 4.02637L9.99805 4.11719C10.2646 4.31741 10.5851 4.43638 10.9199 4.45703L11.1797 4.45996H13.6914C14.2499 4.45996 14.703 4.45958 15.0713 4.48535C15.4458 4.51157 15.7828 4.56683 16.1025 4.70313L16.3662 4.83106C16.9638 5.15706 17.4378 5.67623 17.707 6.30762L17.7939 6.54981C17.868 6.79538 17.904 7.05317 17.9238 7.33203C17.9498 7.69789 17.9502 8.14747 17.9502 8.7002C17.9501 8.87631 17.8803 9.0453 17.7559 9.16992C17.6311 9.29464 17.4615 9.36524 17.2852 9.36524H3.4502V12.7002C3.4502 13.3761 3.45084 13.8434 3.48047 14.2061C3.50947 14.5608 3.56304 14.7568 3.63672 14.9014L3.70215 15.0195C3.86642 15.2873 4.10236 15.505 4.38379 15.6484L4.50391 15.7002C4.63661 15.7476 4.81329 15.783 5.0791 15.8047C5.44174 15.8343 5.90903 15.835 6.58496 15.835H9.40918L9.54395 15.8486C9.84681 15.9108 10.0742 16.1788 10.0742 16.5C10.0742 16.8212 9.84681 17.0892 9.54395 17.1514L9.40918 17.165H6.58496C5.93096 17.165 5.40006 17.1659 4.97071 17.1309C4.5885 17.0996 4.24192 17.0373 3.91797 16.8984L3.78028 16.834C3.27979 16.579 2.86045 16.191 2.56836 15.7148L2.45117 15.5049C2.26619 15.1417 2.19002 14.7513 2.1543 14.3145C2.11922 13.8851 2.12012 13.3542 2.12012 12.7002ZM3.4502 8.03516H16.6172C16.6146 7.79548 16.6098 7.59777 16.5977 7.42676C16.5816 7.20054 16.5552 7.04845 16.5205 6.9336L16.4834 6.8291C16.332 6.47411 16.0655 6.1824 15.7295 5.99903L15.5811 5.92676C15.4545 5.8728 15.2835 5.83385 14.9785 5.8125C14.6674 5.79073 14.2686 5.79004 13.6914 5.79004H11.1797L10.8379 5.78418C10.2426 5.74746 9.67313 5.53663 9.19922 5.18067L9.00196 5.01953C8.92848 4.95403 8.85889 4.88222 8.75781 4.78028L8.57227 4.59863C8.32169 4.37525 8.01175 4.23086 7.68164 4.18262L7.54004 4.16797C7.49225 4.16502 7.43987 4.16504 7.28028 4.16504H6.58496C5.90903 4.16504 5.44174 4.16569 5.0791 4.19531C4.81329 4.21705 4.63661 4.25237 4.50391 4.29981L4.38379 4.35156C4.10236 4.49499 3.86642 4.71271 3.70215 4.98047L3.63672 5.09863C3.56304 5.24324 3.50947 5.43924 3.48047 5.79395C3.45084 6.15659 3.4502 6.62388 3.4502 7.29981V8.03516Z"})],-1)),l[8]||(l[8]=je("span",null,"專案",-1)),s.value.length?(Lt(),Mt("svg",{key:0,class:"icon",style:In([{"margin-left":"auto",transition:"transform 0.2s"},{transform:o.value?"rotate(90deg)":"rotate(0deg)"}]),viewBox:"0 0 24 24"},[...l[6]||(l[6]=[je("path",{d:"M9 6l6 6-6 6",fill:"none",stroke:"currentColor","stroke-width":"2"},null,-1)])],4)):xa("",!0)],2),o.value&&s.value.length?(Lt(),Mt("div",Lg,[(Lt(!0),Mt(rr,null,ql(s.value,(f,d)=>(Lt(),Mt("div",{class:vr(["sidebar-item toc-item cursor-pointer",{active:jr(n).currentIndex===d}]),key:d,onClick:v=>i(d)},Lo(f),11,Ig))),128))])):xa("",!0)])]))}},Pg=Wi(Bg,[["__scopeId","data-v-8fb986ec"]]),Fg={class:"input-inner"},Mg=["onKeydown"],zg={class:"btn-row"},Ug={class:"btn-left"},qg=["disabled"],jg=["disabled"],Wg={class:"btn-right"},Hg=["disabled"],Vg={__name:"ChatInput",setup(r){const e=ra(),t=Hn(),i=Bt(null),n=Bt(""),s=Bt(!1),o=()=>{const f=n.value.trim();f&&(t.pushMessage({sender:"user",text:f}),n.value="")},a=f=>{s.value||t.isInputDisabled||(f.preventDefault(),o())},u=()=>{i.value?.click()},l=async f=>{const d=f.target.files[0];d&&await e.loadFile(d),f.target.value=""};return(f,d)=>(Lt(),Mt("div",Fg,[dh(je("textarea",{"onUpdate:modelValue":d[0]||(d[0]=v=>n.value=v),placeholder:"詢問任何問題",rows:"1",class:"textarea-input",onKeydown:Gd($d(a,["exact","prevent"]),["enter"]),onCompositionstart:d[1]||(d[1]=v=>s.value=!0),onCompositionend:d[2]||(d[2]=v=>s.value=!1)},null,40,Mg),[[Wd,n.value]]),je("div",zg,[je("div",Ug,[je("input",{ref_key:"fileInputRef",ref:i,type:"file",accept:".epub",class:"file-input",onChange:l,disabled:jr(t).isInputDisabled},null,40,qg),je("button",{class:"icon-btn",onClick:u,disabled:jr(t).isInputDisabled,"aria-label":"上傳 EPUB"},[...d[3]||(d[3]=[je("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",class:"icon"},[je("path",{d:"M4.33496 12.5V7.5C4.33496 7.13273 4.63273 6.83496 5 6.83496C5.36727 6.83496 5.66504 7.13273 5.66504 7.5V12.5C5.66504 14.8942 7.60585 16.835 10 16.835C12.3942 16.835 14.335 14.8942 14.335 12.5V5.83301C14.3348 4.35959 13.1404 3.16522 11.667 3.16504C10.1934 3.16504 8.99822 4.35948 8.99805 5.83301V12.5C8.99805 13.0532 9.44679 13.502 10 13.502C10.5532 13.502 11.002 13.0532 11.002 12.5V7.5C11.002 7.13273 11.2997 6.83496 11.667 6.83496C12.0341 6.83514 12.332 7.13284 12.332 7.5V12.5C12.332 13.7877 11.2877 14.832 10 14.832C8.71226 14.832 7.66797 13.7877 7.66797 12.5V5.83301C7.66814 3.62494 9.45888 1.83496 11.667 1.83496C13.875 1.83514 15.6649 3.62505 15.665 5.83301V12.5C15.665 15.6287 13.1287 18.165 10 18.165C6.87131 18.165 4.33496 15.6287 4.33496 12.5Z"})],-1)])],8,jg)]),je("div",Wg,[je("button",{class:"icon-btn",onClick:o,disabled:!n.value.trim()||jr(t).isInputDisabled,"aria-label":"送出"},[...d[4]||(d[4]=[je("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",class:"icon"},[je("path",{d:"M8.99992 16V6.41407L5.70696 9.70704C5.31643 10.0976 4.68342 10.0976 4.29289 9.70704C3.90237 9.31652 3.90237 8.6835 4.29289 8.29298L9.29289 3.29298L9.36907 3.22462C9.76184 2.90427 10.3408 2.92686 10.707 3.29298L15.707 8.29298L15.7753 8.36915C16.0957 8.76192 16.0731 9.34092 15.707 9.70704C15.3408 10.0732 14.7618 10.0958 14.3691 9.7754L14.2929 9.70704L10.9999 6.41407V16C10.9999 16.5523 10.5522 17 9.99992 17C9.44764 17 8.99992 16.5523 8.99992 16Z"})],-1)])],8,Hg)])])]))}},$g=Wi(Vg,[["__scopeId","data-v-842a27c6"]]),Zg={class:"topbar"},Gg={__name:"AppHeader",props:{},setup(r){return(e,t)=>(Lt(),Mt("header",Zg,[...t[0]||(t[0]=[je("div",{class:"logo"},"ePub.AI",-1),je("div",{class:"auth-buttons"},[je("button",null,"登入"),je("button",{class:"primary"},"免費註冊")],-1)])]))}},Kg=Wi(Gg,[["__scopeId","data-v-dd554dee"]]),Xg={key:0,class:"chat-placeholder"},Yg={class:"message-inner"},Jg=["innerHTML"],Qg={key:1,class:"message-text"},e0={__name:"ChatMessages",setup(r){const e=Hn(),t=Bt(null);function i(){t.value&&t.value.scrollTo({top:t.value.scrollHeight,behavior:"smooth"})}return Ni(()=>e.messages,()=>{i()},{deep:!0,flush:"post"}),(n,s)=>(Lt(),Mt("div",{class:"chat-content",ref_key:"chatContainer",ref:t},[jr(e).messages.length===0?(Lt(),Mt("div",Xg," 今天有什麼計畫？ ")):(Lt(!0),Mt(rr,{key:1},ql(jr(e).messages,(o,a)=>(Lt(),Mt("div",{key:a,class:vr(["chat-message",o.sender])},[je("div",Yg,[o.sender==="epub"?(Lt(),Mt("div",{key:0,class:"message-text",innerHTML:o.text},null,8,Jg)):(Lt(),Mt("div",Qg,Lo(o.text),1))])],2))),128))],512))}},t0=Wi(e0,[["__scopeId","data-v-5b4035d6"]]);function jf(r,e){return function(){return r.apply(e,arguments)}}const{toString:r0}=Object.prototype,{getPrototypeOf:ia}=Object,{iterator:Gn,toStringTag:Wf}=Symbol,Kn=(r=>e=>{const t=r0.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),nr=r=>(r=r.toLowerCase(),e=>Kn(e)===r),Xn=r=>e=>typeof e===r,{isArray:di}=Array,ci=Xn("undefined");function Hi(r){return r!==null&&!ci(r)&&r.constructor!==null&&!ci(r.constructor)&&Ut(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Hf=nr("ArrayBuffer");function i0(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&Hf(r.buffer),e}const n0=Xn("string"),Ut=Xn("function"),Vf=Xn("number"),Vi=r=>r!==null&&typeof r=="object",s0=r=>r===!0||r===!1,fn=r=>{if(Kn(r)!=="object")return!1;const e=ia(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Wf in r)&&!(Gn in r)},o0=r=>{if(!Vi(r)||Hi(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},a0=nr("Date"),u0=nr("File"),l0=nr("Blob"),f0=nr("FileList"),c0=r=>Vi(r)&&Ut(r.pipe),h0=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Ut(r.append)&&((e=Kn(r))==="formdata"||e==="object"&&Ut(r.toString)&&r.toString()==="[object FormData]"))},d0=nr("URLSearchParams"),[p0,g0,m0,v0]=["ReadableStream","Request","Response","Headers"].map(nr),y0=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $i(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let i,n;if(typeof r!="object"&&(r=[r]),di(r))for(i=0,n=r.length;i<n;i++)e.call(null,r[i],i,r);else{if(Hi(r))return;const s=t?Object.getOwnPropertyNames(r):Object.keys(r),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,r[a],a,r)}}function $f(r,e){if(Hi(r))return null;e=e.toLowerCase();const t=Object.keys(r);let i=t.length,n;for(;i-- >0;)if(n=t[i],e===n.toLowerCase())return n;return null}const Ur=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zf=r=>!ci(r)&&r!==Ur;function Co(){const{caseless:r,skipUndefined:e}=Zf(this)&&this||{},t={},i=(n,s)=>{const o=r&&$f(t,s)||s;fn(t[o])&&fn(n)?t[o]=Co(t[o],n):fn(n)?t[o]=Co({},n):di(n)?t[o]=n.slice():(!e||!ci(n))&&(t[o]=n)};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&$i(arguments[n],i);return t}const b0=(r,e,t,{allOwnKeys:i}={})=>($i(e,(n,s)=>{t&&Ut(n)?r[s]=jf(n,t):r[s]=n},{allOwnKeys:i}),r),w0=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),_0=(r,e,t,i)=>{r.prototype=Object.create(e.prototype,i),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},E0=(r,e,t,i)=>{let n,s,o;const a={};if(e=e||{},r==null)return e;do{for(n=Object.getOwnPropertyNames(r),s=n.length;s-- >0;)o=n[s],(!i||i(o,r,e))&&!a[o]&&(e[o]=r[o],a[o]=!0);r=t!==!1&&ia(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},x0=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const i=r.indexOf(e,t);return i!==-1&&i===t},C0=r=>{if(!r)return null;if(di(r))return r;let e=r.length;if(!Vf(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},A0=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&ia(Uint8Array)),D0=(r,e)=>{const i=(r&&r[Gn]).call(r);let n;for(;(n=i.next())&&!n.done;){const s=n.value;e.call(r,s[0],s[1])}},S0=(r,e)=>{let t;const i=[];for(;(t=r.exec(e))!==null;)i.push(t);return i},T0=nr("HTMLFormElement"),R0=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,n){return i.toUpperCase()+n}),qu=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),O0=nr("RegExp"),Gf=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),i={};$i(t,(n,s)=>{let o;(o=e(n,s,r))!==!1&&(i[s]=o||n)}),Object.defineProperties(r,i)},N0=r=>{Gf(r,(e,t)=>{if(Ut(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=r[t];if(Ut(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},k0=(r,e)=>{const t={},i=n=>{n.forEach(s=>{t[s]=!0})};return di(r)?i(r):i(String(r).split(e)),t},L0=()=>{},I0=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function B0(r){return!!(r&&Ut(r.append)&&r[Wf]==="FormData"&&r[Gn])}const P0=r=>{const e=new Array(10),t=(i,n)=>{if(Vi(i)){if(e.indexOf(i)>=0)return;if(Hi(i))return i;if(!("toJSON"in i)){e[n]=i;const s=di(i)?[]:{};return $i(i,(o,a)=>{const u=t(o,n+1);!ci(u)&&(s[a]=u)}),e[n]=void 0,s}}return i};return t(r,0)},F0=nr("AsyncFunction"),M0=r=>r&&(Vi(r)||Ut(r))&&Ut(r.then)&&Ut(r.catch),Kf=((r,e)=>r?setImmediate:e?((t,i)=>(Ur.addEventListener("message",({source:n,data:s})=>{n===Ur&&s===t&&i.length&&i.shift()()},!1),n=>{i.push(n),Ur.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Ut(Ur.postMessage)),z0=typeof queueMicrotask<"u"?queueMicrotask.bind(Ur):typeof process<"u"&&process.nextTick||Kf,U0=r=>r!=null&&Ut(r[Gn]),X={isArray:di,isArrayBuffer:Hf,isBuffer:Hi,isFormData:h0,isArrayBufferView:i0,isString:n0,isNumber:Vf,isBoolean:s0,isObject:Vi,isPlainObject:fn,isEmptyObject:o0,isReadableStream:p0,isRequest:g0,isResponse:m0,isHeaders:v0,isUndefined:ci,isDate:a0,isFile:u0,isBlob:l0,isRegExp:O0,isFunction:Ut,isStream:c0,isURLSearchParams:d0,isTypedArray:A0,isFileList:f0,forEach:$i,merge:Co,extend:b0,trim:y0,stripBOM:w0,inherits:_0,toFlatObject:E0,kindOf:Kn,kindOfTest:nr,endsWith:x0,toArray:C0,forEachEntry:D0,matchAll:S0,isHTMLForm:T0,hasOwnProperty:qu,hasOwnProp:qu,reduceDescriptors:Gf,freezeMethods:N0,toObjectSet:k0,toCamelCase:R0,noop:L0,toFiniteNumber:I0,findKey:$f,global:Ur,isContextDefined:Zf,isSpecCompliantForm:B0,toJSONObject:P0,isAsyncFn:F0,isThenable:M0,setImmediate:Kf,asap:z0,isIterable:U0};function We(r,e,t,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),n&&(this.response=n,this.status=n.status?n.status:null)}X.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const Xf=We.prototype,Yf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Yf[r]={value:r}});Object.defineProperties(We,Yf);Object.defineProperty(Xf,"isAxiosError",{value:!0});We.from=(r,e,t,i,n,s)=>{const o=Object.create(Xf);X.toFlatObject(r,o,function(f){return f!==Error.prototype},l=>l!=="isAxiosError");const a=r&&r.message?r.message:"Error",u=e==null&&r?r.code:e;return We.call(o,a,u,t,i,n),r&&o.cause==null&&Object.defineProperty(o,"cause",{value:r,configurable:!0}),o.name=r&&r.name||"Error",s&&Object.assign(o,s),o};const q0=null;function Ao(r){return X.isPlainObject(r)||X.isArray(r)}function Jf(r){return X.endsWith(r,"[]")?r.slice(0,-2):r}function ju(r,e,t){return r?r.concat(e).map(function(n,s){return n=Jf(n),!t&&s?"["+n+"]":n}).join(t?".":""):e}function j0(r){return X.isArray(r)&&!r.some(Ao)}const W0=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function Yn(r,e,t){if(!X.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=X.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,p){return!X.isUndefined(p[w])});const i=t.metaTokens,n=t.visitor||f,s=t.dots,o=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(n))throw new TypeError("visitor must be a function");function l(x){if(x===null)return"";if(X.isDate(x))return x.toISOString();if(X.isBoolean(x))return x.toString();if(!u&&X.isBlob(x))throw new We("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(x)||X.isTypedArray(x)?u&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function f(x,w,p){let g=x;if(x&&!p&&typeof x=="object"){if(X.endsWith(w,"{}"))w=i?w:w.slice(0,-2),x=JSON.stringify(x);else if(X.isArray(x)&&j0(x)||(X.isFileList(x)||X.endsWith(w,"[]"))&&(g=X.toArray(x)))return w=Jf(w),g.forEach(function(C,T){!(X.isUndefined(C)||C===null)&&e.append(o===!0?ju([w],T,s):o===null?w:w+"[]",l(C))}),!1}return Ao(x)?!0:(e.append(ju(p,w,s),l(x)),!1)}const d=[],v=Object.assign(W0,{defaultVisitor:f,convertValue:l,isVisitable:Ao});function m(x,w){if(!X.isUndefined(x)){if(d.indexOf(x)!==-1)throw Error("Circular reference detected in "+w.join("."));d.push(x),X.forEach(x,function(g,y){(!(X.isUndefined(g)||g===null)&&n.call(e,g,X.isString(y)?y.trim():y,w,v))===!0&&m(g,w?w.concat(y):[y])}),d.pop()}}if(!X.isObject(r))throw new TypeError("data must be an object");return m(r),e}function Wu(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function na(r,e){this._pairs=[],r&&Yn(r,this,e)}const Qf=na.prototype;Qf.append=function(e,t){this._pairs.push([e,t])};Qf.toString=function(e){const t=e?function(i){return e.call(this,i,Wu)}:Wu;return this._pairs.map(function(n){return t(n[0])+"="+t(n[1])},"").join("&")};function H0(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ec(r,e,t){if(!e)return r;const i=t&&t.encode||H0;X.isFunction(t)&&(t={serialize:t});const n=t&&t.serialize;let s;if(n?s=n(e,t):s=X.isURLSearchParams(e)?e.toString():new na(e,t).toString(i),s){const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}class Hu{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(i){i!==null&&e(i)})}}const tc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},V0=typeof URLSearchParams<"u"?URLSearchParams:na,$0=typeof FormData<"u"?FormData:null,Z0=typeof Blob<"u"?Blob:null,G0={isBrowser:!0,classes:{URLSearchParams:V0,FormData:$0,Blob:Z0},protocols:["http","https","file","blob","url","data"]},sa=typeof window<"u"&&typeof document<"u",Do=typeof navigator=="object"&&navigator||void 0,K0=sa&&(!Do||["ReactNative","NativeScript","NS"].indexOf(Do.product)<0),X0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Y0=sa&&window.location.href||"http://localhost",J0=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sa,hasStandardBrowserEnv:K0,hasStandardBrowserWebWorkerEnv:X0,navigator:Do,origin:Y0},Symbol.toStringTag,{value:"Module"})),Ot={...J0,...G0};function Q0(r,e){return Yn(r,new Ot.classes.URLSearchParams,{visitor:function(t,i,n,s){return Ot.isNode&&X.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function em(r){return X.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function tm(r){const e={},t=Object.keys(r);let i;const n=t.length;let s;for(i=0;i<n;i++)s=t[i],e[s]=r[s];return e}function rc(r){function e(t,i,n,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),u=s>=t.length;return o=!o&&X.isArray(n)?n.length:o,u?(X.hasOwnProp(n,o)?n[o]=[n[o],i]:n[o]=i,!a):((!n[o]||!X.isObject(n[o]))&&(n[o]=[]),e(t,i,n[o],s)&&X.isArray(n[o])&&(n[o]=tm(n[o])),!a)}if(X.isFormData(r)&&X.isFunction(r.entries)){const t={};return X.forEachEntry(r,(i,n)=>{e(em(i),n,t,0)}),t}return null}function rm(r,e,t){if(X.isString(r))try{return(e||JSON.parse)(r),X.trim(r)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(r)}const Zi={transitional:tc,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",n=i.indexOf("application/json")>-1,s=X.isObject(e);if(s&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return n?JSON.stringify(rc(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Q0(e,this.formSerializer).toString();if((a=X.isFileList(e))||i.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Yn(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||n?(t.setContentType("application/json",!1),rm(e)):e}],transformResponse:[function(e){const t=this.transitional||Zi.transitional,i=t&&t.forcedJSONParsing,n=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(i&&!this.responseType||n)){const o=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?We.from(a,We.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ot.classes.FormData,Blob:Ot.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],r=>{Zi.headers[r]={}});const im=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nm=r=>{const e={};let t,i,n;return r&&r.split(`
`).forEach(function(o){n=o.indexOf(":"),t=o.substring(0,n).trim().toLowerCase(),i=o.substring(n+1).trim(),!(!t||e[t]&&im[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},Vu=Symbol("internals");function Ei(r){return r&&String(r).trim().toLowerCase()}function cn(r){return r===!1||r==null?r:X.isArray(r)?r.map(cn):String(r)}function sm(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(r);)e[i[1]]=i[2];return e}const om=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function ro(r,e,t,i,n){if(X.isFunction(i))return i.call(this,e,t);if(n&&(e=t),!!X.isString(e)){if(X.isString(i))return e.indexOf(i)!==-1;if(X.isRegExp(i))return i.test(e)}}function am(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function um(r,e){const t=X.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(r,i+t,{value:function(n,s,o){return this[i].call(this,e,n,s,o)},configurable:!0})})}let qt=class{constructor(e){e&&this.set(e)}set(e,t,i){const n=this;function s(a,u,l){const f=Ei(u);if(!f)throw new Error("header name must be a non-empty string");const d=X.findKey(n,f);(!d||n[d]===void 0||l===!0||l===void 0&&n[d]!==!1)&&(n[d||u]=cn(a))}const o=(a,u)=>X.forEach(a,(l,f)=>s(l,f,u));if(X.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(X.isString(e)&&(e=e.trim())&&!om(e))o(nm(e),t);else if(X.isObject(e)&&X.isIterable(e)){let a={},u,l;for(const f of e){if(!X.isArray(f))throw TypeError("Object iterator must return a key-value pair");a[l=f[0]]=(u=a[l])?X.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(a,t)}else e!=null&&s(t,e,i);return this}get(e,t){if(e=Ei(e),e){const i=X.findKey(this,e);if(i){const n=this[i];if(!t)return n;if(t===!0)return sm(n);if(X.isFunction(t))return t.call(this,n,i);if(X.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ei(e),e){const i=X.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||ro(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let n=!1;function s(o){if(o=Ei(o),o){const a=X.findKey(i,o);a&&(!t||ro(i,i[a],a,t))&&(delete i[a],n=!0)}}return X.isArray(e)?e.forEach(s):s(e),n}clear(e){const t=Object.keys(this);let i=t.length,n=!1;for(;i--;){const s=t[i];(!e||ro(this,this[s],s,e,!0))&&(delete this[s],n=!0)}return n}normalize(e){const t=this,i={};return X.forEach(this,(n,s)=>{const o=X.findKey(i,s);if(o){t[o]=cn(n),delete t[s];return}const a=e?am(s):String(s).trim();a!==s&&delete t[s],t[a]=cn(n),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return X.forEach(this,(i,n)=>{i!=null&&i!==!1&&(t[n]=e&&X.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(n=>i.set(n)),i}static accessor(e){const i=(this[Vu]=this[Vu]={accessors:{}}).accessors,n=this.prototype;function s(o){const a=Ei(o);i[a]||(um(n,o),i[a]=!0)}return X.isArray(e)?e.forEach(s):s(e),this}};qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(qt.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(i){this[t]=i}}});X.freezeMethods(qt);function io(r,e){const t=this||Zi,i=e||t,n=qt.from(i.headers);let s=i.data;return X.forEach(r,function(a){s=a.call(t,s,n.normalize(),e?e.status:void 0)}),n.normalize(),s}function ic(r){return!!(r&&r.__CANCEL__)}function pi(r,e,t){We.call(this,r??"canceled",We.ERR_CANCELED,e,t),this.name="CanceledError"}X.inherits(pi,We,{__CANCEL__:!0});function nc(r,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?r(t):e(new We("Request failed with status code "+t.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function lm(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function fm(r,e){r=r||10;const t=new Array(r),i=new Array(r);let n=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const l=Date.now(),f=i[s];o||(o=l),t[n]=u,i[n]=l;let d=s,v=0;for(;d!==n;)v+=t[d++],d=d%r;if(n=(n+1)%r,n===s&&(s=(s+1)%r),l-o<e)return;const m=f&&l-f;return m?Math.round(v*1e3/m):void 0}}function cm(r,e){let t=0,i=1e3/e,n,s;const o=(l,f=Date.now())=>{t=f,n=null,s&&(clearTimeout(s),s=null),r(...l)};return[(...l)=>{const f=Date.now(),d=f-t;d>=i?o(l,f):(n=l,s||(s=setTimeout(()=>{s=null,o(n)},i-d)))},()=>n&&o(n)]}const Rn=(r,e,t=3)=>{let i=0;const n=fm(50,250);return cm(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,u=o-i,l=n(u),f=o<=a;i=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:l||void 0,estimated:l&&a&&f?(a-o)/l:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};r(d)},t)},$u=(r,e)=>{const t=r!=null;return[i=>e[0]({lengthComputable:t,total:r,loaded:i}),e[1]]},Zu=r=>(...e)=>X.asap(()=>r(...e)),hm=Ot.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,Ot.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(Ot.origin),Ot.navigator&&/(msie|trident)/i.test(Ot.navigator.userAgent)):()=>!0,dm=Ot.hasStandardBrowserEnv?{write(r,e,t,i,n,s){const o=[r+"="+encodeURIComponent(e)];X.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),X.isString(i)&&o.push("path="+i),X.isString(n)&&o.push("domain="+n),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pm(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function gm(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function sc(r,e,t){let i=!pm(e);return r&&(i||t==!1)?gm(r,e):e}const Gu=r=>r instanceof qt?{...r}:r;function Vr(r,e){e=e||{};const t={};function i(l,f,d,v){return X.isPlainObject(l)&&X.isPlainObject(f)?X.merge.call({caseless:v},l,f):X.isPlainObject(f)?X.merge({},f):X.isArray(f)?f.slice():f}function n(l,f,d,v){if(X.isUndefined(f)){if(!X.isUndefined(l))return i(void 0,l,d,v)}else return i(l,f,d,v)}function s(l,f){if(!X.isUndefined(f))return i(void 0,f)}function o(l,f){if(X.isUndefined(f)){if(!X.isUndefined(l))return i(void 0,l)}else return i(void 0,f)}function a(l,f,d){if(d in e)return i(l,f);if(d in r)return i(void 0,l)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,f,d)=>n(Gu(l),Gu(f),d,!0)};return X.forEach(Object.keys({...r,...e}),function(f){const d=u[f]||n,v=d(r[f],e[f],f);X.isUndefined(v)&&d!==a||(t[f]=v)}),t}const oc=r=>{const e=Vr({},r);let{data:t,withXSRFToken:i,xsrfHeaderName:n,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=qt.from(o),e.url=ec(sc(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),X.isFormData(t)){if(Ot.hasStandardBrowserEnv||Ot.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(X.isFunction(t.getHeaders)){const u=t.getHeaders(),l=["content-type","content-length"];Object.entries(u).forEach(([f,d])=>{l.includes(f.toLowerCase())&&o.set(f,d)})}}if(Ot.hasStandardBrowserEnv&&(i&&X.isFunction(i)&&(i=i(e)),i||i!==!1&&hm(e.url))){const u=n&&s&&dm.read(s);u&&o.set(n,u)}return e},mm=typeof XMLHttpRequest<"u",vm=mm&&function(r){return new Promise(function(t,i){const n=oc(r);let s=n.data;const o=qt.from(n.headers).normalize();let{responseType:a,onUploadProgress:u,onDownloadProgress:l}=n,f,d,v,m,x;function w(){m&&m(),x&&x(),n.cancelToken&&n.cancelToken.unsubscribe(f),n.signal&&n.signal.removeEventListener("abort",f)}let p=new XMLHttpRequest;p.open(n.method.toUpperCase(),n.url,!0),p.timeout=n.timeout;function g(){if(!p)return;const C=qt.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),_={data:!a||a==="text"||a==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:C,config:r,request:p};nc(function(O){t(O),w()},function(O){i(O),w()},_),p=null}"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(g)},p.onabort=function(){p&&(i(new We("Request aborted",We.ECONNABORTED,r,p)),p=null)},p.onerror=function(T){const _=T&&T.message?T.message:"Network Error",R=new We(_,We.ERR_NETWORK,r,p);R.event=T||null,i(R),p=null},p.ontimeout=function(){let T=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const _=n.transitional||tc;n.timeoutErrorMessage&&(T=n.timeoutErrorMessage),i(new We(T,_.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,r,p)),p=null},s===void 0&&o.setContentType(null),"setRequestHeader"in p&&X.forEach(o.toJSON(),function(T,_){p.setRequestHeader(_,T)}),X.isUndefined(n.withCredentials)||(p.withCredentials=!!n.withCredentials),a&&a!=="json"&&(p.responseType=n.responseType),l&&([v,x]=Rn(l,!0),p.addEventListener("progress",v)),u&&p.upload&&([d,m]=Rn(u),p.upload.addEventListener("progress",d),p.upload.addEventListener("loadend",m)),(n.cancelToken||n.signal)&&(f=C=>{p&&(i(!C||C.type?new pi(null,r,p):C),p.abort(),p=null)},n.cancelToken&&n.cancelToken.subscribe(f),n.signal&&(n.signal.aborted?f():n.signal.addEventListener("abort",f)));const y=lm(n.url);if(y&&Ot.protocols.indexOf(y)===-1){i(new We("Unsupported protocol "+y+":",We.ERR_BAD_REQUEST,r));return}p.send(s||null)})},ym=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let i=new AbortController,n;const s=function(l){if(!n){n=!0,a();const f=l instanceof Error?l:this.reason;i.abort(f instanceof We?f:new pi(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,s(new We(`timeout ${e} of ms exceeded`,We.ETIMEDOUT))},e);const a=()=>{r&&(o&&clearTimeout(o),o=null,r.forEach(l=>{l.unsubscribe?l.unsubscribe(s):l.removeEventListener("abort",s)}),r=null)};r.forEach(l=>l.addEventListener("abort",s));const{signal:u}=i;return u.unsubscribe=()=>X.asap(a),u}},bm=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let i=0,n;for(;i<t;)n=i+e,yield r.slice(i,n),i=n},wm=async function*(r,e){for await(const t of _m(r))yield*bm(t,e)},_m=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},Ku=(r,e,t,i)=>{const n=wm(r,e);let s=0,o,a=u=>{o||(o=!0,i&&i(u))};return new ReadableStream({async pull(u){try{const{done:l,value:f}=await n.next();if(l){a(),u.close();return}let d=f.byteLength;if(t){let v=s+=d;t(v)}u.enqueue(new Uint8Array(f))}catch(l){throw a(l),l}},cancel(u){return a(u),n.return()}},{highWaterMark:2})},Xu=64*1024,{isFunction:rn}=X,Em=(({Request:r,Response:e})=>({Request:r,Response:e}))(X.global),{ReadableStream:Yu,TextEncoder:Ju}=X.global,Qu=(r,...e)=>{try{return!!r(...e)}catch{return!1}},xm=r=>{r=X.merge.call({skipUndefined:!0},Em,r);const{fetch:e,Request:t,Response:i}=r,n=e?rn(e):typeof fetch=="function",s=rn(t),o=rn(i);if(!n)return!1;const a=n&&rn(Yu),u=n&&(typeof Ju=="function"?(x=>w=>x.encode(w))(new Ju):async x=>new Uint8Array(await new t(x).arrayBuffer())),l=s&&a&&Qu(()=>{let x=!1;const w=new t(Ot.origin,{body:new Yu,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!w}),f=o&&a&&Qu(()=>X.isReadableStream(new i("").body)),d={stream:f&&(x=>x.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!d[x]&&(d[x]=(w,p)=>{let g=w&&w[x];if(g)return g.call(w);throw new We(`Response type '${x}' is not supported`,We.ERR_NOT_SUPPORT,p)})});const v=async x=>{if(x==null)return 0;if(X.isBlob(x))return x.size;if(X.isSpecCompliantForm(x))return(await new t(Ot.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(X.isArrayBufferView(x)||X.isArrayBuffer(x))return x.byteLength;if(X.isURLSearchParams(x)&&(x=x+""),X.isString(x))return(await u(x)).byteLength},m=async(x,w)=>{const p=X.toFiniteNumber(x.getContentLength());return p??v(w)};return async x=>{let{url:w,method:p,data:g,signal:y,cancelToken:C,timeout:T,onDownloadProgress:_,onUploadProgress:R,responseType:O,headers:k,withCredentials:S="same-origin",fetchOptions:I}=oc(x),$=e||fetch;O=O?(O+"").toLowerCase():"text";let j=ym([y,C&&C.toAbortSignal()],T),K=null;const ae=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let le;try{if(R&&l&&p!=="get"&&p!=="head"&&(le=await m(k,g))!==0){let ce=new t(w,{method:"POST",body:g,duplex:"half"}),we;if(X.isFormData(g)&&(we=ce.headers.get("content-type"))&&k.setContentType(we),ce.body){const[Be,Re]=$u(le,Rn(Zu(R)));g=Ku(ce.body,Xu,Be,Re)}}X.isString(S)||(S=S?"include":"omit");const ue=s&&"credentials"in t.prototype,ee={...I,signal:j,method:p.toUpperCase(),headers:k.normalize().toJSON(),body:g,duplex:"half",credentials:ue?S:void 0};K=s&&new t(w,ee);let Y=await(s?$(K,I):$(w,ee));const be=f&&(O==="stream"||O==="response");if(f&&(_||be&&ae)){const ce={};["status","statusText","headers"].forEach(Ue=>{ce[Ue]=Y[Ue]});const we=X.toFiniteNumber(Y.headers.get("content-length")),[Be,Re]=_&&$u(we,Rn(Zu(_),!0))||[];Y=new i(Ku(Y.body,Xu,Be,()=>{Re&&Re(),ae&&ae()}),ce)}O=O||"text";let ke=await d[X.findKey(d,O)||"text"](Y,x);return!be&&ae&&ae(),await new Promise((ce,we)=>{nc(ce,we,{data:ke,headers:qt.from(Y.headers),status:Y.status,statusText:Y.statusText,config:x,request:K})})}catch(ue){throw ae&&ae(),ue&&ue.name==="TypeError"&&/Load failed|fetch/i.test(ue.message)?Object.assign(new We("Network Error",We.ERR_NETWORK,x,K),{cause:ue.cause||ue}):We.from(ue,ue&&ue.code,x,K)}}},Cm=new Map,ac=r=>{let e=r?r.env:{};const{fetch:t,Request:i,Response:n}=e,s=[i,n,t];let o=s.length,a=o,u,l,f=Cm;for(;a--;)u=s[a],l=f.get(u),l===void 0&&f.set(u,l=a?new Map:xm(e)),f=l;return l};ac();const So={http:q0,xhr:vm,fetch:{get:ac}};X.forEach(So,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const el=r=>`- ${r}`,Am=r=>X.isFunction(r)||r===null||r===!1,uc={getAdapter:(r,e)=>{r=X.isArray(r)?r:[r];const{length:t}=r;let i,n;const s={};for(let o=0;o<t;o++){i=r[o];let a;if(n=i,!Am(i)&&(n=So[(a=String(i)).toLowerCase()],n===void 0))throw new We(`Unknown adapter '${a}'`);if(n&&(X.isFunction(n)||(n=n.get(e))))break;s[a||"#"+o]=n}if(!n){const o=Object.entries(s).map(([u,l])=>`adapter ${u} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(el).join(`
`):" "+el(o[0]):"as no adapter specified";throw new We("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:So};function no(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new pi(null,r)}function tl(r){return no(r),r.headers=qt.from(r.headers),r.data=io.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),uc.getAdapter(r.adapter||Zi.adapter,r)(r).then(function(i){return no(r),i.data=io.call(r,r.transformResponse,i),i.headers=qt.from(i.headers),i},function(i){return ic(i)||(no(r),i&&i.response&&(i.response.data=io.call(r,r.transformResponse,i.response),i.response.headers=qt.from(i.response.headers))),Promise.reject(i)})}const lc="1.12.2",Jn={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{Jn[r]=function(i){return typeof i===r||"a"+(e<1?"n ":" ")+r}});const rl={};Jn.transitional=function(e,t,i){function n(s,o){return"[Axios v"+lc+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new We(n(o," has been removed"+(t?" in "+t:"")),We.ERR_DEPRECATED);return t&&!rl[o]&&(rl[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};Jn.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function Dm(r,e,t){if(typeof r!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const i=Object.keys(r);let n=i.length;for(;n-- >0;){const s=i[n],o=e[s];if(o){const a=r[s],u=a===void 0||o(a,s,r);if(u!==!0)throw new We("option "+s+" must be "+u,We.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new We("Unknown option "+s,We.ERR_BAD_OPTION)}}const hn={assertOptions:Dm,validators:Jn},or=hn.validators;let Hr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Hu,response:new Hu}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const s=n.stack?n.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Vr(this.defaults,t);const{transitional:i,paramsSerializer:n,headers:s}=t;i!==void 0&&hn.assertOptions(i,{silentJSONParsing:or.transitional(or.boolean),forcedJSONParsing:or.transitional(or.boolean),clarifyTimeoutError:or.transitional(or.boolean)},!1),n!=null&&(X.isFunction(n)?t.paramsSerializer={serialize:n}:hn.assertOptions(n,{encode:or.function,serialize:or.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),hn.assertOptions(t,{baseUrl:or.spelling("baseURL"),withXsrfToken:or.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&X.merge(s.common,s[t.method]);s&&X.forEach(["delete","get","head","post","put","patch","common"],x=>{delete s[x]}),t.headers=qt.concat(o,s);const a=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(u=u&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const l=[];this.interceptors.response.forEach(function(w){l.push(w.fulfilled,w.rejected)});let f,d=0,v;if(!u){const x=[tl.bind(this),void 0];for(x.unshift(...a),x.push(...l),v=x.length,f=Promise.resolve(t);d<v;)f=f.then(x[d++],x[d++]);return f}v=a.length;let m=t;for(;d<v;){const x=a[d++],w=a[d++];try{m=x(m)}catch(p){w.call(this,p);break}}try{f=tl.call(this,m)}catch(x){return Promise.reject(x)}for(d=0,v=l.length;d<v;)f=f.then(l[d++],l[d++]);return f}getUri(e){e=Vr(this.defaults,e);const t=sc(e.baseURL,e.url,e.allowAbsoluteUrls);return ec(t,e.params,e.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){Hr.prototype[e]=function(t,i){return this.request(Vr(i||{},{method:e,url:t,data:(i||{}).data}))}});X.forEach(["post","put","patch"],function(e){function t(i){return function(s,o,a){return this.request(Vr(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Hr.prototype[e]=t(),Hr.prototype[e+"Form"]=t(!0)});let Sm=class fc{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(n=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](n);i._listeners=null}),this.promise.then=n=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(n);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new pi(s,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new fc(function(n){e=n}),cancel:e}}};function Tm(r){return function(t){return r.apply(null,t)}}function Rm(r){return X.isObject(r)&&r.isAxiosError===!0}const To={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(To).forEach(([r,e])=>{To[e]=r});function cc(r){const e=new Hr(r),t=jf(Hr.prototype.request,e);return X.extend(t,Hr.prototype,e,{allOwnKeys:!0}),X.extend(t,e,null,{allOwnKeys:!0}),t.create=function(n){return cc(Vr(r,n))},t}const bt=cc(Zi);bt.Axios=Hr;bt.CanceledError=pi;bt.CancelToken=Sm;bt.isCancel=ic;bt.VERSION=lc;bt.toFormData=Yn;bt.AxiosError=We;bt.Cancel=bt.CanceledError;bt.all=function(e){return Promise.all(e)};bt.spread=Tm;bt.isAxiosError=Rm;bt.mergeConfig=Vr;bt.AxiosHeaders=qt;bt.formToJSON=r=>rc(X.isHTMLForm(r)?new FormData(r):r);bt.getAdapter=uc.getAdapter;bt.HttpStatusCode=To;bt.default=bt;const{Axios:Wm,AxiosError:Hm,CanceledError:Vm,isCancel:$m,CancelToken:Zm,VERSION:Gm,all:Km,Cancel:Xm,isAxiosError:Ym,spread:Jm,toFormData:Qm,AxiosHeaders:e2,HttpStatusCode:t2,formToJSON:r2,getAdapter:i2,mergeConfig:n2}=bt;function Om(r){return new Promise(e=>setTimeout(e,r))}async function Nm(r){try{return(await bt.post("https://epub.leovibe.cc/ai-generate",{question:r,coolcat:"coolcat"})).data.answer||"AI 沒有回應任何內容。"}catch(e){return console.error("Failed to get AI response:",e.message),"抱歉，AI 回覆時出現錯誤 😥"}}async function km(r){r.onMessage(async e=>{if(e.sender==="user"){r.isInputDisabled=!0;const t=await Nm(e.text),i={sender:"ai",text:Bt("")};r.pushMessage(i);for(const n of t)i.text.value+=n,await Om(40);r.isInputDisabled=!1}})}const Lm={class:"layout"},Im={class:"main"},Bm={class:"main-top"},Pm={class:"main-middle"},Fm={class:"main-bottom"},Mm={__name:"App",setup(r){const e=Hn();return ra(),km(e),(t,i)=>(Lt(),Mt("div",Lm,[zt(Pg,{class:"sidebar-container"}),je("div",Im,[je("div",Bm,[zt(Kg)]),je("div",Pm,[zt(t0)]),je("div",Fm,[zt($g)])])]))}},zm=Wi(Mm,[["__scopeId","data-v-86904357"]]),hc=Yd(zm);hc.use(ep());hc.mount("#app");
