(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ms(r){const e=Object.create(null);for(const t of r.split(","))e[t]=1;return t=>t in e}const lt={},$i=[],ti=()=>{},Yo=()=>!1,rn=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),Us=r=>r.startsWith("onUpdate:"),Rt=Object.assign,qs=(r,e)=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)},Wl=Object.prototype.hasOwnProperty,tt=(r,e)=>Wl.call(r,e),Pe=Array.isArray,Gi=r=>nn(r)==="[object Map]",Ko=r=>nn(r)==="[object Set]",qe=r=>typeof r=="function",yt=r=>typeof r=="string",Si=r=>typeof r=="symbol",ct=r=>r!==null&&typeof r=="object",Xo=r=>(ct(r)||qe(r))&&qe(r.then)&&qe(r.catch),Jo=Object.prototype.toString,nn=r=>Jo.call(r),Hl=r=>nn(r).slice(8,-1),Qo=r=>nn(r)==="[object Object]",js=r=>yt(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,or=Ms(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),sn=r=>{const e=Object.create(null);return(t=>e[t]||(e[t]=r(t)))},Vl=/-\w/g,Ai=sn(r=>r.replace(Vl,e=>e.slice(1).toUpperCase())),$l=/\B([A-Z])/g,Ti=sn(r=>r.replace($l,"-$1").toLowerCase()),eu=sn(r=>r.charAt(0).toUpperCase()+r.slice(1)),xn=sn(r=>r?`on${eu(r)}`:""),Ei=(r,e)=>!Object.is(r,e),An=(r,...e)=>{for(let t=0;t<r.length;t++)r[t](...e)},tu=(r,e,t,i=!1)=>{Object.defineProperty(r,e,{configurable:!0,enumerable:!1,writable:i,value:t})},Gl=r=>{const e=parseFloat(r);return isNaN(e)?r:e};let ba;const an=()=>ba||(ba=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function on(r){if(Pe(r)){const e={};for(let t=0;t<r.length;t++){const i=r[t],n=yt(i)?Xl(i):on(i);if(n)for(const s in n)e[s]=n[s]}return e}else if(yt(r)||ct(r))return r}const Zl=/;(?![^(]*\))/g,Yl=/:([^]+)/,Kl=/\/\*[^]*?\*\//g;function Xl(r){const e={};return r.replace(Kl,"").split(Zl).forEach(t=>{if(t){const i=t.split(Yl);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function li(r){let e="";if(yt(r))e=r;else if(Pe(r))for(let t=0;t<r.length;t++){const i=li(r[t]);i&&(e+=i+" ")}else if(ct(r))for(const t in r)r[t]&&(e+=t+" ");return e.trim()}const Jl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ql=Ms(Jl);function iu(r){return!!r||r===""}const ru=r=>!!(r&&r.__v_isRef===!0),Ws=r=>yt(r)?r:r==null?"":Pe(r)||ct(r)&&(r.toString===Jo||!qe(r.toString))?ru(r)?Ws(r.value):JSON.stringify(r,nu,2):String(r),nu=(r,e)=>ru(e)?nu(r,e.value):Gi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,n],s)=>(t[Cn(i,s)+" =>"]=n,t),{})}:Ko(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Cn(t))}:Si(e)?Cn(e):ct(e)&&!Pe(e)&&!Qo(e)?String(e):e,Cn=(r,e="")=>{var t;return Si(r)?`Symbol(${(t=r.description)!=null?t:e})`:r};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ct;class su{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ct,!e&&Ct&&(this.index=(Ct.scopes||(Ct.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Ct;try{return Ct=this,e()}finally{Ct=t}}}on(){++this._on===1&&(this.prevScope=Ct,Ct=this)}off(){this._on>0&&--this._on===0&&(Ct=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(this.effects.length=0,t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function au(r){return new su(r)}function ou(){return Ct}function ef(r,e=!1){Ct&&Ct.cleanups.push(r)}let ut;const Dn=new WeakSet;class uu{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ct&&Ct.active&&Ct.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Dn.has(this)&&(Dn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ya(this),hu(this);const e=ut,t=Kt;ut=this,Kt=!0;try{return this.fn()}finally{cu(this),ut=e,Kt=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)$s(e);this.deps=this.depsTail=void 0,ya(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Dn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Es(this)&&this.run()}get dirty(){return Es(this)}}let lu=0,ur,lr;function fu(r,e=!1){if(r.flags|=8,e){r.next=lr,lr=r;return}r.next=ur,ur=r}function Hs(){lu++}function Vs(){if(--lu>0)return;if(lr){let e=lr;for(lr=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let r;for(;ur;){let e=ur;for(ur=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){r||(r=i)}e=t}}if(r)throw r}function hu(r){for(let e=r.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function cu(r){let e,t=r.depsTail,i=t;for(;i;){const n=i.prevDep;i.version===-1?(i===t&&(t=n),$s(i),tf(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}r.deps=e,r.depsTail=t}function Es(r){for(let e=r.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(du(e.dep.computed)||e.dep.version!==e.version))return!0;return!!r._dirty}function du(r){if(r.flags&4&&!(r.flags&16)||(r.flags&=-17,r.globalVersion===mr)||(r.globalVersion=mr,!r.isSSR&&r.flags&128&&(!r.deps&&!r._dirty||!Es(r))))return;r.flags|=2;const e=r.dep,t=ut,i=Kt;ut=r,Kt=!0;try{hu(r);const n=r.fn(r._value);(e.version===0||Ei(n,r._value))&&(r.flags|=128,r._value=n,e.version++)}catch(n){throw e.version++,n}finally{ut=t,Kt=i,cu(r),r.flags&=-3}}function $s(r,e=!1){const{dep:t,prevSub:i,nextSub:n}=r;if(i&&(i.nextSub=n,r.prevSub=void 0),n&&(n.prevSub=i,r.nextSub=void 0),t.subs===r&&(t.subs=i,!i&&t.computed)){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)$s(s,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function tf(r){const{prevDep:e,nextDep:t}=r;e&&(e.nextDep=t,r.prevDep=void 0),t&&(t.prevDep=e,r.nextDep=void 0)}let Kt=!0;const pu=[];function hi(){pu.push(Kt),Kt=!1}function ci(){const r=pu.pop();Kt=r===void 0?!0:r}function ya(r){const{cleanup:e}=r;if(r.cleanup=void 0,e){const t=ut;ut=void 0;try{e()}finally{ut=t}}}let mr=0;class rf{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Gs{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ut||!Kt||ut===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==ut)t=this.activeLink=new rf(ut,this),ut.deps?(t.prevDep=ut.depsTail,ut.depsTail.nextDep=t,ut.depsTail=t):ut.deps=ut.depsTail=t,gu(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const i=t.nextDep;i.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=i),t.prevDep=ut.depsTail,t.nextDep=void 0,ut.depsTail.nextDep=t,ut.depsTail=t,ut.deps===t&&(ut.deps=i)}return t}trigger(e){this.version++,mr++,this.notify(e)}notify(e){Hs();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{Vs()}}}function gu(r){if(r.dep.sc++,r.sub.flags&4){const e=r.dep.computed;if(e&&!r.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)gu(i)}const t=r.dep.subs;t!==r&&(r.prevSub=t,t&&(t.nextSub=r)),r.dep.subs=r}}const Ur=new WeakMap,Ii=Symbol(""),xs=Symbol(""),br=Symbol("");function Dt(r,e,t){if(Kt&&ut){let i=Ur.get(r);i||Ur.set(r,i=new Map);let n=i.get(t);n||(i.set(t,n=new Gs),n.map=i,n.key=t),n.track()}}function fi(r,e,t,i,n,s){const a=Ur.get(r);if(!a){mr++;return}const o=u=>{u&&u.trigger()};if(Hs(),e==="clear")a.forEach(o);else{const u=Pe(r),h=u&&js(t);if(u&&t==="length"){const c=Number(i);a.forEach((d,b)=>{(b==="length"||b===br||!Si(b)&&b>=c)&&o(d)})}else switch((t!==void 0||a.has(void 0))&&o(a.get(t)),h&&o(a.get(br)),e){case"add":u?h&&o(a.get("length")):(o(a.get(Ii)),Gi(r)&&o(a.get(xs)));break;case"delete":u||(o(a.get(Ii)),Gi(r)&&o(a.get(xs)));break;case"set":Gi(r)&&o(a.get(Ii));break}}Vs()}function nf(r,e){const t=Ur.get(r);return t&&t.get(e)}function Pi(r){const e=Qe(r);return e===r?e:(Dt(e,"iterate",br),Wt(r)?e:e.map(xt))}function un(r){return Dt(r=Qe(r),"iterate",br),r}const sf={__proto__:null,[Symbol.iterator](){return Sn(this,Symbol.iterator,xt)},concat(...r){return Pi(this).concat(...r.map(e=>Pe(e)?Pi(e):e))},entries(){return Sn(this,"entries",r=>(r[1]=xt(r[1]),r))},every(r,e){return ai(this,"every",r,e,void 0,arguments)},filter(r,e){return ai(this,"filter",r,e,t=>t.map(xt),arguments)},find(r,e){return ai(this,"find",r,e,xt,arguments)},findIndex(r,e){return ai(this,"findIndex",r,e,void 0,arguments)},findLast(r,e){return ai(this,"findLast",r,e,xt,arguments)},findLastIndex(r,e){return ai(this,"findLastIndex",r,e,void 0,arguments)},forEach(r,e){return ai(this,"forEach",r,e,void 0,arguments)},includes(...r){return Tn(this,"includes",r)},indexOf(...r){return Tn(this,"indexOf",r)},join(r){return Pi(this).join(r)},lastIndexOf(...r){return Tn(this,"lastIndexOf",r)},map(r,e){return ai(this,"map",r,e,void 0,arguments)},pop(){return tr(this,"pop")},push(...r){return tr(this,"push",r)},reduce(r,...e){return _a(this,"reduce",r,e)},reduceRight(r,...e){return _a(this,"reduceRight",r,e)},shift(){return tr(this,"shift")},some(r,e){return ai(this,"some",r,e,void 0,arguments)},splice(...r){return tr(this,"splice",r)},toReversed(){return Pi(this).toReversed()},toSorted(r){return Pi(this).toSorted(r)},toSpliced(...r){return Pi(this).toSpliced(...r)},unshift(...r){return tr(this,"unshift",r)},values(){return Sn(this,"values",xt)}};function Sn(r,e,t){const i=un(r),n=i[e]();return i!==r&&!Wt(r)&&(n._next=n.next,n.next=()=>{const s=n._next();return s.done||(s.value=t(s.value)),s}),n}const af=Array.prototype;function ai(r,e,t,i,n,s){const a=un(r),o=a!==r&&!Wt(r),u=a[e];if(u!==af[e]){const d=u.apply(r,s);return o?xt(d):d}let h=t;a!==r&&(o?h=function(d,b){return t.call(this,xt(d),b,r)}:t.length>2&&(h=function(d,b){return t.call(this,d,b,r)}));const c=u.call(a,h,i);return o&&n?n(c):c}function _a(r,e,t,i){const n=un(r);let s=t;return n!==r&&(Wt(r)?t.length>3&&(s=function(a,o,u){return t.call(this,a,o,u,r)}):s=function(a,o,u){return t.call(this,a,xt(o),u,r)}),n[e](s,...i)}function Tn(r,e,t){const i=Qe(r);Dt(i,"iterate",br);const n=i[e](...t);return(n===-1||n===!1)&&Ks(t[0])?(t[0]=Qe(t[0]),i[e](...t)):n}function tr(r,e,t=[]){hi(),Hs();const i=Qe(r)[e].apply(r,t);return Vs(),ci(),i}const of=Ms("__proto__,__v_isRef,__isVue"),vu=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Si));function uf(r){Si(r)||(r=String(r));const e=Qe(this);return Dt(e,"has",r),e.hasOwnProperty(r)}class mu{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){if(t==="__v_skip")return e.__v_skip;const n=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!n;if(t==="__v_isReadonly")return n;if(t==="__v_isShallow")return s;if(t==="__v_raw")return i===(n?s?bf:wu:s?_u:yu).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const a=Pe(e);if(!n){let u;if(a&&(u=sf[t]))return u;if(t==="hasOwnProperty")return uf}const o=Reflect.get(e,t,vt(e)?e:i);if((Si(t)?vu.has(t):of(t))||(n||Dt(e,"get",t),s))return o;if(vt(o)){const u=a&&js(t)?o:o.value;return n&&ct(u)?Cs(u):u}return ct(o)?n?Cs(o):ln(o):o}}class bu extends mu{constructor(e=!1){super(!1,e)}set(e,t,i,n){let s=e[t];if(!this._isShallow){const u=Ci(s);if(!Wt(i)&&!Ci(i)&&(s=Qe(s),i=Qe(i)),!Pe(e)&&vt(s)&&!vt(i))return u||(s.value=i),!0}const a=Pe(e)&&js(t)?Number(t)<e.length:tt(e,t),o=Reflect.set(e,t,i,vt(e)?e:n);return e===Qe(n)&&(a?Ei(i,s)&&fi(e,"set",t,i):fi(e,"add",t,i)),o}deleteProperty(e,t){const i=tt(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&i&&fi(e,"delete",t,void 0),n}has(e,t){const i=Reflect.has(e,t);return(!Si(t)||!vu.has(t))&&Dt(e,"has",t),i}ownKeys(e){return Dt(e,"iterate",Pe(e)?"length":Ii),Reflect.ownKeys(e)}}class lf extends mu{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const ff=new bu,hf=new lf,cf=new bu(!0);const As=r=>r,kr=r=>Reflect.getPrototypeOf(r);function df(r,e,t){return function(...i){const n=this.__v_raw,s=Qe(n),a=Gi(s),o=r==="entries"||r===Symbol.iterator&&a,u=r==="keys"&&a,h=n[r](...i),c=t?As:e?qr:xt;return!e&&Dt(s,"iterate",u?xs:Ii),{next(){const{value:d,done:b}=h.next();return b?{value:d,done:b}:{value:o?[c(d[0]),c(d[1])]:c(d),done:b}},[Symbol.iterator](){return this}}}}function Rr(r){return function(...e){return r==="delete"?!1:r==="clear"?void 0:this}}function pf(r,e){const t={get(n){const s=this.__v_raw,a=Qe(s),o=Qe(n);r||(Ei(n,o)&&Dt(a,"get",n),Dt(a,"get",o));const{has:u}=kr(a),h=e?As:r?qr:xt;if(u.call(a,n))return h(s.get(n));if(u.call(a,o))return h(s.get(o));s!==a&&s.get(n)},get size(){const n=this.__v_raw;return!r&&Dt(Qe(n),"iterate",Ii),n.size},has(n){const s=this.__v_raw,a=Qe(s),o=Qe(n);return r||(Ei(n,o)&&Dt(a,"has",n),Dt(a,"has",o)),n===o?s.has(n):s.has(n)||s.has(o)},forEach(n,s){const a=this,o=a.__v_raw,u=Qe(o),h=e?As:r?qr:xt;return!r&&Dt(u,"iterate",Ii),o.forEach((c,d)=>n.call(s,h(c),h(d),a))}};return Rt(t,r?{add:Rr("add"),set:Rr("set"),delete:Rr("delete"),clear:Rr("clear")}:{add(n){!e&&!Wt(n)&&!Ci(n)&&(n=Qe(n));const s=Qe(this);return kr(s).has.call(s,n)||(s.add(n),fi(s,"add",n,n)),this},set(n,s){!e&&!Wt(s)&&!Ci(s)&&(s=Qe(s));const a=Qe(this),{has:o,get:u}=kr(a);let h=o.call(a,n);h||(n=Qe(n),h=o.call(a,n));const c=u.call(a,n);return a.set(n,s),h?Ei(s,c)&&fi(a,"set",n,s):fi(a,"add",n,s),this},delete(n){const s=Qe(this),{has:a,get:o}=kr(s);let u=a.call(s,n);u||(n=Qe(n),u=a.call(s,n)),o&&o.call(s,n);const h=s.delete(n);return u&&fi(s,"delete",n,void 0),h},clear(){const n=Qe(this),s=n.size!==0,a=n.clear();return s&&fi(n,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(n=>{t[n]=df(n,r,e)}),t}function Zs(r,e){const t=pf(r,e);return(i,n,s)=>n==="__v_isReactive"?!r:n==="__v_isReadonly"?r:n==="__v_raw"?i:Reflect.get(tt(t,n)&&n in i?t:i,n,s)}const gf={get:Zs(!1,!1)},vf={get:Zs(!1,!0)},mf={get:Zs(!0,!1)};const yu=new WeakMap,_u=new WeakMap,wu=new WeakMap,bf=new WeakMap;function yf(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _f(r){return r.__v_skip||!Object.isExtensible(r)?0:yf(Hl(r))}function ln(r){return Ci(r)?r:Ys(r,!1,ff,gf,yu)}function wf(r){return Ys(r,!1,cf,vf,_u)}function Cs(r){return Ys(r,!0,hf,mf,wu)}function Ys(r,e,t,i,n){if(!ct(r)||r.__v_raw&&!(e&&r.__v_isReactive))return r;const s=_f(r);if(s===0)return r;const a=n.get(r);if(a)return a;const o=new Proxy(r,s===2?i:t);return n.set(r,o),o}function xi(r){return Ci(r)?xi(r.__v_raw):!!(r&&r.__v_isReactive)}function Ci(r){return!!(r&&r.__v_isReadonly)}function Wt(r){return!!(r&&r.__v_isShallow)}function Ks(r){return r?!!r.__v_raw:!1}function Qe(r){const e=r&&r.__v_raw;return e?Qe(e):r}function Xs(r){return!tt(r,"__v_skip")&&Object.isExtensible(r)&&tu(r,"__v_skip",!0),r}const xt=r=>ct(r)?ln(r):r,qr=r=>ct(r)?Cs(r):r;function vt(r){return r?r.__v_isRef===!0:!1}function qt(r){return Ef(r,!1)}function Ef(r,e){return vt(r)?r:new xf(r,e)}class xf{constructor(e,t){this.dep=new Gs,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Qe(e),this._value=t?e:xt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,i=this.__v_isShallow||Wt(e)||Ci(e);e=i?e:Qe(e),Ei(e,t)&&(this._rawValue=e,this._value=i?e:xt(e),this.dep.trigger())}}function Eu(r){return vt(r)?r.value:r}const Af={get:(r,e,t)=>e==="__v_raw"?r:Eu(Reflect.get(r,e,t)),set:(r,e,t,i)=>{const n=r[e];return vt(n)&&!vt(t)?(n.value=t,!0):Reflect.set(r,e,t,i)}};function xu(r){return xi(r)?r:new Proxy(r,Af)}function Cf(r){const e=Pe(r)?new Array(r.length):{};for(const t in r)e[t]=Sf(r,t);return e}class Df{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return nf(Qe(this._object),this._key)}}function Sf(r,e,t){const i=r[e];return vt(i)?i:new Df(r,e,t)}class Tf{constructor(e,t,i){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Gs(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=mr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&ut!==this)return fu(this,!0),!0}get value(){const e=this.dep.track();return du(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function kf(r,e,t=!1){let i,n;return qe(r)?i=r:(i=r.get,n=r.set),new Tf(i,n,t)}const Nr={},jr=new WeakMap;let Ni;function Rf(r,e=!1,t=Ni){if(t){let i=jr.get(t);i||jr.set(t,i=[]),i.push(r)}}function Nf(r,e,t=lt){const{immediate:i,deep:n,once:s,scheduler:a,augmentJob:o,call:u}=t,h=S=>n?S:Wt(S)||n===!1||n===0?yi(S,1):yi(S);let c,d,b,v,R=!1,E=!1;if(vt(r)?(d=()=>r.value,R=Wt(r)):xi(r)?(d=()=>h(r),R=!0):Pe(r)?(E=!0,R=r.some(S=>xi(S)||Wt(S)),d=()=>r.map(S=>{if(vt(S))return S.value;if(xi(S))return h(S);if(qe(S))return u?u(S,2):S()})):qe(r)?e?d=u?()=>u(r,2):r:d=()=>{if(b){hi();try{b()}finally{ci()}}const S=Ni;Ni=c;try{return u?u(r,3,[v]):r(v)}finally{Ni=S}}:d=ti,e&&n){const S=d,_=n===!0?1/0:n;d=()=>yi(S(),_)}const p=ou(),g=()=>{c.stop(),p&&p.active&&qs(p.effects,c)};if(s&&e){const S=e;e=(..._)=>{S(..._),g()}}let m=E?new Array(r.length).fill(Nr):Nr;const x=S=>{if(!(!(c.flags&1)||!c.dirty&&!S))if(e){const _=c.run();if(n||R||(E?_.some((T,O)=>Ei(T,m[O])):Ei(_,m))){b&&b();const T=Ni;Ni=c;try{const O=[_,m===Nr?void 0:E&&m[0]===Nr?[]:m,v];m=_,u?u(e,3,O):e(...O)}finally{Ni=T}}}else c.run()};return o&&o(x),c=new uu(d),c.scheduler=a?()=>a(x,!1):x,v=S=>Rf(S,!1,c),b=c.onStop=()=>{const S=jr.get(c);if(S){if(u)u(S,4);else for(const _ of S)_();jr.delete(c)}},e?i?x(!0):m=c.run():a?a(x.bind(null,!0),!0):c.run(),g.pause=c.pause.bind(c),g.resume=c.resume.bind(c),g.stop=g,g}function yi(r,e=1/0,t){if(e<=0||!ct(r)||r.__v_skip||(t=t||new Map,(t.get(r)||0)>=e))return r;if(t.set(r,e),e--,vt(r))yi(r.value,e,t);else if(Pe(r))for(let i=0;i<r.length;i++)yi(r[i],e,t);else if(Ko(r)||Gi(r))r.forEach(i=>{yi(i,e,t)});else if(Qo(r)){for(const i in r)yi(r[i],e,t);for(const i of Object.getOwnPropertySymbols(r))Object.prototype.propertyIsEnumerable.call(r,i)&&yi(r[i],e,t)}return r}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ar(r,e,t,i){try{return i?r(...i):r()}catch(n){fn(n,e,t)}}function ri(r,e,t,i){if(qe(r)){const n=Ar(r,e,t,i);return n&&Xo(n)&&n.catch(s=>{fn(s,e,t)}),n}if(Pe(r)){const n=[];for(let s=0;s<r.length;s++)n.push(ri(r[s],e,t,i));return n}}function fn(r,e,t,i=!0){const n=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||lt;if(e){let o=e.parent;const u=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${t}`;for(;o;){const c=o.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](r,u,h)===!1)return}o=o.parent}if(s){hi(),Ar(s,null,10,[r,u,h]),ci();return}}If(r,t,n,i,a)}function If(r,e,t,i=!0,n=!1){if(n)throw r;console.error(r)}const Tt=[];let Jt=-1;const Zi=[];let mi=null,ji=0;const Au=Promise.resolve();let Wr=null;function Js(r){const e=Wr||Au;return r?e.then(this?r.bind(this):r):e}function Of(r){let e=Jt+1,t=Tt.length;for(;e<t;){const i=e+t>>>1,n=Tt[i],s=yr(n);s<r||s===r&&n.flags&2?e=i+1:t=i}return e}function Qs(r){if(!(r.flags&1)){const e=yr(r),t=Tt[Tt.length-1];!t||!(r.flags&2)&&e>=yr(t)?Tt.push(r):Tt.splice(Of(e),0,r),r.flags|=1,Cu()}}function Cu(){Wr||(Wr=Au.then(Su))}function Lf(r){Pe(r)?Zi.push(...r):mi&&r.id===-1?mi.splice(ji+1,0,r):r.flags&1||(Zi.push(r),r.flags|=1),Cu()}function wa(r,e,t=Jt+1){for(;t<Tt.length;t++){const i=Tt[t];if(i&&i.flags&2){if(r&&i.id!==r.uid)continue;Tt.splice(t,1),t--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Du(r){if(Zi.length){const e=[...new Set(Zi)].sort((t,i)=>yr(t)-yr(i));if(Zi.length=0,mi){mi.push(...e);return}for(mi=e,ji=0;ji<mi.length;ji++){const t=mi[ji];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}mi=null,ji=0}}const yr=r=>r.id==null?r.flags&2?-1:1/0:r.id;function Su(r){try{for(Jt=0;Jt<Tt.length;Jt++){const e=Tt[Jt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ar(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Jt<Tt.length;Jt++){const e=Tt[Jt];e&&(e.flags&=-2)}Jt=-1,Tt.length=0,Du(),Wr=null,(Tt.length||Zi.length)&&Su()}}let ei=null,Tu=null;function Hr(r){const e=ei;return ei=r,Tu=r&&r.type.__scopeId||null,e}function Bf(r,e=ei,t){if(!e||r._n)return r;const i=(...n)=>{i._d&&Na(-1);const s=Hr(e);let a;try{a=r(...n)}finally{Hr(s),i._d&&Na(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function ki(r,e,t,i){const n=r.dirs,s=e&&e.dirs;for(let a=0;a<n.length;a++){const o=n[a];s&&(o.oldValue=s[a].value);let u=o.dir[i];u&&(hi(),ri(u,t,8,[r.el,o,r,e]),ci())}}const Pf=Symbol("_vte"),Ff=r=>r.__isTeleport,zf=Symbol("_leaveCb");function ea(r,e){r.shapeFlag&6&&r.component?(r.transition=e,ea(r.component.subTree,e)):r.shapeFlag&128?(r.ssContent.transition=e.clone(r.ssContent),r.ssFallback.transition=e.clone(r.ssFallback)):r.transition=e}function ku(r){r.ids=[r.ids[0]+r.ids[2]+++"-",0,0]}const Vr=new WeakMap;function fr(r,e,t,i,n=!1){if(Pe(r)){r.forEach((R,E)=>fr(R,e&&(Pe(e)?e[E]:e),t,i,n));return}if(hr(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&fr(r,e,t,i.component.subTree);return}const s=i.shapeFlag&4?na(i.component):i.el,a=n?null:s,{i:o,r:u}=r,h=e&&e.r,c=o.refs===lt?o.refs={}:o.refs,d=o.setupState,b=Qe(d),v=d===lt?Yo:R=>tt(b,R);if(h!=null&&h!==u){if(Ea(e),yt(h))c[h]=null,v(h)&&(d[h]=null);else if(vt(h)){h.value=null;const R=e;R.k&&(c[R.k]=null)}}if(qe(u))Ar(u,o,12,[a,c]);else{const R=yt(u),E=vt(u);if(R||E){const p=()=>{if(r.f){const g=R?v(u)?d[u]:c[u]:u.value;if(n)Pe(g)&&qs(g,s);else if(Pe(g))g.includes(s)||g.push(s);else if(R)c[u]=[s],v(u)&&(d[u]=c[u]);else{const m=[s];u.value=m,r.k&&(c[r.k]=m)}}else R?(c[u]=a,v(u)&&(d[u]=a)):E&&(u.value=a,r.k&&(c[r.k]=a))};if(a){const g=()=>{p(),Vr.delete(r)};g.id=-1,Vr.set(r,g),Bt(g,t)}else Ea(r),p()}}}function Ea(r){const e=Vr.get(r);e&&(e.flags|=8,Vr.delete(r))}an().requestIdleCallback;an().cancelIdleCallback;const hr=r=>!!r.type.__asyncLoader,Ru=r=>r.type.__isKeepAlive;function Mf(r,e){Nu(r,"a",e)}function Uf(r,e){Nu(r,"da",e)}function Nu(r,e,t=kt){const i=r.__wdc||(r.__wdc=()=>{let n=t;for(;n;){if(n.isDeactivated)return;n=n.parent}return r()});if(hn(e,i,t),t){let n=t.parent;for(;n&&n.parent;)Ru(n.parent.vnode)&&qf(i,e,t,n),n=n.parent}}function qf(r,e,t,i){const n=hn(e,r,i,!0);Ou(()=>{qs(i[e],n)},t)}function hn(r,e,t=kt,i=!1){if(t){const n=t[r]||(t[r]=[]),s=e.__weh||(e.__weh=(...a)=>{hi();const o=Cr(t),u=ri(e,t,r,a);return o(),ci(),u});return i?n.unshift(s):n.push(s),s}}const gi=r=>(e,t=kt)=>{(!wr||r==="sp")&&hn(r,(...i)=>e(...i),t)},jf=gi("bm"),Wf=gi("m"),Hf=gi("bu"),Iu=gi("u"),Vf=gi("bum"),Ou=gi("um"),$f=gi("sp"),Gf=gi("rtg"),Zf=gi("rtc");function Yf(r,e=kt){hn("ec",r,e)}const Kf=Symbol.for("v-ndc");function Lu(r,e,t,i){let n;const s=t,a=Pe(r);if(a||yt(r)){const o=a&&xi(r);let u=!1,h=!1;o&&(u=!Wt(r),h=Ci(r),r=un(r)),n=new Array(r.length);for(let c=0,d=r.length;c<d;c++)n[c]=e(u?h?qr(xt(r[c])):xt(r[c]):r[c],c,void 0,s)}else if(typeof r=="number"){n=new Array(r);for(let o=0;o<r;o++)n[o]=e(o+1,o,void 0,s)}else if(ct(r))if(r[Symbol.iterator])n=Array.from(r,(o,u)=>e(o,u,void 0,s));else{const o=Object.keys(r);n=new Array(o.length);for(let u=0,h=o.length;u<h;u++){const c=o[u];n[u]=e(r[c],c,u,s)}}else n=[];return n}const Ds=r=>r?il(r)?na(r):Ds(r.parent):null,cr=Rt(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Ds(r.parent),$root:r=>Ds(r.root),$host:r=>r.ce,$emit:r=>r.emit,$options:r=>Pu(r),$forceUpdate:r=>r.f||(r.f=()=>{Qs(r.update)}),$nextTick:r=>r.n||(r.n=Js.bind(r.proxy)),$watch:r=>yh.bind(r)}),kn=(r,e)=>r!==lt&&!r.__isScriptSetup&&tt(r,e),Xf={get({_:r},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:i,data:n,props:s,accessCache:a,type:o,appContext:u}=r;let h;if(e[0]!=="$"){const v=a[e];if(v!==void 0)switch(v){case 1:return i[e];case 2:return n[e];case 4:return t[e];case 3:return s[e]}else{if(kn(i,e))return a[e]=1,i[e];if(n!==lt&&tt(n,e))return a[e]=2,n[e];if((h=r.propsOptions[0])&&tt(h,e))return a[e]=3,s[e];if(t!==lt&&tt(t,e))return a[e]=4,t[e];Ss&&(a[e]=0)}}const c=cr[e];let d,b;if(c)return e==="$attrs"&&Dt(r.attrs,"get",""),c(r);if((d=o.__cssModules)&&(d=d[e]))return d;if(t!==lt&&tt(t,e))return a[e]=4,t[e];if(b=u.config.globalProperties,tt(b,e))return b[e]},set({_:r},e,t){const{data:i,setupState:n,ctx:s}=r;return kn(n,e)?(n[e]=t,!0):i!==lt&&tt(i,e)?(i[e]=t,!0):tt(r.props,e)||e[0]==="$"&&e.slice(1)in r?!1:(s[e]=t,!0)},has({_:{data:r,setupState:e,accessCache:t,ctx:i,appContext:n,propsOptions:s,type:a}},o){let u,h;return!!(t[o]||r!==lt&&o[0]!=="$"&&tt(r,o)||kn(e,o)||(u=s[0])&&tt(u,o)||tt(i,o)||tt(cr,o)||tt(n.config.globalProperties,o)||(h=a.__cssModules)&&h[o])},defineProperty(r,e,t){return t.get!=null?r._.accessCache[e]=0:tt(t,"value")&&this.set(r,e,t.value,null),Reflect.defineProperty(r,e,t)}};function xa(r){return Pe(r)?r.reduce((e,t)=>(e[t]=null,e),{}):r}let Ss=!0;function Jf(r){const e=Pu(r),t=r.proxy,i=r.ctx;Ss=!1,e.beforeCreate&&Aa(e.beforeCreate,r,"bc");const{data:n,computed:s,methods:a,watch:o,provide:u,inject:h,created:c,beforeMount:d,mounted:b,beforeUpdate:v,updated:R,activated:E,deactivated:p,beforeDestroy:g,beforeUnmount:m,destroyed:x,unmounted:S,render:_,renderTracked:T,renderTriggered:O,errorCaptured:I,serverPrefetch:D,expose:L,inheritAttrs:$,components:H,directives:Y,filters:ue}=e;if(h&&Qf(h,i,null),a)for(const Q in a){const ee=a[Q];qe(ee)&&(i[Q]=ee.bind(t))}if(n){const Q=n.call(t,t);ct(Q)&&(r.data=ln(Q))}if(Ss=!0,s)for(const Q in s){const ee=s[Q],be=qe(ee)?ee.bind(t,t):qe(ee.get)?ee.get.bind(t,t):ti,Ne=!qe(ee)&&qe(ee.set)?ee.set.bind(t):ti,ge=pn({get:be,set:Ne});Object.defineProperty(i,Q,{enumerable:!0,configurable:!0,get:()=>ge.value,set:we=>ge.value=we})}if(o)for(const Q in o)Bu(o[Q],i,t,Q);if(u){const Q=qe(u)?u.call(t):u;Reflect.ownKeys(Q).forEach(ee=>{sh(ee,Q[ee])})}c&&Aa(c,r,"c");function pe(Q,ee){Pe(ee)?ee.forEach(be=>Q(be.bind(t))):ee&&Q(ee.bind(t))}if(pe(jf,d),pe(Wf,b),pe(Hf,v),pe(Iu,R),pe(Mf,E),pe(Uf,p),pe(Yf,I),pe(Zf,T),pe(Gf,O),pe(Vf,m),pe(Ou,S),pe($f,D),Pe(L))if(L.length){const Q=r.exposed||(r.exposed={});L.forEach(ee=>{Object.defineProperty(Q,ee,{get:()=>t[ee],set:be=>t[ee]=be,enumerable:!0})})}else r.exposed||(r.exposed={});_&&r.render===ti&&(r.render=_),$!=null&&(r.inheritAttrs=$),H&&(r.components=H),Y&&(r.directives=Y),D&&ku(r)}function Qf(r,e,t=ti){Pe(r)&&(r=Ts(r));for(const i in r){const n=r[i];let s;ct(n)?"default"in n?s=dr(n.from||i,n.default,!0):s=dr(n.from||i):s=dr(n),vt(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[i]=s}}function Aa(r,e,t){ri(Pe(r)?r.map(i=>i.bind(e.proxy)):r.bind(e.proxy),e,t)}function Bu(r,e,t,i){let n=i.includes(".")?Yu(t,i):()=>t[i];if(yt(r)){const s=e[r];qe(s)&&pr(n,s)}else if(qe(r))pr(n,r.bind(t));else if(ct(r))if(Pe(r))r.forEach(s=>Bu(s,e,t,i));else{const s=qe(r.handler)?r.handler.bind(t):e[r.handler];qe(s)&&pr(n,s,r)}}function Pu(r){const e=r.type,{mixins:t,extends:i}=e,{mixins:n,optionsCache:s,config:{optionMergeStrategies:a}}=r.appContext,o=s.get(e);let u;return o?u=o:!n.length&&!t&&!i?u=e:(u={},n.length&&n.forEach(h=>$r(u,h,a,!0)),$r(u,e,a)),ct(e)&&s.set(e,u),u}function $r(r,e,t,i=!1){const{mixins:n,extends:s}=e;s&&$r(r,s,t,!0),n&&n.forEach(a=>$r(r,a,t,!0));for(const a in e)if(!(i&&a==="expose")){const o=eh[a]||t&&t[a];r[a]=o?o(r[a],e[a]):e[a]}return r}const eh={data:Ca,props:Da,emits:Da,methods:ar,computed:ar,beforeCreate:St,created:St,beforeMount:St,mounted:St,beforeUpdate:St,updated:St,beforeDestroy:St,beforeUnmount:St,destroyed:St,unmounted:St,activated:St,deactivated:St,errorCaptured:St,serverPrefetch:St,components:ar,directives:ar,watch:ih,provide:Ca,inject:th};function Ca(r,e){return e?r?function(){return Rt(qe(r)?r.call(this,this):r,qe(e)?e.call(this,this):e)}:e:r}function th(r,e){return ar(Ts(r),Ts(e))}function Ts(r){if(Pe(r)){const e={};for(let t=0;t<r.length;t++)e[r[t]]=r[t];return e}return r}function St(r,e){return r?[...new Set([].concat(r,e))]:e}function ar(r,e){return r?Rt(Object.create(null),r,e):e}function Da(r,e){return r?Pe(r)&&Pe(e)?[...new Set([...r,...e])]:Rt(Object.create(null),xa(r),xa(e??{})):e}function ih(r,e){if(!r)return e;if(!e)return r;const t=Rt(Object.create(null),r);for(const i in e)t[i]=St(r[i],e[i]);return t}function Fu(){return{app:null,config:{isNativeTag:Yo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rh=0;function nh(r,e){return function(i,n=null){qe(i)||(i=Rt({},i)),n!=null&&!ct(n)&&(n=null);const s=Fu(),a=new WeakSet,o=[];let u=!1;const h=s.app={_uid:rh++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:Wh,get config(){return s.config},set config(c){},use(c,...d){return a.has(c)||(c&&qe(c.install)?(a.add(c),c.install(h,...d)):qe(c)&&(a.add(c),c(h,...d))),h},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),h},component(c,d){return d?(s.components[c]=d,h):s.components[c]},directive(c,d){return d?(s.directives[c]=d,h):s.directives[c]},mount(c,d,b){if(!u){const v=h._ceVNode||Ot(i,n);return v.appContext=s,b===!0?b="svg":b===!1&&(b=void 0),r(v,c,b),u=!0,h._container=c,c.__vue_app__=h,na(v.component)}},onUnmount(c){o.push(c)},unmount(){u&&(ri(o,h._instance,16),r(null,h._container),delete h._container.__vue_app__)},provide(c,d){return s.provides[c]=d,h},runWithContext(c){const d=Oi;Oi=h;try{return c()}finally{Oi=d}}};return h}}let Oi=null;function sh(r,e){if(kt){let t=kt.provides;const i=kt.parent&&kt.parent.provides;i===t&&(t=kt.provides=Object.create(i)),t[r]=e}}function dr(r,e,t=!1){const i=tl();if(i||Oi){let n=Oi?Oi._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&r in n)return n[r];if(arguments.length>1)return t&&qe(e)?e.call(i&&i.proxy):e}}function ah(){return!!(tl()||Oi)}const zu={},Mu=()=>Object.create(zu),Uu=r=>Object.getPrototypeOf(r)===zu;function oh(r,e,t,i=!1){const n={},s=Mu();r.propsDefaults=Object.create(null),qu(r,e,n,s);for(const a in r.propsOptions[0])a in n||(n[a]=void 0);t?r.props=i?n:wf(n):r.type.props?r.props=n:r.props=s,r.attrs=s}function uh(r,e,t,i){const{props:n,attrs:s,vnode:{patchFlag:a}}=r,o=Qe(n),[u]=r.propsOptions;let h=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=r.vnode.dynamicProps;for(let d=0;d<c.length;d++){let b=c[d];if(cn(r.emitsOptions,b))continue;const v=e[b];if(u)if(tt(s,b))v!==s[b]&&(s[b]=v,h=!0);else{const R=Ai(b);n[R]=ks(u,o,R,v,r,!1)}else v!==s[b]&&(s[b]=v,h=!0)}}}else{qu(r,e,n,s)&&(h=!0);let c;for(const d in o)(!e||!tt(e,d)&&((c=Ti(d))===d||!tt(e,c)))&&(u?t&&(t[d]!==void 0||t[c]!==void 0)&&(n[d]=ks(u,o,d,void 0,r,!0)):delete n[d]);if(s!==o)for(const d in s)(!e||!tt(e,d))&&(delete s[d],h=!0)}h&&fi(r.attrs,"set","")}function qu(r,e,t,i){const[n,s]=r.propsOptions;let a=!1,o;if(e)for(let u in e){if(or(u))continue;const h=e[u];let c;n&&tt(n,c=Ai(u))?!s||!s.includes(c)?t[c]=h:(o||(o={}))[c]=h:cn(r.emitsOptions,u)||(!(u in i)||h!==i[u])&&(i[u]=h,a=!0)}if(s){const u=Qe(t),h=o||lt;for(let c=0;c<s.length;c++){const d=s[c];t[d]=ks(n,u,d,h[d],r,!tt(h,d))}}return a}function ks(r,e,t,i,n,s){const a=r[t];if(a!=null){const o=tt(a,"default");if(o&&i===void 0){const u=a.default;if(a.type!==Function&&!a.skipFactory&&qe(u)){const{propsDefaults:h}=n;if(t in h)i=h[t];else{const c=Cr(n);i=h[t]=u.call(null,e),c()}}else i=u;n.ce&&n.ce._setProp(t,i)}a[0]&&(s&&!o?i=!1:a[1]&&(i===""||i===Ti(t))&&(i=!0))}return i}const lh=new WeakMap;function ju(r,e,t=!1){const i=t?lh:e.propsCache,n=i.get(r);if(n)return n;const s=r.props,a={},o=[];let u=!1;if(!qe(r)){const c=d=>{u=!0;const[b,v]=ju(d,e,!0);Rt(a,b),v&&o.push(...v)};!t&&e.mixins.length&&e.mixins.forEach(c),r.extends&&c(r.extends),r.mixins&&r.mixins.forEach(c)}if(!s&&!u)return ct(r)&&i.set(r,$i),$i;if(Pe(s))for(let c=0;c<s.length;c++){const d=Ai(s[c]);Sa(d)&&(a[d]=lt)}else if(s)for(const c in s){const d=Ai(c);if(Sa(d)){const b=s[c],v=a[d]=Pe(b)||qe(b)?{type:b}:Rt({},b),R=v.type;let E=!1,p=!0;if(Pe(R))for(let g=0;g<R.length;++g){const m=R[g],x=qe(m)&&m.name;if(x==="Boolean"){E=!0;break}else x==="String"&&(p=!1)}else E=qe(R)&&R.name==="Boolean";v[0]=E,v[1]=p,(E||tt(v,"default"))&&o.push(d)}}const h=[a,o];return ct(r)&&i.set(r,h),h}function Sa(r){return r[0]!=="$"&&!or(r)}const ta=r=>r==="_"||r==="_ctx"||r==="$stable",ia=r=>Pe(r)?r.map(Qt):[Qt(r)],fh=(r,e,t)=>{if(e._n)return e;const i=Bf((...n)=>ia(e(...n)),t);return i._c=!1,i},Wu=(r,e,t)=>{const i=r._ctx;for(const n in r){if(ta(n))continue;const s=r[n];if(qe(s))e[n]=fh(n,s,i);else if(s!=null){const a=ia(s);e[n]=()=>a}}},Hu=(r,e)=>{const t=ia(e);r.slots.default=()=>t},Vu=(r,e,t)=>{for(const i in e)(t||!ta(i))&&(r[i]=e[i])},hh=(r,e,t)=>{const i=r.slots=Mu();if(r.vnode.shapeFlag&32){const n=e._;n?(Vu(i,e,t),t&&tu(i,"_",n,!0)):Wu(e,i)}else e&&Hu(r,e)},ch=(r,e,t)=>{const{vnode:i,slots:n}=r;let s=!0,a=lt;if(i.shapeFlag&32){const o=e._;o?t&&o===1?s=!1:Vu(n,e,t):(s=!e.$stable,Wu(e,n)),a=e}else e&&(Hu(r,e),a={default:1});if(s)for(const o in n)!ta(o)&&a[o]==null&&delete n[o]},Bt=Sh;function dh(r){return ph(r)}function ph(r,e){const t=an();t.__VUE__=!0;const{insert:i,remove:n,patchProp:s,createElement:a,createText:o,createComment:u,setText:h,setElementText:c,parentNode:d,nextSibling:b,setScopeId:v=ti,insertStaticContent:R}=r,E=(B,z,G,ie=null,J=null,X=null,he=void 0,le=null,ae=!!z.dynamicChildren)=>{if(B===z)return;B&&!ir(B,z)&&(ie=He(B),we(B,J,X,!0),B=null),z.patchFlag===-2&&(ae=!1,z.dynamicChildren=null);const{type:K,ref:de,shapeFlag:re}=z;switch(K){case dn:p(B,z,G,ie);break;case Di:g(B,z,G,ie);break;case Br:B==null&&m(z,G,ie,he);break;case Yt:H(B,z,G,ie,J,X,he,le,ae);break;default:re&1?_(B,z,G,ie,J,X,he,le,ae):re&6?Y(B,z,G,ie,J,X,he,le,ae):(re&64||re&128)&&K.process(B,z,G,ie,J,X,he,le,ae,Ke)}de!=null&&J?fr(de,B&&B.ref,X,z||B,!z):de==null&&B&&B.ref!=null&&fr(B.ref,null,X,B,!0)},p=(B,z,G,ie)=>{if(B==null)i(z.el=o(z.children),G,ie);else{const J=z.el=B.el;z.children!==B.children&&h(J,z.children)}},g=(B,z,G,ie)=>{B==null?i(z.el=u(z.children||""),G,ie):z.el=B.el},m=(B,z,G,ie)=>{[B.el,B.anchor]=R(B.children,z,G,ie,B.el,B.anchor)},x=({el:B,anchor:z},G,ie)=>{let J;for(;B&&B!==z;)J=b(B),i(B,G,ie),B=J;i(z,G,ie)},S=({el:B,anchor:z})=>{let G;for(;B&&B!==z;)G=b(B),n(B),B=G;n(z)},_=(B,z,G,ie,J,X,he,le,ae)=>{z.type==="svg"?he="svg":z.type==="math"&&(he="mathml"),B==null?T(z,G,ie,J,X,he,le,ae):D(B,z,J,X,he,le,ae)},T=(B,z,G,ie,J,X,he,le)=>{let ae,K;const{props:de,shapeFlag:re,transition:Ae,dirs:Te}=B;if(ae=B.el=a(B.type,X,de&&de.is,de),re&8?c(ae,B.children):re&16&&I(B.children,ae,null,ie,J,Rn(B,X),he,le),Te&&ki(B,null,ie,"created"),O(ae,B,B.scopeId,he,ie),de){for(const Oe in de)Oe!=="value"&&!or(Oe)&&s(ae,Oe,null,de[Oe],X,ie);"value"in de&&s(ae,"value",null,de.value,X),(K=de.onVnodeBeforeMount)&&Xt(K,ie,B)}Te&&ki(B,null,ie,"beforeMount");const Ie=gh(J,Ae);Ie&&Ae.beforeEnter(ae),i(ae,z,G),((K=de&&de.onVnodeMounted)||Ie||Te)&&Bt(()=>{K&&Xt(K,ie,B),Ie&&Ae.enter(ae),Te&&ki(B,null,ie,"mounted")},J)},O=(B,z,G,ie,J)=>{if(G&&v(B,G),ie)for(let X=0;X<ie.length;X++)v(B,ie[X]);if(J){let X=J.subTree;if(z===X||Xu(X.type)&&(X.ssContent===z||X.ssFallback===z)){const he=J.vnode;O(B,he,he.scopeId,he.slotScopeIds,J.parent)}}},I=(B,z,G,ie,J,X,he,le,ae=0)=>{for(let K=ae;K<B.length;K++){const de=B[K]=le?bi(B[K]):Qt(B[K]);E(null,de,z,G,ie,J,X,he,le)}},D=(B,z,G,ie,J,X,he)=>{const le=z.el=B.el;let{patchFlag:ae,dynamicChildren:K,dirs:de}=z;ae|=B.patchFlag&16;const re=B.props||lt,Ae=z.props||lt;let Te;if(G&&Ri(G,!1),(Te=Ae.onVnodeBeforeUpdate)&&Xt(Te,G,z,B),de&&ki(z,B,G,"beforeUpdate"),G&&Ri(G,!0),(re.innerHTML&&Ae.innerHTML==null||re.textContent&&Ae.textContent==null)&&c(le,""),K?L(B.dynamicChildren,K,le,G,ie,Rn(z,J),X):he||ee(B,z,le,null,G,ie,Rn(z,J),X,!1),ae>0){if(ae&16)$(le,re,Ae,G,J);else if(ae&2&&re.class!==Ae.class&&s(le,"class",null,Ae.class,J),ae&4&&s(le,"style",re.style,Ae.style,J),ae&8){const Ie=z.dynamicProps;for(let Oe=0;Oe<Ie.length;Oe++){const Me=Ie[Oe],it=re[Me],Xe=Ae[Me];(Xe!==it||Me==="value")&&s(le,Me,it,Xe,J,G)}}ae&1&&B.children!==z.children&&c(le,z.children)}else!he&&K==null&&$(le,re,Ae,G,J);((Te=Ae.onVnodeUpdated)||de)&&Bt(()=>{Te&&Xt(Te,G,z,B),de&&ki(z,B,G,"updated")},ie)},L=(B,z,G,ie,J,X,he)=>{for(let le=0;le<z.length;le++){const ae=B[le],K=z[le],de=ae.el&&(ae.type===Yt||!ir(ae,K)||ae.shapeFlag&198)?d(ae.el):G;E(ae,K,de,null,ie,J,X,he,!0)}},$=(B,z,G,ie,J)=>{if(z!==G){if(z!==lt)for(const X in z)!or(X)&&!(X in G)&&s(B,X,z[X],null,J,ie);for(const X in G){if(or(X))continue;const he=G[X],le=z[X];he!==le&&X!=="value"&&s(B,X,le,he,J,ie)}"value"in G&&s(B,"value",z.value,G.value,J)}},H=(B,z,G,ie,J,X,he,le,ae)=>{const K=z.el=B?B.el:o(""),de=z.anchor=B?B.anchor:o("");let{patchFlag:re,dynamicChildren:Ae,slotScopeIds:Te}=z;Te&&(le=le?le.concat(Te):Te),B==null?(i(K,G,ie),i(de,G,ie),I(z.children||[],G,de,J,X,he,le,ae)):re>0&&re&64&&Ae&&B.dynamicChildren?(L(B.dynamicChildren,Ae,G,J,X,he,le),(z.key!=null||J&&z===J.subTree)&&$u(B,z,!0)):ee(B,z,G,de,J,X,he,le,ae)},Y=(B,z,G,ie,J,X,he,le,ae)=>{z.slotScopeIds=le,B==null?z.shapeFlag&512?J.ctx.activate(z,G,ie,he,ae):ue(z,G,ie,J,X,he,ae):oe(B,z,ae)},ue=(B,z,G,ie,J,X,he)=>{const le=B.component=Fh(B,ie,J);if(Ru(B)&&(le.ctx.renderer=Ke),zh(le,!1,he),le.asyncDep){if(J&&J.registerDep(le,pe,he),!B.el){const ae=le.subTree=Ot(Di);g(null,ae,z,G),B.placeholder=ae.el}}else pe(le,B,z,G,J,X,he)},oe=(B,z,G)=>{const ie=z.component=B.component;if(Ch(B,z,G))if(ie.asyncDep&&!ie.asyncResolved){Q(ie,z,G);return}else ie.next=z,ie.update();else z.el=B.el,ie.vnode=z},pe=(B,z,G,ie,J,X,he)=>{const le=()=>{if(B.isMounted){let{next:re,bu:Ae,u:Te,parent:Ie,vnode:Oe}=B;{const ot=Gu(B);if(ot){re&&(re.el=Oe.el,Q(B,re,he)),ot.asyncDep.then(()=>{B.isUnmounted||le()});return}}let Me=re,it;Ri(B,!1),re?(re.el=Oe.el,Q(B,re,he)):re=Oe,Ae&&An(Ae),(it=re.props&&re.props.onVnodeBeforeUpdate)&&Xt(it,Ie,re,Oe),Ri(B,!0);const Xe=ka(B),ft=B.subTree;B.subTree=Xe,E(ft,Xe,d(ft.el),He(ft),B,J,X),re.el=Xe.el,Me===null&&Dh(B,Xe.el),Te&&Bt(Te,J),(it=re.props&&re.props.onVnodeUpdated)&&Bt(()=>Xt(it,Ie,re,Oe),J)}else{let re;const{el:Ae,props:Te}=z,{bm:Ie,m:Oe,parent:Me,root:it,type:Xe}=B,ft=hr(z);Ri(B,!1),Ie&&An(Ie),!ft&&(re=Te&&Te.onVnodeBeforeMount)&&Xt(re,Me,z),Ri(B,!0);{it.ce&&it.ce._def.shadowRoot!==!1&&it.ce._injectChildStyle(Xe);const ot=B.subTree=ka(B);E(null,ot,G,ie,B,J,X),z.el=ot.el}if(Oe&&Bt(Oe,J),!ft&&(re=Te&&Te.onVnodeMounted)){const ot=z;Bt(()=>Xt(re,Me,ot),J)}(z.shapeFlag&256||Me&&hr(Me.vnode)&&Me.vnode.shapeFlag&256)&&B.a&&Bt(B.a,J),B.isMounted=!0,z=G=ie=null}};B.scope.on();const ae=B.effect=new uu(le);B.scope.off();const K=B.update=ae.run.bind(ae),de=B.job=ae.runIfDirty.bind(ae);de.i=B,de.id=B.uid,ae.scheduler=()=>Qs(de),Ri(B,!0),K()},Q=(B,z,G)=>{z.component=B;const ie=B.vnode.props;B.vnode=z,B.next=null,uh(B,z.props,ie,G),ch(B,z.children,G),hi(),wa(B),ci()},ee=(B,z,G,ie,J,X,he,le,ae=!1)=>{const K=B&&B.children,de=B?B.shapeFlag:0,re=z.children,{patchFlag:Ae,shapeFlag:Te}=z;if(Ae>0){if(Ae&128){Ne(K,re,G,ie,J,X,he,le,ae);return}else if(Ae&256){be(K,re,G,ie,J,X,he,le,ae);return}}Te&8?(de&16&&Je(K,J,X),re!==K&&c(G,re)):de&16?Te&16?Ne(K,re,G,ie,J,X,he,le,ae):Je(K,J,X,!0):(de&8&&c(G,""),Te&16&&I(re,G,ie,J,X,he,le,ae))},be=(B,z,G,ie,J,X,he,le,ae)=>{B=B||$i,z=z||$i;const K=B.length,de=z.length,re=Math.min(K,de);let Ae;for(Ae=0;Ae<re;Ae++){const Te=z[Ae]=ae?bi(z[Ae]):Qt(z[Ae]);E(B[Ae],Te,G,null,J,X,he,le,ae)}K>de?Je(B,J,X,!0,!1,re):I(z,G,ie,J,X,he,le,ae,re)},Ne=(B,z,G,ie,J,X,he,le,ae)=>{let K=0;const de=z.length;let re=B.length-1,Ae=de-1;for(;K<=re&&K<=Ae;){const Te=B[K],Ie=z[K]=ae?bi(z[K]):Qt(z[K]);if(ir(Te,Ie))E(Te,Ie,G,null,J,X,he,le,ae);else break;K++}for(;K<=re&&K<=Ae;){const Te=B[re],Ie=z[Ae]=ae?bi(z[Ae]):Qt(z[Ae]);if(ir(Te,Ie))E(Te,Ie,G,null,J,X,he,le,ae);else break;re--,Ae--}if(K>re){if(K<=Ae){const Te=Ae+1,Ie=Te<de?z[Te].el:ie;for(;K<=Ae;)E(null,z[K]=ae?bi(z[K]):Qt(z[K]),G,Ie,J,X,he,le,ae),K++}}else if(K>Ae)for(;K<=re;)we(B[K],J,X,!0),K++;else{const Te=K,Ie=K,Oe=new Map;for(K=Ie;K<=Ae;K++){const ht=z[K]=ae?bi(z[K]):Qt(z[K]);ht.key!=null&&Oe.set(ht.key,K)}let Me,it=0;const Xe=Ae-Ie+1;let ft=!1,ot=0;const nt=new Array(Xe);for(K=0;K<Xe;K++)nt[K]=0;for(K=Te;K<=re;K++){const ht=B[K];if(it>=Xe){we(ht,J,X,!0);continue}let C;if(ht.key!=null)C=Oe.get(ht.key);else for(Me=Ie;Me<=Ae;Me++)if(nt[Me-Ie]===0&&ir(ht,z[Me])){C=Me;break}C===void 0?we(ht,J,X,!0):(nt[C-Ie]=K+1,C>=ot?ot=C:ft=!0,E(ht,z[C],G,null,J,X,he,le,ae),it++)}const mt=ft?vh(nt):$i;for(Me=mt.length-1,K=Xe-1;K>=0;K--){const ht=Ie+K,C=z[ht],se=z[ht+1],fe=ht+1<de?se.el||se.placeholder:ie;nt[K]===0?E(null,C,G,fe,J,X,he,le,ae):ft&&(Me<0||K!==mt[Me]?ge(C,G,fe,2):Me--)}}},ge=(B,z,G,ie,J=null)=>{const{el:X,type:he,transition:le,children:ae,shapeFlag:K}=B;if(K&6){ge(B.component.subTree,z,G,ie);return}if(K&128){B.suspense.move(z,G,ie);return}if(K&64){he.move(B,z,G,Ke);return}if(he===Yt){i(X,z,G);for(let re=0;re<ae.length;re++)ge(ae[re],z,G,ie);i(B.anchor,z,G);return}if(he===Br){x(B,z,G);return}if(ie!==2&&K&1&&le)if(ie===0)le.beforeEnter(X),i(X,z,G),Bt(()=>le.enter(X),J);else{const{leave:re,delayLeave:Ae,afterLeave:Te}=le,Ie=()=>{B.ctx.isUnmounted?n(X):i(X,z,G)},Oe=()=>{X._isLeaving&&X[zf](!0),re(X,()=>{Ie(),Te&&Te()})};Ae?Ae(X,Ie,Oe):Oe()}else i(X,z,G)},we=(B,z,G,ie=!1,J=!1)=>{const{type:X,props:he,ref:le,children:ae,dynamicChildren:K,shapeFlag:de,patchFlag:re,dirs:Ae,cacheIndex:Te}=B;if(re===-2&&(J=!1),le!=null&&(hi(),fr(le,null,G,B,!0),ci()),Te!=null&&(z.renderCache[Te]=void 0),de&256){z.ctx.deactivate(B);return}const Ie=de&1&&Ae,Oe=!hr(B);let Me;if(Oe&&(Me=he&&he.onVnodeBeforeUnmount)&&Xt(Me,z,B),de&6)je(B.component,G,ie);else{if(de&128){B.suspense.unmount(G,ie);return}Ie&&ki(B,null,z,"beforeUnmount"),de&64?B.type.remove(B,z,G,Ke,ie):K&&!K.hasOnce&&(X!==Yt||re>0&&re&64)?Je(K,z,G,!1,!0):(X===Yt&&re&384||!J&&de&16)&&Je(ae,z,G),ie&&ze(B)}(Oe&&(Me=he&&he.onVnodeUnmounted)||Ie)&&Bt(()=>{Me&&Xt(Me,z,B),Ie&&ki(B,null,z,"unmounted")},G)},ze=B=>{const{type:z,el:G,anchor:ie,transition:J}=B;if(z===Yt){Re(G,ie);return}if(z===Br){S(B);return}const X=()=>{n(G),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(B.shapeFlag&1&&J&&!J.persisted){const{leave:he,delayLeave:le}=J,ae=()=>he(G,X);le?le(B.el,X,ae):ae()}else X()},Re=(B,z)=>{let G;for(;B!==z;)G=b(B),n(B),B=G;n(z)},je=(B,z,G)=>{const{bum:ie,scope:J,job:X,subTree:he,um:le,m:ae,a:K}=B;Ta(ae),Ta(K),ie&&An(ie),J.stop(),X&&(X.flags|=8,we(he,B,z,G)),le&&Bt(le,z),Bt(()=>{B.isUnmounted=!0},z)},Je=(B,z,G,ie=!1,J=!1,X=0)=>{for(let he=X;he<B.length;he++)we(B[he],z,G,ie,J)},He=B=>{if(B.shapeFlag&6)return He(B.component.subTree);if(B.shapeFlag&128)return B.suspense.next();const z=b(B.anchor||B.el),G=z&&z[Pf];return G?b(G):z};let ke=!1;const Ye=(B,z,G)=>{B==null?z._vnode&&we(z._vnode,null,null,!0):E(z._vnode||null,B,z,null,null,null,G),z._vnode=B,ke||(ke=!0,wa(),Du(),ke=!1)},Ke={p:E,um:we,m:ge,r:ze,mt:ue,mc:I,pc:ee,pbc:L,n:He,o:r};return{render:Ye,hydrate:void 0,createApp:nh(Ye)}}function Rn({type:r,props:e},t){return t==="svg"&&r==="foreignObject"||t==="mathml"&&r==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Ri({effect:r,job:e},t){t?(r.flags|=32,e.flags|=4):(r.flags&=-33,e.flags&=-5)}function gh(r,e){return(!r||r&&!r.pendingBranch)&&e&&!e.persisted}function $u(r,e,t=!1){const i=r.children,n=e.children;if(Pe(i)&&Pe(n))for(let s=0;s<i.length;s++){const a=i[s];let o=n[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=n[s]=bi(n[s]),o.el=a.el),!t&&o.patchFlag!==-2&&$u(a,o)),o.type===dn&&o.patchFlag!==-1&&(o.el=a.el),o.type===Di&&!o.el&&(o.el=a.el)}}function vh(r){const e=r.slice(),t=[0];let i,n,s,a,o;const u=r.length;for(i=0;i<u;i++){const h=r[i];if(h!==0){if(n=t[t.length-1],r[n]<h){e[i]=n,t.push(i);continue}for(s=0,a=t.length-1;s<a;)o=s+a>>1,r[t[o]]<h?s=o+1:a=o;h<r[t[s]]&&(s>0&&(e[i]=t[s-1]),t[s]=i)}}for(s=t.length,a=t[s-1];s-- >0;)t[s]=a,a=e[a];return t}function Gu(r){const e=r.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Gu(e)}function Ta(r){if(r)for(let e=0;e<r.length;e++)r[e].flags|=8}const mh=Symbol.for("v-scx"),bh=()=>dr(mh);function pr(r,e,t){return Zu(r,e,t)}function Zu(r,e,t=lt){const{immediate:i,deep:n,flush:s,once:a}=t,o=Rt({},t),u=e&&i||!e&&s!=="post";let h;if(wr){if(s==="sync"){const v=bh();h=v.__watcherHandles||(v.__watcherHandles=[])}else if(!u){const v=()=>{};return v.stop=ti,v.resume=ti,v.pause=ti,v}}const c=kt;o.call=(v,R,E)=>ri(v,c,R,E);let d=!1;s==="post"?o.scheduler=v=>{Bt(v,c&&c.suspense)}:s!=="sync"&&(d=!0,o.scheduler=(v,R)=>{R?v():Qs(v)}),o.augmentJob=v=>{e&&(v.flags|=4),d&&(v.flags|=2,c&&(v.id=c.uid,v.i=c))};const b=Nf(r,e,o);return wr&&(h?h.push(b):u&&b()),b}function yh(r,e,t){const i=this.proxy,n=yt(r)?r.includes(".")?Yu(i,r):()=>i[r]:r.bind(i,i);let s;qe(e)?s=e:(s=e.handler,t=e);const a=Cr(this),o=Zu(n,s.bind(i),t);return a(),o}function Yu(r,e){const t=e.split(".");return()=>{let i=r;for(let n=0;n<t.length&&i;n++)i=i[t[n]];return i}}const _h=(r,e)=>e==="modelValue"||e==="model-value"?r.modelModifiers:r[`${e}Modifiers`]||r[`${Ai(e)}Modifiers`]||r[`${Ti(e)}Modifiers`];function wh(r,e,...t){if(r.isUnmounted)return;const i=r.vnode.props||lt;let n=t;const s=e.startsWith("update:"),a=s&&_h(i,e.slice(7));a&&(a.trim&&(n=t.map(c=>yt(c)?c.trim():c)),a.number&&(n=t.map(Gl)));let o,u=i[o=xn(e)]||i[o=xn(Ai(e))];!u&&s&&(u=i[o=xn(Ti(e))]),u&&ri(u,r,6,n);const h=i[o+"Once"];if(h){if(!r.emitted)r.emitted={};else if(r.emitted[o])return;r.emitted[o]=!0,ri(h,r,6,n)}}const Eh=new WeakMap;function Ku(r,e,t=!1){const i=t?Eh:e.emitsCache,n=i.get(r);if(n!==void 0)return n;const s=r.emits;let a={},o=!1;if(!qe(r)){const u=h=>{const c=Ku(h,e,!0);c&&(o=!0,Rt(a,c))};!t&&e.mixins.length&&e.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}return!s&&!o?(ct(r)&&i.set(r,null),null):(Pe(s)?s.forEach(u=>a[u]=null):Rt(a,s),ct(r)&&i.set(r,a),a)}function cn(r,e){return!r||!rn(e)?!1:(e=e.slice(2).replace(/Once$/,""),tt(r,e[0].toLowerCase()+e.slice(1))||tt(r,Ti(e))||tt(r,e))}function ka(r){const{type:e,vnode:t,proxy:i,withProxy:n,propsOptions:[s],slots:a,attrs:o,emit:u,render:h,renderCache:c,props:d,data:b,setupState:v,ctx:R,inheritAttrs:E}=r,p=Hr(r);let g,m;try{if(t.shapeFlag&4){const S=n||i,_=S;g=Qt(h.call(_,S,c,d,v,b,R)),m=o}else{const S=e;g=Qt(S.length>1?S(d,{attrs:o,slots:a,emit:u}):S(d,null)),m=e.props?o:xh(o)}}catch(S){gr.length=0,fn(S,r,1),g=Ot(Di)}let x=g;if(m&&E!==!1){const S=Object.keys(m),{shapeFlag:_}=x;S.length&&_&7&&(s&&S.some(Us)&&(m=Ah(m,s)),x=Ki(x,m,!1,!0))}return t.dirs&&(x=Ki(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(t.dirs):t.dirs),t.transition&&ea(x,t.transition),g=x,Hr(p),g}const xh=r=>{let e;for(const t in r)(t==="class"||t==="style"||rn(t))&&((e||(e={}))[t]=r[t]);return e},Ah=(r,e)=>{const t={};for(const i in r)(!Us(i)||!(i.slice(9)in e))&&(t[i]=r[i]);return t};function Ch(r,e,t){const{props:i,children:n,component:s}=r,{props:a,children:o,patchFlag:u}=e,h=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&u>=0){if(u&1024)return!0;if(u&16)return i?Ra(i,a,h):!!a;if(u&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const b=c[d];if(a[b]!==i[b]&&!cn(h,b))return!0}}}else return(n||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?Ra(i,a,h):!0:!!a;return!1}function Ra(r,e,t){const i=Object.keys(e);if(i.length!==Object.keys(r).length)return!0;for(let n=0;n<i.length;n++){const s=i[n];if(e[s]!==r[s]&&!cn(t,s))return!0}return!1}function Dh({vnode:r,parent:e},t){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===r&&(i.el=r.el),i===r)(r=e.vnode).el=t,e=e.parent;else break}}const Xu=r=>r.__isSuspense;function Sh(r,e){e&&e.pendingBranch?Pe(r)?e.effects.push(...r):e.effects.push(r):Lf(r)}const Yt=Symbol.for("v-fgt"),dn=Symbol.for("v-txt"),Di=Symbol.for("v-cmt"),Br=Symbol.for("v-stc"),gr=[];let Ft=null;function It(r=!1){gr.push(Ft=r?null:[])}function Th(){gr.pop(),Ft=gr[gr.length-1]||null}let _r=1;function Na(r,e=!1){_r+=r,r<0&&Ft&&e&&(Ft.hasOnce=!0)}function Ju(r){return r.dynamicChildren=_r>0?Ft||$i:null,Th(),_r>0&&Ft&&Ft.push(r),r}function Pt(r,e,t,i,n,s){return Ju(Ue(r,e,t,i,n,s,!0))}function kh(r,e,t,i,n){return Ju(Ot(r,e,t,i,n,!0))}function Qu(r){return r?r.__v_isVNode===!0:!1}function ir(r,e){return r.type===e.type&&r.key===e.key}const el=({key:r})=>r??null,Pr=({ref:r,ref_key:e,ref_for:t})=>(typeof r=="number"&&(r=""+r),r!=null?yt(r)||vt(r)||qe(r)?{i:ei,r,k:e,f:!!t}:r:null);function Ue(r,e=null,t=null,i=0,n=null,s=r===Yt?0:1,a=!1,o=!1){const u={__v_isVNode:!0,__v_skip:!0,type:r,props:e,key:e&&el(e),ref:e&&Pr(e),scopeId:Tu,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ei};return o?(ra(u,t),s&128&&r.normalize(u)):t&&(u.shapeFlag|=yt(t)?8:16),_r>0&&!a&&Ft&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&Ft.push(u),u}const Ot=Rh;function Rh(r,e=null,t=null,i=0,n=null,s=!1){if((!r||r===Kf)&&(r=Di),Qu(r)){const o=Ki(r,e,!0);return t&&ra(o,t),_r>0&&!s&&Ft&&(o.shapeFlag&6?Ft[Ft.indexOf(r)]=o:Ft.push(o)),o.patchFlag=-2,o}if(jh(r)&&(r=r.__vccOpts),e){e=Nh(e);let{class:o,style:u}=e;o&&!yt(o)&&(e.class=li(o)),ct(u)&&(Ks(u)&&!Pe(u)&&(u=Rt({},u)),e.style=on(u))}const a=yt(r)?1:Xu(r)?128:Ff(r)?64:ct(r)?4:qe(r)?2:0;return Ue(r,e,t,i,n,a,s,!0)}function Nh(r){return r?Ks(r)||Uu(r)?Rt({},r):r:null}function Ki(r,e,t=!1,i=!1){const{props:n,ref:s,patchFlag:a,children:o,transition:u}=r,h=e?Lh(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:r.type,props:h,key:h&&el(h),ref:e&&e.ref?t&&s?Pe(s)?s.concat(Pr(e)):[s,Pr(e)]:Pr(e):s,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:o,target:r.target,targetStart:r.targetStart,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:e&&r.type!==Yt?a===-1?16:a|16:a,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:u,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Ki(r.ssContent),ssFallback:r.ssFallback&&Ki(r.ssFallback),placeholder:r.placeholder,el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce};return u&&i&&ea(c,u.clone(c)),c}function Ih(r=" ",e=0){return Ot(dn,null,r,e)}function Oh(r,e){const t=Ot(Br,null,r);return t.staticCount=e,t}function Ia(r="",e=!1){return e?(It(),kh(Di,null,r)):Ot(Di,null,r)}function Qt(r){return r==null||typeof r=="boolean"?Ot(Di):Pe(r)?Ot(Yt,null,r.slice()):Qu(r)?bi(r):Ot(dn,null,String(r))}function bi(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:Ki(r)}function ra(r,e){let t=0;const{shapeFlag:i}=r;if(e==null)e=null;else if(Pe(e))t=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),ra(r,n()),n._c&&(n._d=!0));return}else{t=32;const n=e._;!n&&!Uu(e)?e._ctx=ei:n===3&&ei&&(ei.slots._===1?e._=1:(e._=2,r.patchFlag|=1024))}else qe(e)?(e={default:e,_ctx:ei},t=32):(e=String(e),i&64?(t=16,e=[Ih(e)]):t=8);r.children=e,r.shapeFlag|=t}function Lh(...r){const e={};for(let t=0;t<r.length;t++){const i=r[t];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=li([e.class,i.class]));else if(n==="style")e.style=on([e.style,i.style]);else if(rn(n)){const s=e[n],a=i[n];a&&s!==a&&!(Pe(s)&&s.includes(a))&&(e[n]=s?[].concat(s,a):a)}else n!==""&&(e[n]=i[n])}return e}function Xt(r,e,t,i=null){ri(r,e,7,[t,i])}const Bh=Fu();let Ph=0;function Fh(r,e,t){const i=r.type,n=(e?e.appContext:r.appContext)||Bh,s={uid:Ph++,vnode:r,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new su(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ju(i,n),emitsOptions:Ku(i,n),emit:null,emitted:null,propsDefaults:lt,inheritAttrs:i.inheritAttrs,ctx:lt,data:lt,props:lt,attrs:lt,slots:lt,refs:lt,setupState:lt,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=wh.bind(null,s),r.ce&&r.ce(s),s}let kt=null;const tl=()=>kt||ei;let Gr,Rs;{const r=an(),e=(t,i)=>{let n;return(n=r[t])||(n=r[t]=[]),n.push(i),s=>{n.length>1?n.forEach(a=>a(s)):n[0](s)}};Gr=e("__VUE_INSTANCE_SETTERS__",t=>kt=t),Rs=e("__VUE_SSR_SETTERS__",t=>wr=t)}const Cr=r=>{const e=kt;return Gr(r),r.scope.on(),()=>{r.scope.off(),Gr(e)}},Oa=()=>{kt&&kt.scope.off(),Gr(null)};function il(r){return r.vnode.shapeFlag&4}let wr=!1;function zh(r,e=!1,t=!1){e&&Rs(e);const{props:i,children:n}=r.vnode,s=il(r);oh(r,i,s,e),hh(r,n,t||e);const a=s?Mh(r,e):void 0;return e&&Rs(!1),a}function Mh(r,e){const t=r.type;r.accessCache=Object.create(null),r.proxy=new Proxy(r.ctx,Xf);const{setup:i}=t;if(i){hi();const n=r.setupContext=i.length>1?qh(r):null,s=Cr(r),a=Ar(i,r,0,[r.props,n]),o=Xo(a);if(ci(),s(),(o||r.sp)&&!hr(r)&&ku(r),o){if(a.then(Oa,Oa),e)return a.then(u=>{La(r,u)}).catch(u=>{fn(u,r,0)});r.asyncDep=a}else La(r,a)}else rl(r)}function La(r,e,t){qe(e)?r.type.__ssrInlineRender?r.ssrRender=e:r.render=e:ct(e)&&(r.setupState=xu(e)),rl(r)}function rl(r,e,t){const i=r.type;r.render||(r.render=i.render||ti);{const n=Cr(r);hi();try{Jf(r)}finally{ci(),n()}}}const Uh={get(r,e){return Dt(r,"get",""),r[e]}};function qh(r){const e=t=>{r.exposed=t||{}};return{attrs:new Proxy(r.attrs,Uh),slots:r.slots,emit:r.emit,expose:e}}function na(r){return r.exposed?r.exposeProxy||(r.exposeProxy=new Proxy(xu(Xs(r.exposed)),{get(e,t){if(t in e)return e[t];if(t in cr)return cr[t](r)},has(e,t){return t in e||t in cr}})):r.proxy}function jh(r){return qe(r)&&"__vccOpts"in r}const pn=(r,e)=>kf(r,e,wr),Wh="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ns;const Ba=typeof window<"u"&&window.trustedTypes;if(Ba)try{Ns=Ba.createPolicy("vue",{createHTML:r=>r})}catch{}const nl=Ns?r=>Ns.createHTML(r):r=>r,Hh="http://www.w3.org/2000/svg",Vh="http://www.w3.org/1998/Math/MathML",ui=typeof document<"u"?document:null,Pa=ui&&ui.createElement("template"),$h={insert:(r,e,t)=>{e.insertBefore(r,t||null)},remove:r=>{const e=r.parentNode;e&&e.removeChild(r)},createElement:(r,e,t,i)=>{const n=e==="svg"?ui.createElementNS(Hh,r):e==="mathml"?ui.createElementNS(Vh,r):t?ui.createElement(r,{is:t}):ui.createElement(r);return r==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:r=>ui.createTextNode(r),createComment:r=>ui.createComment(r),setText:(r,e)=>{r.nodeValue=e},setElementText:(r,e)=>{r.textContent=e},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>ui.querySelector(r),setScopeId(r,e){r.setAttribute(e,"")},insertStaticContent(r,e,t,i,n,s){const a=t?t.previousSibling:e.lastChild;if(n&&(n===s||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),t),!(n===s||!(n=n.nextSibling)););else{Pa.innerHTML=nl(i==="svg"?`<svg>${r}</svg>`:i==="mathml"?`<math>${r}</math>`:r);const o=Pa.content;if(i==="svg"||i==="mathml"){const u=o.firstChild;for(;u.firstChild;)o.appendChild(u.firstChild);o.removeChild(u)}e.insertBefore(o,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Gh=Symbol("_vtc");function Zh(r,e,t){const i=r[Gh];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?r.removeAttribute("class"):t?r.setAttribute("class",e):r.className=e}const Fa=Symbol("_vod"),Yh=Symbol("_vsh"),Kh=Symbol(""),Xh=/(?:^|;)\s*display\s*:/;function Jh(r,e,t){const i=r.style,n=yt(t);let s=!1;if(t&&!n){if(e)if(yt(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();t[o]==null&&Fr(i,o,"")}else for(const a in e)t[a]==null&&Fr(i,a,"");for(const a in t)a==="display"&&(s=!0),Fr(i,a,t[a])}else if(n){if(e!==t){const a=i[Kh];a&&(t+=";"+a),i.cssText=t,s=Xh.test(t)}}else e&&r.removeAttribute("style");Fa in r&&(r[Fa]=s?i.display:"",r[Yh]&&(i.display="none"))}const za=/\s*!important$/;function Fr(r,e,t){if(Pe(t))t.forEach(i=>Fr(r,e,i));else if(t==null&&(t=""),e.startsWith("--"))r.setProperty(e,t);else{const i=Qh(r,e);za.test(t)?r.setProperty(Ti(i),t.replace(za,""),"important"):r[i]=t}}const Ma=["Webkit","Moz","ms"],Nn={};function Qh(r,e){const t=Nn[e];if(t)return t;let i=Ai(e);if(i!=="filter"&&i in r)return Nn[e]=i;i=eu(i);for(let n=0;n<Ma.length;n++){const s=Ma[n]+i;if(s in r)return Nn[e]=s}return e}const Ua="http://www.w3.org/1999/xlink";function qa(r,e,t,i,n,s=Ql(e)){i&&e.startsWith("xlink:")?t==null?r.removeAttributeNS(Ua,e.slice(6,e.length)):r.setAttributeNS(Ua,e,t):t==null||s&&!iu(t)?r.removeAttribute(e):r.setAttribute(e,s?"":Si(t)?String(t):t)}function ja(r,e,t,i,n){if(e==="innerHTML"||e==="textContent"){t!=null&&(r[e]=e==="innerHTML"?nl(t):t);return}const s=r.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?r.getAttribute("value")||"":r.value,u=t==null?r.type==="checkbox"?"on":"":String(t);(o!==u||!("_value"in r))&&(r.value=u),t==null&&r.removeAttribute(e),r._value=t;return}let a=!1;if(t===""||t==null){const o=typeof r[e];o==="boolean"?t=iu(t):t==null&&o==="string"?(t="",a=!0):o==="number"&&(t=0,a=!0)}try{r[e]=t}catch{}a&&r.removeAttribute(n||e)}function ec(r,e,t,i){r.addEventListener(e,t,i)}function tc(r,e,t,i){r.removeEventListener(e,t,i)}const Wa=Symbol("_vei");function ic(r,e,t,i,n=null){const s=r[Wa]||(r[Wa]={}),a=s[e];if(i&&a)a.value=i;else{const[o,u]=rc(e);if(i){const h=s[e]=ac(i,n);ec(r,o,h,u)}else a&&(tc(r,o,a,u),s[e]=void 0)}}const Ha=/(?:Once|Passive|Capture)$/;function rc(r){let e;if(Ha.test(r)){e={};let i;for(;i=r.match(Ha);)r=r.slice(0,r.length-i[0].length),e[i[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Ti(r.slice(2)),e]}let In=0;const nc=Promise.resolve(),sc=()=>In||(nc.then(()=>In=0),In=Date.now());function ac(r,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;ri(oc(i,t.value),e,5,[i])};return t.value=r,t.attached=sc(),t}function oc(r,e){if(Pe(e)){const t=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{t.call(r),r._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const Va=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,uc=(r,e,t,i,n,s)=>{const a=n==="svg";e==="class"?Zh(r,i,a):e==="style"?Jh(r,t,i):rn(e)?Us(e)||ic(r,e,t,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):lc(r,e,i,a))?(ja(r,e,i),!r.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&qa(r,e,i,a,s,e!=="value")):r._isVueCE&&(/[A-Z]/.test(e)||!yt(i))?ja(r,Ai(e),i,s,e):(e==="true-value"?r._trueValue=i:e==="false-value"&&(r._falseValue=i),qa(r,e,i,a))};function lc(r,e,t,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in r&&Va(e)&&qe(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&r.tagName==="INPUT"||e==="type"&&r.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=r.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Va(e)&&yt(t)?!1:e in r}const fc=["ctrl","shift","alt","meta"],hc={stop:r=>r.stopPropagation(),prevent:r=>r.preventDefault(),self:r=>r.target!==r.currentTarget,ctrl:r=>!r.ctrlKey,shift:r=>!r.shiftKey,alt:r=>!r.altKey,meta:r=>!r.metaKey,left:r=>"button"in r&&r.button!==0,middle:r=>"button"in r&&r.button!==1,right:r=>"button"in r&&r.button!==2,exact:(r,e)=>fc.some(t=>r[`${t}Key`]&&!e.includes(t))},cc=(r,e)=>{const t=r._withMods||(r._withMods={}),i=e.join(".");return t[i]||(t[i]=((n,...s)=>{for(let a=0;a<e.length;a++){const o=hc[e[a]];if(o&&o(n,e))return}return r(n,...s)}))},dc={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},pc=(r,e)=>{const t=r._withKeys||(r._withKeys={}),i=e.join(".");return t[i]||(t[i]=(n=>{if(!("key"in n))return;const s=Ti(n.key);if(e.some(a=>a===s||dc[a]===s))return r(n)}))},gc=Rt({patchProp:uc},$h);let $a;function vc(){return $a||($a=dh(gc))}const mc=((...r)=>{const e=vc().createApp(...r),{mount:t}=e;return e.mount=i=>{const n=yc(i);if(!n)return;const s=e._component;!qe(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const a=t(n,!1,bc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),a},e});function bc(r){if(r instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&r instanceof MathMLElement)return"mathml"}function yc(r){return yt(r)?document.querySelector(r):r}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let sl;const gn=r=>sl=r,al=Symbol();function Is(r){return r&&typeof r=="object"&&Object.prototype.toString.call(r)==="[object Object]"&&typeof r.toJSON!="function"}var vr;(function(r){r.direct="direct",r.patchObject="patch object",r.patchFunction="patch function"})(vr||(vr={}));function _c(){const r=au(!0),e=r.run(()=>qt({}));let t=[],i=[];const n=Xs({install(s){gn(n),n._a=s,s.provide(al,n),s.config.globalProperties.$pinia=n,i.forEach(a=>t.push(a)),i=[]},use(s){return this._a?t.push(s):i.push(s),this},_p:t,_a:null,_e:r,_s:new Map,state:e});return n}const ol=()=>{};function Ga(r,e,t,i=ol){r.push(e);const n=()=>{const s=r.indexOf(e);s>-1&&(r.splice(s,1),i())};return!t&&ou()&&ef(n),n}function Fi(r,...e){r.slice().forEach(t=>{t(...e)})}const wc=r=>r(),Za=Symbol(),On=Symbol();function Os(r,e){r instanceof Map&&e instanceof Map?e.forEach((t,i)=>r.set(i,t)):r instanceof Set&&e instanceof Set&&e.forEach(r.add,r);for(const t in e){if(!e.hasOwnProperty(t))continue;const i=e[t],n=r[t];Is(n)&&Is(i)&&r.hasOwnProperty(t)&&!vt(i)&&!xi(i)?r[t]=Os(n,i):r[t]=i}return r}const Ec=Symbol();function xc(r){return!Is(r)||!Object.prototype.hasOwnProperty.call(r,Ec)}const{assign:vi}=Object;function Ac(r){return!!(vt(r)&&r.effect)}function Cc(r,e,t,i){const{state:n,actions:s,getters:a}=e,o=t.state.value[r];let u;function h(){o||(t.state.value[r]=n?n():{});const c=Cf(t.state.value[r]);return vi(c,s,Object.keys(a||{}).reduce((d,b)=>(d[b]=Xs(pn(()=>{gn(t);const v=t._s.get(r);return a[b].call(v,v)})),d),{}))}return u=ul(r,h,e,t,i,!0),u}function ul(r,e,t={},i,n,s){let a;const o=vi({actions:{}},t),u={deep:!0};let h,c,d=[],b=[],v;const R=i.state.value[r];!s&&!R&&(i.state.value[r]={}),qt({});let E;function p(I){let D;h=c=!1,typeof I=="function"?(I(i.state.value[r]),D={type:vr.patchFunction,storeId:r,events:v}):(Os(i.state.value[r],I),D={type:vr.patchObject,payload:I,storeId:r,events:v});const L=E=Symbol();Js().then(()=>{E===L&&(h=!0)}),c=!0,Fi(d,D,i.state.value[r])}const g=s?function(){const{state:D}=t,L=D?D():{};this.$patch($=>{vi($,L)})}:ol;function m(){a.stop(),d=[],b=[],i._s.delete(r)}const x=(I,D="")=>{if(Za in I)return I[On]=D,I;const L=function(){gn(i);const $=Array.from(arguments),H=[],Y=[];function ue(Q){H.push(Q)}function oe(Q){Y.push(Q)}Fi(b,{args:$,name:L[On],store:_,after:ue,onError:oe});let pe;try{pe=I.apply(this&&this.$id===r?this:_,$)}catch(Q){throw Fi(Y,Q),Q}return pe instanceof Promise?pe.then(Q=>(Fi(H,Q),Q)).catch(Q=>(Fi(Y,Q),Promise.reject(Q))):(Fi(H,pe),pe)};return L[Za]=!0,L[On]=D,L},S={_p:i,$id:r,$onAction:Ga.bind(null,b),$patch:p,$reset:g,$subscribe(I,D={}){const L=Ga(d,I,D.detached,()=>$()),$=a.run(()=>pr(()=>i.state.value[r],H=>{(D.flush==="sync"?c:h)&&I({storeId:r,type:vr.direct,events:v},H)},vi({},u,D)));return L},$dispose:m},_=ln(S);i._s.set(r,_);const O=(i._a&&i._a.runWithContext||wc)(()=>i._e.run(()=>(a=au()).run(()=>e({action:x}))));for(const I in O){const D=O[I];if(vt(D)&&!Ac(D)||xi(D))s||(R&&xc(D)&&(vt(D)?D.value=R[I]:Os(D,R[I])),i.state.value[r][I]=D);else if(typeof D=="function"){const L=x(D,I);O[I]=L,o.actions[I]=D}}return vi(_,O),vi(Qe(_),O),Object.defineProperty(_,"$state",{get:()=>i.state.value[r],set:I=>{p(D=>{vi(D,I)})}}),i._p.forEach(I=>{vi(_,a.run(()=>I({store:_,app:i._a,pinia:i,options:o})))}),R&&s&&t.hydrate&&t.hydrate(_.$state,R),h=!0,c=!0,_}/*! #__NO_SIDE_EFFECTS__ */function Dc(r,e,t){let i;const n=typeof e=="function";i=n?t:e;function s(a,o){const u=ah();return a=a||(u?dr(al,null):null),a&&gn(a),a=sl,a._s.has(r)||(n?ul(r,e,i,a):Cc(r,i,a)),a._s.get(r)}return s.$id=r,s}var jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ji(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ir={exports:{}},Ln={exports:{}},Bn,Ya;function ll(){if(Ya)return Bn;Ya=1;var r=void 0;return Bn=function(e){return e!==r&&e!==null},Bn}var Pn,Ka;function Sc(){if(Ka)return Pn;Ka=1;var r=ll(),e={object:!0,function:!0,undefined:!0};return Pn=function(t){return r(t)?hasOwnProperty.call(e,typeof t):!1},Pn}var Fn,Xa;function Tc(){if(Xa)return Fn;Xa=1;var r=Sc();return Fn=function(e){if(!r(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch{return!1}},Fn}var zn,Ja;function kc(){if(Ja)return zn;Ja=1;var r=Tc();return zn=function(e){if(typeof e!="function"||!hasOwnProperty.call(e,"length"))return!1;try{if(typeof e.length!="number"||typeof e.call!="function"||typeof e.apply!="function")return!1}catch{return!1}return!r(e)},zn}var Mn,Qa;function Rc(){if(Qa)return Mn;Qa=1;var r=kc(),e=/^\s*class[\s{/}]/,t=Function.prototype.toString;return Mn=function(i){return!(!r(i)||e.test(t.call(i)))},Mn}var Un,eo;function Nc(){return eo||(eo=1,Un=function(){var r=Object.assign,e;return typeof r!="function"?!1:(e={foo:"raz"},r(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}),Un}var qn,to;function Ic(){return to||(to=1,qn=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),qn}var jn,io;function Oc(){return io||(io=1,jn=function(){}),jn}var Wn,ro;function sa(){if(ro)return Wn;ro=1;var r=Oc()();return Wn=function(e){return e!==r&&e!==null},Wn}var Hn,no;function Lc(){if(no)return Hn;no=1;var r=sa(),e=Object.keys;return Hn=function(t){return e(r(t)?Object(t):t)},Hn}var Vn,so;function Bc(){return so||(so=1,Vn=Ic()()?Object.keys:Lc()),Vn}var $n,ao;function Pc(){if(ao)return $n;ao=1;var r=sa();return $n=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e},$n}var Gn,oo;function Fc(){if(oo)return Gn;oo=1;var r=Bc(),e=Pc(),t=Math.max;return Gn=function(i,n){var s,a,o=t(arguments.length,2),u;for(i=Object(e(i)),u=function(h){try{i[h]=n[h]}catch(c){s||(s=c)}},a=1;a<o;++a)n=arguments[a],r(n).forEach(u);if(s!==void 0)throw s;return i},Gn}var Zn,uo;function zc(){return uo||(uo=1,Zn=Nc()()?Object.assign:Fc()),Zn}var Yn,lo;function Mc(){if(lo)return Yn;lo=1;var r=sa(),e=Array.prototype.forEach,t=Object.create,i=function(n,s){var a;for(a in n)s[a]=n[a]};return Yn=function(n){var s=t(null);return e.call(arguments,function(a){r(a)&&i(Object(a),s)}),s},Yn}var Kn,fo;function Uc(){if(fo)return Kn;fo=1;var r="razdwatrzy";return Kn=function(){return typeof r.contains!="function"?!1:r.contains("dwa")===!0&&r.contains("foo")===!1},Kn}var Xn,ho;function qc(){if(ho)return Xn;ho=1;var r=String.prototype.indexOf;return Xn=function(e){return r.call(this,e,arguments[1])>-1},Xn}var Jn,co;function jc(){return co||(co=1,Jn=Uc()()?String.prototype.contains:qc()),Jn}var po;function Wc(){if(po)return Ln.exports;po=1;var r=ll(),e=Rc(),t=zc(),i=Mc(),n=jc(),s=Ln.exports=function(a,o){var u,h,c,d,b;return arguments.length<2||typeof a!="string"?(d=o,o=a,a=null):d=arguments[2],r(a)?(u=n.call(a,"c"),h=n.call(a,"e"),c=n.call(a,"w")):(u=c=!0,h=!1),b={value:o,configurable:u,enumerable:h,writable:c},d?t(i(d),b):b};return s.gs=function(a,o,u){var h,c,d,b;return typeof a!="string"?(d=u,u=o,o=a,a=null):d=arguments[3],r(o)?e(o)?r(u)?e(u)||(d=u,u=void 0):u=void 0:(d=o,o=u=void 0):o=void 0,r(a)?(h=n.call(a,"c"),c=n.call(a,"e")):(h=!0,c=!1),b={get:o,set:u,configurable:h,enumerable:c},d?t(i(d),b):b},Ln.exports}var Qn,go;function Hc(){return go||(go=1,Qn=function(r){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}),Qn}var vo;function Vc(){return vo||(vo=1,(function(r,e){var t=Wc(),i=Hc(),n=Function.prototype.apply,s=Function.prototype.call,a=Object.create,o=Object.defineProperty,u=Object.defineProperties,h=Object.prototype.hasOwnProperty,c={configurable:!0,enumerable:!1,writable:!0},d,b,v,R,E,p,g;d=function(m,x){var S;return i(x),h.call(this,"__ee__")?S=this.__ee__:(S=c.value=a(null),o(this,"__ee__",c),c.value=null),S[m]?typeof S[m]=="object"?S[m].push(x):S[m]=[S[m],x]:S[m]=x,this},b=function(m,x){var S,_;return i(x),_=this,d.call(this,m,S=function(){v.call(_,m,S),n.call(x,this,arguments)}),S.__eeOnceListener__=x,this},v=function(m,x){var S,_,T,O;if(i(x),!h.call(this,"__ee__"))return this;if(S=this.__ee__,!S[m])return this;if(_=S[m],typeof _=="object")for(O=0;T=_[O];++O)(T===x||T.__eeOnceListener__===x)&&(_.length===2?S[m]=_[O?0:1]:_.splice(O,1));else(_===x||_.__eeOnceListener__===x)&&delete S[m];return this},R=function(m){var x,S,_,T,O;if(h.call(this,"__ee__")&&(T=this.__ee__[m],!!T))if(typeof T=="object"){for(S=arguments.length,O=new Array(S-1),x=1;x<S;++x)O[x-1]=arguments[x];for(T=T.slice(),x=0;_=T[x];++x)n.call(_,this,O)}else switch(arguments.length){case 1:s.call(T,this);break;case 2:s.call(T,this,arguments[1]);break;case 3:s.call(T,this,arguments[1],arguments[2]);break;default:for(S=arguments.length,O=new Array(S-1),x=1;x<S;++x)O[x-1]=arguments[x];n.call(T,this,O)}},E={on:d,once:b,off:v,emit:R},p={on:t(d),once:t(b),off:t(v),emit:t(R)},g=u({},p),r.exports=e=function(m){return m==null?a(g):u(Object(m),p)},e.methods=E})(Ir,Ir.exports)),Ir.exports}var $c=Vc();const ni=Ji($c);var rr={},oi={},zi={},mo;function vn(){if(mo)return zi;mo=1;function r(n,s,a){if(a===void 0&&(a=Array.prototype),n&&typeof a.find=="function")return a.find.call(n,s);for(var o=0;o<n.length;o++)if(Object.prototype.hasOwnProperty.call(n,o)){var u=n[o];if(s.call(void 0,u,o,n))return u}}function e(n,s){return s===void 0&&(s=Object),s&&typeof s.freeze=="function"?s.freeze(n):n}var t=e({HTML:"text/html",isHTML:function(n){return n===t.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(n){return n===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return zi.find=r,zi.freeze=e,zi.MIME_TYPE=t,zi.NAMESPACE=i,zi}var bo;function fl(){if(bo)return oi;bo=1;var r=vn(),e=r.find,t=r.NAMESPACE;function i(f){return f!==""}function n(f){return f?f.split(/[\t\n\f\r ]+/).filter(i):[]}function s(f,y){return f.hasOwnProperty(y)||(f[y]=!0),f}function a(f){if(!f)return[];var y=n(f);return Object.keys(y.reduce(s,{}))}function o(f){return function(y){return f&&f.indexOf(y)!==-1}}function u(f,y){for(var N in f)Object.prototype.hasOwnProperty.call(f,N)&&(y[N]=f[N])}function h(f,y){var N=f.prototype;if(!(N instanceof y)){let P=function(){};var l=P;P.prototype=y.prototype,P=new P,u(N,P),f.prototype=N=P}N.constructor!=f&&(typeof f!="function"&&console.error("unknown Class:"+f),N.constructor=f)}var c={},d=c.ELEMENT_NODE=1,b=c.ATTRIBUTE_NODE=2,v=c.TEXT_NODE=3,R=c.CDATA_SECTION_NODE=4,E=c.ENTITY_REFERENCE_NODE=5,p=c.ENTITY_NODE=6,g=c.PROCESSING_INSTRUCTION_NODE=7,m=c.COMMENT_NODE=8,x=c.DOCUMENT_NODE=9,S=c.DOCUMENT_TYPE_NODE=10,_=c.DOCUMENT_FRAGMENT_NODE=11,T=c.NOTATION_NODE=12,O={},I={};O.INDEX_SIZE_ERR=(I[1]="Index size error",1),O.DOMSTRING_SIZE_ERR=(I[2]="DOMString size error",2);var D=O.HIERARCHY_REQUEST_ERR=(I[3]="Hierarchy request error",3);O.WRONG_DOCUMENT_ERR=(I[4]="Wrong document",4),O.INVALID_CHARACTER_ERR=(I[5]="Invalid character",5),O.NO_DATA_ALLOWED_ERR=(I[6]="No data allowed",6),O.NO_MODIFICATION_ALLOWED_ERR=(I[7]="No modification allowed",7);var L=O.NOT_FOUND_ERR=(I[8]="Not found",8);O.NOT_SUPPORTED_ERR=(I[9]="Not supported",9);var $=O.INUSE_ATTRIBUTE_ERR=(I[10]="Attribute in use",10);O.INVALID_STATE_ERR=(I[11]="Invalid state",11),O.SYNTAX_ERR=(I[12]="Syntax error",12),O.INVALID_MODIFICATION_ERR=(I[13]="Invalid modification",13),O.NAMESPACE_ERR=(I[14]="Invalid namespace",14),O.INVALID_ACCESS_ERR=(I[15]="Invalid access",15);function H(f,y){if(y instanceof Error)var N=y;else N=this,Error.call(this,I[f]),this.message=I[f],Error.captureStackTrace&&Error.captureStackTrace(this,H);return N.code=f,y&&(this.message=this.message+": "+y),N}H.prototype=Error.prototype,u(O,H);function Y(){}Y.prototype={length:0,item:function(f){return f>=0&&f<this.length?this[f]:null},toString:function(f,y){for(var N=[],l=0;l<this.length;l++)se(this[l],N,f,y);return N.join("")},filter:function(f){return Array.prototype.filter.call(this,f)},indexOf:function(f){return Array.prototype.indexOf.call(this,f)}};function ue(f,y){this._node=f,this._refresh=y,oe(this)}function oe(f){var y=f._node._inc||f._node.ownerDocument._inc;if(f._inc!==y){var N=f._refresh(f._node);if(U(f,"length",N.length),!f.$$length||N.length<f.$$length)for(var l=N.length;l in f;l++)Object.prototype.hasOwnProperty.call(f,l)&&delete f[l];u(N,f),f._inc=y}}ue.prototype.item=function(f){return oe(this),this[f]||null},h(ue,Y);function pe(){}function Q(f,y){for(var N=f.length;N--;)if(f[N]===y)return N}function ee(f,y,N,l){if(l?y[Q(y,l)]=N:y[y.length++]=N,f){N.ownerElement=f;var P=f.ownerDocument;P&&(l&&Je(P,f,l),je(P,f,N))}}function be(f,y,N){var l=Q(y,N);if(l>=0){for(var P=y.length-1;l<P;)y[l]=y[++l];if(y.length=P,f){var j=f.ownerDocument;j&&(Je(j,f,N),N.ownerElement=null)}}else throw new H(L,new Error(f.tagName+"@"+N))}pe.prototype={length:0,item:Y.prototype.item,getNamedItem:function(f){for(var y=this.length;y--;){var N=this[y];if(N.nodeName==f)return N}},setNamedItem:function(f){var y=f.ownerElement;if(y&&y!=this._ownerElement)throw new H($);var N=this.getNamedItem(f.nodeName);return ee(this._ownerElement,this,f,N),N},setNamedItemNS:function(f){var y=f.ownerElement,N;if(y&&y!=this._ownerElement)throw new H($);return N=this.getNamedItemNS(f.namespaceURI,f.localName),ee(this._ownerElement,this,f,N),N},removeNamedItem:function(f){var y=this.getNamedItem(f);return be(this._ownerElement,this,y),y},removeNamedItemNS:function(f,y){var N=this.getNamedItemNS(f,y);return be(this._ownerElement,this,N),N},getNamedItemNS:function(f,y){for(var N=this.length;N--;){var l=this[N];if(l.localName==y&&l.namespaceURI==f)return l}return null}};function Ne(){}Ne.prototype={hasFeature:function(f,y){return!0},createDocument:function(f,y,N){var l=new Re;if(l.implementation=this,l.childNodes=new Y,l.doctype=N||null,N&&l.appendChild(N),y){var P=l.createElementNS(f,y);l.appendChild(P)}return l},createDocumentType:function(f,y,N){var l=new Oe;return l.name=f,l.nodeName=f,l.publicId=y||"",l.systemId=N||"",l}};function ge(){}ge.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(f,y){return le(this,f,y)},replaceChild:function(f,y){le(this,f,y,he),y&&this.removeChild(y)},removeChild:function(f){return ke(this,f)},appendChild:function(f){return this.insertBefore(f,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(f){return Ce(this.ownerDocument||this,this,f)},normalize:function(){for(var f=this.firstChild;f;){var y=f.nextSibling;y&&y.nodeType==v&&f.nodeType==v?(this.removeChild(y),f.appendData(y.data)):(f.normalize(),f=y)}},isSupported:function(f,y){return this.ownerDocument.implementation.hasFeature(f,y)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(f){for(var y=this;y;){var N=y._nsMap;if(N){for(var l in N)if(Object.prototype.hasOwnProperty.call(N,l)&&N[l]===f)return l}y=y.nodeType==b?y.ownerDocument:y.parentNode}return null},lookupNamespaceURI:function(f){for(var y=this;y;){var N=y._nsMap;if(N&&f in N&&Object.prototype.hasOwnProperty.call(N,f))return N[f];y=y.nodeType==b?y.ownerDocument:y.parentNode}return null},isDefaultNamespace:function(f){var y=this.lookupPrefix(f);return y==null}};function we(f){return f=="<"&&"&lt;"||f==">"&&"&gt;"||f=="&"&&"&amp;"||f=='"'&&"&quot;"||"&#"+f.charCodeAt()+";"}u(c,ge),u(c,ge.prototype);function ze(f,y){if(y(f))return!0;if(f=f.firstChild)do if(ze(f,y))return!0;while(f=f.nextSibling)}function Re(){this.ownerDocument=this}function je(f,y,N){f&&f._inc++;var l=N.namespaceURI;l===t.XMLNS&&(y._nsMap[N.prefix?N.localName:""]=N.value)}function Je(f,y,N,l){f&&f._inc++;var P=N.namespaceURI;P===t.XMLNS&&delete y._nsMap[N.prefix?N.localName:""]}function He(f,y,N){if(f&&f._inc){f._inc++;var l=y.childNodes;if(N)l[l.length++]=N;else{for(var P=y.firstChild,j=0;P;)l[j++]=P,P=P.nextSibling;l.length=j,delete l[l.length]}}}function ke(f,y){var N=y.previousSibling,l=y.nextSibling;return N?N.nextSibling=l:f.firstChild=l,l?l.previousSibling=N:f.lastChild=N,y.parentNode=null,y.previousSibling=null,y.nextSibling=null,He(f.ownerDocument,f),y}function Ye(f){return f&&(f.nodeType===ge.DOCUMENT_NODE||f.nodeType===ge.DOCUMENT_FRAGMENT_NODE||f.nodeType===ge.ELEMENT_NODE)}function Ke(f){return f&&(B(f)||z(f)||Be(f)||f.nodeType===ge.DOCUMENT_FRAGMENT_NODE||f.nodeType===ge.COMMENT_NODE||f.nodeType===ge.PROCESSING_INSTRUCTION_NODE)}function Be(f){return f&&f.nodeType===ge.DOCUMENT_TYPE_NODE}function B(f){return f&&f.nodeType===ge.ELEMENT_NODE}function z(f){return f&&f.nodeType===ge.TEXT_NODE}function G(f,y){var N=f.childNodes||[];if(e(N,B)||Be(y))return!1;var l=e(N,Be);return!(y&&l&&N.indexOf(l)>N.indexOf(y))}function ie(f,y){var N=f.childNodes||[];function l(j){return B(j)&&j!==y}if(e(N,l))return!1;var P=e(N,Be);return!(y&&P&&N.indexOf(P)>N.indexOf(y))}function J(f,y,N){if(!Ye(f))throw new H(D,"Unexpected parent node type "+f.nodeType);if(N&&N.parentNode!==f)throw new H(L,"child not in parent");if(!Ke(y)||Be(y)&&f.nodeType!==ge.DOCUMENT_NODE)throw new H(D,"Unexpected node type "+y.nodeType+" for parent node type "+f.nodeType)}function X(f,y,N){var l=f.childNodes||[],P=y.childNodes||[];if(y.nodeType===ge.DOCUMENT_FRAGMENT_NODE){var j=P.filter(B);if(j.length>1||e(P,z))throw new H(D,"More than one element or text in fragment");if(j.length===1&&!G(f,N))throw new H(D,"Element in fragment can not be inserted before doctype")}if(B(y)&&!G(f,N))throw new H(D,"Only one element can be added and only after doctype");if(Be(y)){if(e(l,Be))throw new H(D,"Only one doctype is allowed");var w=e(l,B);if(N&&l.indexOf(w)<l.indexOf(N))throw new H(D,"Doctype can only be inserted before an element");if(!N&&w)throw new H(D,"Doctype can not be appended since element is present")}}function he(f,y,N){var l=f.childNodes||[],P=y.childNodes||[];if(y.nodeType===ge.DOCUMENT_FRAGMENT_NODE){var j=P.filter(B);if(j.length>1||e(P,z))throw new H(D,"More than one element or text in fragment");if(j.length===1&&!ie(f,N))throw new H(D,"Element in fragment can not be inserted before doctype")}if(B(y)&&!ie(f,N))throw new H(D,"Only one element can be added and only after doctype");if(Be(y)){let Z=function(De){return Be(De)&&De!==N};var F=Z;if(e(l,Z))throw new H(D,"Only one doctype is allowed");var w=e(l,B);if(N&&l.indexOf(w)<l.indexOf(N))throw new H(D,"Doctype can only be inserted before an element")}}function le(f,y,N,l){J(f,y,N),f.nodeType===ge.DOCUMENT_NODE&&(l||X)(f,y,N);var P=y.parentNode;if(P&&P.removeChild(y),y.nodeType===_){var j=y.firstChild;if(j==null)return y;var w=y.lastChild}else j=w=y;var F=N?N.previousSibling:f.lastChild;j.previousSibling=F,w.nextSibling=N,F?F.nextSibling=j:f.firstChild=j,N==null?f.lastChild=w:N.previousSibling=w;do j.parentNode=f;while(j!==w&&(j=j.nextSibling));return He(f.ownerDocument||f,f),y.nodeType==_&&(y.firstChild=y.lastChild=null),y}function ae(f,y){return y.parentNode&&y.parentNode.removeChild(y),y.parentNode=f,y.previousSibling=f.lastChild,y.nextSibling=null,y.previousSibling?y.previousSibling.nextSibling=y:f.firstChild=y,f.lastChild=y,He(f.ownerDocument,f,y),y}Re.prototype={nodeName:"#document",nodeType:x,doctype:null,documentElement:null,_inc:1,insertBefore:function(f,y){if(f.nodeType==_){for(var N=f.firstChild;N;){var l=N.nextSibling;this.insertBefore(N,y),N=l}return f}return le(this,f,y),f.ownerDocument=this,this.documentElement===null&&f.nodeType===d&&(this.documentElement=f),f},removeChild:function(f){return this.documentElement==f&&(this.documentElement=null),ke(this,f)},replaceChild:function(f,y){le(this,f,y,he),f.ownerDocument=this,y&&this.removeChild(y),B(f)&&(this.documentElement=f)},importNode:function(f,y){return fe(this,f,y)},getElementById:function(f){var y=null;return ze(this.documentElement,function(N){if(N.nodeType==d&&N.getAttribute("id")==f)return y=N,!0}),y},getElementsByClassName:function(f){var y=a(f);return new ue(this,function(N){var l=[];return y.length>0&&ze(N.documentElement,function(P){if(P!==N&&P.nodeType===d){var j=P.getAttribute("class");if(j){var w=f===j;if(!w){var F=a(j);w=y.every(o(F))}w&&l.push(P)}}}),l})},createElement:function(f){var y=new K;y.ownerDocument=this,y.nodeName=f,y.tagName=f,y.localName=f,y.childNodes=new Y;var N=y.attributes=new pe;return N._ownerElement=y,y},createDocumentFragment:function(){var f=new ft;return f.ownerDocument=this,f.childNodes=new Y,f},createTextNode:function(f){var y=new Ae;return y.ownerDocument=this,y.appendData(f),y},createComment:function(f){var y=new Te;return y.ownerDocument=this,y.appendData(f),y},createCDATASection:function(f){var y=new Ie;return y.ownerDocument=this,y.appendData(f),y},createProcessingInstruction:function(f,y){var N=new ot;return N.ownerDocument=this,N.tagName=N.nodeName=N.target=f,N.nodeValue=N.data=y,N},createAttribute:function(f){var y=new de;return y.ownerDocument=this,y.name=f,y.nodeName=f,y.localName=f,y.specified=!0,y},createEntityReference:function(f){var y=new Xe;return y.ownerDocument=this,y.nodeName=f,y},createElementNS:function(f,y){var N=new K,l=y.split(":"),P=N.attributes=new pe;return N.childNodes=new Y,N.ownerDocument=this,N.nodeName=y,N.tagName=y,N.namespaceURI=f,l.length==2?(N.prefix=l[0],N.localName=l[1]):N.localName=y,P._ownerElement=N,N},createAttributeNS:function(f,y){var N=new de,l=y.split(":");return N.ownerDocument=this,N.nodeName=y,N.name=y,N.namespaceURI=f,N.specified=!0,l.length==2?(N.prefix=l[0],N.localName=l[1]):N.localName=y,N}},h(Re,ge);function K(){this._nsMap={}}K.prototype={nodeType:d,hasAttribute:function(f){return this.getAttributeNode(f)!=null},getAttribute:function(f){var y=this.getAttributeNode(f);return y&&y.value||""},getAttributeNode:function(f){return this.attributes.getNamedItem(f)},setAttribute:function(f,y){var N=this.ownerDocument.createAttribute(f);N.value=N.nodeValue=""+y,this.setAttributeNode(N)},removeAttribute:function(f){var y=this.getAttributeNode(f);y&&this.removeAttributeNode(y)},appendChild:function(f){return f.nodeType===_?this.insertBefore(f,null):ae(this,f)},setAttributeNode:function(f){return this.attributes.setNamedItem(f)},setAttributeNodeNS:function(f){return this.attributes.setNamedItemNS(f)},removeAttributeNode:function(f){return this.attributes.removeNamedItem(f.nodeName)},removeAttributeNS:function(f,y){var N=this.getAttributeNodeNS(f,y);N&&this.removeAttributeNode(N)},hasAttributeNS:function(f,y){return this.getAttributeNodeNS(f,y)!=null},getAttributeNS:function(f,y){var N=this.getAttributeNodeNS(f,y);return N&&N.value||""},setAttributeNS:function(f,y,N){var l=this.ownerDocument.createAttributeNS(f,y);l.value=l.nodeValue=""+N,this.setAttributeNode(l)},getAttributeNodeNS:function(f,y){return this.attributes.getNamedItemNS(f,y)},getElementsByTagName:function(f){return new ue(this,function(y){var N=[];return ze(y,function(l){l!==y&&l.nodeType==d&&(f==="*"||l.tagName==f)&&N.push(l)}),N})},getElementsByTagNameNS:function(f,y){return new ue(this,function(N){var l=[];return ze(N,function(P){P!==N&&P.nodeType===d&&(f==="*"||P.namespaceURI===f)&&(y==="*"||P.localName==y)&&l.push(P)}),l})}},Re.prototype.getElementsByTagName=K.prototype.getElementsByTagName,Re.prototype.getElementsByTagNameNS=K.prototype.getElementsByTagNameNS,h(K,ge);function de(){}de.prototype.nodeType=b,h(de,ge);function re(){}re.prototype={data:"",substringData:function(f,y){return this.data.substring(f,f+y)},appendData:function(f){f=this.data+f,this.nodeValue=this.data=f,this.length=f.length},insertData:function(f,y){this.replaceData(f,0,y)},appendChild:function(f){throw new Error(I[D])},deleteData:function(f,y){this.replaceData(f,y,"")},replaceData:function(f,y,N){var l=this.data.substring(0,f),P=this.data.substring(f+y);N=l+N+P,this.nodeValue=this.data=N,this.length=N.length}},h(re,ge);function Ae(){}Ae.prototype={nodeName:"#text",nodeType:v,splitText:function(f){var y=this.data,N=y.substring(f);y=y.substring(0,f),this.data=this.nodeValue=y,this.length=y.length;var l=this.ownerDocument.createTextNode(N);return this.parentNode&&this.parentNode.insertBefore(l,this.nextSibling),l}},h(Ae,re);function Te(){}Te.prototype={nodeName:"#comment",nodeType:m},h(Te,re);function Ie(){}Ie.prototype={nodeName:"#cdata-section",nodeType:R},h(Ie,re);function Oe(){}Oe.prototype.nodeType=S,h(Oe,ge);function Me(){}Me.prototype.nodeType=T,h(Me,ge);function it(){}it.prototype.nodeType=p,h(it,ge);function Xe(){}Xe.prototype.nodeType=E,h(Xe,ge);function ft(){}ft.prototype.nodeName="#document-fragment",ft.prototype.nodeType=_,h(ft,ge);function ot(){}ot.prototype.nodeType=g,h(ot,ge);function nt(){}nt.prototype.serializeToString=function(f,y,N){return mt.call(f,y,N)},ge.prototype.toString=mt;function mt(f,y){var N=[],l=this.nodeType==9&&this.documentElement||this,P=l.prefix,j=l.namespaceURI;if(j&&P==null){var P=l.lookupPrefix(j);if(P==null)var w=[{namespace:j,prefix:null}]}return se(this,N,f,y,w),N.join("")}function ht(f,y,N){var l=f.prefix||"",P=f.namespaceURI;if(!P||l==="xml"&&P===t.XML||P===t.XMLNS)return!1;for(var j=N.length;j--;){var w=N[j];if(w.prefix===l)return w.namespace!==P}return!0}function C(f,y,N){f.push(" ",y,'="',N.replace(/[<&"]/g,we),'"')}function se(f,y,N,l,P){if(P||(P=[]),l)if(f=l(f),f){if(typeof f=="string"){y.push(f);return}}else return;switch(f.nodeType){case d:var j=f.attributes,w=j.length,$e=f.firstChild,F=f.tagName;N=t.isHTML(f.namespaceURI)||N;var Z=F;if(!N&&!f.prefix&&f.namespaceURI){for(var De,ye=0;ye<j.length;ye++)if(j.item(ye).name==="xmlns"){De=j.item(ye).value;break}if(!De)for(var Ee=P.length-1;Ee>=0;Ee--){var Le=P[Ee];if(Le.prefix===""&&Le.namespace===f.namespaceURI){De=Le.namespace;break}}if(De!==f.namespaceURI)for(var Ee=P.length-1;Ee>=0;Ee--){var Le=P[Ee];if(Le.namespace===f.namespaceURI){Le.prefix&&(Z=Le.prefix+":"+F);break}}}y.push("<",Z);for(var _t=0;_t<w;_t++){var Ve=j.item(_t);Ve.prefix=="xmlns"?P.push({prefix:Ve.localName,namespace:Ve.value}):Ve.nodeName=="xmlns"&&P.push({prefix:"",namespace:Ve.value})}for(var _t=0;_t<w;_t++){var Ve=j.item(_t);if(ht(Ve,N,P)){var Fe=Ve.prefix||"",st=Ve.namespaceURI;C(y,Fe?"xmlns:"+Fe:"xmlns",st),P.push({prefix:Fe,namespace:st})}se(Ve,y,N,l,P)}if(F===Z&&ht(f,N,P)){var Fe=f.prefix||"",st=f.namespaceURI;C(y,Fe?"xmlns:"+Fe:"xmlns",st),P.push({prefix:Fe,namespace:st})}if($e||N&&!/^(?:meta|link|img|br|hr|input)$/i.test(F)){if(y.push(">"),N&&/^script$/i.test(F))for(;$e;)$e.data?y.push($e.data):se($e,y,N,l,P.slice()),$e=$e.nextSibling;else for(;$e;)se($e,y,N,l,P.slice()),$e=$e.nextSibling;y.push("</",Z,">")}else y.push("/>");return;case x:case _:for(var $e=f.firstChild;$e;)se($e,y,N,l,P.slice()),$e=$e.nextSibling;return;case b:return C(y,f.name,f.value);case v:return y.push(f.data.replace(/[<&]/g,we).replace(/]]>/g,"]]&gt;"));case R:return y.push("<![CDATA[",f.data,"]]>");case m:return y.push("<!--",f.data,"-->");case S:var wt=f.publicId,Lt=f.systemId;if(y.push("<!DOCTYPE ",f.name),wt)y.push(" PUBLIC ",wt),Lt&&Lt!="."&&y.push(" ",Lt),y.push(">");else if(Lt&&Lt!=".")y.push(" SYSTEM ",Lt,">");else{var si=f.internalSubset;si&&y.push(" [",si,"]"),y.push(">")}return;case g:return y.push("<?",f.target," ",f.data,"?>");case E:return y.push("&",f.nodeName,";");default:y.push("??",f.nodeName)}}function fe(f,y,N){var l;switch(y.nodeType){case d:l=y.cloneNode(!1),l.ownerDocument=f;case _:break;case b:N=!0;break}if(l||(l=y.cloneNode(!1)),l.ownerDocument=f,l.parentNode=null,N)for(var P=y.firstChild;P;)l.appendChild(fe(f,P,N)),P=P.nextSibling;return l}function Ce(f,y,N){var l=new y.constructor;for(var P in y)if(Object.prototype.hasOwnProperty.call(y,P)){var j=y[P];typeof j!="object"&&j!=l[P]&&(l[P]=j)}switch(y.childNodes&&(l.childNodes=new Y),l.ownerDocument=f,l.nodeType){case d:var w=y.attributes,F=l.attributes=new pe,Z=w.length;F._ownerElement=l;for(var De=0;De<Z;De++)l.setAttributeNode(Ce(f,w.item(De),!0));break;case b:N=!0}if(N)for(var ye=y.firstChild;ye;)l.appendChild(Ce(f,ye,N)),ye=ye.nextSibling;return l}function U(f,y,N){f[y]=N}try{if(Object.defineProperty){let f=function(y){switch(y.nodeType){case d:case _:var N=[];for(y=y.firstChild;y;)y.nodeType!==7&&y.nodeType!==8&&N.push(f(y)),y=y.nextSibling;return N.join("");default:return y.nodeValue}};var te=f;Object.defineProperty(ue.prototype,"length",{get:function(){return oe(this),this.$$length}}),Object.defineProperty(ge.prototype,"textContent",{get:function(){return f(this)},set:function(y){switch(this.nodeType){case d:case _:for(;this.firstChild;)this.removeChild(this.firstChild);(y||String(y))&&this.appendChild(this.ownerDocument.createTextNode(y));break;default:this.data=y,this.value=y,this.nodeValue=y}}}),U=function(y,N,l){y["$$"+N]=l}}}catch{}return oi.DocumentType=Oe,oi.DOMException=H,oi.DOMImplementation=Ne,oi.Element=K,oi.Node=ge,oi.NodeList=Y,oi.XMLSerializer=nt,oi}var Mi={},es={},yo;function Gc(){return yo||(yo=1,(function(r){var e=vn().freeze;r.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),r.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),r.entityMap=r.HTML_ENTITIES})(es)),es}var Or={},_o;function Zc(){if(_o)return Or;_o=1;var r=vn().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),n=0,s=1,a=2,o=3,u=4,h=5,c=6,d=7;function b(D,L){this.message=D,this.locator=L,Error.captureStackTrace&&Error.captureStackTrace(this,b)}b.prototype=new Error,b.prototype.name=b.name;function v(){}v.prototype={parse:function(D,L,$){var H=this.domBuilder;H.startDocument(),S(L,L={}),R(D,L,$,H,this.errorHandler),H.endDocument()}};function R(D,L,$,H,Y){function ue(K){if(K>65535){K-=65536;var de=55296+(K>>10),re=56320+(K&1023);return String.fromCharCode(de,re)}else return String.fromCharCode(K)}function oe(K){var de=K.slice(1,-1);return de in $?$[de]:de.charAt(0)==="#"?ue(parseInt(de.substr(1).replace("x","0x"))):(Y.error("entity not found:"+K),K)}function pe(K){if(K>Re){var de=D.substring(Re,K).replace(/&#?\w+;/g,oe);ge&&Q(Re),H.characters(de,0,K-Re),Re=K}}function Q(K,de){for(;K>=be&&(de=Ne.exec(D));)ee=de.index,be=ee+de[0].length,ge.lineNumber++;ge.columnNumber=K-ee+1}for(var ee=0,be=0,Ne=/.*(?:\r\n?|\n)|.*$/g,ge=H.locator,we=[{currentNSMap:L}],ze={},Re=0;;){try{var je=D.indexOf("<",Re);if(je<0){if(!D.substr(Re).match(/^\s*$/)){var Je=H.doc,He=Je.createTextNode(D.substr(Re));Je.appendChild(He),H.currentElement=He}return}switch(je>Re&&pe(je),D.charAt(je+1)){case"/":var J=D.indexOf(">",je+3),ke=D.substring(je+2,J).replace(/[ \t\n\r]+$/g,""),Ye=we.pop();J<0?(ke=D.substring(je+2).replace(/[\s<].*/,""),Y.error("end tag name: "+ke+" is not complete:"+Ye.tagName),J=je+1+ke.length):ke.match(/\s</)&&(ke=ke.replace(/[\s<].*/,""),Y.error("end tag name: "+ke+" maybe not complete"),J=je+1+ke.length);var Ke=Ye.localNSMap,Be=Ye.tagName==ke,B=Be||Ye.tagName&&Ye.tagName.toLowerCase()==ke.toLowerCase();if(B){if(H.endElement(Ye.uri,Ye.localName,ke),Ke)for(var z in Ke)Object.prototype.hasOwnProperty.call(Ke,z)&&H.endPrefixMapping(z);Be||Y.fatalError("end tag name: "+ke+" is not match the current start tagName:"+Ye.tagName)}else we.push(Ye);J++;break;case"?":ge&&Q(je),J=T(D,je,H);break;case"!":ge&&Q(je),J=_(D,je,H,Y);break;default:ge&&Q(je);var G=new O,ie=we[we.length-1].currentNSMap,J=p(D,je,G,ie,oe,Y),X=G.length;if(!G.closed&&x(D,J,G.tagName,ze)&&(G.closed=!0,$.nbsp||Y.warning("unclosed xml attribute")),ge&&X){for(var he=E(ge,{}),le=0;le<X;le++){var ae=G[le];Q(ae.offset),ae.locator=E(ge,{})}H.locator=he,g(G,H,ie)&&we.push(G),H.locator=ge}else g(G,H,ie)&&we.push(G);r.isHTML(G.uri)&&!G.closed?J=m(D,J,G.tagName,oe,H):J++}}catch(K){if(K instanceof b)throw K;Y.error("element parse error: "+K),J=-1}J>Re?Re=J:pe(Math.max(je,Re)+1)}}function E(D,L){return L.lineNumber=D.lineNumber,L.columnNumber=D.columnNumber,L}function p(D,L,$,H,Y,ue){function oe(ge,we,ze){$.attributeNames.hasOwnProperty(ge)&&ue.fatalError("Attribute "+ge+" redefined"),$.addValue(ge,we,ze)}for(var pe,Q,ee=++L,be=n;;){var Ne=D.charAt(ee);switch(Ne){case"=":if(be===s)pe=D.slice(L,ee),be=o;else if(be===a)be=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(be===o||be===s)if(be===s&&(ue.warning('attribute value must after "="'),pe=D.slice(L,ee)),L=ee+1,ee=D.indexOf(Ne,L),ee>0)Q=D.slice(L,ee).replace(/&#?\w+;/g,Y),oe(pe,Q,L-1),be=h;else throw new Error("attribute value no end '"+Ne+"' match");else if(be==u)Q=D.slice(L,ee).replace(/&#?\w+;/g,Y),oe(pe,Q,L),ue.warning('attribute "'+pe+'" missed start quot('+Ne+")!!"),L=ee+1,be=h;else throw new Error('attribute value must after "="');break;case"/":switch(be){case n:$.setTagName(D.slice(L,ee));case h:case c:case d:be=d,$.closed=!0;case u:case s:break;case a:$.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return ue.error("unexpected end of input"),be==n&&$.setTagName(D.slice(L,ee)),ee;case">":switch(be){case n:$.setTagName(D.slice(L,ee));case h:case c:case d:break;case u:case s:Q=D.slice(L,ee),Q.slice(-1)==="/"&&($.closed=!0,Q=Q.slice(0,-1));case a:be===a&&(Q=pe),be==u?(ue.warning('attribute "'+Q+'" missed quot(")!'),oe(pe,Q.replace(/&#?\w+;/g,Y),L)):((!r.isHTML(H[""])||!Q.match(/^(?:disabled|checked|selected)$/i))&&ue.warning('attribute "'+Q+'" missed value!! "'+Q+'" instead!!'),oe(Q,Q,L));break;case o:throw new Error("attribute value missed!!")}return ee;case"":Ne=" ";default:if(Ne<=" ")switch(be){case n:$.setTagName(D.slice(L,ee)),be=c;break;case s:pe=D.slice(L,ee),be=a;break;case u:var Q=D.slice(L,ee).replace(/&#?\w+;/g,Y);ue.warning('attribute "'+Q+'" missed quot(")!!'),oe(pe,Q,L);case h:be=c;break}else switch(be){case a:$.tagName,(!r.isHTML(H[""])||!pe.match(/^(?:disabled|checked|selected)$/i))&&ue.warning('attribute "'+pe+'" missed value!! "'+pe+'" instead2!!'),oe(pe,pe,L),L=ee,be=s;break;case h:ue.warning('attribute space is required"'+pe+'"!!');case c:be=s,L=ee;break;case o:be=u,L=ee;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}ee++}}function g(D,L,$){for(var H=D.tagName,Y=null,Ne=D.length;Ne--;){var ue=D[Ne],oe=ue.qName,pe=ue.value,ge=oe.indexOf(":");if(ge>0)var Q=ue.prefix=oe.slice(0,ge),ee=oe.slice(ge+1),be=Q==="xmlns"&&ee;else ee=oe,Q=null,be=oe==="xmlns"&&"";ue.localName=ee,be!==!1&&(Y==null&&(Y={},S($,$={})),$[be]=Y[be]=pe,ue.uri=r.XMLNS,L.startPrefixMapping(be,pe))}for(var Ne=D.length;Ne--;){ue=D[Ne];var Q=ue.prefix;Q&&(Q==="xml"&&(ue.uri=r.XML),Q!=="xmlns"&&(ue.uri=$[Q||""]))}var ge=H.indexOf(":");ge>0?(Q=D.prefix=H.slice(0,ge),ee=D.localName=H.slice(ge+1)):(Q=null,ee=D.localName=H);var we=D.uri=$[Q||""];if(L.startElement(we,ee,H,D),D.closed){if(L.endElement(we,ee,H),Y)for(Q in Y)Object.prototype.hasOwnProperty.call(Y,Q)&&L.endPrefixMapping(Q)}else return D.currentNSMap=$,D.localNSMap=Y,!0}function m(D,L,$,H,Y){if(/^(?:script|textarea)$/i.test($)){var ue=D.indexOf("</"+$+">",L),oe=D.substring(L+1,ue);if(/[&<]/.test(oe))return/^script$/i.test($)?(Y.characters(oe,0,oe.length),ue):(oe=oe.replace(/&#?\w+;/g,H),Y.characters(oe,0,oe.length),ue)}return L+1}function x(D,L,$,H){var Y=H[$];return Y==null&&(Y=D.lastIndexOf("</"+$+">"),Y<L&&(Y=D.lastIndexOf("</"+$)),H[$]=Y),Y<L}function S(D,L){for(var $ in D)Object.prototype.hasOwnProperty.call(D,$)&&(L[$]=D[$])}function _(D,L,$,H){var Y=D.charAt(L+2);switch(Y){case"-":if(D.charAt(L+3)==="-"){var ue=D.indexOf("-->",L+4);return ue>L?($.comment(D,L+4,ue-L-4),ue+3):(H.error("Unclosed comment"),-1)}else return-1;default:if(D.substr(L+3,6)=="CDATA["){var ue=D.indexOf("]]>",L+9);return $.startCDATA(),$.characters(D,L+9,ue-L-9),$.endCDATA(),ue+3}var oe=I(D,L),pe=oe.length;if(pe>1&&/!doctype/i.test(oe[0][0])){var Q=oe[1][0],ee=!1,be=!1;pe>3&&(/^public$/i.test(oe[2][0])?(ee=oe[3][0],be=pe>4&&oe[4][0]):/^system$/i.test(oe[2][0])&&(be=oe[3][0]));var Ne=oe[pe-1];return $.startDTD(Q,ee,be),$.endDTD(),Ne.index+Ne[0].length}}return-1}function T(D,L,$){var H=D.indexOf("?>",L);if(H){var Y=D.substring(L,H).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return Y?(Y[0].length,$.processingInstruction(Y[1],Y[2]),H+2):-1}return-1}function O(){this.attributeNames={}}O.prototype={setTagName:function(D){if(!i.test(D))throw new Error("invalid tagName:"+D);this.tagName=D},addValue:function(D,L,$){if(!i.test(D))throw new Error("invalid attribute:"+D);this.attributeNames[D]=this.length,this[this.length++]={qName:D,value:L,offset:$}},length:0,getLocalName:function(D){return this[D].localName},getLocator:function(D){return this[D].locator},getQName:function(D){return this[D].qName},getURI:function(D){return this[D].uri},getValue:function(D){return this[D].value}};function I(D,L){var $,H=[],Y=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(Y.lastIndex=L,Y.exec(D);$=Y.exec(D);)if(H.push($),$[1])return H}return Or.XMLReader=v,Or.ParseError=b,Or}var wo;function Yc(){if(wo)return Mi;wo=1;var r=vn(),e=fl(),t=Gc(),i=Zc(),n=e.DOMImplementation,s=r.NAMESPACE,a=i.ParseError,o=i.XMLReader;function u(E){this.options=E||{locator:{}}}u.prototype.parseFromString=function(E,p){var g=this.options,m=new o,x=g.domBuilder||new c,S=g.errorHandler,_=g.locator,T=g.xmlns||{},O=/\/x?html?$/.test(p),I=O?t.HTML_ENTITIES:t.XML_ENTITIES;return _&&x.setDocumentLocator(_),m.errorHandler=h(S,x,_),m.domBuilder=g.domBuilder||x,O&&(T[""]=s.HTML),T.xml=T.xml||s.XML,E&&typeof E=="string"?m.parse(E,T,I):m.errorHandler.error("invalid doc source"),x.doc};function h(E,p,g){if(!E){if(p instanceof c)return p;E=p}var m={},x=E instanceof Function;g=g||{};function S(_){var T=E[_];!T&&x&&(T=E.length==2?function(O){E(_,O)}:E),m[_]=T&&function(O){T("[xmldom "+_+"]	"+O+b(g))}||function(){}}return S("warning"),S("error"),S("fatalError"),m}function c(){this.cdata=!1}function d(E,p){p.lineNumber=E.lineNumber,p.columnNumber=E.columnNumber}c.prototype={startDocument:function(){this.doc=new n().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(E,p,g,m){var x=this.doc,S=x.createElementNS(E,g||p),_=m.length;R(this,S),this.currentElement=S,this.locator&&d(this.locator,S);for(var T=0;T<_;T++){var E=m.getURI(T),O=m.getValue(T),g=m.getQName(T),I=x.createAttributeNS(E,g);this.locator&&d(m.getLocator(T),I),I.value=I.nodeValue=O,S.setAttributeNode(I)}},endElement:function(E,p,g){var m=this.currentElement;m.tagName,this.currentElement=m.parentNode},startPrefixMapping:function(E,p){},endPrefixMapping:function(E){},processingInstruction:function(E,p){var g=this.doc.createProcessingInstruction(E,p);this.locator&&d(this.locator,g),R(this,g)},ignorableWhitespace:function(E,p,g){},characters:function(E,p,g){if(E=v.apply(this,arguments),E){if(this.cdata)var m=this.doc.createCDATASection(E);else var m=this.doc.createTextNode(E);this.currentElement?this.currentElement.appendChild(m):/^\s*$/.test(E)&&this.doc.appendChild(m),this.locator&&d(this.locator,m)}},skippedEntity:function(E){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(E){(this.locator=E)&&(E.lineNumber=0)},comment:function(E,p,g){E=v.apply(this,arguments);var m=this.doc.createComment(E);this.locator&&d(this.locator,m),R(this,m)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(E,p,g){var m=this.doc.implementation;if(m&&m.createDocumentType){var x=m.createDocumentType(E,p,g);this.locator&&d(this.locator,x),R(this,x),this.doc.doctype=x}},warning:function(E){console.warn("[xmldom warning]	"+E,b(this.locator))},error:function(E){console.error("[xmldom error]	"+E,b(this.locator))},fatalError:function(E){throw new a(E,this.locator)}};function b(E){if(E)return`
@`+(E.systemId||"")+"#[line:"+E.lineNumber+",col:"+E.columnNumber+"]"}function v(E,p,g){return typeof E=="string"?E.substr(p,g):E.length>=p+g||p?new java.lang.String(E,p,g)+"":E}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(E){c.prototype[E]=function(){return null}});function R(E,p){E.currentElement?E.currentElement.appendChild(p):E.doc.appendChild(p)}return Mi.__DOMHandler=c,Mi.DOMParser=u,Mi.DOMImplementation=e.DOMImplementation,Mi.XMLSerializer=e.XMLSerializer,Mi}var Eo;function Kc(){if(Eo)return rr;Eo=1;var r=fl();return rr.DOMImplementation=r.DOMImplementation,rr.XMLSerializer=r.XMLSerializer,rr.DOMParser=Yc().DOMParser,rr}var hl=Kc();const aa=typeof window<"u"?window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame:!1,Xc=1,Jc=3,cl=typeof URL<"u"?URL:typeof window<"u"?window.URL||window.webkitURL||window.mozURL:void 0;function mn(){var r=new Date().getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(r+Math.random()*16)%16|0;return r=Math.floor(r/16),(t=="x"?i:i&7|8).toString(16)});return e}function Qc(){return Math.max(document.documentElement.clientHeight,document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)}function dl(r){return!!(r&&r.nodeType==1)}function pt(r){return!isNaN(parseFloat(r))&&isFinite(r)}function pl(r){let e=parseFloat(r);return pt(r)===!1?!1:typeof r=="string"&&r.indexOf(".")>-1?!0:Math.floor(e)!==e}function Wi(r){var e=["Webkit","webkit","Moz","O","ms"],t=["-webkit-","-webkit-","-moz-","-o-","-ms-"],i=r.toLowerCase(),n=e.length;if(typeof document>"u"||typeof document.body.style[i]<"u")return r;for(var s=0;s<n;s++)if(typeof document.body.style[t[s]+i]<"u")return t[s]+i;return r}function gl(r){for(var e=1,t=arguments.length;e<t;e++){var i=arguments[e];for(var n in i)r[n]===void 0&&(r[n]=i[n])}return r}function At(r){var e=[].slice.call(arguments,1);return e.forEach(function(t){t&&Object.getOwnPropertyNames(t).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}),r}function ed(r,e,t){var i=Xi(r,e,t);return e.splice(i,0,r),i}function Xi(r,e,t,i,n){var s=i||0,a=n||e.length,o=parseInt(s+(a-s)/2),u;return t||(t=function(h,c){if(h>c)return 1;if(h<c)return-1;if(h==c)return 0}),a-s<=0?o:(u=t(e[o],r),a-s===1?u>=0?o:o+1:u===0?o:u===-1?Xi(r,e,t,o,a):Xi(r,e,t,s,o))}function Zr(r,e,t,i,n){var s=i||0,a=n||e.length,o=parseInt(s+(a-s)/2),u;return t||(t=function(h,c){if(h>c)return 1;if(h<c)return-1;if(h==c)return 0}),a-s<=0?-1:(u=t(e[o],r),a-s===1?u===0?o:-1:u===0?o:u===-1?Zr(r,e,t,o,a):Zr(r,e,t,s,o))}function zr(r){var e=window.getComputedStyle(r),t=["width","paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],i=["height","paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],n=0,s=0;return t.forEach(function(a){n+=parseFloat(e[a])||0}),i.forEach(function(a){s+=parseFloat(e[a])||0}),{height:s,width:n}}function Yr(r){var e=window.getComputedStyle(r),t=["paddingRight","paddingLeft","marginRight","marginLeft","borderRightWidth","borderLeftWidth"],i=["paddingTop","paddingBottom","marginTop","marginBottom","borderTopWidth","borderBottomWidth"],n=0,s=0;return t.forEach(function(a){n+=parseFloat(e[a])||0}),i.forEach(function(a){s+=parseFloat(e[a])||0}),{height:s,width:n}}function Ls(r){let e,t=r.ownerDocument;if(r.nodeType==Node.TEXT_NODE){let i=t.createRange();i.selectNodeContents(r),e=i.getBoundingClientRect()}else e=r.getBoundingClientRect();return e}function Kr(){var r=window.innerWidth,e=window.innerHeight;return{top:0,left:0,right:r,bottom:e,width:r,height:e}}function oa(r,e){for(var t=r.parentNode,i=t.childNodes,n,s=-1,a=0;a<i.length&&(n=i[a],n.nodeType===e&&s++,n!=r);a++);return s}function td(r){return oa(r,Jc)}function vl(r){return oa(r,Xc)}function Er(r){return["xml","opf","ncx"].indexOf(r)>-1}function ml(r,e){return new Blob([r],{type:e})}function Xr(r,e){var t,i=ml(r,e);return t=cl.createObjectURL(i),t}function bl(r){return cl.revokeObjectURL(r)}function Bs(r,e){var t,i;if(typeof r=="string")return t=btoa(r),i="data:"+e+";base64,"+t,i}function yl(r){return Object.prototype.toString.call(r).slice(8,-1)}function ii(r,e,t){var i,n;return typeof DOMParser>"u"||t?n=hl.DOMParser:n=DOMParser,r.charCodeAt(0)===65279&&(r=r.slice(1)),i=new n().parseFromString(r,e),i}function at(r,e){var t;if(!r)throw new Error("No Element Provided");if(typeof r.querySelector<"u")return r.querySelector(e);if(t=r.getElementsByTagName(e),t.length)return t[0]}function di(r,e){return typeof r.querySelector<"u"?r.querySelectorAll(e):r.getElementsByTagName(e)}function Hi(r,e,t){var i,n;if(typeof r.querySelector<"u"){e+="[";for(var s in t)e+=s+"~='"+t[s]+"'";return e+="]",r.querySelector(e)}else if(i=r.getElementsByTagName(e),n=Array.prototype.slice.call(i,0).filter(function(a){for(var o in t)if(a.getAttribute(o)===t[o])return!0;return!1}),n)return n[0]}function Jr(r,e){var t=r.ownerDocument||r;typeof t.createTreeWalker<"u"?_l(r,e,NodeFilter.SHOW_TEXT):ua(r,function(i){i&&i.nodeType===3&&e(i)})}function _l(r,e,t){var i=document.createTreeWalker(r,t,null,!1);let n;for(;n=i.nextNode();)e(n)}function ua(r,e){if(e(r))return!0;if(r=r.firstChild,r)do{if(ua(r,e))return!0;r=r.nextSibling}while(r)}function wl(r){return new Promise(function(e,t){var i=new FileReader;i.readAsDataURL(r),i.onloadend=function(){e(i.result)}})}function Ge(){this.resolve=null,this.reject=null,this.id=mn(),this.promise=new Promise((r,e)=>{this.resolve=r,this.reject=e}),Object.freeze(this)}function Qr(r,e,t){var i;if(typeof r.querySelector<"u"&&(i=r.querySelector(`${e}[*|type="${t}"]`)),!i||i.length===0){i=di(r,e);for(var n=0;n<i.length;n++)if(i[n].getAttributeNS("http://www.idpf.org/2007/ops","type")===t||i[n].getAttribute("epub:type")===t)return i[n]}else return i}function Ps(r){for(var e=[],t=r.childNodes,i=0;i<t.length;i++){let n=t[i];n.nodeType===1&&e.push(n)}return e}function Fs(r){for(var e=[r];r;r=r.parentNode)e.unshift(r);return e}function Vi(r,e,t){for(var i=[],n=r.childNodes,s=0;s<n.length;s++){let a=n[s];if(a.nodeType===1&&a.nodeName.toLowerCase()===e){if(t)return a;i.push(a)}}if(!t)return i}function id(r,e){let t;if(!(r===null||e===""))for(t=r.parentNode;t.nodeType===1;){if(t.tagName.toLowerCase()===e)return t;t=t.parentNode}}class El{constructor(){this.collapsed=!1,this.commonAncestorContainer=void 0,this.endContainer=void 0,this.endOffset=void 0,this.startContainer=void 0,this.startOffset=void 0}setStart(e,t){this.startContainer=e,this.startOffset=t,this.endContainer?this.commonAncestorContainer=this._commonAncestorContainer():this.collapse(!0),this._checkCollapsed()}setEnd(e,t){this.endContainer=e,this.endOffset=t,this.startContainer?(this.collapsed=!1,this.commonAncestorContainer=this._commonAncestorContainer()):this.collapse(!1),this._checkCollapsed()}collapse(e){this.collapsed=!0,e?(this.endContainer=this.startContainer,this.endOffset=this.startOffset,this.commonAncestorContainer=this.startContainer.parentNode):(this.startContainer=this.endContainer,this.startOffset=this.endOffset,this.commonAncestorContainer=this.endOffset.parentNode)}selectNode(e){let t=e.parentNode,i=Array.prototype.indexOf.call(t.childNodes,e);this.setStart(t,i),this.setEnd(t,i+1)}selectNodeContents(e){e.childNodes[e.childNodes-1];let t=e.nodeType===3?e.textContent.length:parent.childNodes.length;this.setStart(e,0),this.setEnd(e,t)}_commonAncestorContainer(e,t){var i=Fs(e||this.startContainer),n=Fs(t||this.endContainer);if(i[0]==n[0]){for(var s=0;s<i.length;s++)if(i[s]!=n[s])return i[s-1]}}_checkCollapsed(){this.startContainer===this.endContainer&&this.startOffset===this.endOffset?this.collapsed=!0:this.collapsed=!1}toString(){}}const rd=Object.freeze(Object.defineProperty({__proto__:null,RangeObject:El,blob2base64:wl,borders:Yr,bounds:zr,createBase64Url:Bs,createBlob:ml,createBlobUrl:Xr,defaults:gl,defer:Ge,documentHeight:Qc,extend:At,filterChildren:Vi,findChildren:Ps,getParentByTagName:id,indexOfElementNode:vl,indexOfNode:oa,indexOfSorted:Zr,indexOfTextNode:td,insert:ed,isElement:dl,isFloat:pl,isNumber:pt,isXml:Er,locationOf:Xi,nodeBounds:Ls,parents:Fs,parse:ii,prefixed:Wi,qs:at,qsa:di,qsp:Hi,querySelectorByType:Qr,requestAnimationFrame:aa,revokeBlobUrl:bl,sprint:Jr,treeWalker:_l,type:yl,uuid:mn,walk:ua,windowBounds:Kr},Symbol.toStringTag,{value:"Module"}));var ts,xo;function nd(){if(xo)return ts;if(xo=1,!r)var r={cwd:function(){return"/"}};function e(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+s)}function t(s,a){for(var o="",u=-1,h=0,c,d=0;d<=s.length;++d){if(d<s.length)c=s.charCodeAt(d);else{if(c===47)break;c=47}if(c===47){if(!(u===d-1||h===1))if(u!==d-1&&h===2){if(o.length<2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){for(var b=o.length-1,v=b;v>=0&&o.charCodeAt(v)!==47;--v);if(v!==b){v===-1?o="":o=o.slice(0,v),u=d,h=0;continue}}else if(o.length===2||o.length===1){o="",u=d,h=0;continue}}a&&(o.length>0?o+="/..":o="..")}else o.length>0?o+="/"+s.slice(u+1,d):o=s.slice(u+1,d);u=d,h=0}else c===46&&h!==-1?++h:h=-1}return o}function i(s,a){var o=a.dir||a.root,u=a.base||(a.name||"")+(a.ext||"");return o?o===a.root?o+u:o+s+u:u}var n={resolve:function(){for(var a="",o=!1,u,h=arguments.length-1;h>=-1&&!o;h--){var c;h>=0?c=arguments[h]:(u===void 0&&(u=r.cwd()),c=u),e(c),c.length!==0&&(a=c+"/"+a,o=c.charCodeAt(0)===47)}return a=t(a,!o),o?a.length>0?"/"+a:"/":a.length>0?a:"."},normalize:function(a){if(e(a),a.length===0)return".";var o=a.charCodeAt(0)===47,u=a.charCodeAt(a.length-1)===47;return a=t(a,!o),a.length===0&&!o&&(a="."),a.length>0&&u&&(a+="/"),o?"/"+a:a},isAbsolute:function(a){return e(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,o=0;o<arguments.length;++o){var u=arguments[o];e(u),u.length>0&&(a===void 0?a=u:a+="/"+u)}return a===void 0?".":n.normalize(a)},relative:function(a,o){if(e(a),e(o),a===o||(a=n.resolve(a),o=n.resolve(o),a===o))return"";for(var u=1;u<a.length&&a.charCodeAt(u)===47;++u);for(var h=a.length,c=h-u,d=1;d<o.length&&o.charCodeAt(d)===47;++d);for(var b=o.length,v=b-d,R=c<v?c:v,E=-1,p=0;p<=R;++p){if(p===R){if(v>R){if(o.charCodeAt(d+p)===47)return o.slice(d+p+1);if(p===0)return o.slice(d+p)}else c>R&&(a.charCodeAt(u+p)===47?E=p:p===0&&(E=0));break}var g=a.charCodeAt(u+p),m=o.charCodeAt(d+p);if(g!==m)break;g===47&&(E=p)}var x="";for(p=u+E+1;p<=h;++p)(p===h||a.charCodeAt(p)===47)&&(x.length===0?x+="..":x+="/..");return x.length>0?x+o.slice(d+E):(d+=E,o.charCodeAt(d)===47&&++d,o.slice(d))},_makeLong:function(a){return a},dirname:function(a){if(e(a),a.length===0)return".";for(var o=a.charCodeAt(0),u=o===47,h=-1,c=!0,d=a.length-1;d>=1;--d)if(o=a.charCodeAt(d),o===47){if(!c){h=d;break}}else c=!1;return h===-1?u?"/":".":u&&h===1?"//":a.slice(0,h)},basename:function(a,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(a);var u=0,h=-1,c=!0,d;if(o!==void 0&&o.length>0&&o.length<=a.length){if(o.length===a.length&&o===a)return"";var b=o.length-1,v=-1;for(d=a.length-1;d>=0;--d){var R=a.charCodeAt(d);if(R===47){if(!c){u=d+1;break}}else v===-1&&(c=!1,v=d+1),b>=0&&(R===o.charCodeAt(b)?--b===-1&&(h=d):(b=-1,h=v))}return u===h?h=v:h===-1&&(h=a.length),a.slice(u,h)}else{for(d=a.length-1;d>=0;--d)if(a.charCodeAt(d)===47){if(!c){u=d+1;break}}else h===-1&&(c=!1,h=d+1);return h===-1?"":a.slice(u,h)}},extname:function(a){e(a);for(var o=-1,u=0,h=-1,c=!0,d=0,b=a.length-1;b>=0;--b){var v=a.charCodeAt(b);if(v===47){if(!c){u=b+1;break}continue}h===-1&&(c=!1,h=b+1),v===46?o===-1?o=b:d!==1&&(d=1):o!==-1&&(d=-1)}return o===-1||h===-1||d===0||d===1&&o===h-1&&o===u+1?"":a.slice(o,h)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('Parameter "pathObject" must be an object, not '+typeof a);return i("/",a)},parse:function(a){e(a);var o={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return o;var u=a.charCodeAt(0),h=u===47,c;h?(o.root="/",c=1):c=0;for(var d=-1,b=0,v=-1,R=!0,E=a.length-1,p=0;E>=c;--E){if(u=a.charCodeAt(E),u===47){if(!R){b=E+1;break}continue}v===-1&&(R=!1,v=E+1),u===46?d===-1?d=E:p!==1&&(p=1):d!==-1&&(p=-1)}return d===-1||v===-1||p===0||p===1&&d===v-1&&d===b+1?v!==-1&&(b===0&&h?o.base=o.name=a.slice(1,v):o.base=o.name=a.slice(b,v)):(b===0&&h?(o.name=a.slice(1,d),o.base=a.slice(1,v)):(o.name=a.slice(b,d),o.base=a.slice(b,v)),o.ext=a.slice(d,v)),b>0?o.dir=a.slice(0,b-1):h&&(o.dir="/"),o},sep:"/",delimiter:":",posix:null};return ts=n,ts}var sd=nd();const _i=Ji(sd);class pi{constructor(e){var t,i;t=e.indexOf("://"),t>-1&&(e=new URL(e).pathname),i=this.parse(e),this.path=e,this.isDirectory(e)?this.directory=e:this.directory=i.dir+"/",this.filename=i.base,this.extension=i.ext.slice(1)}parse(e){return _i.parse(e)}isAbsolute(e){return _i.isAbsolute(e||this.path)}isDirectory(e){return e.charAt(e.length-1)==="/"}resolve(e){return _i.resolve(this.directory,e)}relative(e){var t=e&&e.indexOf("://")>-1;return t?e:_i.relative(this.directory,e)}splitPath(e){return this.splitPathRe.exec(e).slice(1)}toString(){return this.path}}class Gt{constructor(e,t){var i=e.indexOf("://")>-1,n=e,s;if(this.Url=void 0,this.href=e,this.protocol="",this.origin="",this.hash="",this.hash="",this.search="",this.base=t,!i&&t!==!1&&typeof t!="string"&&window&&window.location&&(this.base=window.location.href),i||this.base)try{this.base?this.Url=new URL(e,this.base):this.Url=new URL(e),this.href=this.Url.href,this.protocol=this.Url.protocol,this.origin=this.Url.origin,this.hash=this.Url.hash,this.search=this.Url.search,n=this.Url.pathname+(this.Url.search?this.Url.search:"")}catch{this.Url=void 0,this.base&&(s=new pi(this.base),n=s.resolve(n))}this.Path=new pi(n),this.directory=this.Path.directory,this.filename=this.Path.filename,this.extension=this.Path.extension}path(){return this.Path}resolve(e){var t=e.indexOf("://")>-1,i;return t?e:(i=_i.resolve(this.directory,e),this.origin+i)}relative(e){return _i.relative(e,this.directory)}toString(){return this.href}}const Ui=1,Ut=3,ad=9;class Ze{constructor(e,t,i){var n;if(this.str="",this.base={},this.spinePos=0,this.range=!1,this.path={},this.start=null,this.end=null,!(this instanceof Ze))return new Ze(e,t,i);if(typeof t=="string"?this.base=this.parseComponent(t):typeof t=="object"&&t.steps&&(this.base=t),n=this.checkType(e),n==="string")return this.str=e,At(this,this.parse(e));if(n==="range")return At(this,this.fromRange(e,this.base,i));if(n==="node")return At(this,this.fromNode(e,this.base,i));if(n==="EpubCFI"&&e.path)return e;if(e)throw new TypeError("not a valid argument for EpubCFI");return this}checkType(e){return this.isCfiString(e)?"string":e&&typeof e=="object"&&(yl(e)==="Range"||typeof e.startContainer<"u")?"range":e&&typeof e=="object"&&typeof e.nodeType<"u"?"node":e&&typeof e=="object"&&e instanceof Ze?"EpubCFI":!1}parse(e){var t={spinePos:-1,range:!1,base:{},path:{},start:null,end:null},i,n,s;return typeof e!="string"?{spinePos:-1}:(e.indexOf("epubcfi(")===0&&e[e.length-1]===")"&&(e=e.slice(8,e.length-1)),i=this.getChapterComponent(e),i?(t.base=this.parseComponent(i),n=this.getPathComponent(e),t.path=this.parseComponent(n),s=this.getRange(e),s&&(t.range=!0,t.start=this.parseComponent(s[0]),t.end=this.parseComponent(s[1])),t.spinePos=t.base.steps[1].index,t):{spinePos:-1})}parseComponent(e){var t={steps:[],terminal:{offset:null,assertion:null}},i=e.split(":"),n=i[0].split("/"),s;return i.length>1&&(s=i[1],t.terminal=this.parseTerminal(s)),n[0]===""&&n.shift(),t.steps=n.map((function(a){return this.parseStep(a)}).bind(this)),t}parseStep(e){var t,i,n,s,a;if(s=e.match(/\[(.*)\]/),s&&s[1]&&(a=s[1]),i=parseInt(e),!isNaN(i))return i%2===0?(t="element",n=i/2-1):(t="text",n=(i-1)/2),{type:t,index:n,id:a||null}}parseTerminal(e){var t,i,n=e.match(/\[(.*)\]/);return n&&n[1]?(t=parseInt(e.split("[")[0]),i=n[1]):t=parseInt(e),pt(t)||(t=null),{offset:t,assertion:i}}getChapterComponent(e){var t=e.split("!");return t[0]}getPathComponent(e){var t=e.split("!");if(t[1])return t[1].split(",")[0]}getRange(e){var t=e.split(",");return t.length===3?[t[1],t[2]]:!1}getCharecterOffsetComponent(e){var t=e.split(":");return t[1]||""}joinSteps(e){return e?e.map(function(t){var i="";return t.type==="element"&&(i+=(t.index+1)*2),t.type==="text"&&(i+=1+2*t.index),t.id&&(i+="["+t.id+"]"),i}).join("/"):""}segmentString(e){var t="/";return t+=this.joinSteps(e.steps),e.terminal&&e.terminal.offset!=null&&(t+=":"+e.terminal.offset),e.terminal&&e.terminal.assertion!=null&&(t+="["+e.terminal.assertion+"]"),t}toString(){var e="epubcfi(";return e+=this.segmentString(this.base),e+="!",e+=this.segmentString(this.path),this.range&&this.start&&(e+=",",e+=this.segmentString(this.start)),this.range&&this.end&&(e+=",",e+=this.segmentString(this.end)),e+=")",e}compare(e,t){var i,n,s,a;if(typeof e=="string"&&(e=new Ze(e)),typeof t=="string"&&(t=new Ze(t)),e.spinePos>t.spinePos)return 1;if(e.spinePos<t.spinePos)return-1;e.range?(i=e.path.steps.concat(e.start.steps),s=e.start.terminal):(i=e.path.steps,s=e.path.terminal),t.range?(n=t.path.steps.concat(t.start.steps),a=t.start.terminal):(n=t.path.steps,a=t.path.terminal);for(var o=0;o<i.length;o++){if(!i[o])return-1;if(!n[o]||i[o].index>n[o].index)return 1;if(i[o].index<n[o].index)return-1}return i.length<n.length?-1:s.offset>a.offset?1:s.offset<a.offset?-1:0}step(e){var t=e.nodeType===Ut?"text":"element";return{id:e.id,tagName:e.tagName,type:t,index:this.position(e)}}filteredStep(e,t){var i=this.filter(e,t),n;if(i)return n=i.nodeType===Ut?"text":"element",{id:i.id,tagName:i.tagName,type:n,index:this.filteredPosition(i,t)}}pathTo(e,t,i){for(var n={steps:[],terminal:{offset:null,assertion:null}},s=e,a;s&&s.parentNode&&s.parentNode.nodeType!=ad;)i?a=this.filteredStep(s,i):a=this.step(s),a&&n.steps.unshift(a),s=s.parentNode;return t!=null&&t>=0&&(n.terminal.offset=t,n.steps[n.steps.length-1].type!="text"&&n.steps.push({type:"text",index:0})),n}equalStep(e,t){return!e||!t?!1:e.index===t.index&&e.id===t.id&&e.type===t.type}fromRange(e,t,i){var n={range:!1,base:{},path:{},start:null,end:null},s=e.startContainer,a=e.endContainer,o=e.startOffset,u=e.endOffset,h=!1;if(i&&(h=s.ownerDocument.querySelector("."+i)!=null),typeof t=="string"?(n.base=this.parseComponent(t),n.spinePos=n.base.steps[1].index):typeof t=="object"&&(n.base=t),e.collapsed)h&&(o=this.patchOffset(s,o,i)),n.path=this.pathTo(s,o,i);else{n.range=!0,h&&(o=this.patchOffset(s,o,i)),n.start=this.pathTo(s,o,i),h&&(u=this.patchOffset(a,u,i)),n.end=this.pathTo(a,u,i),n.path={steps:[],terminal:null};var c=n.start.steps.length,d;for(d=0;d<c&&this.equalStep(n.start.steps[d],n.end.steps[d]);d++)d===c-1?n.start.terminal===n.end.terminal&&(n.path.steps.push(n.start.steps[d]),n.range=!1):n.path.steps.push(n.start.steps[d]);n.start.steps=n.start.steps.slice(n.path.steps.length),n.end.steps=n.end.steps.slice(n.path.steps.length)}return n}fromNode(e,t,i){var n={range:!1,base:{},path:{},start:null,end:null};return typeof t=="string"?(n.base=this.parseComponent(t),n.spinePos=n.base.steps[1].index):typeof t=="object"&&(n.base=t),n.path=this.pathTo(e,null,i),n}filter(e,t){var i,n,s,a,o,u=!1;return e.nodeType===Ut?(u=!0,s=e.parentNode,i=e.parentNode.classList.contains(t)):(u=!1,i=e.classList.contains(t)),i&&u?(a=s.previousSibling,o=s.nextSibling,a&&a.nodeType===Ut?n=a:o&&o.nodeType===Ut&&(n=o),n||e):i&&!u?!1:e}patchOffset(e,t,i){if(e.nodeType!=Ut)throw new Error("Anchor must be a text node");var n=e,s=t;for(e.parentNode.classList.contains(i)&&(n=e.parentNode);n.previousSibling;){if(n.previousSibling.nodeType===Ui)if(n.previousSibling.classList.contains(i))s+=n.previousSibling.textContent.length;else break;else s+=n.previousSibling.textContent.length;n=n.previousSibling}return s}normalizedMap(e,t,i){var n={},s=-1,a,o=e.length,u,h;for(a=0;a<o;a++)u=e[a].nodeType,u===Ui&&e[a].classList.contains(i)&&(u=Ut),a>0&&u===Ut&&h===Ut?n[a]=s:t===u&&(s=s+1,n[a]=s),h=u;return n}position(e){var t,i;return e.nodeType===Ui?(t=e.parentNode.children,t||(t=Ps(e.parentNode)),i=Array.prototype.indexOf.call(t,e)):(t=this.textNodes(e.parentNode),i=t.indexOf(e)),i}filteredPosition(e,t){var i,n,s;return e.nodeType===Ui?(i=e.parentNode.children,s=this.normalizedMap(i,Ui,t)):(i=e.parentNode.childNodes,e.parentNode.classList.contains(t)&&(e=e.parentNode,i=e.parentNode.childNodes),s=this.normalizedMap(i,Ut,t)),n=Array.prototype.indexOf.call(i,e),s[n]}stepsToXpath(e){var t=[".","*"];return e.forEach(function(i){var n=i.index+1;i.id?t.push("*[position()="+n+" and @id='"+i.id+"']"):i.type==="text"?t.push("text()["+n+"]"):t.push("*["+n+"]")}),t.join("/")}stepsToQuerySelector(e){var t=["html"];return e.forEach(function(i){var n=i.index+1;i.id?t.push("#"+i.id):i.type==="text"||t.push("*:nth-child("+n+")")}),t.join(">")}textNodes(e,t){return Array.prototype.slice.call(e.childNodes).filter(function(i){return i.nodeType===Ut?!0:!!(t&&i.classList.contains(t))})}walkToNode(e,t,i){var n=t||document,s=n.documentElement,a,o,u=e.length,h;for(h=0;h<u&&(o=e[h],o.type==="element"?o.id?s=n.getElementById(o.id):(a=s.children||Ps(s),s=a[o.index]):o.type==="text"&&(s=this.textNodes(s,i)[o.index]),!!s);h++);return s}findNode(e,t,i){var n=t||document,s,a;return!i&&typeof n.evaluate<"u"?(a=this.stepsToXpath(e),s=n.evaluate(a,n,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue):i?s=this.walkToNode(e,n,i):s=this.walkToNode(e,n),s}fixMiss(e,t,i,n){var s=this.findNode(e.slice(0,-1),i,n),a=s.childNodes,o=this.normalizedMap(a,Ut,n),u,h,c=e[e.length-1].index;for(let d in o){if(!o.hasOwnProperty(d))return;if(o[d]===c)if(u=a[d],h=u.textContent.length,t>h)t=t-h;else{u.nodeType===Ui?s=u.childNodes[0]:s=u;break}}return{container:s,offset:t}}toRange(e,t){var i=e||document,n,s,a,o,u,h=this,c,d,b=t?i.querySelector("."+t)!=null:!1,v;if(typeof i.createRange<"u"?n=i.createRange():n=new El,h.range?(s=h.start,c=h.path.steps.concat(s.steps),o=this.findNode(c,i,b?t:null),a=h.end,d=h.path.steps.concat(a.steps),u=this.findNode(d,i,b?t:null)):(s=h.path,c=h.path.steps,o=this.findNode(h.path.steps,i,b?t:null)),o)try{s.terminal.offset!=null?n.setStart(o,s.terminal.offset):n.setStart(o,0)}catch{v=this.fixMiss(c,s.terminal.offset,i,b?t:null),n.setStart(v.container,v.offset)}else return console.log("No startContainer found for",this.toString()),null;if(u)try{a.terminal.offset!=null?n.setEnd(u,a.terminal.offset):n.setEnd(u,0)}catch{v=this.fixMiss(d,h.end.terminal.offset,i,b?t:null),n.setEnd(v.container,v.offset)}return n}isCfiString(e){return typeof e=="string"&&e.indexOf("epubcfi(")===0&&e[e.length-1]===")"}generateChapterComponent(e,t,i){var n=parseInt(t),s=(e+1)*2,a="/"+s+"/";return a+=(n+1)*2,i&&(a+="["+i+"]"),a}collapse(e){this.range&&(this.range=!1,e?(this.path.steps=this.path.steps.concat(this.start.steps),this.path.terminal=this.start.terminal):(this.path.steps=this.path.steps.concat(this.end.steps),this.path.terminal=this.end.terminal))}}class Zt{constructor(e){this.context=e||this,this.hooks=[]}register(){for(var e=0;e<arguments.length;++e)if(typeof arguments[e]=="function")this.hooks.push(arguments[e]);else for(var t=0;t<arguments[e].length;++t)this.hooks.push(arguments[e][t])}deregister(e){let t;for(let i=0;i<this.hooks.length;i++)if(t=this.hooks[i],t===e){this.hooks.splice(i,1);break}}trigger(){var e=arguments,t=this.context,i=[];return this.hooks.forEach(function(n){try{var s=n.apply(t,e)}catch(a){console.log(a)}s&&typeof s.then=="function"&&i.push(s)}),Promise.all(i)}list(){return this.hooks}clear(){return this.hooks=[]}}function xl(r,e){var t,i,n=e.url,s=n.indexOf("://")>-1;r&&(i=at(r,"head"),t=at(i,"base"),t||(t=r.createElement("base"),i.insertBefore(t,i.firstChild)),!s&&window&&window.location&&(n=window.location.origin+n),t.setAttribute("href",n))}function od(r,e){var t,i,n=e.canonical;r&&(t=at(r,"head"),i=at(t,"link[rel='canonical']"),i?i.setAttribute("href",n):(i=r.createElement("link"),i.setAttribute("rel","canonical"),i.setAttribute("href",n),t.appendChild(i)))}function ud(r,e){var t,i,n=e.idref;r&&(t=at(r,"head"),i=at(t,"link[property='dc.identifier']"),i?i.setAttribute("content",n):(i=r.createElement("meta"),i.setAttribute("name","dc.identifier"),i.setAttribute("content",n),t.appendChild(i)))}function ld(r,e){var t=r.querySelectorAll("a[href]");if(t.length)for(var i=at(r.ownerDocument,"base"),n=i?i.getAttribute("href"):void 0,s=(function(o){var u=o.getAttribute("href");if(u.indexOf("mailto:")!==0){var h=u.indexOf("://")>-1;if(h)o.setAttribute("target","_blank");else{var c;try{c=new Gt(u,n)}catch{}o.onclick=function(){return c&&c.hash?e(c.Path.path+c.hash):e(c?c.Path.path:u),!1}}}}).bind(this),a=0;a<t.length;a++)s(t[a])}function Ao(r,e,t){return e.forEach(function(i,n){i&&t[n]&&(i=i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),r=r.replace(new RegExp(i,"g"),t[n]))}),r}function xr(r,e,t,i){var n=typeof window<"u"?window.URL:!1,s=n?"blob":"arraybuffer",a=new Ge,o=new XMLHttpRequest,u=XMLHttpRequest.prototype,h;"overrideMimeType"in u||Object.defineProperty(u,"overrideMimeType",{value:function(){}}),t&&(o.withCredentials=!0),o.onreadystatechange=d,o.onerror=c,o.open("GET",r,!0);for(h in i)o.setRequestHeader(h,i[h]);e=="json"&&o.setRequestHeader("Accept","application/json"),e||(e=new pi(r).extension),e=="blob"&&(o.responseType=s),Er(e)&&o.overrideMimeType("text/xml"),e=="binary"&&(o.responseType="arraybuffer"),o.send();function c(b){a.reject(b)}function d(){if(this.readyState===XMLHttpRequest.DONE){var b=!1;if((this.responseType===""||this.responseType==="document")&&(b=this.responseXML),this.status===200||this.status===0||b){var v;if(!this.response&&!b)return a.reject({status:this.status,message:"Empty Response",stack:new Error().stack}),a.promise;if(this.status===403)return a.reject({status:this.status,response:this.response,message:"Forbidden",stack:new Error().stack}),a.promise;b?v=this.responseXML:Er(e)?v=ii(this.response,"text/xml"):e=="xhtml"?v=ii(this.response,"application/xhtml+xml"):e=="html"||e=="htm"?v=ii(this.response,"text/html"):e=="json"?v=JSON.parse(this.response):e=="blob"?n?v=this.response:v=new Blob([this.response]):v=this.response,a.resolve(v)}else a.reject({status:this.status,message:this.response,stack:new Error().stack})}}return a.promise}class fd{constructor(e,t){this.idref=e.idref,this.linear=e.linear==="yes",this.properties=e.properties,this.index=e.index,this.href=e.href,this.url=e.url,this.canonical=e.canonical,this.next=e.next,this.prev=e.prev,this.cfiBase=e.cfiBase,t?this.hooks=t:(this.hooks={},this.hooks.serialize=new Zt(this),this.hooks.content=new Zt(this)),this.document=void 0,this.contents=void 0,this.output=void 0}load(e){var t=e||this.request||xr,i=new Ge,n=i.promise;return this.contents?i.resolve(this.contents):t(this.url).then((function(s){return this.document=s,this.contents=s.documentElement,this.hooks.content.trigger(this.document,this)}).bind(this)).then((function(){i.resolve(this.contents)}).bind(this)).catch(function(s){i.reject(s)}),n}base(){return xl(this.document,this)}render(e){var t=new Ge,i=t.promise;return this.output,this.load(e).then((function(n){var s=typeof navigator<"u"&&navigator.userAgent||"",a=s.indexOf("Trident")>=0,o;typeof XMLSerializer>"u"||a?o=hl.DOMParser:o=XMLSerializer;var u=new o;return this.output=u.serializeToString(n),this.output}).bind(this)).then((function(){return this.hooks.serialize.trigger(this.output,this)}).bind(this)).then((function(){t.resolve(this.output)}).bind(this)).catch(function(n){t.reject(n)}),i}find(e){var t=this,i=[],n=e.toLowerCase(),s=function(a){for(var o=a.textContent.toLowerCase(),u=t.document.createRange(),h,c,d=-1,b,v=150;c!=-1;)c=o.indexOf(n,d+1),c!=-1&&(u=t.document.createRange(),u.setStart(a,c),u.setEnd(a,c+n.length),h=t.cfiFromRange(u),a.textContent.length<v?b=a.textContent:(b=a.textContent.substring(c-v/2,c+v/2),b="..."+b+"..."),i.push({cfi:h,excerpt:b})),d=c};return Jr(t.document,function(a){s(a)}),i}search(e,t=5){if(typeof document.createTreeWalker>"u")return this.find(e);let i=[];const n=150,s=this,a=e.toLowerCase(),o=function(d){const R=d.reduce((E,p)=>E+p.textContent,"").toLowerCase().indexOf(a);if(R!=-1){const p=R+a.length;let g=0,m=0;if(R<d[0].length){let x;for(;g<d.length-1&&(m+=d[g].length,!(p<=m));)g+=1;let S=d[0],_=d[g],T=s.document.createRange();T.setStart(S,R);let O=d.slice(0,g).reduce((D,L)=>D+L.textContent.length,0);T.setEnd(_,O>p?p:p-O),x=s.cfiFromRange(T);let I=d.slice(0,g+1).reduce((D,L)=>D+L.textContent,"");I.length>n&&(I=I.substring(R-n/2,R+n/2),I="..."+I+"..."),i.push({cfi:x,excerpt:I})}}},u=document.createTreeWalker(s.document,NodeFilter.SHOW_TEXT,null,!1);let h,c=[];for(;h=u.nextNode();)c.push(h),c.length==t&&(o(c.slice(0,t)),c=c.slice(1,t));return c.length>0&&o(c),i}reconcileLayoutSettings(e){var t={layout:e.layout,spread:e.spread,orientation:e.orientation};return this.properties.forEach(function(i){var n=i.replace("rendition:",""),s=n.indexOf("-"),a,o;s!=-1&&(a=n.slice(0,s),o=n.slice(s+1),t[a]=o)}),t}cfiFromRange(e){return new Ze(e,this.cfiBase).toString()}cfiFromElement(e){return new Ze(e,this.cfiBase).toString()}unload(){this.document=void 0,this.contents=void 0,this.output=void 0}destroy(){this.unload(),this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.idref=void 0,this.linear=void 0,this.properties=void 0,this.index=void 0,this.href=void 0,this.url=void 0,this.next=void 0,this.prev=void 0,this.cfiBase=void 0}}class hd{constructor(){this.spineItems=[],this.spineByHref={},this.spineById={},this.hooks={},this.hooks.serialize=new Zt,this.hooks.content=new Zt,this.hooks.content.register(xl),this.hooks.content.register(od),this.hooks.content.register(ud),this.epubcfi=new Ze,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}unpack(e,t,i){this.items=e.spine,this.manifest=e.manifest,this.spineNodeIndex=e.spineNodeIndex,this.baseUrl=e.baseUrl||e.basePath||"",this.length=this.items.length,this.items.forEach((n,s)=>{var a=this.manifest[n.idref],o;n.index=s,n.cfiBase=this.epubcfi.generateChapterComponent(this.spineNodeIndex,n.index,n.id),n.href&&(n.url=t(n.href,!0),n.canonical=i(n.href)),a&&(n.href=a.href,n.url=t(n.href,!0),n.canonical=i(n.href),a.properties.length&&n.properties.push.apply(n.properties,a.properties)),n.linear==="yes"?(n.prev=(function(){let u=n.index;for(;u>0;){let h=this.get(u-1);if(h&&h.linear)return h;u-=1}}).bind(this),n.next=(function(){let u=n.index;for(;u<this.spineItems.length-1;){let h=this.get(u+1);if(h&&h.linear)return h;u+=1}}).bind(this)):(n.prev=function(){},n.next=function(){}),o=new fd(n,this.hooks),this.append(o)}),this.loaded=!0}get(e){var t=0;if(typeof e>"u")for(;t<this.spineItems.length;){let i=this.spineItems[t];if(i&&i.linear)break;t+=1}else this.epubcfi.isCfiString(e)?t=new Ze(e).spinePos:typeof e=="number"||isNaN(e)===!1?t=e:typeof e=="string"&&e.indexOf("#")===0?t=this.spineById[e.substring(1)]:typeof e=="string"&&(e=e.split("#")[0],t=this.spineByHref[e]||this.spineByHref[encodeURI(e)]);return this.spineItems[t]||null}append(e){var t=this.spineItems.length;return e.index=t,this.spineItems.push(e),this.spineByHref[decodeURI(e.href)]=t,this.spineByHref[encodeURI(e.href)]=t,this.spineByHref[e.href]=t,this.spineById[e.idref]=t,t}prepend(e){return this.spineByHref[e.href]=0,this.spineById[e.idref]=0,this.spineItems.forEach(function(t,i){t.index=i}),0}remove(e){var t=this.spineItems.indexOf(e);if(t>-1)return delete this.spineByHref[e.href],delete this.spineById[e.idref],this.spineItems.splice(t,1)}each(){return this.spineItems.forEach.apply(this.spineItems,arguments)}first(){let e=0;do{let t=this.get(e);if(t&&t.linear)return t;e+=1}while(e<this.spineItems.length)}last(){let e=this.spineItems.length-1;do{let t=this.get(e);if(t&&t.linear)return t;e-=1}while(e>=0)}destroy(){this.each(e=>e.destroy()),this.spineItems=void 0,this.spineByHref=void 0,this.spineById=void 0,this.hooks.serialize.clear(),this.hooks.content.clear(),this.hooks=void 0,this.epubcfi=void 0,this.loaded=!1,this.items=void 0,this.manifest=void 0,this.spineNodeIndex=void 0,this.baseUrl=void 0,this.length=void 0}}class la{constructor(e){this._q=[],this.context=e,this.tick=aa,this.running=!1,this.paused=!1}enqueue(){var e,t,i,n=[].shift.call(arguments),s=arguments;if(!n)throw new Error("No Task Provided");return typeof n=="function"?(e=new Ge,t=e.promise,i={task:n,args:s,deferred:e,promise:t}):i={promise:n},this._q.push(i),this.paused==!1&&!this.running&&this.run(),i.promise}dequeue(){var e,t,i;if(this._q.length&&!this.paused){if(e=this._q.shift(),t=e.task,t)return i=t.apply(this.context,e.args),i&&typeof i.then=="function"?i.then((function(){e.deferred.resolve.apply(this.context,arguments)}).bind(this),(function(){e.deferred.reject.apply(this.context,arguments)}).bind(this)):(e.deferred.resolve.apply(this.context,i),e.promise);if(e.promise)return e.promise}else return e=new Ge,e.deferred.resolve(),e.promise}dump(){for(;this._q.length;)this.dequeue()}run(){return this.running||(this.running=!0,this.defered=new Ge),this.tick.call(window,()=>{this._q.length?this.dequeue().then((function(){this.run()}).bind(this)):(this.defered.resolve(),this.running=void 0)}),this.paused==!0&&(this.paused=!1),this.defered.promise}flush(){if(this.running)return this.running;if(this._q.length)return this.running=this.dequeue().then((function(){return this.running=void 0,this.flush()}).bind(this)),this.running}clear(){this._q=[]}length(){return this._q.length}pause(){this.paused=!0}stop(){this._q=[],this.running=!1,this.paused=!0}}const bn="0.3",Mr=["keydown","keyup","keypressed","mouseup","mousedown","mousemove","click","touchend","touchstart","touchmove"],xe={BOOK:{OPEN_FAILED:"openFailed"},CONTENTS:{EXPAND:"expand",RESIZE:"resize",SELECTED:"selected",SELECTED_RANGE:"selectedRange",LINK_CLICKED:"linkClicked"},LOCATIONS:{CHANGED:"changed"},MANAGERS:{RESIZE:"resize",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",ADDED:"added",SCROLL:"scroll",SCROLLED:"scrolled",REMOVED:"removed"},VIEWS:{AXIS:"axis",WRITING_MODE:"writingMode",LOAD_ERROR:"loaderror",RENDERED:"rendered",RESIZED:"resized",DISPLAYED:"displayed",SHOWN:"shown",HIDDEN:"hidden",MARK_CLICKED:"markClicked"},RENDITION:{STARTED:"started",ATTACHED:"attached",DISPLAYED:"displayed",DISPLAY_ERROR:"displayerror",RENDERED:"rendered",REMOVED:"removed",RESIZED:"resized",ORIENTATION_CHANGE:"orientationchange",LOCATION_CHANGED:"locationChanged",RELOCATED:"relocated",MARK_CLICKED:"markClicked",SELECTED:"selected",LAYOUT:"layout"},LAYOUT:{UPDATED:"updated"},ANNOTATION:{ATTACH:"attach",DETACH:"detach"}};class Al{constructor(e,t,i){this.spine=e,this.request=t,this.pause=i||100,this.q=new la(this),this.epubcfi=new Ze,this._locations=[],this._locationsWords=[],this.total=0,this.break=150,this._current=0,this._wordCounter=0,this.currentLocation="",this._currentCfi="",this.processingTimeout=void 0}generate(e){return e&&(this.break=e),this.q.pause(),this.spine.each((function(t){t.linear&&this.q.enqueue(this.process.bind(this),t)}).bind(this)),this.q.run().then((function(){return this.total=this._locations.length-1,this._currentCfi&&(this.currentLocation=this._currentCfi),this._locations}).bind(this))}createRange(){return{startContainer:void 0,startOffset:void 0,endContainer:void 0,endOffset:void 0}}process(e){return e.load(this.request).then((function(t){var i=new Ge,n=this.parse(t,e.cfiBase);return this._locations=this._locations.concat(n),e.unload(),this.processingTimeout=setTimeout(()=>i.resolve(n),this.pause),i.promise}).bind(this))}parse(e,t,i){var n=[],s,a=e.ownerDocument,o=at(a,"body"),u=0,h,c=i||this.break,d=function(b){var v=b.length,R,E=0;if(b.textContent.trim().length===0)return!1;for(u==0&&(s=this.createRange(),s.startContainer=b,s.startOffset=0),R=c-u,R>v&&(u+=v,E=v);E<v;)if(R=c-u,u===0&&(E+=1,s=this.createRange(),s.startContainer=b,s.startOffset=E),E+R>=v)u+=v-E,E=v;else{E+=R,s.endContainer=b,s.endOffset=E;let p=new Ze(s,t).toString();n.push(p),u=0}h=b};if(Jr(o,d.bind(this)),s&&s.startContainer&&h){s.endContainer=h,s.endOffset=h.length;let b=new Ze(s,t).toString();n.push(b),u=0}return n}generateFromWords(e,t,i){var n=e?new Ze(e):void 0;return this.q.pause(),this._locationsWords=[],this._wordCounter=0,this.spine.each((function(s){s.linear&&(n?s.index>=n.spinePos&&this.q.enqueue(this.processWords.bind(this),s,t,n,i):this.q.enqueue(this.processWords.bind(this),s,t,n,i))}).bind(this)),this.q.run().then((function(){return this._currentCfi&&(this.currentLocation=this._currentCfi),this._locationsWords}).bind(this))}processWords(e,t,i,n){return n&&this._locationsWords.length>=n?Promise.resolve():e.load(this.request).then((function(s){var a=new Ge,o=this.parseWords(s,e,t,i),u=n-this._locationsWords.length;return this._locationsWords=this._locationsWords.concat(o.length>=n?o.slice(0,u):o),e.unload(),this.processingTimeout=setTimeout(()=>a.resolve(o),this.pause),a.promise}).bind(this))}countWords(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/\n /,`
`),e.split(" ").length}parseWords(e,t,i,n){var s=t.cfiBase,a=[],o=e.ownerDocument,u=at(o,"body"),h=i,c=n?n.spinePos!==t.index:!0,d;n&&t.index===n.spinePos&&(d=n.findNode(n.range?n.path.steps.concat(n.start.steps):n.path.steps,e.ownerDocument));var b=function(v){if(!c)if(v===d)c=!0;else return!1;if(v.textContent.length<10&&v.textContent.trim().length===0)return!1;var R=this.countWords(v.textContent),E,p=0;if(R===0)return!1;for(E=h-this._wordCounter,E>R&&(this._wordCounter+=R,p=R);p<R;)if(E=h-this._wordCounter,p+E>=R)this._wordCounter+=R-p,p=R;else{p+=E;let g=new Ze(v,s);a.push({cfi:g.toString(),wordCount:this._wordCounter}),this._wordCounter=0}};return Jr(u,b.bind(this)),a}locationFromCfi(e){let t;return Ze.prototype.isCfiString(e)&&(e=new Ze(e)),this._locations.length===0?-1:(t=Xi(e,this._locations,this.epubcfi.compare),t>this.total?this.total:t)}percentageFromCfi(e){if(this._locations.length===0)return null;var t=this.locationFromCfi(e);return this.percentageFromLocation(t)}percentageFromLocation(e){return!e||!this.total?0:e/this.total}cfiFromLocation(e){var t=-1;return typeof e!="number"&&(e=parseInt(e)),e>=0&&e<this._locations.length&&(t=this._locations[e]),t}cfiFromPercentage(e){let t;if(e>1&&console.warn("Normalize cfiFromPercentage value to between 0 - 1"),e>=1){let i=new Ze(this._locations[this.total]);return i.collapse(),i.toString()}return t=Math.ceil(this.total*e),this.cfiFromLocation(t)}load(e){return typeof e=="string"?this._locations=JSON.parse(e):this._locations=e,this.total=this._locations.length-1,this._locations}save(){return JSON.stringify(this._locations)}getCurrent(){return this._current}setCurrent(e){var t;if(typeof e=="string")this._currentCfi=e;else if(typeof e=="number")this._current=e;else return;this._locations.length!==0&&(typeof e=="string"?(t=this.locationFromCfi(e),this._current=t):t=e,this.emit(xe.LOCATIONS.CHANGED,{percentage:this.percentageFromLocation(t)}))}get currentLocation(){return this._current}set currentLocation(e){this.setCurrent(e)}length(){return this._locations.length}destroy(){this.spine=void 0,this.request=void 0,this.pause=void 0,this.q.stop(),this.q=void 0,this.epubcfi=void 0,this._locations=void 0,this.total=void 0,this.break=void 0,this._current=void 0,this.currentLocation=void 0,this._currentCfi=void 0,clearTimeout(this.processingTimeout)}}ni(Al.prototype);class cd{constructor(e){this.packagePath="",this.directory="",this.encoding="",e&&this.parse(e)}parse(e){var t;if(!e)throw new Error("Container File Not Found");if(t=at(e,"rootfile"),!t)throw new Error("No RootFile Found");this.packagePath=t.getAttribute("full-path"),this.directory=_i.dirname(this.packagePath),this.encoding=e.xmlEncoding}destroy(){this.packagePath=void 0,this.directory=void 0,this.encoding=void 0}}class Co{constructor(e){this.manifest={},this.navPath="",this.ncxPath="",this.coverPath="",this.spineNodeIndex=0,this.spine=[],this.metadata={},e&&this.parse(e)}parse(e){var t,i,n;if(!e)throw new Error("Package File Not Found");if(t=at(e,"metadata"),!t)throw new Error("No Metadata Found");if(i=at(e,"manifest"),!i)throw new Error("No Manifest Found");if(n=at(e,"spine"),!n)throw new Error("No Spine Found");return this.manifest=this.parseManifest(i),this.navPath=this.findNavPath(i),this.ncxPath=this.findNcxPath(i,n),this.coverPath=this.findCoverPath(e),this.spineNodeIndex=vl(n),this.spine=this.parseSpine(n,this.manifest),this.uniqueIdentifier=this.findUniqueIdentifier(e),this.metadata=this.parseMetadata(t),this.metadata.direction=n.getAttribute("page-progression-direction"),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex}}parseMetadata(e){var t={};return t.title=this.getElementText(e,"title"),t.creator=this.getElementText(e,"creator"),t.description=this.getElementText(e,"description"),t.pubdate=this.getElementText(e,"date"),t.publisher=this.getElementText(e,"publisher"),t.identifier=this.getElementText(e,"identifier"),t.language=this.getElementText(e,"language"),t.rights=this.getElementText(e,"rights"),t.modified_date=this.getPropertyText(e,"dcterms:modified"),t.layout=this.getPropertyText(e,"rendition:layout"),t.orientation=this.getPropertyText(e,"rendition:orientation"),t.flow=this.getPropertyText(e,"rendition:flow"),t.viewport=this.getPropertyText(e,"rendition:viewport"),t.media_active_class=this.getPropertyText(e,"media:active-class"),t.spread=this.getPropertyText(e,"rendition:spread"),t}parseManifest(e){var t={},i=di(e,"item"),n=Array.prototype.slice.call(i);return n.forEach(function(s){var a=s.getAttribute("id"),o=s.getAttribute("href")||"",u=s.getAttribute("media-type")||"",h=s.getAttribute("media-overlay")||"",c=s.getAttribute("properties")||"";t[a]={href:o,type:u,overlay:h,properties:c.length?c.split(" "):[]}}),t}parseSpine(e,t){var i=[],n=di(e,"itemref"),s=Array.prototype.slice.call(n);return s.forEach(function(a,o){var u=a.getAttribute("idref"),h=a.getAttribute("properties")||"",c=h.length?h.split(" "):[],d={id:a.getAttribute("id"),idref:u,linear:a.getAttribute("linear")||"yes",properties:c,index:o};i.push(d)}),i}findUniqueIdentifier(e){var t=e.documentElement.getAttribute("unique-identifier");if(!t)return"";var i=e.getElementById(t);return i&&i.localName==="identifier"&&i.namespaceURI==="http://purl.org/dc/elements/1.1/"&&i.childNodes.length>0?i.childNodes[0].nodeValue.trim():""}findNavPath(e){var t=Hi(e,"item",{properties:"nav"});return t?t.getAttribute("href"):!1}findNcxPath(e,t){var i=Hi(e,"item",{"media-type":"application/x-dtbncx+xml"}),n;return i||(n=t.getAttribute("toc"),n&&(i=e.querySelector(`#${n}`))),i?i.getAttribute("href"):!1}findCoverPath(e){var t=at(e,"package");t.getAttribute("version");var i=Hi(e,"item",{properties:"cover-image"});if(i)return i.getAttribute("href");var n=Hi(e,"meta",{name:"cover"});if(n){var s=n.getAttribute("content"),a=e.getElementById(s);return a?a.getAttribute("href"):""}else return!1}getElementText(e,t){var i=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",t),n;return!i||i.length===0?"":(n=i[0],n.childNodes.length?n.childNodes[0].nodeValue:"")}getPropertyText(e,t){var i=Hi(e,"meta",{property:t});return i&&i.childNodes.length?i.childNodes[0].nodeValue:""}load(e){this.metadata=e.metadata;let t=e.readingOrder||e.spine;return this.spine=t.map((i,n)=>(i.index=n,i.linear=i.linear||"yes",i)),e.resources.forEach((i,n)=>{this.manifest[n]=i,i.rel&&i.rel[0]==="cover"&&(this.coverPath=i.href)}),this.spineNodeIndex=0,this.toc=e.toc.map((i,n)=>(i.label=i.title,i)),{metadata:this.metadata,spine:this.spine,manifest:this.manifest,navPath:this.navPath,ncxPath:this.ncxPath,coverPath:this.coverPath,spineNodeIndex:this.spineNodeIndex,toc:this.toc}}destroy(){this.manifest=void 0,this.navPath=void 0,this.ncxPath=void 0,this.coverPath=void 0,this.spineNodeIndex=void 0,this.spine=void 0,this.metadata=void 0}}class is{constructor(e){this.toc=[],this.tocByHref={},this.tocById={},this.landmarks=[],this.landmarksByType={},this.length=0,e&&this.parse(e)}parse(e){let t=e.nodeType,i,n;t&&(i=at(e,"html"),n=at(e,"ncx")),t?i?(this.toc=this.parseNav(e),this.landmarks=this.parseLandmarks(e)):n&&(this.toc=this.parseNcx(e)):this.toc=this.load(e),this.length=0,this.unpack(this.toc)}unpack(e){for(var t,i=0;i<e.length;i++)t=e[i],t.href&&(this.tocByHref[t.href]=i),t.id&&(this.tocById[t.id]=i),this.length++,t.subitems.length&&this.unpack(t.subitems)}get(e){var t;return e?(e.indexOf("#")===0?t=this.tocById[e.substring(1)]:e in this.tocByHref&&(t=this.tocByHref[e]),this.getByIndex(e,t,this.toc)):this.toc}getByIndex(e,t,i){if(i.length===0)return;const n=i[t];if(n&&(e===n.id||e===n.href))return n;{let s;for(let a=0;a<i.length&&(s=this.getByIndex(e,t,i[a].subitems),!s);++a);return s}}landmark(e){var t;return e?(t=this.landmarksByType[e],this.landmarks[t]):this.landmarks}parseNav(e){var t=Qr(e,"nav","toc"),i=[];if(!t)return i;let n=Vi(t,"ol",!0);return n&&(i=this.parseNavList(n)),i}parseNavList(e,t){const i=[];if(!e||!e.children)return i;for(let n=0;n<e.children.length;n++){const s=this.navItem(e.children[n],t);s&&i.push(s)}return i}navItem(e,t){let i=e.getAttribute("id")||void 0,n=Vi(e,"a",!0)||Vi(e,"span",!0);if(!n)return;let s=n.getAttribute("href")||"";i||(i=s);let a=n.textContent||"",o=[],u=Vi(e,"ol",!0);return u&&(o=this.parseNavList(u,i)),{id:i,href:s,label:a,subitems:o,parent:t}}parseLandmarks(e){var t=Qr(e,"nav","landmarks"),i=t?di(t,"li"):[],n=i.length,s,a=[],o;if(!i||n===0)return a;for(s=0;s<n;++s)o=this.landmarkItem(i[s]),o&&(a.push(o),this.landmarksByType[o.type]=s);return a}landmarkItem(e){let t=Vi(e,"a",!0);if(!t)return;let i=t.getAttributeNS("http://www.idpf.org/2007/ops","type")||void 0,n=t.getAttribute("href")||"",s=t.textContent||"";return{href:n,label:s,type:i}}parseNcx(e){var t=di(e,"navPoint"),i=t.length,n,s={},a=[],o,u;if(!t||i===0)return a;for(n=0;n<i;++n)o=this.ncxItem(t[n]),s[o.id]=o,o.parent?(u=s[o.parent],u.subitems.push(o)):a.push(o);return a}ncxItem(e){var t=e.getAttribute("id")||!1,i=at(e,"content"),n=i.getAttribute("src"),s=at(e,"navLabel"),a=s.textContent?s.textContent:"",o=[],u=e.parentNode,h;return u&&(u.nodeName==="navPoint"||u.nodeName.split(":").slice(-1)[0]==="navPoint")&&(h=u.getAttribute("id")),{id:t,href:n,label:a,subitems:o,parent:h}}load(e){return e.map(t=>(t.label=t.title,t.subitems=t.children?this.load(t.children):[],t))}forEach(e){return this.toc.forEach(e)}}var nr={application:{ecmascript:["es","ecma"],javascript:"js",ogg:"ogx",pdf:"pdf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],"rdf+xml":"rdf",smil:["smi","smil"],"xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","opf","ncx"],zip:"zip","x-httpd-eruby":"rhtml","x-latex":"latex","x-maker":["frm","maker","frame","fm","fb","book","fbdoc"],"x-object":"o","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","epub+zip":"epub","font-tdpfr":"pfr","inkml+xml":["ink","inkml"],json:"json","jsonml+json":"jsonml","mathml+xml":"mathml","metalink+xml":"metalink",mp4:"mp4s","omdoc+xml":"omdoc",oxps:"oxps","vnd.amazon.ebook":"azw",widget:"wgt","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-otf":"otf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-font-woff":"woff","x-mobipocket-ebook":["prc","mobi"],"x-mspublisher":"pub","x-nzb":"nzb","x-tgif":"obj","xaml+xml":"xaml","xml-dtd":"dtd","xproc+xml":"xpl","xslt+xml":"xslt","internet-property-stream":"acx","x-compress":"z","x-compressed":"tgz","x-gzip":"gz"},audio:{flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp2","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"x-aiff":["aif","aiff","aifc"],"x-ms-wma":"wma","x-wav":"wav",adpcm:"adp",mp4:"mp4a",webm:"weba","x-aac":"aac","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",mid:["mid","rmi"]},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"x-icon":"ico",bmp:"bmp",webp:"webp","x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod"},text:{"cache-manifest":["manifest","appcache"],css:"css",csv:"csv",html:["html","htm","shtml","stm"],mathml:"mml",plain:["txt","text","brf","conf","def","list","log","in","bas"],richtext:"rtx","tab-separated-values":"tsv","x-bibtex":"bib"},video:{mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv"}},dd=(function(){var r,e,t,i,n={};for(r in nr)if(nr.hasOwnProperty(r)){for(e in nr[r])if(nr[r].hasOwnProperty(e))if(t=nr[r][e],typeof t=="string")n[t]=r+"/"+e;else for(i=0;i<t.length;i++)n[t[i]]=r+"/"+e}return n})(),pd="text/plain";function gd(r){return r&&dd[r.split(".").pop().toLowerCase()]||pd}const Yi={lookup:gd};class vd{constructor(e,t){this.settings={replacements:t&&t.replacements||"base64",archive:t&&t.archive,resolver:t&&t.resolver,request:t&&t.request},this.process(e)}process(e){this.manifest=e,this.resources=Object.keys(e).map(function(t){return e[t]}),this.replacementUrls=[],this.html=[],this.assets=[],this.css=[],this.urls=[],this.cssUrls=[],this.split(),this.splitUrls()}split(){this.html=this.resources.filter(function(e){if(e.type==="application/xhtml+xml"||e.type==="text/html")return!0}),this.assets=this.resources.filter(function(e){if(e.type!=="application/xhtml+xml"&&e.type!=="text/html")return!0}),this.css=this.resources.filter(function(e){if(e.type==="text/css")return!0})}splitUrls(){this.urls=this.assets.map((function(e){return e.href}).bind(this)),this.cssUrls=this.css.map(function(e){return e.href})}createUrl(e){var t=new Gt(e),i=Yi.lookup(t.filename);return this.settings.archive?this.settings.archive.createUrl(e,{base64:this.settings.replacements==="base64"}):this.settings.replacements==="base64"?this.settings.request(e,"blob").then(n=>wl(n)).then(n=>Bs(n,i)):this.settings.request(e,"blob").then(n=>Xr(n,i))}replacements(){if(this.settings.replacements==="none")return new Promise((function(t){t(this.urls)}).bind(this));var e=this.urls.map(t=>{var i=this.settings.resolver(t);return this.createUrl(i).catch(n=>(console.error(n),null))});return Promise.all(e).then(t=>(this.replacementUrls=t.filter(i=>typeof i=="string"),t))}replaceCss(e,t){var i=[];return e=e||this.settings.archive,t=t||this.settings.resolver,this.cssUrls.forEach((function(n){var s=this.createCssFile(n,e,t).then((function(a){var o=this.urls.indexOf(n);o>-1&&(this.replacementUrls[o]=a)}).bind(this));i.push(s)}).bind(this)),Promise.all(i)}createCssFile(e){var t;if(_i.isAbsolute(e))return new Promise(function(a){a()});var i=this.settings.resolver(e),n;this.settings.archive?n=this.settings.archive.getText(i):n=this.settings.request(i,"text");var s=this.urls.map(a=>{var o=this.settings.resolver(a),u=new pi(i).relative(o);return u});return n?n.then(a=>(a=Ao(a,s,this.replacementUrls),this.settings.replacements==="base64"?t=Bs(a,"text/css"):t=Xr(a,"text/css"),t),a=>new Promise(function(o){o()})):new Promise(function(a){a()})}relativeTo(e,t){return t=t||this.settings.resolver,this.urls.map((function(i){var n=t(i),s=new pi(e).relative(n);return s}).bind(this))}get(e){var t=this.urls.indexOf(e);if(t!==-1)return this.replacementUrls.length?new Promise((function(i,n){i(this.replacementUrls[t])}).bind(this)):this.createUrl(e)}substitute(e,t){var i;return t?i=this.relativeTo(t):i=this.urls,Ao(e,i,this.replacementUrls)}destroy(){this.settings=void 0,this.manifest=void 0,this.resources=void 0,this.replacementUrls=void 0,this.html=void 0,this.assets=void 0,this.css=void 0,this.urls=void 0,this.cssUrls=void 0}}class rs{constructor(e){this.pages=[],this.locations=[],this.epubcfi=new Ze,this.firstPage=0,this.lastPage=0,this.totalPages=0,this.toc=void 0,this.ncx=void 0,e&&(this.pageList=this.parse(e)),this.pageList&&this.pageList.length&&this.process(this.pageList)}parse(e){var t=at(e,"html"),i=at(e,"ncx");if(t)return this.parseNav(e);if(i)return this.parseNcx(e)}parseNav(e){var t=Qr(e,"nav","page-list"),i=t?di(t,"li"):[],n=i.length,s,a=[],o;if(!i||n===0)return a;for(s=0;s<n;++s)o=this.item(i[s]),a.push(o);return a}parseNcx(e){var t=[],i=0,n,s,a,o=0;if(s=at(e,"pageList"),!s||(a=di(s,"pageTarget"),o=a.length,!a||a.length===0))return t;for(i=0;i<o;++i)n=this.ncxItem(a[i]),t.push(n);return t}ncxItem(e){var t=at(e,"navLabel"),i=at(t,"text"),n=i.textContent,s=at(e,"content"),a=s.getAttribute("src"),o=parseInt(n,10);return{href:a,page:o}}item(e){var t=at(e,"a"),i=t.getAttribute("href")||"",n=t.textContent||"",s=parseInt(n),a=i.indexOf("epubcfi"),o,u,h;return a!=-1?(o=i.split("#"),u=o[0],h=o.length>1?o[1]:!1,{cfi:h,href:i,packageUrl:u,page:s}):{href:i,page:s}}process(e){e.forEach(function(t){this.pages.push(t.page),t.cfi&&this.locations.push(t.cfi)},this),this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage}pageFromCfi(e){var t=-1;if(this.locations.length===0)return-1;var i=Zr(e,this.locations,this.epubcfi.compare);return i!=-1?t=this.pages[i]:(i=Xi(e,this.locations,this.epubcfi.compare),t=i-1>=0?this.pages[i-1]:this.pages[0],t!==void 0||(t=-1)),t}cfiFromPage(e){var t=-1;typeof e!="number"&&(e=parseInt(e));var i=this.pages.indexOf(e);return i!=-1&&(t=this.locations[i]),t}pageFromPercentage(e){var t=Math.round(this.totalPages*e);return t}percentageFromPage(e){var t=(e-this.firstPage)/this.totalPages;return Math.round(t*1e3)/1e3}percentageFromCfi(e){var t=this.pageFromCfi(e),i=this.percentageFromPage(t);return i}destroy(){this.pages=void 0,this.locations=void 0,this.epubcfi=void 0,this.pageList=void 0,this.toc=void 0,this.ncx=void 0}}class Cl{constructor(e){this.settings=e,this.name=e.layout||"reflowable",this._spread=e.spread!=="none",this._minSpreadWidth=e.minSpreadWidth||800,this._evenSpreads=e.evenSpreads||!1,e.flow==="scrolled"||e.flow==="scrolled-continuous"||e.flow==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.width=0,this.height=0,this.spreadWidth=0,this.delta=0,this.columnWidth=0,this.gap=0,this.divisor=1,this.props={name:this.name,spread:this._spread,flow:this._flow,width:0,height:0,spreadWidth:0,delta:0,columnWidth:0,gap:0,divisor:1}}flow(e){return typeof e<"u"&&(e==="scrolled"||e==="scrolled-continuous"||e==="scrolled-doc"?this._flow="scrolled":this._flow="paginated",this.update({flow:this._flow})),this._flow}spread(e,t){return e&&(this._spread=e!=="none",this.update({spread:this._spread})),t>=0&&(this._minSpreadWidth=t),this._spread}calculate(e,t,i){var n=1,s=i||0,a=e,o=t,u=Math.floor(a/12),h,c,d,b;this._spread&&a>=this._minSpreadWidth?n=2:n=1,this.name==="reflowable"&&this._flow==="paginated"&&!(i>=0)&&(s=u%2===0?u:u-1),this.name==="pre-paginated"&&(s=0),n>1?(h=a/n-s,d=h+s):(h=a,d=a),this.name==="pre-paginated"&&n>1&&(a=h),c=h*n+s,b=a,this.width=a,this.height=o,this.spreadWidth=c,this.pageWidth=d,this.delta=b,this.columnWidth=h,this.gap=s,this.divisor=n,this.update({width:a,height:o,spreadWidth:c,pageWidth:d,delta:b,columnWidth:h,gap:s,divisor:n})}format(e,t,i){var n;return this.name==="pre-paginated"?n=e.fit(this.columnWidth,this.height,t):this._flow==="paginated"?n=e.columns(this.width,this.height,this.columnWidth,this.gap,this.settings.direction):i&&i==="horizontal"?n=e.size(null,this.height):n=e.size(this.width,null),n}count(e,t){let i,n;return this.name==="pre-paginated"?(i=1,n=1):this._flow==="paginated"?(t=t||this.delta,i=Math.ceil(e/t),n=i*this.divisor):(t=t||this.height,i=Math.ceil(e/t),n=i),{spreads:i,pages:n}}update(e){if(Object.keys(e).forEach(t=>{this.props[t]===e[t]&&delete e[t]}),Object.keys(e).length>0){let t=At(this.props,e);this.emit(xe.LAYOUT.UPDATED,t,e)}}}ni(Cl.prototype);class md{constructor(e){this.rendition=e,this._themes={default:{rules:{},url:"",serialized:""}},this._overrides={},this._current="default",this._injected=[],this.rendition.hooks.content.register(this.inject.bind(this)),this.rendition.hooks.content.register(this.overrides.bind(this))}register(){if(arguments.length!==0){if(arguments.length===1&&typeof arguments[0]=="object")return this.registerThemes(arguments[0]);if(arguments.length===1&&typeof arguments[0]=="string")return this.default(arguments[0]);if(arguments.length===2&&typeof arguments[1]=="string")return this.registerUrl(arguments[0],arguments[1]);if(arguments.length===2&&typeof arguments[1]=="object")return this.registerRules(arguments[0],arguments[1])}}default(e){if(e){if(typeof e=="string")return this.registerUrl("default",e);if(typeof e=="object")return this.registerRules("default",e)}}registerThemes(e){for(var t in e)e.hasOwnProperty(t)&&(typeof e[t]=="string"?this.registerUrl(t,e[t]):this.registerRules(t,e[t]))}registerCss(e,t){this._themes[e]={serialized:t},(this._injected[e]||e=="default")&&this.update(e)}registerUrl(e,t){var i=new Gt(t);this._themes[e]={url:i.toString()},(this._injected[e]||e=="default")&&this.update(e)}registerRules(e,t){this._themes[e]={rules:t},(this._injected[e]||e=="default")&&this.update(e)}select(e){var t=this._current,i;this._current=e,this.update(e),i=this.rendition.getContents(),i.forEach(n=>{n.removeClass(t),n.addClass(e)})}update(e){var t=this.rendition.getContents();t.forEach(i=>{this.add(e,i)})}inject(e){var t=[],i=this._themes,n;for(var s in i)i.hasOwnProperty(s)&&(s===this._current||s==="default")&&(n=i[s],(n.rules&&Object.keys(n.rules).length>0||n.url&&t.indexOf(n.url)===-1)&&this.add(s,e),this._injected.push(s));this._current!="default"&&e.addClass(this._current)}add(e,t){var i=this._themes[e];!i||!t||(i.url?t.addStylesheet(i.url):i.serialized?(t.addStylesheetCss(i.serialized,e),i.injected=!0):i.rules&&(t.addStylesheetRules(i.rules,e),i.injected=!0))}override(e,t,i){var n=this.rendition.getContents();this._overrides[e]={value:t,priority:i===!0},n.forEach(s=>{s.css(e,this._overrides[e].value,this._overrides[e].priority)})}removeOverride(e){var t=this.rendition.getContents();delete this._overrides[e],t.forEach(i=>{i.css(e)})}overrides(e){var t=this._overrides;for(var i in t)t.hasOwnProperty(i)&&e.css(i,t[i].value,t[i].priority)}fontSize(e){this.override("font-size",e)}font(e){this.override("font-family",e,!0)}destroy(){this.rendition=void 0,this._themes=void 0,this._overrides=void 0,this._current=void 0,this._injected=void 0}}class en{constructor(e,t,i,n=!1){this.layout=e,this.horizontal=i==="horizontal",this.direction=t||"ltr",this._dev=n}section(e){var t=this.findRanges(e),i=this.rangeListToCfiList(e.section.cfiBase,t);return i}page(e,t,i,n){var s=e&&e.document?e.document.body:!1,a;if(s){if(a=this.rangePairToCfiPair(t,{start:this.findStart(s,i,n),end:this.findEnd(s,i,n)}),this._dev===!0){let o=e.document,u=new Ze(a.start).toRange(o),h=new Ze(a.end).toRange(o),c=o.defaultView.getSelection(),d=o.createRange();c.removeAllRanges(),d.setStart(u.startContainer,u.startOffset),d.setEnd(h.endContainer,h.endOffset),c.addRange(d)}return a}}walk(e,t){if(!(e&&e.nodeType===Node.TEXT_NODE)){var i={acceptNode:function(u){return u.data.trim().length>0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},n=i.acceptNode;n.acceptNode=i.acceptNode;for(var s=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,n,!1),a,o;(a=s.nextNode())&&(o=t(a),!o););return o}}findRanges(e){for(var t=[],i=e.contents.scrollWidth(),n=Math.ceil(i/this.layout.spreadWidth),s=n*this.layout.divisor,a=this.layout.columnWidth,o=this.layout.gap,u,h,c=0;c<s.pages;c++)u=(a+o)*c,h=a*(c+1)+o*c,t.push({start:this.findStart(e.document.body,u,h),end:this.findEnd(e.document.body,u,h)});return t}findStart(e,t,i){for(var n=[e],s,a,o=e;n.length;)if(s=n.shift(),a=this.walk(s,u=>{var h,c,d,b,v;if(v=Ls(u),this.horizontal&&this.direction==="ltr"){if(h=this.horizontal?v.left:v.top,c=this.horizontal?v.right:v.bottom,h>=t&&h<=i)return u;if(c>t)return u;o=u,n.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(h=v.left,c=v.right,c<=i&&c>=t)return u;if(h<i)return u;o=u,n.push(u)}else{if(d=v.top,b=v.bottom,d>=t&&d<=i)return u;if(b>t)return u;o=u,n.push(u)}}),a)return this.findTextStartRange(a,t,i);return this.findTextStartRange(o,t,i)}findEnd(e,t,i){for(var n=[e],s,a=e,o;n.length;)if(s=n.shift(),o=this.walk(s,u=>{var h,c,d,b,v;if(v=Ls(u),this.horizontal&&this.direction==="ltr"){if(h=Math.round(v.left),c=Math.round(v.right),h>i&&a)return a;if(c>i)return u;a=u,n.push(u)}else if(this.horizontal&&this.direction==="rtl"){if(h=Math.round(this.horizontal?v.left:v.top),c=Math.round(this.horizontal?v.right:v.bottom),c<t&&a)return a;if(h<t)return u;a=u,n.push(u)}else{if(d=Math.round(v.top),b=Math.round(v.bottom),d>i&&a)return a;if(b>i)return u;a=u,n.push(u)}}),o)return this.findTextEndRange(o,t,i);return this.findTextEndRange(a,t,i)}findTextStartRange(e,t,i){for(var n=this.splitTextNodeIntoRanges(e),s,a,o,u,h,c=0;c<n.length;c++)if(s=n[c],a=s.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(o=a.left,o>=t)return s}else if(this.horizontal&&this.direction==="rtl"){if(h=a.right,h<=i)return s}else if(u=a.top,u>=t)return s;return n[0]}findTextEndRange(e,t,i){for(var n=this.splitTextNodeIntoRanges(e),s,a,o,u,h,c,d,b=0;b<n.length;b++){if(a=n[b],o=a.getBoundingClientRect(),this.horizontal&&this.direction==="ltr"){if(u=o.left,h=o.right,u>i&&s)return s;if(h>i)return a}else if(this.horizontal&&this.direction==="rtl"){if(u=o.left,h=o.right,h<t&&s)return s;if(u<t)return a}else{if(c=o.top,d=o.bottom,c>i&&s)return s;if(d>i)return a}s=a}return n[n.length-1]}splitTextNodeIntoRanges(e,t){var i=[],n=e.textContent||"",s=n.trim(),a,o=e.ownerDocument,u=t||" ",h=s.indexOf(u);if(h===-1||e.nodeType!=Node.TEXT_NODE)return a=o.createRange(),a.selectNodeContents(e),[a];for(a=o.createRange(),a.setStart(e,0),a.setEnd(e,h),i.push(a),a=!1;h!=-1;)h=s.indexOf(u,h+1),h>0&&(a&&(a.setEnd(e,h),i.push(a)),a=o.createRange(),a.setStart(e,h+1));return a&&(a.setEnd(e,s.length),i.push(a)),i}rangePairToCfiPair(e,t){var i=t.start,n=t.end;i.collapse(!0),n.collapse(!1);let s=new Ze(i,e).toString(),a=new Ze(n,e).toString();return{start:s,end:a}}rangeListToCfiList(e,t){for(var i=[],n,s=0;s<t.length;s++)n=this.rangePairToCfiPair(e,t[s]),i.push(n);return i}axis(e){return e&&(this.horizontal=e==="horizontal"),this.horizontal}}const Dl=typeof navigator<"u",bd=Dl&&/Chrome/.test(navigator.userAgent),Do=Dl&&!bd&&/AppleWebKit/.test(navigator.userAgent),yd=1;class fa{constructor(e,t,i,n){this.epubcfi=new Ze,this.document=e,this.documentElement=this.document.documentElement,this.content=t||this.document.body,this.window=this.document.defaultView,this._size={width:0,height:0},this.sectionIndex=n||0,this.cfiBase=i||"",this.epubReadingSystem("epub.js",bn),this.called=0,this.active=!0,this.listeners()}static get listenedEvents(){return Mr}width(e){var t=this.content;return e&&pt(e)&&(e=e+"px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}height(e){var t=this.content;return e&&pt(e)&&(e=e+"px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}contentWidth(e){var t=this.content||this.document.body;return e&&pt(e)&&(e=e+"px"),e&&(t.style.width=e),parseInt(this.window.getComputedStyle(t).width)}contentHeight(e){var t=this.content||this.document.body;return e&&pt(e)&&(e=e+"px"),e&&(t.style.height=e),parseInt(this.window.getComputedStyle(t).height)}textWidth(){let e,t,i=this.document.createRange(),n=this.content||this.document.body,s=Yr(n);return i.selectNodeContents(n),e=i.getBoundingClientRect(),t=e.width,s&&s.width&&(t+=s.width),Math.round(t)}textHeight(){let e,t,i=this.document.createRange(),n=this.content||this.document.body;return i.selectNodeContents(n),e=i.getBoundingClientRect(),t=e.bottom,Math.round(t)}scrollWidth(){var e=this.documentElement.scrollWidth;return e}scrollHeight(){var e=this.documentElement.scrollHeight;return e}overflow(e){return e&&(this.documentElement.style.overflow=e),this.window.getComputedStyle(this.documentElement).overflow}overflowX(e){return e&&(this.documentElement.style.overflowX=e),this.window.getComputedStyle(this.documentElement).overflowX}overflowY(e){return e&&(this.documentElement.style.overflowY=e),this.window.getComputedStyle(this.documentElement).overflowY}css(e,t,i){var n=this.content||this.document.body;return t?n.style.setProperty(e,t,i?"important":""):n.style.removeProperty(e),this.window.getComputedStyle(n)[e]}viewport(e){var t=this.document.querySelector("meta[name='viewport']"),i={width:void 0,height:void 0,scale:void 0,minimum:void 0,maximum:void 0,scalable:void 0},n=[],s={};if(t&&t.hasAttribute("content")){let a=t.getAttribute("content"),o=a.match(/width\s*=\s*([^,]*)/),u=a.match(/height\s*=\s*([^,]*)/),h=a.match(/initial-scale\s*=\s*([^,]*)/),c=a.match(/minimum-scale\s*=\s*([^,]*)/),d=a.match(/maximum-scale\s*=\s*([^,]*)/),b=a.match(/user-scalable\s*=\s*([^,]*)/);o&&o.length&&typeof o[1]<"u"&&(i.width=o[1]),u&&u.length&&typeof u[1]<"u"&&(i.height=u[1]),h&&h.length&&typeof h[1]<"u"&&(i.scale=h[1]),c&&c.length&&typeof c[1]<"u"&&(i.minimum=c[1]),d&&d.length&&typeof d[1]<"u"&&(i.maximum=d[1]),b&&b.length&&typeof b[1]<"u"&&(i.scalable=b[1])}return s=gl(e||{},i),e&&(s.width&&n.push("width="+s.width),s.height&&n.push("height="+s.height),s.scale&&n.push("initial-scale="+s.scale),s.scalable==="no"?(n.push("minimum-scale="+s.scale),n.push("maximum-scale="+s.scale),n.push("user-scalable="+s.scalable)):(s.scalable&&n.push("user-scalable="+s.scalable),s.minimum&&n.push("minimum-scale="+s.minimum),s.maximum&&n.push("minimum-scale="+s.maximum)),t||(t=this.document.createElement("meta"),t.setAttribute("name","viewport"),this.document.querySelector("head").appendChild(t)),t.setAttribute("content",n.join(", ")),this.window.scrollTo(0,0)),s}expand(){this.emit(xe.CONTENTS.EXPAND)}listeners(){this.imageLoadListeners(),this.mediaQueryListeners(),this.addEventListeners(),this.addSelectionListeners(),typeof ResizeObserver>"u"?(this.resizeListeners(),this.visibilityListeners()):this.resizeObservers(),this.linksHandler()}removeListeners(){this.removeEventListeners(),this.removeSelectionListeners(),this.observer&&this.observer.disconnect(),clearTimeout(this.expanding)}resizeCheck(){let e=this.textWidth(),t=this.textHeight();(e!=this._size.width||t!=this._size.height)&&(this._size={width:e,height:t},this.onResize&&this.onResize(this._size),this.emit(xe.CONTENTS.RESIZE,this._size))}resizeListeners(){clearTimeout(this.expanding),requestAnimationFrame(this.resizeCheck.bind(this)),this.expanding=setTimeout(this.resizeListeners.bind(this),350)}visibilityListeners(){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&this.active===!1?(this.active=!0,this.resizeListeners()):(this.active=!1,clearTimeout(this.expanding))})}transitionListeners(){let e=this.content;e.style.transitionProperty="font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height",e.style.transitionDuration="0.001ms",e.style.transitionTimingFunction="linear",e.style.transitionDelay="0",this._resizeCheck=this.resizeCheck.bind(this),this.document.addEventListener("transitionend",this._resizeCheck)}mediaQueryListeners(){for(var e=this.document.styleSheets,t=(function(o){o.matches&&!this._expanding&&setTimeout(this.expand.bind(this),1)}).bind(this),i=0;i<e.length;i+=1){var n;try{n=e[i].cssRules}catch{return}if(!n)return;for(var s=0;s<n.length;s+=1)if(n[s].media){var a=this.window.matchMedia(n[s].media.mediaText);a.addListener(t)}}}resizeObservers(){this.observer=new ResizeObserver(e=>{requestAnimationFrame(this.resizeCheck.bind(this))}),this.observer.observe(this.document.documentElement)}mutationObservers(){this.observer=new MutationObserver(t=>{this.resizeCheck()});let e={attributes:!0,childList:!0,characterData:!0,subtree:!0};this.observer.observe(this.document,e)}imageLoadListeners(){for(var e=this.document.querySelectorAll("img"),t,i=0;i<e.length;i++)t=e[i],typeof t.naturalWidth<"u"&&t.naturalWidth===0&&(t.onload=this.expand.bind(this))}fontLoadListeners(){!this.document||!this.document.fonts||this.document.fonts.ready.then((function(){this.resizeCheck()}).bind(this))}root(){return this.document?this.document.documentElement:null}locationOf(e,t){var i,n={left:0,top:0};if(!this.document)return n;if(this.epubcfi.isCfiString(e)){let s=new Ze(e).toRange(this.document,t);if(s){try{if(!s.endContainer||s.startContainer==s.endContainer&&s.startOffset==s.endOffset){let a=s.startContainer.textContent.indexOf(" ",s.startOffset);a==-1&&(a=s.startContainer.textContent.length),s.setEnd(s.startContainer,a)}}catch(a){console.error("setting end offset to start container length failed",a)}if(s.startContainer.nodeType===Node.ELEMENT_NODE)i=s.startContainer.getBoundingClientRect(),n.left=i.left,n.top=i.top;else if(Do){let a=s.startContainer,o=new Range;try{a.nodeType===yd?i=a.getBoundingClientRect():s.startOffset+2<a.length?(o.setStart(a,s.startOffset),o.setEnd(a,s.startOffset+2),i=o.getBoundingClientRect()):s.startOffset-2>0?(o.setStart(a,s.startOffset-2),o.setEnd(a,s.startOffset),i=o.getBoundingClientRect()):i=a.parentNode.getBoundingClientRect()}catch(u){console.error(u,u.stack)}}else i=s.getBoundingClientRect()}}else if(typeof e=="string"&&e.indexOf("#")>-1){let s=e.substring(e.indexOf("#")+1),a=this.document.getElementById(s);if(a)if(Do){let o=new Range;o.selectNode(a),i=o.getBoundingClientRect()}else i=a.getBoundingClientRect()}return i&&(n.left=i.left,n.top=i.top),n}addStylesheet(e){return new Promise((function(t,i){var n,s=!1;if(!this.document){t(!1);return}if(n=this.document.querySelector("link[href='"+e+"']"),n){t(!0);return}n=this.document.createElement("link"),n.type="text/css",n.rel="stylesheet",n.href=e,n.onload=n.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(()=>{t(!0)},1))},this.document.head.appendChild(n)}).bind(this))}_getStylesheetNode(e){var t;return e="epubjs-inserted-css-"+(e||""),this.document?(t=this.document.getElementById(e),t||(t=this.document.createElement("style"),t.id=e,this.document.head.appendChild(t)),t):!1}addStylesheetCss(e,t){if(!this.document||!e)return!1;var i;return i=this._getStylesheetNode(t),i.innerHTML=e,!0}addStylesheetRules(e,t){var i;if(!(!this.document||!e||e.length===0))if(i=this._getStylesheetNode(t).sheet,Object.prototype.toString.call(e)==="[object Array]")for(var n=0,s=e.length;n<s;n++){var a=1,o=e[n],u=e[n][0],h="";Object.prototype.toString.call(o[1][0])==="[object Array]"&&(o=o[1],a=0);for(var c=o.length;a<c;a++){var d=o[a];h+=d[0]+":"+d[1]+(d[2]?" !important":"")+`;
`}i.insertRule(u+"{"+h+"}",i.cssRules.length)}else Object.keys(e).forEach(v=>{const R=e[v];if(Array.isArray(R))R.forEach(E=>{const g=Object.keys(E).map(m=>`${m}:${E[m]}`).join(";");i.insertRule(`${v}{${g}}`,i.cssRules.length)});else{const p=Object.keys(R).map(g=>`${g}:${R[g]}`).join(";");i.insertRule(`${v}{${p}}`,i.cssRules.length)}})}addScript(e){return new Promise((function(t,i){var n,s=!1;if(!this.document){t(!1);return}n=this.document.createElement("script"),n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){!s&&(!this.readyState||this.readyState=="complete")&&(s=!0,setTimeout(function(){t(!0)},1))},this.document.head.appendChild(n)}).bind(this))}addClass(e){var t;this.document&&(t=this.content||this.document.body,t&&t.classList.add(e))}removeClass(e){var t;this.document&&(t=this.content||this.document.body,t&&t.classList.remove(e))}addEventListeners(){this.document&&(this._triggerEvent=this.triggerEvent.bind(this),Mr.forEach(function(e){this.document.addEventListener(e,this._triggerEvent,{passive:!0})},this))}removeEventListeners(){this.document&&(Mr.forEach(function(e){this.document.removeEventListener(e,this._triggerEvent,{passive:!0})},this),this._triggerEvent=void 0)}triggerEvent(e){this.emit(e.type,e)}addSelectionListeners(){this.document&&(this._onSelectionChange=this.onSelectionChange.bind(this),this.document.addEventListener("selectionchange",this._onSelectionChange,{passive:!0}))}removeSelectionListeners(){this.document&&(this.document.removeEventListener("selectionchange",this._onSelectionChange,{passive:!0}),this._onSelectionChange=void 0)}onSelectionChange(e){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout((function(){var t=this.window.getSelection();this.triggerSelectedEvent(t)}).bind(this),250)}triggerSelectedEvent(e){var t,i;e&&e.rangeCount>0&&(t=e.getRangeAt(0),t.collapsed||(i=new Ze(t,this.cfiBase).toString(),this.emit(xe.CONTENTS.SELECTED,i),this.emit(xe.CONTENTS.SELECTED_RANGE,t)))}range(e,t){var i=new Ze(e);return i.toRange(this.document,t)}cfiFromRange(e,t){return new Ze(e,this.cfiBase,t).toString()}cfiFromNode(e,t){return new Ze(e,this.cfiBase,t).toString()}map(e){var t=new en(e);return t.section()}size(e,t){var i={scale:1,scalable:"no"};this.layoutStyle("scrolling"),e>=0&&(this.width(e),i.width=e,this.css("padding","0 "+e/12+"px")),t>=0&&(this.height(t),i.height=t),this.css("margin","0"),this.css("box-sizing","border-box"),this.viewport(i)}columns(e,t,i,n,s){let a=Wi("column-axis"),o=Wi("column-gap"),u=Wi("column-width"),h=Wi("column-fill"),d=this.writingMode().indexOf("vertical")===0?"vertical":"horizontal";this.layoutStyle("paginated"),s==="rtl"&&d==="horizontal"&&this.direction(s),this.width(e),this.height(t),this.viewport({width:e,height:t,scale:1,scalable:"no"}),this.css("overflow-y","hidden"),this.css("margin","0",!0),d==="vertical"?(this.css("padding-top",n/2+"px",!0),this.css("padding-bottom",n/2+"px",!0),this.css("padding-left","20px"),this.css("padding-right","20px"),this.css(a,"vertical")):(this.css("padding-top","20px"),this.css("padding-bottom","20px"),this.css("padding-left",n/2+"px",!0),this.css("padding-right",n/2+"px",!0),this.css(a,"horizontal")),this.css("box-sizing","border-box"),this.css("max-width","inherit"),this.css(h,"auto"),this.css(o,n+"px"),this.css(u,i+"px"),this.css("-webkit-line-box-contain","block glyphs replaced")}scaler(e,t,i){var n="scale("+e+")",s="";this.css("transform-origin","top left"),(t>=0||i>=0)&&(s=" translate("+(t||0)+"px, "+(i||0)+"px )"),this.css("transform",n+s)}fit(e,t,i){var n=this.viewport(),s=parseInt(n.width),a=parseInt(n.height),o=e/s,u=t/a,h=o<u?o:u;if(this.layoutStyle("paginated"),this.width(s),this.height(a),this.overflow("hidden"),this.scaler(h,0,0),this.css("background-size",s*h+"px "+a*h+"px"),this.css("background-color","transparent"),i&&i.properties.includes("page-spread-left")){var c=e-s*h;this.css("margin-left",c+"px")}}direction(e){this.documentElement&&(this.documentElement.style.direction=e)}mapPage(e,t,i,n,s){var a=new en(t,s);return a.page(this,e,i,n)}linksHandler(){ld(this.content,e=>{this.emit(xe.CONTENTS.LINK_CLICKED,e)})}writingMode(e){let t=Wi("writing-mode");return e&&this.documentElement&&(this.documentElement.style[t]=e),this.window.getComputedStyle(this.documentElement)[t]||""}layoutStyle(e){return e&&(this._layoutStyle=e,navigator.epubReadingSystem.layoutStyle=this._layoutStyle),this._layoutStyle||"paginated"}epubReadingSystem(e,t){return navigator.epubReadingSystem={name:e,version:t,layoutStyle:this.layoutStyle(),hasFeature:function(i){switch(i){case"dom-manipulation":return!0;case"layout-changes":return!0;case"touch-events":return!0;case"mouse-events":return!0;case"keyboard-events":return!0;case"spine-scripting":return!1;default:return!1}}},navigator.epubReadingSystem}destroy(){this.removeListeners()}}ni(fa.prototype);class _d{constructor(e){this.rendition=e,this.highlights=[],this.underlines=[],this.marks=[],this._annotations={},this._annotationsBySectionIndex={},this.rendition.hooks.render.register(this.inject.bind(this)),this.rendition.hooks.unloaded.register(this.clear.bind(this))}add(e,t,i,n,s,a){let o=encodeURI(t+e),h=new Ze(t).spinePos,c=new Sl({type:e,cfiRange:t,data:i,sectionIndex:h,cb:n,className:s,styles:a});return this._annotations[o]=c,h in this._annotationsBySectionIndex?this._annotationsBySectionIndex[h].push(o):this._annotationsBySectionIndex[h]=[o],this.rendition.views().forEach(b=>{c.sectionIndex===b.index&&c.attach(b)}),c}remove(e,t){let i=encodeURI(e+t);if(i in this._annotations){let n=this._annotations[i];if(t&&n.type!==t)return;this.rendition.views().forEach(a=>{this._removeFromAnnotationBySectionIndex(n.sectionIndex,i),n.sectionIndex===a.index&&n.detach(a)}),delete this._annotations[i]}}_removeFromAnnotationBySectionIndex(e,t){this._annotationsBySectionIndex[e]=this._annotationsAt(e).filter(i=>i!==t)}_annotationsAt(e){return this._annotationsBySectionIndex[e]}highlight(e,t,i,n,s){return this.add("highlight",e,t,i,n,s)}underline(e,t,i,n,s){return this.add("underline",e,t,i,n,s)}mark(e,t,i){return this.add("mark",e,t,i)}each(){return this._annotations.forEach.apply(this._annotations,arguments)}inject(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(n=>{this._annotations[n].attach(e)})}clear(e){let t=e.index;t in this._annotationsBySectionIndex&&this._annotationsBySectionIndex[t].forEach(n=>{this._annotations[n].detach(e)})}show(){}hide(){}}class Sl{constructor({type:e,cfiRange:t,data:i,sectionIndex:n,cb:s,className:a,styles:o}){this.type=e,this.cfiRange=t,this.data=i,this.sectionIndex=n,this.mark=void 0,this.cb=s,this.className=a,this.styles=o}update(e){this.data=e}attach(e){let{cfiRange:t,data:i,type:n,mark:s,cb:a,className:o,styles:u}=this,h;return n==="highlight"?h=e.highlight(t,i,a,o,u):n==="underline"?h=e.underline(t,i,a,o,u):n==="mark"&&(h=e.mark(t,i,a)),this.mark=h,this.emit(xe.ANNOTATION.ATTACH,h),h}detach(e){let{cfiRange:t,type:i}=this,n;return e&&(i==="highlight"?n=e.unhighlight(t):i==="underline"?n=e.ununderline(t):i==="mark"&&(n=e.unmark(t))),this.mark=void 0,this.emit(xe.ANNOTATION.DETACH,n),n}text(){}}ni(Sl.prototype);var Vt={},sr={},So;function wd(){if(So)return sr;So=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.createElement=r;function r(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}return sr.default={createElement:r},sr}var qi={},To;function Ed(){if(To)return qi;To=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.proxyMouse=r,qi.clone=e,qi.default={proxyMouse:r};function r(i,n){function s(h){for(var c=n.length-1;c>=0;c--){var d=n[c],b=h.clientX,v=h.clientY;if(h.touches&&h.touches.length&&(b=h.touches[0].clientX,v=h.touches[0].clientY),!!t(d,i,b,v)){d.dispatchEvent(e(h));break}}}if(i.nodeName==="iframe"||i.nodeName==="IFRAME")try{this.target=i.contentDocument}catch{this.target=i}else this.target=i;for(var a=["mouseup","mousedown","click","touchstart"],o=0;o<a.length;o++){var u=a[o];this.target.addEventListener(u,function(h){return s(h)},!1)}}function e(i){var n=Object.assign({},i,{bubbles:!1});try{return new MouseEvent(i.type,n)}catch{var s=document.createEvent("MouseEvents");return s.initMouseEvent(i.type,!1,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget),s}}function t(i,n,s,a){var o=n.getBoundingClientRect();function u(v,R,E){var p=v.top-o.top,g=v.left-o.left,m=p+v.height,x=g+v.width;return p<=E&&g<=R&&m>E&&x>R}var h=i.getBoundingClientRect();if(!u(h,s,a))return!1;for(var c=i.getClientRects(),d=0,b=c.length;d<b;d++)if(u(c[d],s,a))return!0;return!1}return qi}var ko;function xd(){if(ko)return Vt;ko=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.Underline=Vt.Highlight=Vt.Mark=Vt.Pane=void 0;var r=function E(p,g,m){p===null&&(p=Function.prototype);var x=Object.getOwnPropertyDescriptor(p,g);if(x===void 0){var S=Object.getPrototypeOf(p);return S===null?void 0:E(S,g,m)}else{if("value"in x)return x.value;var _=x.get;return _===void 0?void 0:_.call(m)}},e=(function(){function E(p,g){for(var m=0;m<g.length;m++){var x=g[m];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}return function(p,g,m){return g&&E(p.prototype,g),m&&E(p,m),p}})(),t=wd(),i=a(t),n=Ed(),s=a(n);function a(E){return E&&E.__esModule?E:{default:E}}function o(E,p){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:E}function u(E,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);E.prototype=Object.create(p&&p.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(E,p):E.__proto__=p)}function h(E,p){if(!(E instanceof p))throw new TypeError("Cannot call a class as a function")}Vt.Pane=(function(){function E(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body;h(this,E),this.target=p,this.element=i.default.createElement("svg"),this.marks=[],this.element.style.position="absolute",this.element.setAttribute("pointer-events","none"),s.default.proxyMouse(this.target,this.marks),this.container=g,this.container.appendChild(this.element),this.render()}return e(E,[{key:"addMark",value:function(g){var m=i.default.createElement("g");return this.element.appendChild(m),g.bind(m,this.container),this.marks.push(g),g.render(),g}},{key:"removeMark",value:function(g){var m=this.marks.indexOf(g);if(m!==-1){var x=g.unbind();this.element.removeChild(x),this.marks.splice(m,1)}}},{key:"render",value:function(){v(this.element,b(this.target,this.container));var g=!0,m=!1,x=void 0;try{for(var S=this.marks[Symbol.iterator](),_;!(g=(_=S.next()).done);g=!0){var T=_.value;T.render()}}catch(O){m=!0,x=O}finally{try{!g&&S.return&&S.return()}finally{if(m)throw x}}}}]),E})();var c=Vt.Mark=(function(){function E(){h(this,E),this.element=null}return e(E,[{key:"bind",value:function(g,m){this.element=g,this.container=m}},{key:"unbind",value:function(){var g=this.element;return this.element=null,g}},{key:"render",value:function(){}},{key:"dispatchEvent",value:function(g){this.element&&this.element.dispatchEvent(g)}},{key:"getBoundingClientRect",value:function(){return this.element.getBoundingClientRect()}},{key:"getClientRects",value:function(){for(var g=[],m=this.element.firstChild;m;)g.push(m.getBoundingClientRect()),m=m.nextSibling;return g}},{key:"filteredRanges",value:function(){var g=Array.from(this.range.getClientRects());return g.filter(function(m){for(var x=0;x<g.length;x++){if(g[x]===m)return!0;var S=R(g[x],m);if(S)return!1}return!0})}}]),E})(),d=Vt.Highlight=(function(E){u(p,E);function p(g,m,x,S){h(this,p);var _=o(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));return _.range=g,_.className=m,_.data=x||{},_.attributes=S||{},_}return e(p,[{key:"bind",value:function(m,x){r(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"bind",this).call(this,m,x);for(var S in this.data)this.data.hasOwnProperty(S)&&(this.element.dataset[S]=this.data[S]);for(var S in this.attributes)this.attributes.hasOwnProperty(S)&&this.element.setAttribute(S,this.attributes[S]);this.className&&this.element.classList.add(this.className)}},{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var m=this.element.ownerDocument.createDocumentFragment(),x=this.filteredRanges(),S=this.element.getBoundingClientRect(),_=this.container.getBoundingClientRect(),T=0,O=x.length;T<O;T++){var I=x[T],D=i.default.createElement("rect");D.setAttribute("x",I.left-S.left+_.left),D.setAttribute("y",I.top-S.top+_.top),D.setAttribute("height",I.height),D.setAttribute("width",I.width),m.appendChild(D)}this.element.appendChild(m)}}]),p})(c);Vt.Underline=(function(E){u(p,E);function p(g,m,x,S){return h(this,p),o(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,g,m,x,S))}return e(p,[{key:"render",value:function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(var m=this.element.ownerDocument.createDocumentFragment(),x=this.filteredRanges(),S=this.element.getBoundingClientRect(),_=this.container.getBoundingClientRect(),T=0,O=x.length;T<O;T++){var I=x[T],D=i.default.createElement("rect");D.setAttribute("x",I.left-S.left+_.left),D.setAttribute("y",I.top-S.top+_.top),D.setAttribute("height",I.height),D.setAttribute("width",I.width),D.setAttribute("fill","none");var L=i.default.createElement("line");L.setAttribute("x1",I.left-S.left+_.left),L.setAttribute("x2",I.left-S.left+_.left+I.width),L.setAttribute("y1",I.top-S.top+_.top+I.height-1),L.setAttribute("y2",I.top-S.top+_.top+I.height-1),L.setAttribute("stroke-width",1),L.setAttribute("stroke","black"),L.setAttribute("stroke-linecap","square"),m.appendChild(D),m.appendChild(L)}this.element.appendChild(m)}}]),p})(d);function b(E,p){var g=p.getBoundingClientRect(),m=E.getBoundingClientRect();return{top:m.top-g.top,left:m.left-g.left,height:E.scrollHeight,width:E.scrollWidth}}function v(E,p){E.style.setProperty("top",p.top+"px","important"),E.style.setProperty("left",p.left+"px","important"),E.style.setProperty("height",p.height+"px","important"),E.style.setProperty("width",p.width+"px","important")}function R(E,p){return p.right<=E.right&&p.left>=E.left&&p.top>=E.top&&p.bottom<=E.bottom}return Vt}var Lr=xd();class Tl{constructor(e,t){this.settings=At({ignoreClass:"",axis:void 0,direction:void 0,width:0,height:0,layout:void 0,globalLayoutProperties:{},method:void 0,forceRight:!1,allowScriptedContent:!1,allowPopups:!1},t||{}),this.id="epubjs-view-"+mn(),this.section=e,this.index=e.index,this.element=this.container(this.settings.axis),this.added=!1,this.displayed=!1,this.rendered=!1,this.fixedWidth=0,this.fixedHeight=0,this.epubcfi=new Ze,this.layout=this.settings.layout,this.pane=void 0,this.highlights={},this.underlines={},this.marks={}}container(e){var t=document.createElement("div");return t.classList.add("epub-view"),t.style.height="0px",t.style.width="0px",t.style.overflow="hidden",t.style.position="relative",t.style.display="block",e&&e=="horizontal"?t.style.flex="none":t.style.flex="initial",t}create(){return this.iframe?this.iframe:(this.element||(this.element=this.createContainer()),this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.style.overflow="hidden",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.sandbox="allow-same-origin",this.settings.allowScriptedContent&&(this.iframe.sandbox+=" allow-scripts"),this.settings.allowPopups&&(this.iframe.sandbox+=" allow-popups"),this.iframe.setAttribute("enable-annotation","true"),this.resizing=!0,this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this.element.setAttribute("ref",this.index),this.added=!0,this.elementBounds=zr(this.element),"srcdoc"in this.iframe?this.supportsSrcdoc=!0:this.supportsSrcdoc=!1,this.settings.method||(this.settings.method=this.supportsSrcdoc?"srcdoc":"write"),this.iframe)}render(e,t){return this.create(),this.size(),this.sectionRender||(this.sectionRender=this.section.render(e)),this.sectionRender.then((function(i){return this.load(i)}).bind(this)).then((function(){let i=this.contents.writingMode(),n;return this.settings.flow==="scrolled"?n=i.indexOf("vertical")===0?"horizontal":"vertical":n=i.indexOf("vertical")===0?"vertical":"horizontal",i.indexOf("vertical")===0&&this.settings.flow==="paginated"&&(this.layout.delta=this.layout.height),this.setAxis(n),this.emit(xe.VIEWS.AXIS,n),this.setWritingMode(i),this.emit(xe.VIEWS.WRITING_MODE,i),this.layout.format(this.contents,this.section,this.axis),this.addListeners(),new Promise((s,a)=>{this.expand(),this.settings.forceRight&&(this.element.style.marginLeft=this.width()+"px"),s()})}).bind(this),(function(i){return this.emit(xe.VIEWS.LOAD_ERROR,i),new Promise((n,s)=>{s(i)})}).bind(this)).then((function(){this.emit(xe.VIEWS.RENDERED,this.section)}).bind(this))}reset(){this.iframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this._width=0,this._height=0,this._textWidth=void 0,this._contentWidth=void 0,this._textHeight=void 0,this._contentHeight=void 0),this._needsReframe=!0}size(e,t){var i=e||this.settings.width,n=t||this.settings.height;this.layout.name==="pre-paginated"?this.lock("both",i,n):this.settings.axis==="horizontal"?this.lock("height",i,n):this.lock("width",i,n),this.settings.width=i,this.settings.height=n}lock(e,t,i){var n=Yr(this.element),s;this.iframe?s=Yr(this.iframe):s={width:0,height:0},e=="width"&&pt(t)&&(this.lockedWidth=t-n.width-s.width),e=="height"&&pt(i)&&(this.lockedHeight=i-n.height-s.height),e==="both"&&pt(t)&&pt(i)&&(this.lockedWidth=t-n.width-s.width,this.lockedHeight=i-n.height-s.height),this.displayed&&this.iframe&&this.expand()}expand(e){var t=this.lockedWidth,i=this.lockedHeight,n;!this.iframe||this._expanding||(this._expanding=!0,this.layout.name==="pre-paginated"?(t=this.layout.columnWidth,i=this.layout.height):this.settings.axis==="horizontal"?(t=this.contents.textWidth(),t%this.layout.pageWidth>0&&(t=Math.ceil(t/this.layout.pageWidth)*this.layout.pageWidth),this.settings.forceEvenPages&&(n=t/this.layout.pageWidth,this.layout.divisor>1&&this.layout.name==="reflowable"&&n%2>0&&(t+=this.layout.pageWidth))):this.settings.axis==="vertical"&&(i=this.contents.textHeight(),this.settings.flow==="paginated"&&i%this.layout.height>0&&(i=Math.ceil(i/this.layout.height)*this.layout.height)),(this._needsReframe||t!=this._width||i!=this._height)&&this.reframe(t,i),this._expanding=!1)}reframe(e,t){var i;pt(e)&&(this.element.style.width=e+"px",this.iframe.style.width=e+"px",this._width=e),pt(t)&&(this.element.style.height=t+"px",this.iframe.style.height=t+"px",this._height=t);let n=this.prevBounds?e-this.prevBounds.width:e,s=this.prevBounds?t-this.prevBounds.height:t;i={width:e,height:t,widthDelta:n,heightDelta:s},this.pane&&this.pane.render(),requestAnimationFrame(()=>{let a;for(let o in this.marks)this.marks.hasOwnProperty(o)&&(a=this.marks[o],this.placeMark(a.element,a.range))}),this.onResize(this,i),this.emit(xe.VIEWS.RESIZED,i),this.prevBounds=i,this.elementBounds=zr(this.element)}load(e){var t=new Ge,i=t.promise;if(!this.iframe)return t.reject(new Error("No Iframe Available")),i;if(this.iframe.onload=(function(s){this.onLoad(s,t)}).bind(this),this.settings.method==="blobUrl")this.blobUrl=Xr(e,"application/xhtml+xml"),this.iframe.src=this.blobUrl,this.element.appendChild(this.iframe);else if(this.settings.method==="srcdoc")this.iframe.srcdoc=e,this.element.appendChild(this.iframe);else{if(this.element.appendChild(this.iframe),this.document=this.iframe.contentDocument,!this.document)return t.reject(new Error("No Document Available")),i;if(this.iframe.contentDocument.open(),window.MSApp&&MSApp.execUnsafeLocalFunction){var n=this;MSApp.execUnsafeLocalFunction(function(){n.iframe.contentDocument.write(e)})}else this.iframe.contentDocument.write(e);this.iframe.contentDocument.close()}return i}onLoad(e,t){this.window=this.iframe.contentWindow,this.document=this.iframe.contentDocument,this.contents=new fa(this.document,this.document.body,this.section.cfiBase,this.section.index),this.rendering=!1;var i=this.document.querySelector("link[rel='canonical']");i?i.setAttribute("href",this.section.canonical):(i=this.document.createElement("link"),i.setAttribute("rel","canonical"),i.setAttribute("href",this.section.canonical),this.document.querySelector("head").appendChild(i)),this.contents.on(xe.CONTENTS.EXPAND,()=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),this.contents.on(xe.CONTENTS.RESIZE,n=>{this.displayed&&this.iframe&&(this.expand(),this.contents&&this.layout.format(this.contents))}),t.resolve(this.contents)}setLayout(e){this.layout=e,this.contents&&(this.layout.format(this.contents),this.expand())}setAxis(e){this.settings.axis=e,e=="horizontal"?this.element.style.flex="none":this.element.style.flex="initial",this.size()}setWritingMode(e){this.writingMode=e}addListeners(){}removeListeners(e){}display(e){var t=new Ge;return this.displayed?t.resolve(this):this.render(e).then((function(){this.emit(xe.VIEWS.DISPLAYED,this),this.onDisplayed(this),this.displayed=!0,t.resolve(this)}).bind(this),function(i){t.reject(i,this)}),t.promise}show(){this.element.style.visibility="visible",this.iframe&&(this.iframe.style.visibility="visible",this.iframe.style.transform="translateZ(0)",this.iframe.offsetWidth,this.iframe.style.transform=null),this.emit(xe.VIEWS.SHOWN,this)}hide(){this.element.style.visibility="hidden",this.iframe.style.visibility="hidden",this.stopExpanding=!0,this.emit(xe.VIEWS.HIDDEN,this)}offset(){return{top:this.element.offsetTop,left:this.element.offsetLeft}}width(){return this._width}height(){return this._height}position(){return this.element.getBoundingClientRect()}locationOf(e){this.iframe.getBoundingClientRect();var t=this.contents.locationOf(e,this.settings.ignoreClass);return{left:t.left,top:t.top}}onDisplayed(e){}onResize(e,t){}bounds(e){return(e||!this.elementBounds)&&(this.elementBounds=zr(this.element)),this.elementBounds}highlight(e,t={},i,n="epubjs-hl",s={}){if(!this.contents)return;const a=Object.assign({fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"},s);let o=this.contents.range(e),u=()=>{this.emit(xe.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||(this.pane=new Lr.Pane(this.iframe,this.element));let h=new Lr.Highlight(o,n,t,a),c=this.pane.addMark(h);return this.highlights[e]={mark:c,element:c.element,listeners:[u,i]},c.element.setAttribute("ref",n),c.element.addEventListener("click",u),c.element.addEventListener("touchstart",u),i&&(c.element.addEventListener("click",i),c.element.addEventListener("touchstart",i)),c}underline(e,t={},i,n="epubjs-ul",s={}){if(!this.contents)return;const a=Object.assign({stroke:"black","stroke-opacity":"0.3","mix-blend-mode":"multiply"},s);let o=this.contents.range(e),u=()=>{this.emit(xe.VIEWS.MARK_CLICKED,e,t)};t.epubcfi=e,this.pane||(this.pane=new Lr.Pane(this.iframe,this.element));let h=new Lr.Underline(o,n,t,a),c=this.pane.addMark(h);return this.underlines[e]={mark:c,element:c.element,listeners:[u,i]},c.element.setAttribute("ref",n),c.element.addEventListener("click",u),c.element.addEventListener("touchstart",u),i&&(c.element.addEventListener("click",i),c.element.addEventListener("touchstart",i)),c}mark(e,t={},i){if(!this.contents)return;if(e in this.marks)return this.marks[e];let n=this.contents.range(e);if(!n)return;let s=n.commonAncestorContainer,a=s.nodeType===1?s:s.parentNode,o=h=>{this.emit(xe.VIEWS.MARK_CLICKED,e,t)};n.collapsed&&s.nodeType===1?(n=new Range,n.selectNodeContents(s)):n.collapsed&&(n=new Range,n.selectNodeContents(a));let u=this.document.createElement("a");return u.setAttribute("ref","epubjs-mk"),u.style.position="absolute",u.dataset.epubcfi=e,t&&Object.keys(t).forEach(h=>{u.dataset[h]=t[h]}),i&&(u.addEventListener("click",i),u.addEventListener("touchstart",i)),u.addEventListener("click",o),u.addEventListener("touchstart",o),this.placeMark(u,n),this.element.appendChild(u),this.marks[e]={element:u,range:n,listeners:[o,i]},a}placeMark(e,t){let i,n,s;if(this.layout.name==="pre-paginated"||this.settings.axis!=="horizontal"){let o=t.getBoundingClientRect();i=o.top,n=o.right}else{let o=t.getClientRects(),u;for(var a=0;a!=o.length;a++)u=o[a],(!s||u.left<s)&&(s=u.left,n=Math.ceil(s/this.layout.props.pageWidth)*this.layout.props.pageWidth-this.layout.gap/2,i=u.top)}e.style.top=`${i}px`,e.style.left=`${n}px`}unhighlight(e){let t;e in this.highlights&&(t=this.highlights[e],this.pane.removeMark(t.mark),t.listeners.forEach(i=>{i&&(t.element.removeEventListener("click",i),t.element.removeEventListener("touchstart",i))}),delete this.highlights[e])}ununderline(e){let t;e in this.underlines&&(t=this.underlines[e],this.pane.removeMark(t.mark),t.listeners.forEach(i=>{i&&(t.element.removeEventListener("click",i),t.element.removeEventListener("touchstart",i))}),delete this.underlines[e])}unmark(e){let t;e in this.marks&&(t=this.marks[e],this.element.removeChild(t.element),t.listeners.forEach(i=>{i&&(t.element.removeEventListener("click",i),t.element.removeEventListener("touchstart",i))}),delete this.marks[e])}destroy(){for(let e in this.highlights)this.unhighlight(e);for(let e in this.underlines)this.ununderline(e);for(let e in this.marks)this.unmark(e);this.blobUrl&&bl(this.blobUrl),this.displayed&&(this.displayed=!1,this.removeListeners(),this.contents.destroy(),this.stopExpanding=!0,this.element.removeChild(this.iframe),this.pane&&(this.pane.element.remove(),this.pane=void 0),this.iframe=void 0,this.contents=void 0,this._textWidth=null,this._textHeight=null,this._width=null,this._height=null)}}ni(Tl.prototype);function Ad(){var r="reverse",e=Cd();return document.body.appendChild(e),e.scrollLeft>0?r="default":typeof Element<"u"&&Element.prototype.scrollIntoView?(e.children[0].children[1].scrollIntoView(),e.scrollLeft<0&&(r="negative")):(e.scrollLeft=1,e.scrollLeft===0&&(r="negative")),document.body.removeChild(e),r}function Cd(){var r=document.createElement("div");r.dir="rtl",r.style.position="fixed",r.style.width="1px",r.style.height="1px",r.style.top="0px",r.style.left="0px",r.style.overflow="hidden";var e=document.createElement("div");e.style.width="2px";var t=document.createElement("span");t.style.width="1px",t.style.display="inline-block";var i=document.createElement("span");return i.style.width="1px",i.style.display="inline-block",e.appendChild(t),e.appendChild(i),r.appendChild(e),r}var ns,Ro;function ha(){if(Ro)return ns;Ro=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return ns=r,ns}var ss,No;function Dd(){if(No)return ss;No=1;var r=typeof jt=="object"&&jt&&jt.Object===Object&&jt;return ss=r,ss}var as,Io;function kl(){if(Io)return as;Io=1;var r=Dd(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return as=t,as}var os,Oo;function Sd(){if(Oo)return os;Oo=1;var r=kl(),e=function(){return r.Date.now()};return os=e,os}var us,Lo;function Td(){if(Lo)return us;Lo=1;var r=/\s/;function e(t){for(var i=t.length;i--&&r.test(t.charAt(i)););return i}return us=e,us}var ls,Bo;function kd(){if(Bo)return ls;Bo=1;var r=Td(),e=/^\s+/;function t(i){return i&&i.slice(0,r(i)+1).replace(e,"")}return ls=t,ls}var fs,Po;function Rl(){if(Po)return fs;Po=1;var r=kl(),e=r.Symbol;return fs=e,fs}var hs,Fo;function Rd(){if(Fo)return hs;Fo=1;var r=Rl(),e=Object.prototype,t=e.hasOwnProperty,i=e.toString,n=r?r.toStringTag:void 0;function s(a){var o=t.call(a,n),u=a[n];try{a[n]=void 0;var h=!0}catch{}var c=i.call(a);return h&&(o?a[n]=u:delete a[n]),c}return hs=s,hs}var cs,zo;function Nd(){if(zo)return cs;zo=1;var r=Object.prototype,e=r.toString;function t(i){return e.call(i)}return cs=t,cs}var ds,Mo;function Id(){if(Mo)return ds;Mo=1;var r=Rl(),e=Rd(),t=Nd(),i="[object Null]",n="[object Undefined]",s=r?r.toStringTag:void 0;function a(o){return o==null?o===void 0?n:i:s&&s in Object(o)?e(o):t(o)}return ds=a,ds}var ps,Uo;function Od(){if(Uo)return ps;Uo=1;function r(e){return e!=null&&typeof e=="object"}return ps=r,ps}var gs,qo;function Ld(){if(qo)return gs;qo=1;var r=Id(),e=Od(),t="[object Symbol]";function i(n){return typeof n=="symbol"||e(n)&&r(n)==t}return gs=i,gs}var vs,jo;function Bd(){if(jo)return vs;jo=1;var r=kd(),e=ha(),t=Ld(),i=NaN,n=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function u(h){if(typeof h=="number")return h;if(t(h))return i;if(e(h)){var c=typeof h.valueOf=="function"?h.valueOf():h;h=e(c)?c+"":c}if(typeof h!="string")return h===0?h:+h;h=r(h);var d=s.test(h);return d||a.test(h)?o(h.slice(2),d?2:8):n.test(h)?i:+h}return vs=u,vs}var ms,Wo;function Nl(){if(Wo)return ms;Wo=1;var r=ha(),e=Sd(),t=Bd(),i="Expected a function",n=Math.max,s=Math.min;function a(o,u,h){var c,d,b,v,R,E,p=0,g=!1,m=!1,x=!0;if(typeof o!="function")throw new TypeError(i);u=t(u)||0,r(h)&&(g=!!h.leading,m="maxWait"in h,b=m?n(t(h.maxWait)||0,u):b,x="trailing"in h?!!h.trailing:x);function S(Y){var ue=c,oe=d;return c=d=void 0,p=Y,v=o.apply(oe,ue),v}function _(Y){return p=Y,R=setTimeout(I,u),g?S(Y):v}function T(Y){var ue=Y-E,oe=Y-p,pe=u-ue;return m?s(pe,b-oe):pe}function O(Y){var ue=Y-E,oe=Y-p;return E===void 0||ue>=u||ue<0||m&&oe>=b}function I(){var Y=e();if(O(Y))return D(Y);R=setTimeout(I,T(Y))}function D(Y){return R=void 0,x&&c?S(Y):(c=d=void 0,v)}function L(){R!==void 0&&clearTimeout(R),p=0,c=E=d=R=void 0}function $(){return R===void 0?v:D(e())}function H(){var Y=e(),ue=O(Y);if(c=arguments,d=this,E=Y,ue){if(R===void 0)return _(E);if(m)return clearTimeout(R),R=setTimeout(I,u),S(E)}return R===void 0&&(R=setTimeout(I,u)),v}return H.cancel=L,H.flush=$,H}return ms=a,ms}var bs,Ho;function Pd(){if(Ho)return bs;Ho=1;var r=Nl(),e=ha(),t="Expected a function";function i(n,s,a){var o=!0,u=!0;if(typeof n!="function")throw new TypeError(t);return e(a)&&(o="leading"in a?!!a.leading:o,u="trailing"in a?!!a.trailing:u),r(n,s,{leading:o,maxWait:s,trailing:u})}return bs=i,bs}var Fd=Pd();const zd=Ji(Fd);class Md{constructor(e){this.settings=e||{},this.id="epubjs-container-"+mn(),this.container=this.create(this.settings),this.settings.hidden&&(this.wrapper=this.wrap(this.container))}create(e){let t=e.height,i=e.width,n=e.overflow||!1,s=e.axis||"vertical",a=e.direction;At(this.settings,e),e.height&&pt(e.height)&&(t=e.height+"px"),e.width&&pt(e.width)&&(i=e.width+"px");let o=document.createElement("div");return o.id=this.id,o.classList.add("epub-container"),o.style.wordSpacing="0",o.style.lineHeight="0",o.style.verticalAlign="top",o.style.position="relative",s==="horizontal"&&(o.style.display="flex",o.style.flexDirection="row",o.style.flexWrap="nowrap"),i&&(o.style.width=i),t&&(o.style.height=t),n&&(n==="scroll"&&s==="vertical"?(o.style["overflow-y"]=n,o.style["overflow-x"]="hidden"):n==="scroll"&&s==="horizontal"?(o.style["overflow-y"]="hidden",o.style["overflow-x"]=n):o.style.overflow=n),a&&(o.dir=a,o.style.direction=a),a&&this.settings.fullsize&&(document.body.style.direction=a),o}wrap(e){var t=document.createElement("div");return t.style.visibility="hidden",t.style.overflow="hidden",t.style.width="0",t.style.height="0",t.appendChild(e),t}getElement(e){var t;if(dl(e)?t=e:typeof e=="string"&&(t=document.getElementById(e)),!t)throw new Error("Not an Element");return t}attachTo(e){var t=this.getElement(e),i;if(t)return this.settings.hidden?i=this.wrapper:i=this.container,t.appendChild(i),this.element=t,t}getContainer(){return this.container}onResize(e){(!pt(this.settings.width)||!pt(this.settings.height))&&(this.resizeFunc=zd(e,50),window.addEventListener("resize",this.resizeFunc,!1))}onOrientationChange(e){this.orientationChangeFunc=e,window.addEventListener("orientationchange",this.orientationChangeFunc,!1)}size(e,t){var i;let n=e||this.settings.width,s=t||this.settings.height;e===null?(i=this.element.getBoundingClientRect(),i.width&&(e=Math.floor(i.width),this.container.style.width=e+"px")):pt(e)?this.container.style.width=e+"px":this.container.style.width=e,t===null?(i=i||this.element.getBoundingClientRect(),i.height&&(t=i.height,this.container.style.height=t+"px")):pt(t)?this.container.style.height=t+"px":this.container.style.height=t,pt(e)||(e=this.container.clientWidth),pt(t)||(t=this.container.clientHeight),this.containerStyles=window.getComputedStyle(this.container),this.containerPadding={left:parseFloat(this.containerStyles["padding-left"])||0,right:parseFloat(this.containerStyles["padding-right"])||0,top:parseFloat(this.containerStyles["padding-top"])||0,bottom:parseFloat(this.containerStyles["padding-bottom"])||0};let a=Kr(),o=window.getComputedStyle(document.body),u={left:parseFloat(o["padding-left"])||0,right:parseFloat(o["padding-right"])||0,top:parseFloat(o["padding-top"])||0,bottom:parseFloat(o["padding-bottom"])||0};return n||(e=a.width-u.left-u.right),(this.settings.fullsize&&!s||!s)&&(t=a.height-u.top-u.bottom),{width:e-this.containerPadding.left-this.containerPadding.right,height:t-this.containerPadding.top-this.containerPadding.bottom}}bounds(){let e;return this.container.style.overflow!=="visible"&&(e=this.container&&this.container.getBoundingClientRect()),!e||!e.width||!e.height?Kr():e}getSheet(){var e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.head.appendChild(e),e.sheet}addStyleRules(e,t){var i="#"+this.id+" ",n="";this.sheet||(this.sheet=this.getSheet()),t.forEach(function(s){for(var a in s)s.hasOwnProperty(a)&&(n+=a+":"+s[a]+";")}),this.sheet.insertRule(i+e+" {"+n+"}",0)}axis(e){e==="horizontal"?(this.container.style.display="flex",this.container.style.flexDirection="row",this.container.style.flexWrap="nowrap"):this.container.style.display="block",this.settings.axis=e}direction(e){this.container&&(this.container.dir=e,this.container.style.direction=e),this.settings.fullsize&&(document.body.style.direction=e),this.settings.dir=e}overflow(e){this.container&&(e==="scroll"&&this.settings.axis==="vertical"?(this.container.style["overflow-y"]=e,this.container.style["overflow-x"]="hidden"):e==="scroll"&&this.settings.axis==="horizontal"?(this.container.style["overflow-y"]="hidden",this.container.style["overflow-x"]=e):this.container.style.overflow=e),this.settings.overflow=e}destroy(){this.element&&(this.settings.hidden?this.wrapper:this.container,this.element.contains(this.container)&&this.element.removeChild(this.container),window.removeEventListener("resize",this.resizeFunc),window.removeEventListener("orientationChange",this.orientationChangeFunc))}}class Ud{constructor(e){this.container=e,this._views=[],this.length=0,this.hidden=!1}all(){return this._views}first(){return this._views[0]}last(){return this._views[this._views.length-1]}indexOf(e){return this._views.indexOf(e)}slice(){return this._views.slice.apply(this._views,arguments)}get(e){return this._views[e]}append(e){return this._views.push(e),this.container&&this.container.appendChild(e.element),this.length++,e}prepend(e){return this._views.unshift(e),this.container&&this.container.insertBefore(e.element,this.container.firstChild),this.length++,e}insert(e,t){return this._views.splice(t,0,e),this.container&&(t<this.container.children.length?this.container.insertBefore(e.element,this.container.children[t]):this.container.appendChild(e.element)),this.length++,e}remove(e){var t=this._views.indexOf(e);t>-1&&this._views.splice(t,1),this.destroy(e),this.length--}destroy(e){e.displayed&&e.destroy(),this.container&&this.container.removeChild(e.element),e=null}forEach(){return this._views.forEach.apply(this._views,arguments)}clear(){var e,t=this.length;if(this.length){for(var i=0;i<t;i++)e=this._views[i],this.destroy(e);this._views=[],this.length=0}}find(e){for(var t,i=this.length,n=0;n<i;n++)if(t=this._views[n],t.displayed&&t.section.index==e.index)return t}displayed(){for(var e=[],t,i=this.length,n=0;n<i;n++)t=this._views[n],t.displayed&&e.push(t);return e}show(){for(var e,t=this.length,i=0;i<t;i++)e=this._views[i],e.displayed&&e.show();this.hidden=!1}hide(){for(var e,t=this.length,i=0;i<t;i++)e=this._views[i],e.displayed&&e.hide();this.hidden=!0}}class tn{constructor(e){this.name="default",this.optsSettings=e.settings,this.View=e.view,this.request=e.request,this.renditionQueue=e.queue,this.q=new la(this),this.settings=At(this.settings||{},{infinite:!0,hidden:!1,width:void 0,height:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",ignoreClass:"",fullsize:void 0,allowScriptedContent:!1,allowPopups:!1}),At(this.settings,e.settings||{}),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,method:this.settings.method,width:0,height:0,forceEvenPages:!0,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.rendered=!1}render(e,t){let i=e.tagName;typeof this.settings.fullsize>"u"&&i&&(i.toLowerCase()=="body"||i.toLowerCase()=="html")&&(this.settings.fullsize=!0),this.settings.fullsize&&(this.settings.overflow="visible",this.overflow=this.settings.overflow),this.settings.size=t,this.settings.rtlScrollType=Ad(),this.stage=new Md({width:t.width,height:t.height,overflow:this.overflow,hidden:this.settings.hidden,axis:this.settings.axis,fullsize:this.settings.fullsize,direction:this.settings.direction}),this.stage.attachTo(e),this.container=this.stage.getContainer(),this.views=new Ud(this.container),this._bounds=this.bounds(),this._stageSize=this.stage.size(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.stage.onResize(this.onResized.bind(this)),this.stage.onOrientationChange(this.onOrientationChange.bind(this)),this.addEventListeners(),this.layout&&this.updateLayout(),this.rendered=!0}addEventListeners(){var e;window.addEventListener("unload",(function(t){this.destroy()}).bind(this)),this.settings.fullsize?e=window:e=this.container,this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll)}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}destroy(){clearTimeout(this.orientationTimeout),clearTimeout(this.resizeTimeout),clearTimeout(this.afterScrolled),this.clear(),this.removeEventListeners(),this.stage.destroy(),this.rendered=!1}onOrientationChange(e){let{orientation:t}=window;this.optsSettings.resizeOnOrientationChange&&this.resize(),clearTimeout(this.orientationTimeout),this.orientationTimeout=setTimeout((function(){this.orientationTimeout=void 0,this.optsSettings.resizeOnOrientationChange&&this.resize(),this.emit(xe.MANAGERS.ORIENTATION_CHANGE,t)}).bind(this),500)}onResized(e){this.resize()}resize(e,t,i){let n=this.stage.size(e,t);if(this.winBounds=Kr(),this.orientationTimeout&&this.winBounds.width===this.winBounds.height){this._stageSize=void 0;return}this._stageSize&&this._stageSize.width===n.width&&this._stageSize.height===n.height||(this._stageSize=n,this._bounds=this.bounds(),this.clear(),this.viewSettings.width=this._stageSize.width,this.viewSettings.height=this._stageSize.height,this.updateLayout(),this.emit(xe.MANAGERS.RESIZED,{width:this._stageSize.width,height:this._stageSize.height},i))}createView(e,t){return new this.View(e,At(this.viewSettings,{forceRight:t}))}handleNextPrePaginated(e,t,i){let n;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1){if(e||t.index===0)return;if(n=t.next(),n&&!n.properties.includes("page-spread-left"))return i.call(this,n)}}display(e,t){var i=new Ge,n=i.promise;(t===e.href||pt(t))&&(t=void 0);var s=this.views.find(e);if(s&&e&&this.layout.name!=="pre-paginated"){let o=s.offset();if(this.settings.direction==="ltr")this.scrollTo(o.left,o.top,!0);else{let u=s.width();this.scrollTo(o.left+u,o.top,!0)}if(t){let u=s.locationOf(t),h=s.width();this.moveTo(u,h)}return i.resolve(),n}this.clear();let a=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(a=!0),this.add(e,a).then((function(o){if(t){let u=o.locationOf(t),h=o.width();this.moveTo(u,h)}}).bind(this),o=>{i.reject(o)}).then((function(){return this.handleNextPrePaginated(a,e,this.add)}).bind(this)).then((function(){this.views.show(),i.resolve()}).bind(this)),n}afterDisplayed(e){this.emit(xe.MANAGERS.ADDED,e)}afterResized(e){this.emit(xe.MANAGERS.RESIZE,e.section)}moveTo(e,t){var i=0,n=0;this.isPaginated?(i=Math.floor(e.left/this.layout.delta)*this.layout.delta,i+this.layout.delta>this.container.scrollWidth&&(i=this.container.scrollWidth-this.layout.delta),n=Math.floor(e.top/this.layout.delta)*this.layout.delta,n+this.layout.delta>this.container.scrollHeight&&(n=this.container.scrollHeight-this.layout.delta)):n=e.top,this.settings.direction==="rtl"&&(i=i+this.layout.delta,i=i-t),this.scrollTo(i,n,!0)}add(e,t){var i=this.createView(e,t);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(xe.VIEWS.AXIS,n=>{this.updateAxis(n)}),i.on(xe.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),i.display(this.request)}append(e,t){var i=this.createView(e,t);return this.views.append(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(xe.VIEWS.AXIS,n=>{this.updateAxis(n)}),i.on(xe.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),i.display(this.request)}prepend(e,t){var i=this.createView(e,t);return i.on(xe.VIEWS.RESIZED,n=>{this.counter(n)}),this.views.prepend(i),i.onDisplayed=this.afterDisplayed.bind(this),i.onResize=this.afterResized.bind(this),i.on(xe.VIEWS.AXIS,n=>{this.updateAxis(n)}),i.on(xe.VIEWS.WRITING_MODE,n=>{this.updateWritingMode(n)}),i.display(this.request)}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}next(){var e,t;let i=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!i||i==="ltr")?(this.scrollLeft=this.container.scrollLeft,t=this.container.scrollLeft+this.container.offsetWidth+this.layout.delta,t<=this.container.scrollWidth?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):this.isPaginated&&this.settings.axis==="horizontal"&&i==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(t=this.container.scrollLeft,t>0?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next()):(t=this.container.scrollLeft+this.layout.delta*-1,t>this.container.scrollWidth*-1?this.scrollBy(this.layout.delta,0,!0):e=this.views.last().section.next())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop+this.container.offsetHeight<this.container.scrollHeight?this.scrollBy(0,this.layout.height,!0):e=this.views.last().section.next()):e=this.views.last().section.next(),e)){this.clear(),this.updateLayout();let n=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&e.properties.includes("page-spread-right")&&(n=!0),this.append(e,n).then((function(){return this.handleNextPrePaginated(n,e,this.append)}).bind(this),s=>s).then((function(){!this.isPaginated&&this.settings.axis==="horizontal"&&this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"&&this.scrollTo(this.container.scrollWidth,0,!0),this.views.show()}).bind(this))}}prev(){var e,t;let i=this.settings.direction;if(this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"&&(!i||i==="ltr")?(this.scrollLeft=this.container.scrollLeft,t=this.container.scrollLeft,t>0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):this.isPaginated&&this.settings.axis==="horizontal"&&i==="rtl"?(this.scrollLeft=this.container.scrollLeft,this.settings.rtlScrollType==="default"?(t=this.container.scrollLeft+this.container.offsetWidth,t<this.container.scrollWidth?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev()):(t=this.container.scrollLeft,t<0?this.scrollBy(-this.layout.delta,0,!0):e=this.views.first().section.prev())):this.isPaginated&&this.settings.axis==="vertical"?(this.scrollTop=this.container.scrollTop,this.container.scrollTop>0?this.scrollBy(0,-this.layout.height,!0):e=this.views.first().section.prev()):e=this.views.first().section.prev(),e)){this.clear(),this.updateLayout();let n=!1;return this.layout.name==="pre-paginated"&&this.layout.divisor===2&&typeof e.prev()!="object"&&(n=!0),this.prepend(e,n).then((function(){var s;if(this.layout.name==="pre-paginated"&&this.layout.divisor>1&&(s=e.prev(),s))return this.prepend(s)}).bind(this),s=>s).then((function(){this.isPaginated&&this.settings.axis==="horizontal"&&(this.settings.direction==="rtl"?this.settings.rtlScrollType==="default"?this.scrollTo(0,0,!0):this.scrollTo(this.container.scrollWidth*-1+this.layout.delta,0,!0):this.scrollTo(this.container.scrollWidth-this.layout.delta,0,!0)),this.views.show()}).bind(this))}}current(){var e=this.visible();return e.length?e[e.length-1]:null}clear(){this.views&&(this.views.hide(),this.scrollTo(0,0,!0),this.views.clear())}currentLocation(){return this.updateLayout(),this.isPaginated&&this.settings.axis==="horizontal"?this.location=this.paginatedLocation():this.location=this.scrolledLocation(),this.location}scrolledLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),i=t.height<window.innerHeight?t.height:window.innerHeight,n=t.width<window.innerWidth?t.width:window.innerWidth,s=this.settings.axis==="vertical";this.settings.direction;let a=0,o=0;return this.settings.fullsize&&(a=s?window.scrollY:window.scrollX),e.map(h=>{let{index:c,href:d}=h.section,b=h.position(),v=h.width(),R=h.height(),E,p,g,m;s?(E=a+t.top-b.top+o,p=E+i-o,m=this.layout.count(R,i).pages,g=i):(E=a+t.left-b.left+o,p=E+n-o,m=this.layout.count(v,n).pages,g=n);let x=Math.ceil(E/g),S=[],_=Math.ceil(p/g);if(this.settings.direction==="rtl"&&!s){let I=x;x=m-_,_=m-I}S=[];for(var T=x;T<=_;T++){let I=T+1;S.push(I)}let O=this.mapping.page(h.contents,h.section.cfiBase,E,p);return{index:c,href:d,pages:S,totalPages:m,mapping:O}})}paginatedLocation(){let e=this.visible(),t=this.container.getBoundingClientRect(),i=0,n=0;return this.settings.fullsize&&(i=window.scrollX),e.map(a=>{let{index:o,href:u}=a.section,h,c=a.position(),d=a.width(),b,v,R;this.settings.direction==="rtl"?(h=t.right-i,R=Math.min(Math.abs(h-c.left),this.layout.width)-n,v=c.width-(c.right-h)-n,b=v-R):(h=t.left+i,R=Math.min(c.right-h,this.layout.width)-n,b=h-c.left+n,v=b+R),n+=R;let E=this.mapping.page(a.contents,a.section.cfiBase,b,v),p=this.layout.count(d).pages,g=Math.floor(b/this.layout.pageWidth),m=[],x=Math.floor(v/this.layout.pageWidth);if(g<0&&(g=0,x=x+1),this.settings.direction==="rtl"){let _=g;g=p-x,x=p-_}for(var S=g+1;S<=x;S++){let _=S;m.push(_)}return{index:o,href:u,pages:m,totalPages:p,mapping:E}})}isVisible(e,t,i,n){var s=e.position(),a=n||this.bounds();return this.settings.axis==="horizontal"&&s.right>a.left-t&&s.left<a.right+i?!0:this.settings.axis==="vertical"&&s.bottom>a.top-t&&s.top<a.bottom+i}visible(){for(var e=this.bounds(),t=this.views.displayed(),i=t.length,n=[],s,a,o=0;o<i;o++)a=t[o],s=this.isVisible(a,0,0,e),s===!0&&n.push(a);return n}scrollBy(e,t,i){let n=this.settings.direction==="rtl"?-1:1;i&&(this.ignore=!0),this.settings.fullsize?window.scrollBy(e*n,t*n):(e&&(this.container.scrollLeft+=e*n),t&&(this.container.scrollTop+=t)),this.scrolled=!0}scrollTo(e,t,i){i&&(this.ignore=!0),this.settings.fullsize?window.scrollTo(e,t):(this.container.scrollLeft=e,this.container.scrollTop=t),this.scrolled=!0}onScroll(){let e,t;this.settings.fullsize?(e=window.scrollY,t=window.scrollX):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:(this.emit(xe.MANAGERS.SCROLL,{top:e,left:t}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.emit(xe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),20))}bounds(){var e;return e=this.stage.bounds(),e}applyLayout(e){this.layout=e,this.updateLayout(),this.views&&this.views.length>0&&this.layout.name==="pre-paginated"&&this.display(this.views.first().section)}updateLayout(){this.stage&&(this._stageSize=this.stage.size(),this.isPaginated?(this.layout.calculate(this._stageSize.width,this._stageSize.height,this.settings.gap),this.settings.offset=this.layout.delta/this.layout.divisor):this.layout.calculate(this._stageSize.width,this._stageSize.height),this.viewSettings.width=this.layout.width,this.viewSettings.height=this.layout.height,this.setLayout(this.layout))}setLayout(e){this.viewSettings.layout=e,this.mapping=new en(e.props,this.settings.direction,this.settings.axis),this.views&&this.views.forEach(function(t){t&&t.setLayout(e)})}updateWritingMode(e){this.writingMode=e}updateAxis(e,t){!t&&e===this.settings.axis||(this.settings.axis=e,this.stage&&this.stage.axis(e),this.viewSettings.axis=e,this.mapping&&(this.mapping=new en(this.layout.props,this.settings.direction,this.settings.axis)),this.layout&&(e==="vertical"?this.layout.spread("none"):this.layout.spread(this.layout.settings.spread)))}updateFlow(e,t="auto"){let i=e==="paginated"||e==="auto";this.isPaginated=i,e==="scrolled-doc"||e==="scrolled-continuous"||e==="scrolled"?this.updateAxis("vertical"):this.updateAxis("horizontal"),this.viewSettings.flow=e,this.settings.overflow?this.overflow=this.settings.overflow:this.overflow=i?"hidden":t,this.stage&&this.stage.overflow(this.overflow),this.updateLayout()}getContents(){var e=[];return this.views&&this.views.forEach(function(t){const i=t&&t.contents;i&&e.push(i)}),e}direction(e="ltr"){this.settings.direction=e,this.stage&&this.stage.direction(e),this.viewSettings.direction=e,this.updateLayout()}isRendered(){return this.rendered}}ni(tn.prototype);const qd={easeInCubic:function(r){return Math.pow(r,3)}};class zs{constructor(e,t){this.settings=At({duration:80,minVelocity:.2,minDistance:10,easing:qd.easeInCubic},t||{}),this.supportsTouch=this.supportsTouch(),this.supportsTouch&&this.setup(e)}setup(e){this.manager=e,this.layout=this.manager.layout,this.fullsize=this.manager.settings.fullsize,this.fullsize?(this.element=this.manager.stage.element,this.scroller=window,this.disableScroll()):(this.element=this.manager.stage.container,this.scroller=this.element,this.element.style.WebkitOverflowScrolling="touch"),this.manager.settings.offset=this.layout.width,this.manager.settings.afterScrolledTimeout=this.settings.duration*2,this.isVertical=this.manager.settings.axis==="vertical",!(!this.manager.isPaginated||this.isVertical)&&(this.touchCanceler=!1,this.resizeCanceler=!1,this.snapping=!1,this.scrollLeft,this.scrollTop,this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0,this.addListeners())}supportsTouch(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}disableScroll(){this.element.style.overflow="hidden"}enableScroll(){this.element.style.overflow=""}addListeners(){this._onResize=this.onResize.bind(this),window.addEventListener("resize",this._onResize),this._onScroll=this.onScroll.bind(this),this.scroller.addEventListener("scroll",this._onScroll),this._onTouchStart=this.onTouchStart.bind(this),this.scroller.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.on("touchstart",this._onTouchStart),this._onTouchMove=this.onTouchMove.bind(this),this.scroller.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.on("touchmove",this._onTouchMove),this._onTouchEnd=this.onTouchEnd.bind(this),this.scroller.addEventListener("touchend",this._onTouchEnd,{passive:!0}),this.on("touchend",this._onTouchEnd),this._afterDisplayed=this.afterDisplayed.bind(this),this.manager.on(xe.MANAGERS.ADDED,this._afterDisplayed)}removeListeners(){window.removeEventListener("resize",this._onResize),this._onResize=void 0,this.scroller.removeEventListener("scroll",this._onScroll),this._onScroll=void 0,this.scroller.removeEventListener("touchstart",this._onTouchStart,{passive:!0}),this.off("touchstart",this._onTouchStart),this._onTouchStart=void 0,this.scroller.removeEventListener("touchmove",this._onTouchMove,{passive:!0}),this.off("touchmove",this._onTouchMove),this._onTouchMove=void 0,this.scroller.removeEventListener("touchend",this._onTouchEnd,{passive:!0}),this.off("touchend",this._onTouchEnd),this._onTouchEnd=void 0,this.manager.off(xe.MANAGERS.ADDED,this._afterDisplayed),this._afterDisplayed=void 0}afterDisplayed(e){let t=e.contents;["touchstart","touchmove","touchend"].forEach(i=>{t.on(i,n=>this.triggerViewEvent(n,t))})}triggerViewEvent(e,t){this.emit(e.type,e,t)}onScroll(e){this.scrollLeft=this.fullsize?window.scrollX:this.scroller.scrollLeft,this.scrollTop=this.fullsize?window.scrollY:this.scroller.scrollTop}onResize(e){this.resizeCanceler=!0}onTouchStart(e){let{screenX:t,screenY:i}=e.touches[0];this.fullsize&&this.enableScroll(),this.touchCanceler=!0,this.startTouchX||(this.startTouchX=t,this.startTouchY=i,this.startTime=this.now()),this.endTouchX=t,this.endTouchY=i,this.endTime=this.now()}onTouchMove(e){let{screenX:t,screenY:i}=e.touches[0],n=Math.abs(i-this.endTouchY);this.touchCanceler=!0,!this.fullsize&&n<10&&(this.element.scrollLeft-=t-this.endTouchX),this.endTouchX=t,this.endTouchY=i,this.endTime=this.now()}onTouchEnd(e){this.fullsize&&this.disableScroll(),this.touchCanceler=!1;let t=this.wasSwiped();t!==0?this.snap(t):this.snap(),this.startTouchX=void 0,this.startTouchY=void 0,this.startTime=void 0,this.endTouchX=void 0,this.endTouchY=void 0,this.endTime=void 0}wasSwiped(){let e=this.layout.pageWidth*this.layout.divisor,t=this.endTouchX-this.startTouchX,i=Math.abs(t),n=this.endTime-this.startTime,s=t/n,a=this.settings.minVelocity;if(i<=this.settings.minDistance||i>=e)return 0;if(s>a)return-1;if(s<-a)return 1}needsSnap(){let e=this.scrollLeft,t=this.layout.pageWidth*this.layout.divisor;return e%t!==0}snap(e=0){let t=this.scrollLeft,i=this.layout.pageWidth*this.layout.divisor,n=Math.round(t/i)*i;return e&&(n+=e*i),this.smoothScrollTo(n)}smoothScrollTo(e){const t=new Ge,i=this.scrollLeft,n=this.now(),s=this.settings.duration,a=this.settings.easing;this.snapping=!0;function o(){const u=this.now(),h=Math.min(1,(u-n)/s);if(a(h),this.touchCanceler||this.resizeCanceler){this.resizeCanceler=!1,this.snapping=!1,t.resolve();return}h<1?(window.requestAnimationFrame(o.bind(this)),this.scrollTo(i+(e-i)*h,0)):(this.scrollTo(e,0),this.snapping=!1,t.resolve())}return o.call(this),t.promise}scrollTo(e=0,t=0){this.fullsize?window.scroll(e,t):(this.scroller.scrollLeft=e,this.scroller.scrollTop=t)}now(){return"now"in window.performance?performance.now():new Date().getTime()}destroy(){this.scroller&&(this.fullsize&&this.enableScroll(),this.removeListeners(),this.scroller=void 0)}}ni(zs.prototype);var jd=Nl();const Wd=Ji(jd);class Hd extends tn{constructor(e){super(e),this.name="continuous",this.settings=At(this.settings||{},{infinite:!0,overflow:void 0,axis:void 0,writingMode:void 0,flow:"scrolled",offset:500,offsetDelta:250,width:void 0,height:void 0,snap:!1,afterScrolledTimeout:10,allowScriptedContent:!1,allowPopups:!1}),At(this.settings,e.settings||{}),e.settings.gap!="undefined"&&e.settings.gap===0&&(this.settings.gap=e.settings.gap),this.viewSettings={ignoreClass:this.settings.ignoreClass,axis:this.settings.axis,flow:this.settings.flow,layout:this.layout,width:0,height:0,forceEvenPages:!1,allowScriptedContent:this.settings.allowScriptedContent,allowPopups:this.settings.allowPopups},this.scrollTop=0,this.scrollLeft=0}display(e,t){return tn.prototype.display.call(this,e,t).then((function(){return this.fill()}).bind(this))}fill(e){var t=e||new Ge;return this.q.enqueue(()=>this.check()).then(i=>{i?this.fill(t):t.resolve()}),t.promise}moveTo(e){var t=0,i=0;this.isPaginated?(t=Math.floor(e.left/this.layout.delta)*this.layout.delta,t+this.settings.offsetDelta):(i=e.top,e.top+this.settings.offsetDelta),(t>0||i>0)&&this.scrollBy(t,i,!0)}afterResized(e){this.emit(xe.MANAGERS.RESIZE,e.section)}removeShownListeners(e){e.onDisplayed=function(){}}add(e){var t=this.createView(e);return this.views.append(t),t.on(xe.VIEWS.RESIZED,i=>{t.expanded=!0}),t.on(xe.VIEWS.AXIS,i=>{this.updateAxis(i)}),t.on(xe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),t.onDisplayed=this.afterDisplayed.bind(this),t.onResize=this.afterResized.bind(this),t.display(this.request)}append(e){var t=this.createView(e);return t.on(xe.VIEWS.RESIZED,i=>{t.expanded=!0}),t.on(xe.VIEWS.AXIS,i=>{this.updateAxis(i)}),t.on(xe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),this.views.append(t),t.onDisplayed=this.afterDisplayed.bind(this),t}prepend(e){var t=this.createView(e);return t.on(xe.VIEWS.RESIZED,i=>{this.counter(i),t.expanded=!0}),t.on(xe.VIEWS.AXIS,i=>{this.updateAxis(i)}),t.on(xe.VIEWS.WRITING_MODE,i=>{this.updateWritingMode(i)}),this.views.prepend(t),t.onDisplayed=this.afterDisplayed.bind(this),t}counter(e){this.settings.axis==="vertical"?this.scrollBy(0,e.heightDelta,!0):this.scrollBy(e.widthDelta,0,!0)}update(e){for(var t=this.bounds(),i=this.views.all(),n=i.length,s=typeof e<"u"?e:this.settings.offset||0,a,o,u=new Ge,h=[],c=0;c<n;c++)if(o=i[c],a=this.isVisible(o,s,s,t),a===!0)if(o.displayed)o.show();else{let d=o.display(this.request).then(function(b){b.show()},b=>{o.hide()});h.push(d)}else this.q.enqueue(o.destroy.bind(o)),clearTimeout(this.trimTimeout),this.trimTimeout=setTimeout((function(){this.q.enqueue(this.trim.bind(this))}).bind(this),250);return h.length?Promise.all(h).catch(d=>{u.reject(d)}):(u.resolve(),u.promise)}check(e,t){var i=new Ge,n=[],s=this.settings.axis==="horizontal",a=this.settings.offset||0;e&&s&&(a=e),t&&!s&&(a=t);var o=this._bounds;let u=s?this.scrollLeft:this.scrollTop,h=s?Math.floor(o.width):o.height,c=s?this.container.scrollWidth:this.container.scrollHeight,d=this.writingMode&&this.writingMode.indexOf("vertical")===0?"vertical":"horizontal",b=this.settings.rtlScrollType,v=this.settings.direction==="rtl";this.settings.fullsize?(s&&v&&b==="negative"||!s&&v&&b==="default")&&(u=u*-1):(v&&b==="default"&&d==="horizontal"&&(u=c-h-u),v&&b==="negative"&&d==="horizontal"&&(u=u*-1));let R=()=>{let x=this.views.first(),S=x&&x.section.prev();S&&n.push(this.prepend(S))},E=()=>{let x=this.views.last(),S=x&&x.section.next();S&&n.push(this.append(S))},p=u+h+a,g=u-a;p>=c&&E(),g<0&&R();let m=n.map(x=>x.display(this.request));return n.length?Promise.all(m).then(()=>this.check()).then(()=>this.update(a),x=>x):(this.q.enqueue((function(){this.update()}).bind(this)),i.resolve(!1),i.promise)}trim(){for(var e=new Ge,t=this.views.displayed(),i=t[0],n=t[t.length-1],s=this.views.indexOf(i),a=this.views.indexOf(n),o=this.views.slice(0,s),u=this.views.slice(a+1),h=0;h<o.length-1;h++)this.erase(o[h],o);for(var c=1;c<u.length;c++)this.erase(u[c]);return e.resolve(),e.promise}erase(e,t){var i,n;this.settings.fullsize?(i=window.scrollY,n=window.scrollX):(i=this.container.scrollTop,n=this.container.scrollLeft);var s=e.bounds();this.views.remove(e),t&&(this.settings.axis==="vertical"?this.scrollTo(0,i-s.height,!0):this.settings.direction==="rtl"?this.settings.fullsize?this.scrollTo(n+Math.floor(s.width),0,!0):this.scrollTo(n,0,!0):this.scrollTo(n-Math.floor(s.width),0,!0))}addEventListeners(e){window.addEventListener("unload",(function(t){this.ignore=!0,this.destroy()}).bind(this)),this.addScrollListeners(),this.isPaginated&&this.settings.snap&&(this.snapper=new zs(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}addScrollListeners(){var e;this.tick=aa;let t=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.scrollDeltaVert=0,this.scrollDeltaHorz=0,this.settings.fullsize?(e=window,this.scrollTop=window.scrollY*t,this.scrollLeft=window.scrollX*t):(e=this.container,this.scrollTop=this.container.scrollTop,this.scrollLeft=this.container.scrollLeft),this._onScroll=this.onScroll.bind(this),e.addEventListener("scroll",this._onScroll),this._scrolled=Wd(this.scrolled.bind(this),30),this.didScroll=!1}removeEventListeners(){var e;this.settings.fullsize?e=window:e=this.container,e.removeEventListener("scroll",this._onScroll),this._onScroll=void 0}onScroll(){let e,t,i=this.settings.direction==="rtl"&&this.settings.rtlScrollType==="default"?-1:1;this.settings.fullsize?(e=window.scrollY*i,t=window.scrollX*i):(e=this.container.scrollTop,t=this.container.scrollLeft),this.scrollTop=e,this.scrollLeft=t,this.ignore?this.ignore=!1:this._scrolled(),this.scrollDeltaVert+=Math.abs(e-this.prevScrollTop),this.scrollDeltaHorz+=Math.abs(t-this.prevScrollLeft),this.prevScrollTop=e,this.prevScrollLeft=t,clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout((function(){this.scrollDeltaVert=0,this.scrollDeltaHorz=0}).bind(this),150),clearTimeout(this.afterScrolled),this.didScroll=!1}scrolled(){this.q.enqueue((function(){return this.check()}).bind(this)),this.emit(xe.MANAGERS.SCROLL,{top:this.scrollTop,left:this.scrollLeft}),clearTimeout(this.afterScrolled),this.afterScrolled=setTimeout((function(){this.snapper&&this.snapper.supportsTouch&&this.snapper.needsSnap()||this.emit(xe.MANAGERS.SCROLLED,{top:this.scrollTop,left:this.scrollLeft})}).bind(this),this.settings.afterScrolledTimeout)}next(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(e,0,!0):this.scrollBy(0,this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}prev(){let e=this.layout.props.name==="pre-paginated"&&this.layout.props.spread?this.layout.props.delta*2:this.layout.props.delta;this.views.length&&(this.isPaginated&&this.settings.axis==="horizontal"?this.scrollBy(-e,0,!0):this.scrollBy(0,-this.layout.height,!0),this.q.enqueue((function(){return this.check()}).bind(this)))}updateFlow(e){this.rendered&&this.snapper&&(this.snapper.destroy(),this.snapper=void 0),super.updateFlow(e,"scroll"),this.rendered&&this.isPaginated&&this.settings.snap&&(this.snapper=new zs(this,this.settings.snap&&typeof this.settings.snap=="object"&&this.settings.snap))}destroy(){super.destroy(),this.snapper&&this.snapper.destroy()}}class ca{constructor(e,t){this.settings=At(this.settings||{},{width:null,height:null,ignoreClass:"",manager:"default",view:"iframe",flow:null,layout:null,spread:null,minSpreadWidth:800,stylesheet:null,resizeOnOrientationChange:!0,script:null,snap:!1,defaultDirection:"ltr",allowScriptedContent:!1,allowPopups:!1}),At(this.settings,t),typeof this.settings.manager=="object"&&(this.manager=this.settings.manager),this.book=e,this.hooks={},this.hooks.display=new Zt(this),this.hooks.serialize=new Zt(this),this.hooks.content=new Zt(this),this.hooks.unloaded=new Zt(this),this.hooks.layout=new Zt(this),this.hooks.render=new Zt(this),this.hooks.show=new Zt(this),this.hooks.content.register(this.handleLinks.bind(this)),this.hooks.content.register(this.passEvents.bind(this)),this.hooks.content.register(this.adjustImages.bind(this)),this.book.spine.hooks.content.register(this.injectIdentifier.bind(this)),this.settings.stylesheet&&this.book.spine.hooks.content.register(this.injectStylesheet.bind(this)),this.settings.script&&this.book.spine.hooks.content.register(this.injectScript.bind(this)),this.themes=new md(this),this.annotations=new _d(this),this.epubcfi=new Ze,this.q=new la(this),this.location=void 0,this.q.enqueue(this.book.opened),this.starting=new Ge,this.started=this.starting.promise,this.q.enqueue(this.start)}setManager(e){this.manager=e}requireManager(e){var t;return typeof e=="string"&&e==="default"?t=tn:typeof e=="string"&&e==="continuous"?t=Hd:t=e,t}requireView(e){var t;return typeof e=="string"&&e==="iframe"?t=Tl:t=e,t}start(){switch(!this.settings.layout&&(this.book.package.metadata.layout==="pre-paginated"||this.book.displayOptions.fixedLayout==="true")&&(this.settings.layout="pre-paginated"),this.book.package.metadata.spread){case"none":this.settings.spread="none";break;case"both":this.settings.spread=!0;break}this.manager||(this.ViewManager=this.requireManager(this.settings.manager),this.View=this.requireView(this.settings.view),this.manager=new this.ViewManager({view:this.View,queue:this.q,request:this.book.load.bind(this.book),settings:this.settings})),this.direction(this.book.package.metadata.direction||this.settings.defaultDirection),this.settings.globalLayoutProperties=this.determineLayoutProperties(this.book.package.metadata),this.flow(this.settings.globalLayoutProperties.flow),this.layout(this.settings.globalLayoutProperties),this.manager.on(xe.MANAGERS.ADDED,this.afterDisplayed.bind(this)),this.manager.on(xe.MANAGERS.REMOVED,this.afterRemoved.bind(this)),this.manager.on(xe.MANAGERS.RESIZED,this.onResized.bind(this)),this.manager.on(xe.MANAGERS.ORIENTATION_CHANGE,this.onOrientationChange.bind(this)),this.manager.on(xe.MANAGERS.SCROLLED,this.reportLocation.bind(this)),this.emit(xe.RENDITION.STARTED),this.starting.resolve()}attachTo(e){return this.q.enqueue((function(){this.manager.render(e,{width:this.settings.width,height:this.settings.height}),this.emit(xe.RENDITION.ATTACHED)}).bind(this))}display(e){return this.displaying&&this.displaying.resolve(),this.q.enqueue(this._display,e)}_display(e){if(this.book){this.epubcfi.isCfiString(e);var t=new Ge,i=t.promise,n;return this.displaying=t,this.book.locations.length()&&pl(e)&&(e=this.book.locations.cfiFromPercentage(parseFloat(e))),n=this.book.spine.get(e),n?(this.manager.display(n,e).then(()=>{t.resolve(n),this.displaying=void 0,this.emit(xe.RENDITION.DISPLAYED,n),this.reportLocation()},s=>{this.emit(xe.RENDITION.DISPLAY_ERROR,s)}),i):(t.reject(new Error("No Section Found")),i)}}afterDisplayed(e){e.on(xe.VIEWS.MARK_CLICKED,(t,i)=>this.triggerMarkEvent(t,i,e.contents)),this.hooks.render.trigger(e,this).then(()=>{e.contents?this.hooks.content.trigger(e.contents,this).then(()=>{this.emit(xe.RENDITION.RENDERED,e.section,e)}):this.emit(xe.RENDITION.RENDERED,e.section,e)})}afterRemoved(e){this.hooks.unloaded.trigger(e,this).then(()=>{this.emit(xe.RENDITION.REMOVED,e.section,e)})}onResized(e,t){this.emit(xe.RENDITION.RESIZED,{width:e.width,height:e.height},t),this.location&&this.location.start&&this.display(t||this.location.start.cfi)}onOrientationChange(e){this.emit(xe.RENDITION.ORIENTATION_CHANGE,e)}moveTo(e){this.manager.moveTo(e)}resize(e,t,i){e&&(this.settings.width=e),t&&(this.settings.height=t),this.manager.resize(e,t,i)}clear(){this.manager.clear()}next(){return this.q.enqueue(this.manager.next.bind(this.manager)).then(this.reportLocation.bind(this))}prev(){return this.q.enqueue(this.manager.prev.bind(this.manager)).then(this.reportLocation.bind(this))}determineLayoutProperties(e){var t,i=this.settings.layout||e.layout||"reflowable",n=this.settings.spread||e.spread||"auto",s=this.settings.orientation||e.orientation||"auto",a=this.settings.flow||e.flow||"auto",o=e.viewport||"",u=this.settings.minSpreadWidth||e.minSpreadWidth||800,h=this.settings.direction||e.direction||"ltr";return(this.settings.width===0||this.settings.width>0)&&(this.settings.height===0||this.settings.height>0),t={layout:i,spread:n,orientation:s,flow:a,viewport:o,minSpreadWidth:u,direction:h},t}flow(e){var t=e;(e==="scrolled"||e==="scrolled-doc"||e==="scrolled-continuous")&&(t="scrolled"),(e==="auto"||e==="paginated")&&(t="paginated"),this.settings.flow=e,this._layout&&this._layout.flow(t),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this.manager&&this.manager.updateFlow(t),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}layout(e){return e&&(this._layout=new Cl(e),this._layout.spread(e.spread,this.settings.minSpreadWidth),this._layout.on(xe.LAYOUT.UPDATED,(t,i)=>{this.emit(xe.RENDITION.LAYOUT,t,i)})),this.manager&&this._layout&&this.manager.applyLayout(this._layout),this._layout}spread(e,t){this.settings.spread=e,t&&(this.settings.minSpreadWidth=t),this._layout&&this._layout.spread(e,t),this.manager&&this.manager.isRendered()&&this.manager.updateLayout()}direction(e){this.settings.direction=e||"ltr",this.manager&&this.manager.direction(this.settings.direction),this.manager&&this.manager.isRendered()&&this.location&&(this.manager.clear(),this.display(this.location.start.cfi))}reportLocation(){return this.q.enqueue((function(){requestAnimationFrame((function(){var i=this.manager.currentLocation();if(i&&i.then&&typeof i.then=="function")i.then((function(n){let s=this.located(n);!s||!s.start||!s.end||(this.location=s,this.emit(xe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(xe.RENDITION.RELOCATED,this.location))}).bind(this));else if(i){let n=this.located(i);if(!n||!n.start||!n.end)return;this.location=n,this.emit(xe.RENDITION.LOCATION_CHANGED,{index:this.location.start.index,href:this.location.start.href,start:this.location.start.cfi,end:this.location.end.cfi,percentage:this.location.start.percentage}),this.emit(xe.RENDITION.RELOCATED,this.location)}}).bind(this))}).bind(this))}currentLocation(){var e=this.manager.currentLocation();if(e&&e.then&&typeof e.then=="function")e.then((function(t){return this.located(t)}).bind(this));else if(e)return this.located(e)}located(e){if(!e.length)return{};let t=e[0],i=e[e.length-1],n={start:{index:t.index,href:t.href,cfi:t.mapping.start,displayed:{page:t.pages[0]||1,total:t.totalPages}},end:{index:i.index,href:i.href,cfi:i.mapping.end,displayed:{page:i.pages[i.pages.length-1]||1,total:i.totalPages}}},s=this.book.locations.locationFromCfi(t.mapping.start),a=this.book.locations.locationFromCfi(i.mapping.end);s!=null&&(n.start.location=s,n.start.percentage=this.book.locations.percentageFromLocation(s)),a!=null&&(n.end.location=a,n.end.percentage=this.book.locations.percentageFromLocation(a));let o=this.book.pageList.pageFromCfi(t.mapping.start),u=this.book.pageList.pageFromCfi(i.mapping.end);return o!=-1&&(n.start.page=o),u!=-1&&(n.end.page=u),i.index===this.book.spine.last().index&&n.end.displayed.page>=n.end.displayed.total&&(n.atEnd=!0),t.index===this.book.spine.first().index&&n.start.displayed.page===1&&(n.atStart=!0),n}destroy(){this.manager&&this.manager.destroy(),this.book=void 0}passEvents(e){Mr.forEach(t=>{e.on(t,i=>this.triggerViewEvent(i,e))}),e.on(xe.CONTENTS.SELECTED,t=>this.triggerSelectedEvent(t,e))}triggerViewEvent(e,t){this.emit(e.type,e,t)}triggerSelectedEvent(e,t){this.emit(xe.RENDITION.SELECTED,e,t)}triggerMarkEvent(e,t,i){this.emit(xe.RENDITION.MARK_CLICKED,e,t,i)}getRange(e,t){var i=new Ze(e),n=this.manager.visible().filter(function(s){if(i.spinePos===s.index)return!0});if(n.length)return n[0].contents.range(i,t)}adjustImages(e){if(this._layout.name==="pre-paginated")return new Promise(function(s){s()});let t=e.window.getComputedStyle(e.content,null),i=(e.content.offsetHeight-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)))*.95,n=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight);return e.addStylesheetRules({img:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-n+"px":"100%")+"!important","max-height":i+"px!important","object-fit":"contain","page-break-inside":"avoid","break-inside":"avoid","box-sizing":"border-box"},svg:{"max-width":(this._layout.columnWidth?this._layout.columnWidth-n+"px":"100%")+"!important","max-height":i+"px!important","page-break-inside":"avoid","break-inside":"avoid"}}),new Promise(function(s,a){setTimeout(function(){s()},1)})}getContents(){return this.manager?this.manager.getContents():[]}views(){return(this.manager?this.manager.views:void 0)||[]}handleLinks(e){e&&e.on(xe.CONTENTS.LINK_CLICKED,t=>{let i=this.book.path.relative(t);this.display(i)})}injectStylesheet(e,t){let i=e.createElement("link");i.setAttribute("type","text/css"),i.setAttribute("rel","stylesheet"),i.setAttribute("href",this.settings.stylesheet),e.getElementsByTagName("head")[0].appendChild(i)}injectScript(e,t){let i=e.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",this.settings.script),i.textContent=" ",e.getElementsByTagName("head")[0].appendChild(i)}injectIdentifier(e,t){let i=this.book.packaging.metadata.identifier,n=e.createElement("meta");n.setAttribute("name","dc.relation.ispartof"),i&&n.setAttribute("content",i),e.getElementsByTagName("head")[0].appendChild(n)}}ni(ca.prototype);function wi(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ys={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Vo;function Vd(){return Vo||(Vo=1,(function(r,e){(function(t){r.exports=t()})(function(){return(function t(i,n,s){function a(h,c){if(!n[h]){if(!i[h]){var d=typeof wi=="function"&&wi;if(!c&&d)return d(h,!0);if(o)return o(h,!0);var b=new Error("Cannot find module '"+h+"'");throw b.code="MODULE_NOT_FOUND",b}var v=n[h]={exports:{}};i[h][0].call(v.exports,function(R){var E=i[h][1][R];return a(E||R)},v,v.exports,t,i,n,s)}return n[h].exports}for(var o=typeof wi=="function"&&wi,u=0;u<s.length;u++)a(s[u]);return a})({1:[function(t,i,n){var s=t("./utils"),a=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(u){for(var h=[],c,d,b,v,R,E,p,g=0,m=u.length,x=m,S=s.getTypeOf(u)!=="string";g<u.length;)x=m-g,S?(c=u[g++],d=g<m?u[g++]:0,b=g<m?u[g++]:0):(c=u.charCodeAt(g++),d=g<m?u.charCodeAt(g++):0,b=g<m?u.charCodeAt(g++):0),v=c>>2,R=(c&3)<<4|d>>4,E=x>1?(d&15)<<2|b>>6:64,p=x>2?b&63:64,h.push(o.charAt(v)+o.charAt(R)+o.charAt(E)+o.charAt(p));return h.join("")},n.decode=function(u){var h,c,d,b,v,R,E,p=0,g=0,m="data:";if(u.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");u=u.replace(/[^A-Za-z0-9+/=]/g,"");var x=u.length*3/4;if(u.charAt(u.length-1)===o.charAt(64)&&x--,u.charAt(u.length-2)===o.charAt(64)&&x--,x%1!==0)throw new Error("Invalid base64 input, bad content length.");var S;for(a.uint8array?S=new Uint8Array(x|0):S=new Array(x|0);p<u.length;)b=o.indexOf(u.charAt(p++)),v=o.indexOf(u.charAt(p++)),R=o.indexOf(u.charAt(p++)),E=o.indexOf(u.charAt(p++)),h=b<<2|v>>4,c=(v&15)<<4|R>>2,d=(R&3)<<6|E,S[g++]=h,R!==64&&(S[g++]=c),E!==64&&(S[g++]=d);return S}},{"./support":30,"./utils":32}],2:[function(t,i,n){var s=t("./external"),a=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function h(c,d,b,v,R){this.compressedSize=c,this.uncompressedSize=d,this.crc32=b,this.compression=v,this.compressedContent=R}h.prototype={getContentWorker:function(){var c=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),d=this;return c.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(c,d,b){return c.pipe(new o).pipe(new u("uncompressedSize")).pipe(d.compressWorker(b)).pipe(new u("compressedSize")).withStreamInfo("compression",d)},i.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,i,n){var s=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,i,n){var s=t("./utils");function a(){for(var c,d=[],b=0;b<256;b++){c=b;for(var v=0;v<8;v++)c=c&1?3988292384^c>>>1:c>>>1;d[b]=c}return d}var o=a();function u(c,d,b,v){var R=o,E=v+b;c=c^-1;for(var p=v;p<E;p++)c=c>>>8^R[(c^d[p])&255];return c^-1}function h(c,d,b,v){var R=o,E=v+b;c=c^-1;for(var p=v;p<E;p++)c=c>>>8^R[(c^d.charCodeAt(p))&255];return c^-1}i.exports=function(d,b){if(typeof d>"u"||!d.length)return 0;var v=s.getTypeOf(d)!=="string";return v?u(b|0,d,d.length,0):h(b|0,d,d.length,0)}},{"./utils":32}],5:[function(t,i,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,i,n){var s=null;typeof Promise<"u"?s=Promise:s=t("lie"),i.exports={Promise:s}},{lie:37}],7:[function(t,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),o=t("./utils"),u=t("./stream/GenericWorker"),h=s?"uint8array":"array";n.magic="\b\0";function c(d,b){u.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=b,this.meta={}}o.inherits(c,u),c.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(h,d.data),!1)},c.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(b){d.push({data:b,meta:d.meta})}},n.compressWorker=function(d){return new c("Deflate",d)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,i,n){var s=t("../utils"),a=t("../stream/GenericWorker"),o=t("../utf8"),u=t("../crc32"),h=t("../signature"),c=function(g,m){var x="",S;for(S=0;S<m;S++)x+=String.fromCharCode(g&255),g=g>>>8;return x},d=function(g,m){var x=g;return g||(x=m?16893:33204),(x&65535)<<16},b=function(g){return(g||0)&63},v=function(g,m,x,S,_,T){var O=g.file,I=g.compression,D=T!==o.utf8encode,L=s.transformTo("string",T(O.name)),$=s.transformTo("string",o.utf8encode(O.name)),H=O.comment,Y=s.transformTo("string",T(H)),ue=s.transformTo("string",o.utf8encode(H)),oe=$.length!==O.name.length,pe=ue.length!==H.length,Q,ee,be="",Ne="",ge="",we=O.dir,ze=O.date,Re={crc32:0,compressedSize:0,uncompressedSize:0};(!m||x)&&(Re.crc32=g.crc32,Re.compressedSize=g.compressedSize,Re.uncompressedSize=g.uncompressedSize);var je=0;m&&(je|=8),!D&&(oe||pe)&&(je|=2048);var Je=0,He=0;we&&(Je|=16),_==="UNIX"?(He=798,Je|=d(O.unixPermissions,we)):(He=20,Je|=b(O.dosPermissions)),Q=ze.getUTCHours(),Q=Q<<6,Q=Q|ze.getUTCMinutes(),Q=Q<<5,Q=Q|ze.getUTCSeconds()/2,ee=ze.getUTCFullYear()-1980,ee=ee<<4,ee=ee|ze.getUTCMonth()+1,ee=ee<<5,ee=ee|ze.getUTCDate(),oe&&(Ne=c(1,1)+c(u(L),4)+$,be+="up"+c(Ne.length,2)+Ne),pe&&(ge=c(1,1)+c(u(Y),4)+ue,be+="uc"+c(ge.length,2)+ge);var ke="";ke+=`
\0`,ke+=c(je,2),ke+=I.magic,ke+=c(Q,2),ke+=c(ee,2),ke+=c(Re.crc32,4),ke+=c(Re.compressedSize,4),ke+=c(Re.uncompressedSize,4),ke+=c(L.length,2),ke+=c(be.length,2);var Ye=h.LOCAL_FILE_HEADER+ke+L+be,Ke=h.CENTRAL_FILE_HEADER+c(He,2)+ke+c(Y.length,2)+"\0\0\0\0"+c(Je,4)+c(S,4)+L+be+Y;return{fileRecord:Ye,dirRecord:Ke}},R=function(g,m,x,S,_){var T="",O=s.transformTo("string",_(S));return T=h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(g,2)+c(g,2)+c(m,4)+c(x,4)+c(O.length,2)+O,T},E=function(g){var m="";return m=h.DATA_DESCRIPTOR+c(g.crc32,4)+c(g.compressedSize,4)+c(g.uncompressedSize,4),m};function p(g,m,x,S){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=x,this.encodeFileName=S,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(p,a),p.prototype.push=function(g){var m=g.meta.percent||0,x=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,a.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:x?(m+100*(x-S-1))/x:100}}))},p.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var m=this.streamFiles&&!g.file.dir;if(m){var x=v(g,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(g){this.accumulate=!1;var m=this.streamFiles&&!g.file.dir,x=v(g,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),m)this.push({data:E(g),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var g=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var x=this.bytesWritten-g,S=R(this.dirRecords.length,x,g,this.zipComment,this.encodeFileName);this.push({data:S,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(g){this._sources.push(g);var m=this;return g.on("data",function(x){m.processChunk(x)}),g.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),g.on("error",function(x){m.error(x)}),this},p.prototype.resume=function(){if(!a.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0},p.prototype.error=function(g){var m=this._sources;if(!a.prototype.error.call(this,g))return!1;for(var x=0;x<m.length;x++)try{m[x].error(g)}catch{}return!0},p.prototype.lock=function(){a.prototype.lock.call(this);for(var g=this._sources,m=0;m<g.length;m++)g[m].lock()},i.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,i,n){var s=t("../compressions"),a=t("./ZipFileWorker"),o=function(u,h){var c=u||h,d=s[c];if(!d)throw new Error(c+" is not a valid compression method !");return d};n.generateWorker=function(u,h,c){var d=new a(h.streamFiles,c,h.platform,h.encodeFileName),b=0;try{u.forEach(function(v,R){b++;var E=o(R.options.compression,h.compression),p=R.options.compressionOptions||h.compressionOptions||{},g=R.dir,m=R.date;R._compressWorker(E,p).withStreamInfo("file",{name:v,dir:g,date:m,comment:R.comment||"",unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions}).pipe(d)}),d.entriesCount=b}catch(v){d.error(v)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,i,n){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}s.prototype=t("./object"),s.prototype.loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=t("./external"),i.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,i,n){var s=t("./utils"),a=t("./external"),o=t("./utf8"),u=t("./zipEntries"),h=t("./stream/Crc32Probe"),c=t("./nodejsUtils");function d(b){return new a.Promise(function(v,R){var E=b.decompressed.getContentWorker().pipe(new h);E.on("error",function(p){R(p)}).on("end",function(){E.streamInfo.crc32!==b.decompressed.crc32?R(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}i.exports=function(b,v){var R=this;return v=s.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(b)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",b,!0,v.optimizedBinaryString,v.base64).then(function(E){var p=new u(v);return p.load(E),p}).then(function(p){var g=[a.Promise.resolve(p)],m=p.files;if(v.checkCRC32)for(var x=0;x<m.length;x++)g.push(d(m[x]));return a.Promise.all(g)}).then(function(p){for(var g=p.shift(),m=g.files,x=0;x<m.length;x++){var S=m[x],_=S.fileNameStr,T=s.resolve(S.fileNameStr);R.file(T,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:v.createFolders}),S.dir||(R.file(T).unsafeOriginalName=_)}return g.zipComment.length&&(R.comment=g.zipComment),R})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,i,n){var s=t("../utils"),a=t("../stream/GenericWorker");function o(u,h){a.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(h)}s.inherits(o,a),o.prototype._bindStream=function(u){var h=this;this._stream=u,u.pause(),u.on("data",function(c){h.push({data:c,meta:{percent:0}})}).on("error",function(c){h.isPaused?this.generatedError=c:h.error(c)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},o.prototype.pause=function(){return a.prototype.pause.call(this)?(this._stream.pause(),!0):!1},o.prototype.resume=function(){return a.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},i.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,i,n){var s=t("readable-stream").Readable,a=t("../utils");a.inherits(o,s);function o(u,h,c){s.call(this,h),this._helper=u;var d=this;u.on("data",function(b,v){d.push(b)||d._helper.pause(),c&&c(v)}).on("error",function(b){d.emit("error",b)}).on("end",function(){d.push(null)})}o.prototype._read=function(){this._helper.resume()},i.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,i,n){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,i,n){var s=t("./utf8"),a=t("./utils"),o=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),h=t("./defaults"),c=t("./compressedObject"),d=t("./zipObject"),b=t("./generate"),v=t("./nodejsUtils"),R=t("./nodejs/NodejsStreamInputAdapter"),E=function(_,T,O){var I=a.getTypeOf(T),D,L=a.extend(O||{},h);L.date=L.date||new Date,L.compression!==null&&(L.compression=L.compression.toUpperCase()),typeof L.unixPermissions=="string"&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&L.unixPermissions&16384&&(L.dir=!0),L.dosPermissions&&L.dosPermissions&16&&(L.dir=!0),L.dir&&(_=g(_)),L.createFolders&&(D=p(_))&&m.call(this,D,!0);var $=I==="string"&&L.binary===!1&&L.base64===!1;(!O||typeof O.binary>"u")&&(L.binary=!$);var H=T instanceof c&&T.uncompressedSize===0;(H||L.dir||!T||T.length===0)&&(L.base64=!1,L.binary=!0,T="",L.compression="STORE",I="string");var Y=null;T instanceof c||T instanceof o?Y=T:v.isNode&&v.isStream(T)?Y=new R(_,T):Y=a.prepareContent(_,T,L.binary,L.optimizedBinaryString,L.base64);var ue=new d(_,Y,L);this.files[_]=ue},p=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var T=_.lastIndexOf("/");return T>0?_.substring(0,T):""},g=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},m=function(_,T){return T=typeof T<"u"?T:h.createFolders,_=g(_),this.files[_]||E.call(this,_,null,{dir:!0,createFolders:T}),this.files[_]};function x(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var T,O,I;for(T in this.files)I=this.files[T],O=T.slice(this.root.length,T.length),O&&T.slice(0,this.root.length)===this.root&&_(O,I)},filter:function(_){var T=[];return this.forEach(function(O,I){_(O,I)&&T.push(I)}),T},file:function(_,T,O){if(arguments.length===1)if(x(_)){var I=_;return this.filter(function(L,$){return!$.dir&&I.test(L)})}else{var D=this.files[this.root+_];return D&&!D.dir?D:null}else _=this.root+_,E.call(this,_,T,O);return this},folder:function(_){if(!_)return this;if(x(_))return this.filter(function(D,L){return L.dir&&_.test(D)});var T=this.root+_,O=m.call(this,T),I=this.clone();return I.root=O.name,I},remove:function(_){_=this.root+_;var T=this.files[_];if(T||(_.slice(-1)!=="/"&&(_+="/"),T=this.files[_]),T&&!T.dir)delete this.files[_];else for(var O=this.filter(function(D,L){return L.name.slice(0,_.length)===_}),I=0;I<O.length;I++)delete this.files[O[I].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var T,O={};try{if(O=a.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode}),O.type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");a.checkSupport(O.type),(O.platform==="darwin"||O.platform==="freebsd"||O.platform==="linux"||O.platform==="sunos")&&(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var I=O.comment||this.comment||"";T=b.generateWorker(this,O,I)}catch(D){T=new o("error"),T.error(D)}return new u(T,O.type||"string",O.mimeType)},generateAsync:function(_,T){return this.generateInternalStream(_).accumulate(T)},generateNodeStream:function(_,T){return _=_||{},_.type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(T)}};i.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,i,n){i.exports=t("stream")},{stream:void 0}],17:[function(t,i,n){var s=t("./DataReader"),a=t("../utils");function o(u){s.call(this,u);for(var h=0;h<this.data.length;h++)u[h]=u[h]&255}a.inherits(o,s),o.prototype.byteAt=function(u){return this.data[this.zero+u]},o.prototype.lastIndexOfSignature=function(u){for(var h=u.charCodeAt(0),c=u.charCodeAt(1),d=u.charCodeAt(2),b=u.charCodeAt(3),v=this.length-4;v>=0;--v)if(this.data[v]===h&&this.data[v+1]===c&&this.data[v+2]===d&&this.data[v+3]===b)return v-this.zero;return-1},o.prototype.readAndCheckSignature=function(u){var h=u.charCodeAt(0),c=u.charCodeAt(1),d=u.charCodeAt(2),b=u.charCodeAt(3),v=this.readData(4);return h===v[0]&&c===v[1]&&d===v[2]&&b===v[3]},o.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},i.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,i,n){var s=t("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var u=0,h;for(this.checkOffset(o),h=this.index+o-1;h>=this.index;h--)u=(u<<8)+this.byteAt(h);return this.index+=o,u},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC((o>>25&127)+1980,(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(o&31)<<1))}},i.exports=a},{"../utils":32}],19:[function(t,i,n){var s=t("./Uint8ArrayReader"),a=t("../utils");function o(u){s.call(this,u)}a.inherits(o,s),o.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},i.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,i,n){var s=t("./DataReader"),a=t("../utils");function o(u){s.call(this,u)}a.inherits(o,s),o.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},o.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},o.prototype.readAndCheckSignature=function(u){var h=this.readData(4);return u===h},o.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},i.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,i,n){var s=t("./ArrayReader"),a=t("../utils");function o(u){s.call(this,u)}a.inherits(o,s),o.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},i.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,i,n){var s=t("../utils"),a=t("../support"),o=t("./ArrayReader"),u=t("./StringReader"),h=t("./NodeBufferReader"),c=t("./Uint8ArrayReader");i.exports=function(d){var b=s.getTypeOf(d);return s.checkSupport(b),b==="string"&&!a.uint8array?new u(d):b==="nodebuffer"?new h(d):a.uint8array?new c(s.transformTo("uint8array",d)):new o(s.transformTo("array",d))}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,i,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,i,n){var s=t("./GenericWorker"),a=t("../utils");function o(u){s.call(this,"ConvertWorker to "+u),this.destType=u}a.inherits(o,s),o.prototype.processChunk=function(u){this.push({data:a.transformTo(this.destType,u.data),meta:u.meta})},i.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,i,n){var s=t("./GenericWorker"),a=t("../crc32"),o=t("../utils");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o.inherits(u,s),u.prototype.processChunk=function(h){this.streamInfo.crc32=a(h.data,this.streamInfo.crc32||0),this.push(h)},i.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,i,n){var s=t("../utils"),a=t("./GenericWorker");function o(u){a.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(o,a),o.prototype.processChunk=function(u){if(u){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+u.data.length}a.prototype.processChunk.call(this,u)},i.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,i,n){var s=t("../utils"),a=t("./GenericWorker"),o=16*1024;function u(h){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(d){c.dataIsReady=!0,c.data=d,c.max=d&&d.length||0,c.type=s.getTypeOf(d),c.isPaused||c._tickAndRepeat()},function(d){c.error(d)})}s.inherits(u,a),u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return a.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0):!1},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=o,c=null,d=Math.min(this.max,this.index+h);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d);break}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(t,i,n){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return this.isFinished?!1:(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var u=0;u<this._listeners[a].length;u++)this._listeners[a][u].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(u){o.processChunk(u)}),a.on("end",function(){o.end()}),a.on("error",function(u){o.error(u)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var a=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},i.exports=s},{}],29:[function(t,i,n){var s=t("../utils"),a=t("./ConvertWorker"),o=t("./GenericWorker"),u=t("../base64"),h=t("../support"),c=t("../external"),d=null;if(h.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(p,g,m){switch(p){case"blob":return s.newBlob(s.transformTo("arraybuffer",g),m);case"base64":return u.encode(g);default:return s.transformTo(p,g)}}function v(p,g){var m,x=0,S=null,_=0;for(m=0;m<g.length;m++)_+=g[m].length;switch(p){case"string":return g.join("");case"array":return Array.prototype.concat.apply([],g);case"uint8array":for(S=new Uint8Array(_),m=0;m<g.length;m++)S.set(g[m],x),x+=g[m].length;return S;case"nodebuffer":return Buffer.concat(g);default:throw new Error("concat : unsupported type '"+p+"'")}}function R(p,g){return new c.Promise(function(m,x){var S=[],_=p._internalType,T=p._outputType,O=p._mimeType;p.on("data",function(I,D){S.push(I),g&&g(D)}).on("error",function(I){S=[],x(I)}).on("end",function(){try{var I=b(T,v(_,S),O);m(I)}catch(D){x(D)}S=[]}).resume()})}function E(p,g,m){var x=g;switch(g){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string";break}try{this._internalType=x,this._outputType=g,this._mimeType=m,s.checkSupport(x),this._worker=p.pipe(new a(x)),p.lock()}catch(S){this._worker=new o("error"),this._worker.error(S)}}E.prototype={accumulate:function(p){return R(this,p)},on:function(p,g){var m=this;return p==="data"?this._worker.on(p,function(x){g.call(m,x.data,x.meta)}):this._worker.on(p,function(){s.delay(g,arguments,m)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},p)}},i.exports=E},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,i,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var s=new ArrayBuffer(0);try{n.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,o=new a;o.append(s),n.blob=o.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(t,i,n){for(var s=t("./utils"),a=t("./support"),o=t("./nodejsUtils"),u=t("./stream/GenericWorker"),h=new Array(256),c=0;c<256;c++)h[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;h[254]=h[254]=1;var d=function(p){var g,m,x,S,_,T=p.length,O=0;for(S=0;S<T;S++)m=p.charCodeAt(S),(m&64512)===55296&&S+1<T&&(x=p.charCodeAt(S+1),(x&64512)===56320&&(m=65536+(m-55296<<10)+(x-56320),S++)),O+=m<128?1:m<2048?2:m<65536?3:4;for(a.uint8array?g=new Uint8Array(O):g=new Array(O),_=0,S=0;_<O;S++)m=p.charCodeAt(S),(m&64512)===55296&&S+1<T&&(x=p.charCodeAt(S+1),(x&64512)===56320&&(m=65536+(m-55296<<10)+(x-56320),S++)),m<128?g[_++]=m:m<2048?(g[_++]=192|m>>>6,g[_++]=128|m&63):m<65536?(g[_++]=224|m>>>12,g[_++]=128|m>>>6&63,g[_++]=128|m&63):(g[_++]=240|m>>>18,g[_++]=128|m>>>12&63,g[_++]=128|m>>>6&63,g[_++]=128|m&63);return g},b=function(p,g){var m;for(g=g||p.length,g>p.length&&(g=p.length),m=g-1;m>=0&&(p[m]&192)===128;)m--;return m<0||m===0?g:m+h[p[m]]>g?m:g},v=function(p){var g,m,x,S,_=p.length,T=new Array(_*2);for(m=0,g=0;g<_;){if(x=p[g++],x<128){T[m++]=x;continue}if(S=h[x],S>4){T[m++]=65533,g+=S-1;continue}for(x&=S===2?31:S===3?15:7;S>1&&g<_;)x=x<<6|p[g++]&63,S--;if(S>1){T[m++]=65533;continue}x<65536?T[m++]=x:(x-=65536,T[m++]=55296|x>>10&1023,T[m++]=56320|x&1023)}return T.length!==m&&(T.subarray?T=T.subarray(0,m):T.length=m),s.applyFromCharCode(T)};n.utf8encode=function(g){return a.nodebuffer?o.newBufferFrom(g,"utf-8"):d(g)},n.utf8decode=function(g){return a.nodebuffer?s.transformTo("nodebuffer",g).toString("utf-8"):(g=s.transformTo(a.uint8array?"uint8array":"array",g),v(g))};function R(){u.call(this,"utf-8 decode"),this.leftOver=null}s.inherits(R,u),R.prototype.processChunk=function(p){var g=s.transformTo(a.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var m=g;g=new Uint8Array(m.length+this.leftOver.length),g.set(this.leftOver,0),g.set(m,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var x=b(g),S=g;x!==g.length&&(a.uint8array?(S=g.subarray(0,x),this.leftOver=g.subarray(x,g.length)):(S=g.slice(0,x),this.leftOver=g.slice(x,g.length))),this.push({data:n.utf8decode(S),meta:p.meta})},R.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=R;function E(){u.call(this,"utf-8 encode")}s.inherits(E,u),E.prototype.processChunk=function(p){this.push({data:n.utf8encode(p.data),meta:p.meta})},n.Utf8EncodeWorker=E},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,i,n){var s=t("./support"),a=t("./base64"),o=t("./nodejsUtils"),u=t("./external");t("setimmediate");function h(p){var g=null;return s.uint8array?g=new Uint8Array(p.length):g=new Array(p.length),d(p,g)}n.newBlob=function(p,g){n.checkSupport("blob");try{return new Blob([p],{type:g})}catch{try{var m=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,x=new m;return x.append(p),x.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};function c(p){return p}function d(p,g){for(var m=0;m<p.length;++m)g[m]=p.charCodeAt(m)&255;return g}var b={stringifyByChunk:function(p,g,m){var x=[],S=0,_=p.length;if(_<=m)return String.fromCharCode.apply(null,p);for(;S<_;)g==="array"||g==="nodebuffer"?x.push(String.fromCharCode.apply(null,p.slice(S,Math.min(S+m,_)))):x.push(String.fromCharCode.apply(null,p.subarray(S,Math.min(S+m,_)))),S+=m;return x.join("")},stringifyByChar:function(p){for(var g="",m=0;m<p.length;m++)g+=String.fromCharCode(p[m]);return g},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function v(p){var g=65536,m=n.getTypeOf(p),x=!0;if(m==="uint8array"?x=b.applyCanBeUsed.uint8array:m==="nodebuffer"&&(x=b.applyCanBeUsed.nodebuffer),x)for(;g>1;)try{return b.stringifyByChunk(p,m,g)}catch{g=Math.floor(g/2)}return b.stringifyByChar(p)}n.applyFromCharCode=v;function R(p,g){for(var m=0;m<p.length;m++)g[m]=p[m];return g}var E={};E.string={string:c,array:function(p){return d(p,new Array(p.length))},arraybuffer:function(p){return E.string.uint8array(p).buffer},uint8array:function(p){return d(p,new Uint8Array(p.length))},nodebuffer:function(p){return d(p,o.allocBuffer(p.length))}},E.array={string:v,array:c,arraybuffer:function(p){return new Uint8Array(p).buffer},uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(p)}},E.arraybuffer={string:function(p){return v(new Uint8Array(p))},array:function(p){return R(new Uint8Array(p),new Array(p.byteLength))},arraybuffer:c,uint8array:function(p){return new Uint8Array(p)},nodebuffer:function(p){return o.newBufferFrom(new Uint8Array(p))}},E.uint8array={string:v,array:function(p){return R(p,new Array(p.length))},arraybuffer:function(p){return p.buffer},uint8array:c,nodebuffer:function(p){return o.newBufferFrom(p)}},E.nodebuffer={string:v,array:function(p){return R(p,new Array(p.length))},arraybuffer:function(p){return E.nodebuffer.uint8array(p).buffer},uint8array:function(p){return R(p,new Uint8Array(p.length))},nodebuffer:c},n.transformTo=function(p,g){if(g||(g=""),!p)return g;n.checkSupport(p);var m=n.getTypeOf(g),x=E[m][p](g);return x},n.resolve=function(p){for(var g=p.split("/"),m=[],x=0;x<g.length;x++){var S=g[x];S==="."||S===""&&x!==0&&x!==g.length-1||(S===".."?m.pop():m.push(S))}return m.join("/")},n.getTypeOf=function(p){if(typeof p=="string")return"string";if(Object.prototype.toString.call(p)==="[object Array]")return"array";if(s.nodebuffer&&o.isBuffer(p))return"nodebuffer";if(s.uint8array&&p instanceof Uint8Array)return"uint8array";if(s.arraybuffer&&p instanceof ArrayBuffer)return"arraybuffer"},n.checkSupport=function(p){var g=s[p.toLowerCase()];if(!g)throw new Error(p+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(p){var g="",m,x;for(x=0;x<(p||"").length;x++)m=p.charCodeAt(x),g+="\\x"+(m<16?"0":"")+m.toString(16).toUpperCase();return g},n.delay=function(p,g,m){setImmediate(function(){p.apply(m||null,g||[])})},n.inherits=function(p,g){var m=function(){};m.prototype=g.prototype,p.prototype=new m},n.extend=function(){var p={},g,m;for(g=0;g<arguments.length;g++)for(m in arguments[g])Object.prototype.hasOwnProperty.call(arguments[g],m)&&typeof p[m]>"u"&&(p[m]=arguments[g][m]);return p},n.prepareContent=function(p,g,m,x,S){var _=u.Promise.resolve(g).then(function(T){var O=s.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1);return O&&typeof FileReader<"u"?new u.Promise(function(I,D){var L=new FileReader;L.onload=function($){I($.target.result)},L.onerror=function($){D($.target.error)},L.readAsArrayBuffer(T)}):T});return _.then(function(T){var O=n.getTypeOf(T);return O?(O==="arraybuffer"?T=n.transformTo("uint8array",T):O==="string"&&(S?T=a.decode(T):m&&x!==!0&&(T=h(T))),T):u.Promise.reject(new Error("Can't read the data of '"+p+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,i,n){var s=t("./reader/readerFor"),a=t("./utils"),o=t("./signature"),u=t("./zipEntry"),h=t("./support");function c(d){this.files=[],this.loadOptions=d}c.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(b)+", expected "+a.pretty(d)+")")}},isSignature:function(d,b){var v=this.reader.index;this.reader.setIndex(d);var R=this.reader.readString(4),E=R===b;return this.reader.setIndex(v),E},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),b=h.uint8array?"uint8array":"array",v=a.transformTo(b,d);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d=this.zip64EndOfCentralSize-44,b=0,v,R,E;b<d;)v=this.reader.readInt(2),R=this.reader.readInt(4),E=this.reader.readData(R),this.zip64ExtensibleData[v]={id:v,length:R,value:E}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,b;for(d=0;d<this.files.length;d++)b=this.files[d],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)d=new u({zip64:this.zip64},this.loadOptions),d.readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(d<0){var b=!this.isSignature(0,o.LOCAL_FILE_HEADER);throw b?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(d);var v=d;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,d=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),d<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var R=this.centralDirOffset+this.centralDirSize;this.zip64&&(R+=20,R+=12+this.zip64EndOfCentralSize);var E=v-R;if(E>0)this.isSignature(v,o.CENTRAL_FILE_HEADER)||(this.reader.zero=E);else if(E<0)throw new Error("Corrupted zip: missing "+Math.abs(E)+" bytes.")},prepareReader:function(d){this.reader=s(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,i,n){var s=t("./reader/readerFor"),a=t("./utils"),o=t("./compressedObject"),u=t("./crc32"),h=t("./utf8"),c=t("./compressions"),d=t("./support"),b=0,v=3,R=function(p){for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)&&c[g].magic===p)return c[g];return null};function E(p,g){this.options=p,this.loadOptions=g}E.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(p){var g,m;if(p.skip(22),this.fileNameLength=p.readInt(2),m=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(g=R(this.compressionMethod),g===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var g=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(g),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),p===b&&(this.dosPermissions=this.externalFileAttributes&63),p===v&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var g=p.index+this.extraFieldsLength,m,x,S;for(this.extraFields||(this.extraFields={});p.index+4<g;)m=p.readInt(2),x=p.readInt(2),S=p.readData(x),this.extraFields[m]={id:m,length:x,value:S};p.setIndex(g)},handleUTF8:function(){var p=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var m=a.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var S=a.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var g=s(p.value);return g.readInt(1)!==1||u(this.fileName)!==g.readInt(4)?null:h.utf8decode(g.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var g=s(p.value);return g.readInt(1)!==1||u(this.fileComment)!==g.readInt(4)?null:h.utf8decode(g.readData(p.length-5))}return null}},i.exports=E},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,i,n){var s=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),o=t("./utf8"),u=t("./compressedObject"),h=t("./stream/GenericWorker"),c=function(R,E,p){this.name=R,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=E,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}};c.prototype={internalStream:function(R){var E=null,p="string";try{if(!R)throw new Error("No output type specified.");p=R.toLowerCase();var g=p==="string"||p==="text";(p==="binarystring"||p==="text")&&(p="string"),E=this._decompressWorker();var m=!this._dataBinary;m&&!g&&(E=E.pipe(new o.Utf8EncodeWorker)),!m&&g&&(E=E.pipe(new o.Utf8DecodeWorker))}catch(x){E=new h("error"),E.error(x)}return new s(E,p,"")},async:function(R,E){return this.internalStream(R).accumulate(E)},nodeStream:function(R,E){return this.internalStream(R||"nodebuffer").toNodejsStream(E)},_compressWorker:function(R,E){if(this._data instanceof u&&this._data.compression.magic===R.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new o.Utf8EncodeWorker)),u.createWorkerFrom(p,R,E)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof h?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<d.length;v++)c.prototype[d[v]]=b;i.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,i,n){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var u=0,h=new a(R),c=s.document.createTextNode("");h.observe(c,{characterData:!0}),o=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=R,o=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var p=s.document.createElement("script");p.onreadystatechange=function(){R(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},s.document.documentElement.appendChild(p)}:o=function(){setTimeout(R,0)};var b,v=[];function R(){b=!0;for(var p,g,m=v.length;m;){for(g=v,v=[],p=-1;++p<m;)g[p]();m=v.length}b=!1}i.exports=E;function E(p){v.push(p)===1&&!b&&o()}}).call(this,typeof jt<"u"?jt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,i,n){var s=t("immediate");function a(){}var o={},u=["REJECTED"],h=["FULFILLED"],c=["PENDING"];i.exports=d;function d(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,_!==a&&E(this,_)}d.prototype.finally=function(_){if(typeof _!="function")return this;var T=this.constructor;return this.then(O,I);function O(D){function L(){return D}return T.resolve(_()).then(L)}function I(D){function L(){throw D}return T.resolve(_()).then(L)}},d.prototype.catch=function(_){return this.then(null,_)},d.prototype.then=function(_,T){if(typeof _!="function"&&this.state===h||typeof T!="function"&&this.state===u)return this;var O=new this.constructor(a);if(this.state!==c){var I=this.state===h?_:T;v(O,I,this.outcome)}else this.queue.push(new b(O,_,T));return O};function b(_,T,O){this.promise=_,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},b.prototype.otherCallFulfilled=function(_){v(this.promise,this.onFulfilled,_)},b.prototype.callRejected=function(_){o.reject(this.promise,_)},b.prototype.otherCallRejected=function(_){v(this.promise,this.onRejected,_)};function v(_,T,O){s(function(){var I;try{I=T(O)}catch(D){return o.reject(_,D)}I===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,I)})}o.resolve=function(_,T){var O=p(R,T);if(O.status==="error")return o.reject(_,O.value);var I=O.value;if(I)E(_,I);else{_.state=h,_.outcome=T;for(var D=-1,L=_.queue.length;++D<L;)_.queue[D].callFulfilled(T)}return _},o.reject=function(_,T){_.state=u,_.outcome=T;for(var O=-1,I=_.queue.length;++O<I;)_.queue[O].callRejected(T);return _};function R(_){var T=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof T=="function")return function(){T.apply(_,arguments)}}function E(_,T){var O=!1;function I(H){O||(O=!0,o.reject(_,H))}function D(H){O||(O=!0,o.resolve(_,H))}function L(){T(D,I)}var $=p(L);$.status==="error"&&I($.value)}function p(_,T){var O={};try{O.value=_(T),O.status="success"}catch(I){O.status="error",O.value=I}return O}d.resolve=g;function g(_){return _ instanceof this?_:o.resolve(new this(a),_)}d.reject=m;function m(_){var T=new this(a);return o.reject(T,_)}d.all=x;function x(_){var T=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=_.length,I=!1;if(!O)return this.resolve([]);for(var D=new Array(O),L=0,$=-1,H=new this(a);++$<O;)Y(_[$],$);return H;function Y(ue,oe){T.resolve(ue).then(pe,function(Q){I||(I=!0,o.reject(H,Q))});function pe(Q){D[oe]=Q,++L===O&&!I&&(I=!0,o.resolve(H,D))}}}d.race=S;function S(_){var T=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=_.length,I=!1;if(!O)return this.resolve([]);for(var D=-1,L=new this(a);++D<O;)$(_[D]);return L;function $(H){T.resolve(H).then(function(Y){I||(I=!0,o.resolve(L,Y))},function(Y){I||(I=!0,o.reject(L,Y))})}}},{immediate:36}],38:[function(t,i,n){var s=t("./lib/utils/common").assign,a=t("./lib/deflate"),o=t("./lib/inflate"),u=t("./lib/zlib/constants"),h={};s(h,a,o,u),i.exports=h},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,i,n){var s=t("./zlib/deflate"),a=t("./utils/common"),o=t("./utils/strings"),u=t("./zlib/messages"),h=t("./zlib/zstream"),c=Object.prototype.toString,d=0,b=4,v=0,R=1,E=2,p=-1,g=0,m=8;function x(O){if(!(this instanceof x))return new x(O);this.options=a.assign({level:p,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},O||{});var I=this.options;I.raw&&I.windowBits>0?I.windowBits=-I.windowBits:I.gzip&&I.windowBits>0&&I.windowBits<16&&(I.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var D=s.deflateInit2(this.strm,I.level,I.method,I.windowBits,I.memLevel,I.strategy);if(D!==v)throw new Error(u[D]);if(I.header&&s.deflateSetHeader(this.strm,I.header),I.dictionary){var L;if(typeof I.dictionary=="string"?L=o.string2buf(I.dictionary):c.call(I.dictionary)==="[object ArrayBuffer]"?L=new Uint8Array(I.dictionary):L=I.dictionary,D=s.deflateSetDictionary(this.strm,L),D!==v)throw new Error(u[D]);this._dict_set=!0}}x.prototype.push=function(O,I){var D=this.strm,L=this.options.chunkSize,$,H;if(this.ended)return!1;H=I===~~I?I:I===!0?b:d,typeof O=="string"?D.input=o.string2buf(O):c.call(O)==="[object ArrayBuffer]"?D.input=new Uint8Array(O):D.input=O,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new a.Buf8(L),D.next_out=0,D.avail_out=L),$=s.deflate(D,H),$!==R&&$!==v)return this.onEnd($),this.ended=!0,!1;(D.avail_out===0||D.avail_in===0&&(H===b||H===E))&&(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(D.output,D.next_out))):this.onData(a.shrinkBuf(D.output,D.next_out)))}while((D.avail_in>0||D.avail_out===0)&&$!==R);return H===b?($=s.deflateEnd(this.strm),this.onEnd($),this.ended=!0,$===v):(H===E&&(this.onEnd(v),D.avail_out=0),!0)},x.prototype.onData=function(O){this.chunks.push(O)},x.prototype.onEnd=function(O){O===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=O,this.msg=this.strm.msg};function S(O,I){var D=new x(I);if(D.push(O,!0),D.err)throw D.msg||u[D.err];return D.result}function _(O,I){return I=I||{},I.raw=!0,S(O,I)}function T(O,I){return I=I||{},I.gzip=!0,S(O,I)}n.Deflate=x,n.deflate=S,n.deflateRaw=_,n.gzip=T},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,i,n){var s=t("./zlib/inflate"),a=t("./utils/common"),o=t("./utils/strings"),u=t("./zlib/constants"),h=t("./zlib/messages"),c=t("./zlib/zstream"),d=t("./zlib/gzheader"),b=Object.prototype.toString;function v(p){if(!(this instanceof v))return new v(p);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},p||{});var g=this.options;g.raw&&g.windowBits>=0&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),g.windowBits>=0&&g.windowBits<16&&!(p&&p.windowBits)&&(g.windowBits+=32),g.windowBits>15&&g.windowBits<48&&(g.windowBits&15)===0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var m=s.inflateInit2(this.strm,g.windowBits);if(m!==u.Z_OK)throw new Error(h[m]);this.header=new d,s.inflateGetHeader(this.strm,this.header)}v.prototype.push=function(p,g){var m=this.strm,x=this.options.chunkSize,S=this.options.dictionary,_,T,O,I,D,L,$=!1;if(this.ended)return!1;T=g===~~g?g:g===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof p=="string"?m.input=o.binstring2buf(p):b.call(p)==="[object ArrayBuffer]"?m.input=new Uint8Array(p):m.input=p,m.next_in=0,m.avail_in=m.input.length;do{if(m.avail_out===0&&(m.output=new a.Buf8(x),m.next_out=0,m.avail_out=x),_=s.inflate(m,u.Z_NO_FLUSH),_===u.Z_NEED_DICT&&S&&(typeof S=="string"?L=o.string2buf(S):b.call(S)==="[object ArrayBuffer]"?L=new Uint8Array(S):L=S,_=s.inflateSetDictionary(this.strm,L)),_===u.Z_BUF_ERROR&&$===!0&&(_=u.Z_OK,$=!1),_!==u.Z_STREAM_END&&_!==u.Z_OK)return this.onEnd(_),this.ended=!0,!1;m.next_out&&(m.avail_out===0||_===u.Z_STREAM_END||m.avail_in===0&&(T===u.Z_FINISH||T===u.Z_SYNC_FLUSH))&&(this.options.to==="string"?(O=o.utf8border(m.output,m.next_out),I=m.next_out-O,D=o.buf2string(m.output,O),m.next_out=I,m.avail_out=x-I,I&&a.arraySet(m.output,m.output,O,I,0),this.onData(D)):this.onData(a.shrinkBuf(m.output,m.next_out))),m.avail_in===0&&m.avail_out===0&&($=!0)}while((m.avail_in>0||m.avail_out===0)&&_!==u.Z_STREAM_END);return _===u.Z_STREAM_END&&(T=u.Z_FINISH),T===u.Z_FINISH?(_=s.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===u.Z_OK):(T===u.Z_SYNC_FLUSH&&(this.onEnd(u.Z_OK),m.avail_out=0),!0)},v.prototype.onData=function(p){this.chunks.push(p)},v.prototype.onEnd=function(p){p===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg};function R(p,g){var m=new v(g);if(m.push(p,!0),m.err)throw m.msg||h[m.err];return m.result}function E(p,g){return g=g||{},g.raw=!0,R(p,g)}n.Inflate=v,n.inflate=R,n.inflateRaw=E,n.ungzip=R},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(u){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var c=h.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(u[d]=c[d])}}return u},n.shrinkBuf=function(u,h){return u.length===h?u:u.subarray?u.subarray(0,h):(u.length=h,u)};var a={arraySet:function(u,h,c,d,b){if(h.subarray&&u.subarray){u.set(h.subarray(c,c+d),b);return}for(var v=0;v<d;v++)u[b+v]=h[c+v]},flattenChunks:function(u){var h,c,d,b,v,R;for(d=0,h=0,c=u.length;h<c;h++)d+=u[h].length;for(R=new Uint8Array(d),b=0,h=0,c=u.length;h<c;h++)v=u[h],R.set(v,b),b+=v.length;return R}},o={arraySet:function(u,h,c,d,b){for(var v=0;v<d;v++)u[b+v]=h[c+v]},flattenChunks:function(u){return[].concat.apply([],u)}};n.setTyped=function(u){u?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,a)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(s)},{}],42:[function(t,i,n){var s=t("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var u=new s.Buf8(256),h=0;h<256;h++)u[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;u[254]=u[254]=1,n.string2buf=function(d){var b,v,R,E,p,g=d.length,m=0;for(E=0;E<g;E++)v=d.charCodeAt(E),(v&64512)===55296&&E+1<g&&(R=d.charCodeAt(E+1),(R&64512)===56320&&(v=65536+(v-55296<<10)+(R-56320),E++)),m+=v<128?1:v<2048?2:v<65536?3:4;for(b=new s.Buf8(m),p=0,E=0;p<m;E++)v=d.charCodeAt(E),(v&64512)===55296&&E+1<g&&(R=d.charCodeAt(E+1),(R&64512)===56320&&(v=65536+(v-55296<<10)+(R-56320),E++)),v<128?b[p++]=v:v<2048?(b[p++]=192|v>>>6,b[p++]=128|v&63):v<65536?(b[p++]=224|v>>>12,b[p++]=128|v>>>6&63,b[p++]=128|v&63):(b[p++]=240|v>>>18,b[p++]=128|v>>>12&63,b[p++]=128|v>>>6&63,b[p++]=128|v&63);return b};function c(d,b){if(b<65537&&(d.subarray&&o||!d.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(d,b));for(var v="",R=0;R<b;R++)v+=String.fromCharCode(d[R]);return v}n.buf2binstring=function(d){return c(d,d.length)},n.binstring2buf=function(d){for(var b=new s.Buf8(d.length),v=0,R=b.length;v<R;v++)b[v]=d.charCodeAt(v);return b},n.buf2string=function(d,b){var v,R,E,p,g=b||d.length,m=new Array(g*2);for(R=0,v=0;v<g;){if(E=d[v++],E<128){m[R++]=E;continue}if(p=u[E],p>4){m[R++]=65533,v+=p-1;continue}for(E&=p===2?31:p===3?15:7;p>1&&v<g;)E=E<<6|d[v++]&63,p--;if(p>1){m[R++]=65533;continue}E<65536?m[R++]=E:(E-=65536,m[R++]=55296|E>>10&1023,m[R++]=56320|E&1023)}return c(m,R)},n.utf8border=function(d,b){var v;for(b=b||d.length,b>d.length&&(b=d.length),v=b-1;v>=0&&(d[v]&192)===128;)v--;return v<0||v===0?b:v+u[d[v]]>b?v:b}},{"./common":41}],43:[function(t,i,n){function s(a,o,u,h){for(var c=a&65535|0,d=a>>>16&65535|0,b=0;u!==0;){b=u>2e3?2e3:u,u-=b;do c=c+o[h++]|0,d=d+c|0;while(--b);c%=65521,d%=65521}return c|d<<16|0}i.exports=s},{}],44:[function(t,i,n){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,i,n){function s(){for(var u,h=[],c=0;c<256;c++){u=c;for(var d=0;d<8;d++)u=u&1?3988292384^u>>>1:u>>>1;h[c]=u}return h}var a=s();function o(u,h,c,d){var b=a,v=d+c;u^=-1;for(var R=d;R<v;R++)u=u>>>8^b[(u^h[R])&255];return u^-1}i.exports=o},{}],46:[function(t,i,n){var s=t("../utils/common"),a=t("./trees"),o=t("./adler32"),u=t("./crc32"),h=t("./messages"),c=0,d=1,b=3,v=4,R=5,E=0,p=1,g=-2,m=-3,x=-5,S=-1,_=1,T=2,O=3,I=4,D=0,L=2,$=8,H=9,Y=15,ue=8,oe=29,pe=256,Q=pe+1+oe,ee=30,be=19,Ne=2*Q+1,ge=15,we=3,ze=258,Re=ze+we+1,je=32,Je=42,He=69,ke=73,Ye=91,Ke=103,Be=113,B=666,z=1,G=2,ie=3,J=4,X=3;function he(l,P){return l.msg=h[P],P}function le(l){return(l<<1)-(l>4?9:0)}function ae(l){for(var P=l.length;--P>=0;)l[P]=0}function K(l){var P=l.state,j=P.pending;j>l.avail_out&&(j=l.avail_out),j!==0&&(s.arraySet(l.output,P.pending_buf,P.pending_out,j,l.next_out),l.next_out+=j,P.pending_out+=j,l.total_out+=j,l.avail_out-=j,P.pending-=j,P.pending===0&&(P.pending_out=0))}function de(l,P){a._tr_flush_block(l,l.block_start>=0?l.block_start:-1,l.strstart-l.block_start,P),l.block_start=l.strstart,K(l.strm)}function re(l,P){l.pending_buf[l.pending++]=P}function Ae(l,P){l.pending_buf[l.pending++]=P>>>8&255,l.pending_buf[l.pending++]=P&255}function Te(l,P,j,w){var F=l.avail_in;return F>w&&(F=w),F===0?0:(l.avail_in-=F,s.arraySet(P,l.input,l.next_in,F,j),l.state.wrap===1?l.adler=o(l.adler,P,F,j):l.state.wrap===2&&(l.adler=u(l.adler,P,F,j)),l.next_in+=F,l.total_in+=F,F)}function Ie(l,P){var j=l.max_chain_length,w=l.strstart,F,Z,De=l.prev_length,ye=l.nice_match,Ee=l.strstart>l.w_size-Re?l.strstart-(l.w_size-Re):0,Le=l.window,_t=l.w_mask,Ve=l.prev,Fe=l.strstart+ze,st=Le[w+De-1],$e=Le[w+De];l.prev_length>=l.good_match&&(j>>=2),ye>l.lookahead&&(ye=l.lookahead);do if(F=P,!(Le[F+De]!==$e||Le[F+De-1]!==st||Le[F]!==Le[w]||Le[++F]!==Le[w+1])){w+=2,F++;do;while(Le[++w]===Le[++F]&&Le[++w]===Le[++F]&&Le[++w]===Le[++F]&&Le[++w]===Le[++F]&&Le[++w]===Le[++F]&&Le[++w]===Le[++F]&&Le[++w]===Le[++F]&&Le[++w]===Le[++F]&&w<Fe);if(Z=ze-(Fe-w),w=Fe-ze,Z>De){if(l.match_start=P,De=Z,Z>=ye)break;st=Le[w+De-1],$e=Le[w+De]}}while((P=Ve[P&_t])>Ee&&--j!==0);return De<=l.lookahead?De:l.lookahead}function Oe(l){var P=l.w_size,j,w,F,Z,De;do{if(Z=l.window_size-l.lookahead-l.strstart,l.strstart>=P+(P-Re)){s.arraySet(l.window,l.window,P,P,0),l.match_start-=P,l.strstart-=P,l.block_start-=P,w=l.hash_size,j=w;do F=l.head[--j],l.head[j]=F>=P?F-P:0;while(--w);w=P,j=w;do F=l.prev[--j],l.prev[j]=F>=P?F-P:0;while(--w);Z+=P}if(l.strm.avail_in===0)break;if(w=Te(l.strm,l.window,l.strstart+l.lookahead,Z),l.lookahead+=w,l.lookahead+l.insert>=we)for(De=l.strstart-l.insert,l.ins_h=l.window[De],l.ins_h=(l.ins_h<<l.hash_shift^l.window[De+1])&l.hash_mask;l.insert&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[De+we-1])&l.hash_mask,l.prev[De&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=De,De++,l.insert--,!(l.lookahead+l.insert<we)););}while(l.lookahead<Re&&l.strm.avail_in!==0)}function Me(l,P){var j=65535;for(j>l.pending_buf_size-5&&(j=l.pending_buf_size-5);;){if(l.lookahead<=1){if(Oe(l),l.lookahead===0&&P===c)return z;if(l.lookahead===0)break}l.strstart+=l.lookahead,l.lookahead=0;var w=l.block_start+j;if((l.strstart===0||l.strstart>=w)&&(l.lookahead=l.strstart-w,l.strstart=w,de(l,!1),l.strm.avail_out===0)||l.strstart-l.block_start>=l.w_size-Re&&(de(l,!1),l.strm.avail_out===0))return z}return l.insert=0,P===v?(de(l,!0),l.strm.avail_out===0?ie:J):(l.strstart>l.block_start&&(de(l,!1),l.strm.avail_out===0),z)}function it(l,P){for(var j,w;;){if(l.lookahead<Re){if(Oe(l),l.lookahead<Re&&P===c)return z;if(l.lookahead===0)break}if(j=0,l.lookahead>=we&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+we-1])&l.hash_mask,j=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),j!==0&&l.strstart-j<=l.w_size-Re&&(l.match_length=Ie(l,j)),l.match_length>=we)if(w=a._tr_tally(l,l.strstart-l.match_start,l.match_length-we),l.lookahead-=l.match_length,l.match_length<=l.max_lazy_match&&l.lookahead>=we){l.match_length--;do l.strstart++,l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+we-1])&l.hash_mask,j=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;while(--l.match_length!==0);l.strstart++}else l.strstart+=l.match_length,l.match_length=0,l.ins_h=l.window[l.strstart],l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+1])&l.hash_mask;else w=a._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(w&&(de(l,!1),l.strm.avail_out===0))return z}return l.insert=l.strstart<we-1?l.strstart:we-1,P===v?(de(l,!0),l.strm.avail_out===0?ie:J):l.last_lit&&(de(l,!1),l.strm.avail_out===0)?z:G}function Xe(l,P){for(var j,w,F;;){if(l.lookahead<Re){if(Oe(l),l.lookahead<Re&&P===c)return z;if(l.lookahead===0)break}if(j=0,l.lookahead>=we&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+we-1])&l.hash_mask,j=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),l.prev_length=l.match_length,l.prev_match=l.match_start,l.match_length=we-1,j!==0&&l.prev_length<l.max_lazy_match&&l.strstart-j<=l.w_size-Re&&(l.match_length=Ie(l,j),l.match_length<=5&&(l.strategy===_||l.match_length===we&&l.strstart-l.match_start>4096)&&(l.match_length=we-1)),l.prev_length>=we&&l.match_length<=l.prev_length){F=l.strstart+l.lookahead-we,w=a._tr_tally(l,l.strstart-1-l.prev_match,l.prev_length-we),l.lookahead-=l.prev_length-1,l.prev_length-=2;do++l.strstart<=F&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+we-1])&l.hash_mask,j=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart);while(--l.prev_length!==0);if(l.match_available=0,l.match_length=we-1,l.strstart++,w&&(de(l,!1),l.strm.avail_out===0))return z}else if(l.match_available){if(w=a._tr_tally(l,0,l.window[l.strstart-1]),w&&de(l,!1),l.strstart++,l.lookahead--,l.strm.avail_out===0)return z}else l.match_available=1,l.strstart++,l.lookahead--}return l.match_available&&(w=a._tr_tally(l,0,l.window[l.strstart-1]),l.match_available=0),l.insert=l.strstart<we-1?l.strstart:we-1,P===v?(de(l,!0),l.strm.avail_out===0?ie:J):l.last_lit&&(de(l,!1),l.strm.avail_out===0)?z:G}function ft(l,P){for(var j,w,F,Z,De=l.window;;){if(l.lookahead<=ze){if(Oe(l),l.lookahead<=ze&&P===c)return z;if(l.lookahead===0)break}if(l.match_length=0,l.lookahead>=we&&l.strstart>0&&(F=l.strstart-1,w=De[F],w===De[++F]&&w===De[++F]&&w===De[++F])){Z=l.strstart+ze;do;while(w===De[++F]&&w===De[++F]&&w===De[++F]&&w===De[++F]&&w===De[++F]&&w===De[++F]&&w===De[++F]&&w===De[++F]&&F<Z);l.match_length=ze-(Z-F),l.match_length>l.lookahead&&(l.match_length=l.lookahead)}if(l.match_length>=we?(j=a._tr_tally(l,1,l.match_length-we),l.lookahead-=l.match_length,l.strstart+=l.match_length,l.match_length=0):(j=a._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++),j&&(de(l,!1),l.strm.avail_out===0))return z}return l.insert=0,P===v?(de(l,!0),l.strm.avail_out===0?ie:J):l.last_lit&&(de(l,!1),l.strm.avail_out===0)?z:G}function ot(l,P){for(var j;;){if(l.lookahead===0&&(Oe(l),l.lookahead===0)){if(P===c)return z;break}if(l.match_length=0,j=a._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++,j&&(de(l,!1),l.strm.avail_out===0))return z}return l.insert=0,P===v?(de(l,!0),l.strm.avail_out===0?ie:J):l.last_lit&&(de(l,!1),l.strm.avail_out===0)?z:G}function nt(l,P,j,w,F){this.good_length=l,this.max_lazy=P,this.nice_length=j,this.max_chain=w,this.func=F}var mt;mt=[new nt(0,0,0,0,Me),new nt(4,4,8,4,it),new nt(4,5,16,8,it),new nt(4,6,32,32,it),new nt(4,4,16,16,Xe),new nt(8,16,32,32,Xe),new nt(8,16,128,128,Xe),new nt(8,32,128,256,Xe),new nt(32,128,258,1024,Xe),new nt(32,258,258,4096,Xe)];function ht(l){l.window_size=2*l.w_size,ae(l.head),l.max_lazy_match=mt[l.level].max_lazy,l.good_match=mt[l.level].good_length,l.nice_match=mt[l.level].nice_length,l.max_chain_length=mt[l.level].max_chain,l.strstart=0,l.block_start=0,l.lookahead=0,l.insert=0,l.match_length=l.prev_length=we-1,l.match_available=0,l.ins_h=0}function C(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(Ne*2),this.dyn_dtree=new s.Buf16((2*ee+1)*2),this.bl_tree=new s.Buf16((2*be+1)*2),ae(this.dyn_ltree),ae(this.dyn_dtree),ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(ge+1),this.heap=new s.Buf16(2*Q+1),ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*Q+1),ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function se(l){var P;return!l||!l.state?he(l,g):(l.total_in=l.total_out=0,l.data_type=L,P=l.state,P.pending=0,P.pending_out=0,P.wrap<0&&(P.wrap=-P.wrap),P.status=P.wrap?Je:Be,l.adler=P.wrap===2?0:1,P.last_flush=c,a._tr_init(P),E)}function fe(l){var P=se(l);return P===E&&ht(l.state),P}function Ce(l,P){return!l||!l.state||l.state.wrap!==2?g:(l.state.gzhead=P,E)}function U(l,P,j,w,F,Z){if(!l)return g;var De=1;if(P===S&&(P=6),w<0?(De=0,w=-w):w>15&&(De=2,w-=16),F<1||F>H||j!==$||w<8||w>15||P<0||P>9||Z<0||Z>I)return he(l,g);w===8&&(w=9);var ye=new C;return l.state=ye,ye.strm=l,ye.wrap=De,ye.gzhead=null,ye.w_bits=w,ye.w_size=1<<ye.w_bits,ye.w_mask=ye.w_size-1,ye.hash_bits=F+7,ye.hash_size=1<<ye.hash_bits,ye.hash_mask=ye.hash_size-1,ye.hash_shift=~~((ye.hash_bits+we-1)/we),ye.window=new s.Buf8(ye.w_size*2),ye.head=new s.Buf16(ye.hash_size),ye.prev=new s.Buf16(ye.w_size),ye.lit_bufsize=1<<F+6,ye.pending_buf_size=ye.lit_bufsize*4,ye.pending_buf=new s.Buf8(ye.pending_buf_size),ye.d_buf=1*ye.lit_bufsize,ye.l_buf=3*ye.lit_bufsize,ye.level=P,ye.strategy=Z,ye.method=j,fe(l)}function te(l,P){return U(l,P,$,Y,ue,D)}function f(l,P){var j,w,F,Z;if(!l||!l.state||P>R||P<0)return l?he(l,g):g;if(w=l.state,!l.output||!l.input&&l.avail_in!==0||w.status===B&&P!==v)return he(l,l.avail_out===0?x:g);if(w.strm=l,j=w.last_flush,w.last_flush=P,w.status===Je)if(w.wrap===2)l.adler=0,re(w,31),re(w,139),re(w,8),w.gzhead?(re(w,(w.gzhead.text?1:0)+(w.gzhead.hcrc?2:0)+(w.gzhead.extra?4:0)+(w.gzhead.name?8:0)+(w.gzhead.comment?16:0)),re(w,w.gzhead.time&255),re(w,w.gzhead.time>>8&255),re(w,w.gzhead.time>>16&255),re(w,w.gzhead.time>>24&255),re(w,w.level===9?2:w.strategy>=T||w.level<2?4:0),re(w,w.gzhead.os&255),w.gzhead.extra&&w.gzhead.extra.length&&(re(w,w.gzhead.extra.length&255),re(w,w.gzhead.extra.length>>8&255)),w.gzhead.hcrc&&(l.adler=u(l.adler,w.pending_buf,w.pending,0)),w.gzindex=0,w.status=He):(re(w,0),re(w,0),re(w,0),re(w,0),re(w,0),re(w,w.level===9?2:w.strategy>=T||w.level<2?4:0),re(w,X),w.status=Be);else{var De=$+(w.w_bits-8<<4)<<8,ye=-1;w.strategy>=T||w.level<2?ye=0:w.level<6?ye=1:w.level===6?ye=2:ye=3,De|=ye<<6,w.strstart!==0&&(De|=je),De+=31-De%31,w.status=Be,Ae(w,De),w.strstart!==0&&(Ae(w,l.adler>>>16),Ae(w,l.adler&65535)),l.adler=1}if(w.status===He)if(w.gzhead.extra){for(F=w.pending;w.gzindex<(w.gzhead.extra.length&65535)&&!(w.pending===w.pending_buf_size&&(w.gzhead.hcrc&&w.pending>F&&(l.adler=u(l.adler,w.pending_buf,w.pending-F,F)),K(l),F=w.pending,w.pending===w.pending_buf_size));)re(w,w.gzhead.extra[w.gzindex]&255),w.gzindex++;w.gzhead.hcrc&&w.pending>F&&(l.adler=u(l.adler,w.pending_buf,w.pending-F,F)),w.gzindex===w.gzhead.extra.length&&(w.gzindex=0,w.status=ke)}else w.status=ke;if(w.status===ke)if(w.gzhead.name){F=w.pending;do{if(w.pending===w.pending_buf_size&&(w.gzhead.hcrc&&w.pending>F&&(l.adler=u(l.adler,w.pending_buf,w.pending-F,F)),K(l),F=w.pending,w.pending===w.pending_buf_size)){Z=1;break}w.gzindex<w.gzhead.name.length?Z=w.gzhead.name.charCodeAt(w.gzindex++)&255:Z=0,re(w,Z)}while(Z!==0);w.gzhead.hcrc&&w.pending>F&&(l.adler=u(l.adler,w.pending_buf,w.pending-F,F)),Z===0&&(w.gzindex=0,w.status=Ye)}else w.status=Ye;if(w.status===Ye)if(w.gzhead.comment){F=w.pending;do{if(w.pending===w.pending_buf_size&&(w.gzhead.hcrc&&w.pending>F&&(l.adler=u(l.adler,w.pending_buf,w.pending-F,F)),K(l),F=w.pending,w.pending===w.pending_buf_size)){Z=1;break}w.gzindex<w.gzhead.comment.length?Z=w.gzhead.comment.charCodeAt(w.gzindex++)&255:Z=0,re(w,Z)}while(Z!==0);w.gzhead.hcrc&&w.pending>F&&(l.adler=u(l.adler,w.pending_buf,w.pending-F,F)),Z===0&&(w.status=Ke)}else w.status=Ke;if(w.status===Ke&&(w.gzhead.hcrc?(w.pending+2>w.pending_buf_size&&K(l),w.pending+2<=w.pending_buf_size&&(re(w,l.adler&255),re(w,l.adler>>8&255),l.adler=0,w.status=Be)):w.status=Be),w.pending!==0){if(K(l),l.avail_out===0)return w.last_flush=-1,E}else if(l.avail_in===0&&le(P)<=le(j)&&P!==v)return he(l,x);if(w.status===B&&l.avail_in!==0)return he(l,x);if(l.avail_in!==0||w.lookahead!==0||P!==c&&w.status!==B){var Ee=w.strategy===T?ot(w,P):w.strategy===O?ft(w,P):mt[w.level].func(w,P);if((Ee===ie||Ee===J)&&(w.status=B),Ee===z||Ee===ie)return l.avail_out===0&&(w.last_flush=-1),E;if(Ee===G&&(P===d?a._tr_align(w):P!==R&&(a._tr_stored_block(w,0,0,!1),P===b&&(ae(w.head),w.lookahead===0&&(w.strstart=0,w.block_start=0,w.insert=0))),K(l),l.avail_out===0))return w.last_flush=-1,E}return P!==v?E:w.wrap<=0?p:(w.wrap===2?(re(w,l.adler&255),re(w,l.adler>>8&255),re(w,l.adler>>16&255),re(w,l.adler>>24&255),re(w,l.total_in&255),re(w,l.total_in>>8&255),re(w,l.total_in>>16&255),re(w,l.total_in>>24&255)):(Ae(w,l.adler>>>16),Ae(w,l.adler&65535)),K(l),w.wrap>0&&(w.wrap=-w.wrap),w.pending!==0?E:p)}function y(l){var P;return!l||!l.state?g:(P=l.state.status,P!==Je&&P!==He&&P!==ke&&P!==Ye&&P!==Ke&&P!==Be&&P!==B?he(l,g):(l.state=null,P===Be?he(l,m):E))}function N(l,P){var j=P.length,w,F,Z,De,ye,Ee,Le,_t;if(!l||!l.state||(w=l.state,De=w.wrap,De===2||De===1&&w.status!==Je||w.lookahead))return g;for(De===1&&(l.adler=o(l.adler,P,j,0)),w.wrap=0,j>=w.w_size&&(De===0&&(ae(w.head),w.strstart=0,w.block_start=0,w.insert=0),_t=new s.Buf8(w.w_size),s.arraySet(_t,P,j-w.w_size,w.w_size,0),P=_t,j=w.w_size),ye=l.avail_in,Ee=l.next_in,Le=l.input,l.avail_in=j,l.next_in=0,l.input=P,Oe(w);w.lookahead>=we;){F=w.strstart,Z=w.lookahead-(we-1);do w.ins_h=(w.ins_h<<w.hash_shift^w.window[F+we-1])&w.hash_mask,w.prev[F&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=F,F++;while(--Z);w.strstart=F,w.lookahead=we-1,Oe(w)}return w.strstart+=w.lookahead,w.block_start=w.strstart,w.insert=w.lookahead,w.lookahead=0,w.match_length=w.prev_length=we-1,w.match_available=0,l.next_in=Ee,l.input=Le,l.avail_in=ye,w.wrap=De,E}n.deflateInit=te,n.deflateInit2=U,n.deflateReset=fe,n.deflateResetKeep=se,n.deflateSetHeader=Ce,n.deflate=f,n.deflateEnd=y,n.deflateSetDictionary=N,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,i,n){function s(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}i.exports=s},{}],48:[function(t,i,n){var s=30,a=12;i.exports=function(u,h){var c,d,b,v,R,E,p,g,m,x,S,_,T,O,I,D,L,$,H,Y,ue,oe,pe,Q,ee;c=u.state,d=u.next_in,Q=u.input,b=d+(u.avail_in-5),v=u.next_out,ee=u.output,R=v-(h-u.avail_out),E=v+(u.avail_out-257),p=c.dmax,g=c.wsize,m=c.whave,x=c.wnext,S=c.window,_=c.hold,T=c.bits,O=c.lencode,I=c.distcode,D=(1<<c.lenbits)-1,L=(1<<c.distbits)-1;e:do{T<15&&(_+=Q[d++]<<T,T+=8,_+=Q[d++]<<T,T+=8),$=O[_&D];t:for(;;){if(H=$>>>24,_>>>=H,T-=H,H=$>>>16&255,H===0)ee[v++]=$&65535;else if(H&16){Y=$&65535,H&=15,H&&(T<H&&(_+=Q[d++]<<T,T+=8),Y+=_&(1<<H)-1,_>>>=H,T-=H),T<15&&(_+=Q[d++]<<T,T+=8,_+=Q[d++]<<T,T+=8),$=I[_&L];i:for(;;){if(H=$>>>24,_>>>=H,T-=H,H=$>>>16&255,H&16){if(ue=$&65535,H&=15,T<H&&(_+=Q[d++]<<T,T+=8,T<H&&(_+=Q[d++]<<T,T+=8)),ue+=_&(1<<H)-1,ue>p){u.msg="invalid distance too far back",c.mode=s;break e}if(_>>>=H,T-=H,H=v-R,ue>H){if(H=ue-H,H>m&&c.sane){u.msg="invalid distance too far back",c.mode=s;break e}if(oe=0,pe=S,x===0){if(oe+=g-H,H<Y){Y-=H;do ee[v++]=S[oe++];while(--H);oe=v-ue,pe=ee}}else if(x<H){if(oe+=g+x-H,H-=x,H<Y){Y-=H;do ee[v++]=S[oe++];while(--H);if(oe=0,x<Y){H=x,Y-=H;do ee[v++]=S[oe++];while(--H);oe=v-ue,pe=ee}}}else if(oe+=x-H,H<Y){Y-=H;do ee[v++]=S[oe++];while(--H);oe=v-ue,pe=ee}for(;Y>2;)ee[v++]=pe[oe++],ee[v++]=pe[oe++],ee[v++]=pe[oe++],Y-=3;Y&&(ee[v++]=pe[oe++],Y>1&&(ee[v++]=pe[oe++]))}else{oe=v-ue;do ee[v++]=ee[oe++],ee[v++]=ee[oe++],ee[v++]=ee[oe++],Y-=3;while(Y>2);Y&&(ee[v++]=ee[oe++],Y>1&&(ee[v++]=ee[oe++]))}}else if((H&64)===0){$=I[($&65535)+(_&(1<<H)-1)];continue i}else{u.msg="invalid distance code",c.mode=s;break e}break}}else if((H&64)===0){$=O[($&65535)+(_&(1<<H)-1)];continue t}else if(H&32){c.mode=a;break e}else{u.msg="invalid literal/length code",c.mode=s;break e}break}}while(d<b&&v<E);Y=T>>3,d-=Y,T-=Y<<3,_&=(1<<T)-1,u.next_in=d,u.next_out=v,u.avail_in=d<b?5+(b-d):5-(d-b),u.avail_out=v<E?257+(E-v):257-(v-E),c.hold=_,c.bits=T}},{}],49:[function(t,i,n){var s=t("../utils/common"),a=t("./adler32"),o=t("./crc32"),u=t("./inffast"),h=t("./inftrees"),c=0,d=1,b=2,v=4,R=5,E=6,p=0,g=1,m=2,x=-2,S=-3,_=-4,T=-5,O=8,I=1,D=2,L=3,$=4,H=5,Y=6,ue=7,oe=8,pe=9,Q=10,ee=11,be=12,Ne=13,ge=14,we=15,ze=16,Re=17,je=18,Je=19,He=20,ke=21,Ye=22,Ke=23,Be=24,B=25,z=26,G=27,ie=28,J=29,X=30,he=31,le=32,ae=852,K=592,de=15,re=de;function Ae(U){return(U>>>24&255)+(U>>>8&65280)+((U&65280)<<8)+((U&255)<<24)}function Te(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Ie(U){var te;return!U||!U.state?x:(te=U.state,U.total_in=U.total_out=te.total=0,U.msg="",te.wrap&&(U.adler=te.wrap&1),te.mode=I,te.last=0,te.havedict=0,te.dmax=32768,te.head=null,te.hold=0,te.bits=0,te.lencode=te.lendyn=new s.Buf32(ae),te.distcode=te.distdyn=new s.Buf32(K),te.sane=1,te.back=-1,p)}function Oe(U){var te;return!U||!U.state?x:(te=U.state,te.wsize=0,te.whave=0,te.wnext=0,Ie(U))}function Me(U,te){var f,y;return!U||!U.state||(y=U.state,te<0?(f=0,te=-te):(f=(te>>4)+1,te<48&&(te&=15)),te&&(te<8||te>15))?x:(y.window!==null&&y.wbits!==te&&(y.window=null),y.wrap=f,y.wbits=te,Oe(U))}function it(U,te){var f,y;return U?(y=new Te,U.state=y,y.window=null,f=Me(U,te),f!==p&&(U.state=null),f):x}function Xe(U){return it(U,re)}var ft=!0,ot,nt;function mt(U){if(ft){var te;for(ot=new s.Buf32(512),nt=new s.Buf32(32),te=0;te<144;)U.lens[te++]=8;for(;te<256;)U.lens[te++]=9;for(;te<280;)U.lens[te++]=7;for(;te<288;)U.lens[te++]=8;for(h(d,U.lens,0,288,ot,0,U.work,{bits:9}),te=0;te<32;)U.lens[te++]=5;h(b,U.lens,0,32,nt,0,U.work,{bits:5}),ft=!1}U.lencode=ot,U.lenbits=9,U.distcode=nt,U.distbits=5}function ht(U,te,f,y){var N,l=U.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new s.Buf8(l.wsize)),y>=l.wsize?(s.arraySet(l.window,te,f-l.wsize,l.wsize,0),l.wnext=0,l.whave=l.wsize):(N=l.wsize-l.wnext,N>y&&(N=y),s.arraySet(l.window,te,f-y,N,l.wnext),y-=N,y?(s.arraySet(l.window,te,f-y,y,0),l.wnext=y,l.whave=l.wsize):(l.wnext+=N,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=N))),0}function C(U,te){var f,y,N,l,P,j,w,F,Z,De,ye,Ee,Le,_t,Ve=0,Fe,st,$e,wt,Lt,si,dt,Nt,Et=new s.Buf8(4),Ht,zt,Sr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!U||!U.state||!U.output||!U.input&&U.avail_in!==0)return x;f=U.state,f.mode===be&&(f.mode=Ne),P=U.next_out,N=U.output,w=U.avail_out,l=U.next_in,y=U.input,j=U.avail_in,F=f.hold,Z=f.bits,De=j,ye=w,Nt=p;e:for(;;)switch(f.mode){case I:if(f.wrap===0){f.mode=Ne;break}for(;Z<16;){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}if(f.wrap&2&&F===35615){f.check=0,Et[0]=F&255,Et[1]=F>>>8&255,f.check=o(f.check,Et,2,0),F=0,Z=0,f.mode=D;break}if(f.flags=0,f.head&&(f.head.done=!1),!(f.wrap&1)||(((F&255)<<8)+(F>>8))%31){U.msg="incorrect header check",f.mode=X;break}if((F&15)!==O){U.msg="unknown compression method",f.mode=X;break}if(F>>>=4,Z-=4,dt=(F&15)+8,f.wbits===0)f.wbits=dt;else if(dt>f.wbits){U.msg="invalid window size",f.mode=X;break}f.dmax=1<<dt,U.adler=f.check=1,f.mode=F&512?Q:be,F=0,Z=0;break;case D:for(;Z<16;){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}if(f.flags=F,(f.flags&255)!==O){U.msg="unknown compression method",f.mode=X;break}if(f.flags&57344){U.msg="unknown header flags set",f.mode=X;break}f.head&&(f.head.text=F>>8&1),f.flags&512&&(Et[0]=F&255,Et[1]=F>>>8&255,f.check=o(f.check,Et,2,0)),F=0,Z=0,f.mode=L;case L:for(;Z<32;){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}f.head&&(f.head.time=F),f.flags&512&&(Et[0]=F&255,Et[1]=F>>>8&255,Et[2]=F>>>16&255,Et[3]=F>>>24&255,f.check=o(f.check,Et,4,0)),F=0,Z=0,f.mode=$;case $:for(;Z<16;){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}f.head&&(f.head.xflags=F&255,f.head.os=F>>8),f.flags&512&&(Et[0]=F&255,Et[1]=F>>>8&255,f.check=o(f.check,Et,2,0)),F=0,Z=0,f.mode=H;case H:if(f.flags&1024){for(;Z<16;){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}f.length=F,f.head&&(f.head.extra_len=F),f.flags&512&&(Et[0]=F&255,Et[1]=F>>>8&255,f.check=o(f.check,Et,2,0)),F=0,Z=0}else f.head&&(f.head.extra=null);f.mode=Y;case Y:if(f.flags&1024&&(Ee=f.length,Ee>j&&(Ee=j),Ee&&(f.head&&(dt=f.head.extra_len-f.length,f.head.extra||(f.head.extra=new Array(f.head.extra_len)),s.arraySet(f.head.extra,y,l,Ee,dt)),f.flags&512&&(f.check=o(f.check,y,Ee,l)),j-=Ee,l+=Ee,f.length-=Ee),f.length))break e;f.length=0,f.mode=ue;case ue:if(f.flags&2048){if(j===0)break e;Ee=0;do dt=y[l+Ee++],f.head&&dt&&f.length<65536&&(f.head.name+=String.fromCharCode(dt));while(dt&&Ee<j);if(f.flags&512&&(f.check=o(f.check,y,Ee,l)),j-=Ee,l+=Ee,dt)break e}else f.head&&(f.head.name=null);f.length=0,f.mode=oe;case oe:if(f.flags&4096){if(j===0)break e;Ee=0;do dt=y[l+Ee++],f.head&&dt&&f.length<65536&&(f.head.comment+=String.fromCharCode(dt));while(dt&&Ee<j);if(f.flags&512&&(f.check=o(f.check,y,Ee,l)),j-=Ee,l+=Ee,dt)break e}else f.head&&(f.head.comment=null);f.mode=pe;case pe:if(f.flags&512){for(;Z<16;){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}if(F!==(f.check&65535)){U.msg="header crc mismatch",f.mode=X;break}F=0,Z=0}f.head&&(f.head.hcrc=f.flags>>9&1,f.head.done=!0),U.adler=f.check=0,f.mode=be;break;case Q:for(;Z<32;){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}U.adler=f.check=Ae(F),F=0,Z=0,f.mode=ee;case ee:if(f.havedict===0)return U.next_out=P,U.avail_out=w,U.next_in=l,U.avail_in=j,f.hold=F,f.bits=Z,m;U.adler=f.check=1,f.mode=be;case be:if(te===R||te===E)break e;case Ne:if(f.last){F>>>=Z&7,Z-=Z&7,f.mode=G;break}for(;Z<3;){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}switch(f.last=F&1,F>>>=1,Z-=1,F&3){case 0:f.mode=ge;break;case 1:if(mt(f),f.mode=He,te===E){F>>>=2,Z-=2;break e}break;case 2:f.mode=Re;break;case 3:U.msg="invalid block type",f.mode=X}F>>>=2,Z-=2;break;case ge:for(F>>>=Z&7,Z-=Z&7;Z<32;){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}if((F&65535)!==(F>>>16^65535)){U.msg="invalid stored block lengths",f.mode=X;break}if(f.length=F&65535,F=0,Z=0,f.mode=we,te===E)break e;case we:f.mode=ze;case ze:if(Ee=f.length,Ee){if(Ee>j&&(Ee=j),Ee>w&&(Ee=w),Ee===0)break e;s.arraySet(N,y,l,Ee,P),j-=Ee,l+=Ee,w-=Ee,P+=Ee,f.length-=Ee;break}f.mode=be;break;case Re:for(;Z<14;){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}if(f.nlen=(F&31)+257,F>>>=5,Z-=5,f.ndist=(F&31)+1,F>>>=5,Z-=5,f.ncode=(F&15)+4,F>>>=4,Z-=4,f.nlen>286||f.ndist>30){U.msg="too many length or distance symbols",f.mode=X;break}f.have=0,f.mode=je;case je:for(;f.have<f.ncode;){for(;Z<3;){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}f.lens[Sr[f.have++]]=F&7,F>>>=3,Z-=3}for(;f.have<19;)f.lens[Sr[f.have++]]=0;if(f.lencode=f.lendyn,f.lenbits=7,Ht={bits:f.lenbits},Nt=h(c,f.lens,0,19,f.lencode,0,f.work,Ht),f.lenbits=Ht.bits,Nt){U.msg="invalid code lengths set",f.mode=X;break}f.have=0,f.mode=Je;case Je:for(;f.have<f.nlen+f.ndist;){for(;Ve=f.lencode[F&(1<<f.lenbits)-1],Fe=Ve>>>24,st=Ve>>>16&255,$e=Ve&65535,!(Fe<=Z);){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}if($e<16)F>>>=Fe,Z-=Fe,f.lens[f.have++]=$e;else{if($e===16){for(zt=Fe+2;Z<zt;){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}if(F>>>=Fe,Z-=Fe,f.have===0){U.msg="invalid bit length repeat",f.mode=X;break}dt=f.lens[f.have-1],Ee=3+(F&3),F>>>=2,Z-=2}else if($e===17){for(zt=Fe+3;Z<zt;){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}F>>>=Fe,Z-=Fe,dt=0,Ee=3+(F&7),F>>>=3,Z-=3}else{for(zt=Fe+7;Z<zt;){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}F>>>=Fe,Z-=Fe,dt=0,Ee=11+(F&127),F>>>=7,Z-=7}if(f.have+Ee>f.nlen+f.ndist){U.msg="invalid bit length repeat",f.mode=X;break}for(;Ee--;)f.lens[f.have++]=dt}}if(f.mode===X)break;if(f.lens[256]===0){U.msg="invalid code -- missing end-of-block",f.mode=X;break}if(f.lenbits=9,Ht={bits:f.lenbits},Nt=h(d,f.lens,0,f.nlen,f.lencode,0,f.work,Ht),f.lenbits=Ht.bits,Nt){U.msg="invalid literal/lengths set",f.mode=X;break}if(f.distbits=6,f.distcode=f.distdyn,Ht={bits:f.distbits},Nt=h(b,f.lens,f.nlen,f.ndist,f.distcode,0,f.work,Ht),f.distbits=Ht.bits,Nt){U.msg="invalid distances set",f.mode=X;break}if(f.mode=He,te===E)break e;case He:f.mode=ke;case ke:if(j>=6&&w>=258){U.next_out=P,U.avail_out=w,U.next_in=l,U.avail_in=j,f.hold=F,f.bits=Z,u(U,ye),P=U.next_out,N=U.output,w=U.avail_out,l=U.next_in,y=U.input,j=U.avail_in,F=f.hold,Z=f.bits,f.mode===be&&(f.back=-1);break}for(f.back=0;Ve=f.lencode[F&(1<<f.lenbits)-1],Fe=Ve>>>24,st=Ve>>>16&255,$e=Ve&65535,!(Fe<=Z);){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}if(st&&(st&240)===0){for(wt=Fe,Lt=st,si=$e;Ve=f.lencode[si+((F&(1<<wt+Lt)-1)>>wt)],Fe=Ve>>>24,st=Ve>>>16&255,$e=Ve&65535,!(wt+Fe<=Z);){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}F>>>=wt,Z-=wt,f.back+=wt}if(F>>>=Fe,Z-=Fe,f.back+=Fe,f.length=$e,st===0){f.mode=z;break}if(st&32){f.back=-1,f.mode=be;break}if(st&64){U.msg="invalid literal/length code",f.mode=X;break}f.extra=st&15,f.mode=Ye;case Ye:if(f.extra){for(zt=f.extra;Z<zt;){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}f.length+=F&(1<<f.extra)-1,F>>>=f.extra,Z-=f.extra,f.back+=f.extra}f.was=f.length,f.mode=Ke;case Ke:for(;Ve=f.distcode[F&(1<<f.distbits)-1],Fe=Ve>>>24,st=Ve>>>16&255,$e=Ve&65535,!(Fe<=Z);){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}if((st&240)===0){for(wt=Fe,Lt=st,si=$e;Ve=f.distcode[si+((F&(1<<wt+Lt)-1)>>wt)],Fe=Ve>>>24,st=Ve>>>16&255,$e=Ve&65535,!(wt+Fe<=Z);){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}F>>>=wt,Z-=wt,f.back+=wt}if(F>>>=Fe,Z-=Fe,f.back+=Fe,st&64){U.msg="invalid distance code",f.mode=X;break}f.offset=$e,f.extra=st&15,f.mode=Be;case Be:if(f.extra){for(zt=f.extra;Z<zt;){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}f.offset+=F&(1<<f.extra)-1,F>>>=f.extra,Z-=f.extra,f.back+=f.extra}if(f.offset>f.dmax){U.msg="invalid distance too far back",f.mode=X;break}f.mode=B;case B:if(w===0)break e;if(Ee=ye-w,f.offset>Ee){if(Ee=f.offset-Ee,Ee>f.whave&&f.sane){U.msg="invalid distance too far back",f.mode=X;break}Ee>f.wnext?(Ee-=f.wnext,Le=f.wsize-Ee):Le=f.wnext-Ee,Ee>f.length&&(Ee=f.length),_t=f.window}else _t=N,Le=P-f.offset,Ee=f.length;Ee>w&&(Ee=w),w-=Ee,f.length-=Ee;do N[P++]=_t[Le++];while(--Ee);f.length===0&&(f.mode=ke);break;case z:if(w===0)break e;N[P++]=f.length,w--,f.mode=ke;break;case G:if(f.wrap){for(;Z<32;){if(j===0)break e;j--,F|=y[l++]<<Z,Z+=8}if(ye-=w,U.total_out+=ye,f.total+=ye,ye&&(U.adler=f.check=f.flags?o(f.check,N,ye,P-ye):a(f.check,N,ye,P-ye)),ye=w,(f.flags?F:Ae(F))!==f.check){U.msg="incorrect data check",f.mode=X;break}F=0,Z=0}f.mode=ie;case ie:if(f.wrap&&f.flags){for(;Z<32;){if(j===0)break e;j--,F+=y[l++]<<Z,Z+=8}if(F!==(f.total&4294967295)){U.msg="incorrect length check",f.mode=X;break}F=0,Z=0}f.mode=J;case J:Nt=g;break e;case X:Nt=S;break e;case he:return _;case le:default:return x}return U.next_out=P,U.avail_out=w,U.next_in=l,U.avail_in=j,f.hold=F,f.bits=Z,(f.wsize||ye!==U.avail_out&&f.mode<X&&(f.mode<G||te!==v))&&ht(U,U.output,U.next_out,ye-U.avail_out),De-=U.avail_in,ye-=U.avail_out,U.total_in+=De,U.total_out+=ye,f.total+=ye,f.wrap&&ye&&(U.adler=f.check=f.flags?o(f.check,N,ye,U.next_out-ye):a(f.check,N,ye,U.next_out-ye)),U.data_type=f.bits+(f.last?64:0)+(f.mode===be?128:0)+(f.mode===He||f.mode===we?256:0),(De===0&&ye===0||te===v)&&Nt===p&&(Nt=T),Nt}function se(U){if(!U||!U.state)return x;var te=U.state;return te.window&&(te.window=null),U.state=null,p}function fe(U,te){var f;return!U||!U.state||(f=U.state,(f.wrap&2)===0)?x:(f.head=te,te.done=!1,p)}function Ce(U,te){var f=te.length,y,N,l;return!U||!U.state||(y=U.state,y.wrap!==0&&y.mode!==ee)?x:y.mode===ee&&(N=1,N=a(N,te,f,0),N!==y.check)?S:(l=ht(U,te,f,f),l?(y.mode=he,_):(y.havedict=1,p))}n.inflateReset=Oe,n.inflateReset2=Me,n.inflateResetKeep=Ie,n.inflateInit=Xe,n.inflateInit2=it,n.inflate=C,n.inflateEnd=se,n.inflateGetHeader=fe,n.inflateSetDictionary=Ce,n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,i,n){var s=t("../utils/common"),a=15,o=852,u=592,h=0,c=1,d=2,b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],R=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],E=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(g,m,x,S,_,T,O,I){var D=I.bits,L=0,$=0,H=0,Y=0,ue=0,oe=0,pe=0,Q=0,ee=0,be=0,Ne,ge,we,ze,Re,je=null,Je=0,He,ke=new s.Buf16(a+1),Ye=new s.Buf16(a+1),Ke=null,Be=0,B,z,G;for(L=0;L<=a;L++)ke[L]=0;for($=0;$<S;$++)ke[m[x+$]]++;for(ue=D,Y=a;Y>=1&&ke[Y]===0;Y--);if(ue>Y&&(ue=Y),Y===0)return _[T++]=1<<24|64<<16|0,_[T++]=1<<24|64<<16|0,I.bits=1,0;for(H=1;H<Y&&ke[H]===0;H++);for(ue<H&&(ue=H),Q=1,L=1;L<=a;L++)if(Q<<=1,Q-=ke[L],Q<0)return-1;if(Q>0&&(g===h||Y!==1))return-1;for(Ye[1]=0,L=1;L<a;L++)Ye[L+1]=Ye[L]+ke[L];for($=0;$<S;$++)m[x+$]!==0&&(O[Ye[m[x+$]]++]=$);if(g===h?(je=Ke=O,He=19):g===c?(je=b,Je-=257,Ke=v,Be-=257,He=256):(je=R,Ke=E,He=-1),be=0,$=0,L=H,Re=T,oe=ue,pe=0,we=-1,ee=1<<ue,ze=ee-1,g===c&&ee>o||g===d&&ee>u)return 1;for(;;){B=L-pe,O[$]<He?(z=0,G=O[$]):O[$]>He?(z=Ke[Be+O[$]],G=je[Je+O[$]]):(z=96,G=0),Ne=1<<L-pe,ge=1<<oe,H=ge;do ge-=Ne,_[Re+(be>>pe)+ge]=B<<24|z<<16|G|0;while(ge!==0);for(Ne=1<<L-1;be&Ne;)Ne>>=1;if(Ne!==0?(be&=Ne-1,be+=Ne):be=0,$++,--ke[L]===0){if(L===Y)break;L=m[x+O[$]]}if(L>ue&&(be&ze)!==we){for(pe===0&&(pe=ue),Re+=H,oe=L-pe,Q=1<<oe;oe+pe<Y&&(Q-=ke[oe+pe],!(Q<=0));)oe++,Q<<=1;if(ee+=1<<oe,g===c&&ee>o||g===d&&ee>u)return 1;we=be&ze,_[we]=ue<<24|oe<<16|Re-T|0}}return be!==0&&(_[Re+be]=L-pe<<24|64<<16|0),I.bits=ue,0}},{"../utils/common":41}],51:[function(t,i,n){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,i,n){var s=t("../utils/common"),a=4,o=0,u=1,h=2;function c(C){for(var se=C.length;--se>=0;)C[se]=0}var d=0,b=1,v=2,R=3,E=258,p=29,g=256,m=g+1+p,x=30,S=19,_=2*m+1,T=15,O=16,I=7,D=256,L=16,$=17,H=18,Y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ue=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=512,ee=new Array((m+2)*2);c(ee);var be=new Array(x*2);c(be);var Ne=new Array(Q);c(Ne);var ge=new Array(E-R+1);c(ge);var we=new Array(p);c(we);var ze=new Array(x);c(ze);function Re(C,se,fe,Ce,U){this.static_tree=C,this.extra_bits=se,this.extra_base=fe,this.elems=Ce,this.max_length=U,this.has_stree=C&&C.length}var je,Je,He;function ke(C,se){this.dyn_tree=C,this.max_code=0,this.stat_desc=se}function Ye(C){return C<256?Ne[C]:Ne[256+(C>>>7)]}function Ke(C,se){C.pending_buf[C.pending++]=se&255,C.pending_buf[C.pending++]=se>>>8&255}function Be(C,se,fe){C.bi_valid>O-fe?(C.bi_buf|=se<<C.bi_valid&65535,Ke(C,C.bi_buf),C.bi_buf=se>>O-C.bi_valid,C.bi_valid+=fe-O):(C.bi_buf|=se<<C.bi_valid&65535,C.bi_valid+=fe)}function B(C,se,fe){Be(C,fe[se*2],fe[se*2+1])}function z(C,se){var fe=0;do fe|=C&1,C>>>=1,fe<<=1;while(--se>0);return fe>>>1}function G(C){C.bi_valid===16?(Ke(C,C.bi_buf),C.bi_buf=0,C.bi_valid=0):C.bi_valid>=8&&(C.pending_buf[C.pending++]=C.bi_buf&255,C.bi_buf>>=8,C.bi_valid-=8)}function ie(C,se){var fe=se.dyn_tree,Ce=se.max_code,U=se.stat_desc.static_tree,te=se.stat_desc.has_stree,f=se.stat_desc.extra_bits,y=se.stat_desc.extra_base,N=se.stat_desc.max_length,l,P,j,w,F,Z,De=0;for(w=0;w<=T;w++)C.bl_count[w]=0;for(fe[C.heap[C.heap_max]*2+1]=0,l=C.heap_max+1;l<_;l++)P=C.heap[l],w=fe[fe[P*2+1]*2+1]+1,w>N&&(w=N,De++),fe[P*2+1]=w,!(P>Ce)&&(C.bl_count[w]++,F=0,P>=y&&(F=f[P-y]),Z=fe[P*2],C.opt_len+=Z*(w+F),te&&(C.static_len+=Z*(U[P*2+1]+F)));if(De!==0){do{for(w=N-1;C.bl_count[w]===0;)w--;C.bl_count[w]--,C.bl_count[w+1]+=2,C.bl_count[N]--,De-=2}while(De>0);for(w=N;w!==0;w--)for(P=C.bl_count[w];P!==0;)j=C.heap[--l],!(j>Ce)&&(fe[j*2+1]!==w&&(C.opt_len+=(w-fe[j*2+1])*fe[j*2],fe[j*2+1]=w),P--)}}function J(C,se,fe){var Ce=new Array(T+1),U=0,te,f;for(te=1;te<=T;te++)Ce[te]=U=U+fe[te-1]<<1;for(f=0;f<=se;f++){var y=C[f*2+1];y!==0&&(C[f*2]=z(Ce[y]++,y))}}function X(){var C,se,fe,Ce,U,te=new Array(T+1);for(fe=0,Ce=0;Ce<p-1;Ce++)for(we[Ce]=fe,C=0;C<1<<Y[Ce];C++)ge[fe++]=Ce;for(ge[fe-1]=Ce,U=0,Ce=0;Ce<16;Ce++)for(ze[Ce]=U,C=0;C<1<<ue[Ce];C++)Ne[U++]=Ce;for(U>>=7;Ce<x;Ce++)for(ze[Ce]=U<<7,C=0;C<1<<ue[Ce]-7;C++)Ne[256+U++]=Ce;for(se=0;se<=T;se++)te[se]=0;for(C=0;C<=143;)ee[C*2+1]=8,C++,te[8]++;for(;C<=255;)ee[C*2+1]=9,C++,te[9]++;for(;C<=279;)ee[C*2+1]=7,C++,te[7]++;for(;C<=287;)ee[C*2+1]=8,C++,te[8]++;for(J(ee,m+1,te),C=0;C<x;C++)be[C*2+1]=5,be[C*2]=z(C,5);je=new Re(ee,Y,g+1,m,T),Je=new Re(be,ue,0,x,T),He=new Re(new Array(0),oe,0,S,I)}function he(C){var se;for(se=0;se<m;se++)C.dyn_ltree[se*2]=0;for(se=0;se<x;se++)C.dyn_dtree[se*2]=0;for(se=0;se<S;se++)C.bl_tree[se*2]=0;C.dyn_ltree[D*2]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function le(C){C.bi_valid>8?Ke(C,C.bi_buf):C.bi_valid>0&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function ae(C,se,fe,Ce){le(C),Ke(C,fe),Ke(C,~fe),s.arraySet(C.pending_buf,C.window,se,fe,C.pending),C.pending+=fe}function K(C,se,fe,Ce){var U=se*2,te=fe*2;return C[U]<C[te]||C[U]===C[te]&&Ce[se]<=Ce[fe]}function de(C,se,fe){for(var Ce=C.heap[fe],U=fe<<1;U<=C.heap_len&&(U<C.heap_len&&K(se,C.heap[U+1],C.heap[U],C.depth)&&U++,!K(se,Ce,C.heap[U],C.depth));)C.heap[fe]=C.heap[U],fe=U,U<<=1;C.heap[fe]=Ce}function re(C,se,fe){var Ce,U,te=0,f,y;if(C.last_lit!==0)do Ce=C.pending_buf[C.d_buf+te*2]<<8|C.pending_buf[C.d_buf+te*2+1],U=C.pending_buf[C.l_buf+te],te++,Ce===0?B(C,U,se):(f=ge[U],B(C,f+g+1,se),y=Y[f],y!==0&&(U-=we[f],Be(C,U,y)),Ce--,f=Ye(Ce),B(C,f,fe),y=ue[f],y!==0&&(Ce-=ze[f],Be(C,Ce,y)));while(te<C.last_lit);B(C,D,se)}function Ae(C,se){var fe=se.dyn_tree,Ce=se.stat_desc.static_tree,U=se.stat_desc.has_stree,te=se.stat_desc.elems,f,y,N=-1,l;for(C.heap_len=0,C.heap_max=_,f=0;f<te;f++)fe[f*2]!==0?(C.heap[++C.heap_len]=N=f,C.depth[f]=0):fe[f*2+1]=0;for(;C.heap_len<2;)l=C.heap[++C.heap_len]=N<2?++N:0,fe[l*2]=1,C.depth[l]=0,C.opt_len--,U&&(C.static_len-=Ce[l*2+1]);for(se.max_code=N,f=C.heap_len>>1;f>=1;f--)de(C,fe,f);l=te;do f=C.heap[1],C.heap[1]=C.heap[C.heap_len--],de(C,fe,1),y=C.heap[1],C.heap[--C.heap_max]=f,C.heap[--C.heap_max]=y,fe[l*2]=fe[f*2]+fe[y*2],C.depth[l]=(C.depth[f]>=C.depth[y]?C.depth[f]:C.depth[y])+1,fe[f*2+1]=fe[y*2+1]=l,C.heap[1]=l++,de(C,fe,1);while(C.heap_len>=2);C.heap[--C.heap_max]=C.heap[1],ie(C,se),J(fe,N,C.bl_count)}function Te(C,se,fe){var Ce,U=-1,te,f=se[1],y=0,N=7,l=4;for(f===0&&(N=138,l=3),se[(fe+1)*2+1]=65535,Ce=0;Ce<=fe;Ce++)te=f,f=se[(Ce+1)*2+1],!(++y<N&&te===f)&&(y<l?C.bl_tree[te*2]+=y:te!==0?(te!==U&&C.bl_tree[te*2]++,C.bl_tree[L*2]++):y<=10?C.bl_tree[$*2]++:C.bl_tree[H*2]++,y=0,U=te,f===0?(N=138,l=3):te===f?(N=6,l=3):(N=7,l=4))}function Ie(C,se,fe){var Ce,U=-1,te,f=se[1],y=0,N=7,l=4;for(f===0&&(N=138,l=3),Ce=0;Ce<=fe;Ce++)if(te=f,f=se[(Ce+1)*2+1],!(++y<N&&te===f)){if(y<l)do B(C,te,C.bl_tree);while(--y!==0);else te!==0?(te!==U&&(B(C,te,C.bl_tree),y--),B(C,L,C.bl_tree),Be(C,y-3,2)):y<=10?(B(C,$,C.bl_tree),Be(C,y-3,3)):(B(C,H,C.bl_tree),Be(C,y-11,7));y=0,U=te,f===0?(N=138,l=3):te===f?(N=6,l=3):(N=7,l=4)}}function Oe(C){var se;for(Te(C,C.dyn_ltree,C.l_desc.max_code),Te(C,C.dyn_dtree,C.d_desc.max_code),Ae(C,C.bl_desc),se=S-1;se>=3&&C.bl_tree[pe[se]*2+1]===0;se--);return C.opt_len+=3*(se+1)+5+5+4,se}function Me(C,se,fe,Ce){var U;for(Be(C,se-257,5),Be(C,fe-1,5),Be(C,Ce-4,4),U=0;U<Ce;U++)Be(C,C.bl_tree[pe[U]*2+1],3);Ie(C,C.dyn_ltree,se-1),Ie(C,C.dyn_dtree,fe-1)}function it(C){var se=4093624447,fe;for(fe=0;fe<=31;fe++,se>>>=1)if(se&1&&C.dyn_ltree[fe*2]!==0)return o;if(C.dyn_ltree[18]!==0||C.dyn_ltree[20]!==0||C.dyn_ltree[26]!==0)return u;for(fe=32;fe<g;fe++)if(C.dyn_ltree[fe*2]!==0)return u;return o}var Xe=!1;function ft(C){Xe||(X(),Xe=!0),C.l_desc=new ke(C.dyn_ltree,je),C.d_desc=new ke(C.dyn_dtree,Je),C.bl_desc=new ke(C.bl_tree,He),C.bi_buf=0,C.bi_valid=0,he(C)}function ot(C,se,fe,Ce){Be(C,(d<<1)+(Ce?1:0),3),ae(C,se,fe)}function nt(C){Be(C,b<<1,3),B(C,D,ee),G(C)}function mt(C,se,fe,Ce){var U,te,f=0;C.level>0?(C.strm.data_type===h&&(C.strm.data_type=it(C)),Ae(C,C.l_desc),Ae(C,C.d_desc),f=Oe(C),U=C.opt_len+3+7>>>3,te=C.static_len+3+7>>>3,te<=U&&(U=te)):U=te=fe+5,fe+4<=U&&se!==-1?ot(C,se,fe,Ce):C.strategy===a||te===U?(Be(C,(b<<1)+(Ce?1:0),3),re(C,ee,be)):(Be(C,(v<<1)+(Ce?1:0),3),Me(C,C.l_desc.max_code+1,C.d_desc.max_code+1,f+1),re(C,C.dyn_ltree,C.dyn_dtree)),he(C),Ce&&le(C)}function ht(C,se,fe){return C.pending_buf[C.d_buf+C.last_lit*2]=se>>>8&255,C.pending_buf[C.d_buf+C.last_lit*2+1]=se&255,C.pending_buf[C.l_buf+C.last_lit]=fe&255,C.last_lit++,se===0?C.dyn_ltree[fe*2]++:(C.matches++,se--,C.dyn_ltree[(ge[fe]+g+1)*2]++,C.dyn_dtree[Ye(se)*2]++),C.last_lit===C.lit_bufsize-1}n._tr_init=ft,n._tr_stored_block=ot,n._tr_flush_block=mt,n._tr_tally=ht,n._tr_align=nt},{"../utils/common":41}],53:[function(t,i,n){function s(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}i.exports=s},{}],54:[function(t,i,n){(function(s){(function(a,o){if(a.setImmediate)return;var u=1,h={},c=!1,d=a.document,b;function v(I){typeof I!="function"&&(I=new Function(""+I));for(var D=new Array(arguments.length-1),L=0;L<D.length;L++)D[L]=arguments[L+1];var $={callback:I,args:D};return h[u]=$,b(u),u++}function R(I){delete h[I]}function E(I){var D=I.callback,L=I.args;switch(L.length){case 0:D();break;case 1:D(L[0]);break;case 2:D(L[0],L[1]);break;case 3:D(L[0],L[1],L[2]);break;default:D.apply(o,L);break}}function p(I){if(c)setTimeout(p,0,I);else{var D=h[I];if(D){c=!0;try{E(D)}finally{R(I),c=!1}}}}function g(){b=function(I){process.nextTick(function(){p(I)})}}function m(){if(a.postMessage&&!a.importScripts){var I=!0,D=a.onmessage;return a.onmessage=function(){I=!1},a.postMessage("","*"),a.onmessage=D,I}}function x(){var I="setImmediate$"+Math.random()+"$",D=function(L){L.source===a&&typeof L.data=="string"&&L.data.indexOf(I)===0&&p(+L.data.slice(I.length))};a.addEventListener?a.addEventListener("message",D,!1):a.attachEvent("onmessage",D),b=function(L){a.postMessage(I+L,"*")}}function S(){var I=new MessageChannel;I.port1.onmessage=function(D){var L=D.data;p(L)},b=function(D){I.port2.postMessage(D)}}function _(){var I=d.documentElement;b=function(D){var L=d.createElement("script");L.onreadystatechange=function(){p(D),L.onreadystatechange=null,I.removeChild(L),L=null},I.appendChild(L)}}function T(){b=function(I){setTimeout(p,0,I)}}var O=Object.getPrototypeOf&&Object.getPrototypeOf(a);O=O&&O.setTimeout?O:a,{}.toString.call(a.process)==="[object process]"?g():m()?x():a.MessageChannel?S():d&&"onreadystatechange"in d.createElement("script")?_():T(),O.setImmediate=v,O.clearImmediate=R})(typeof self>"u"?typeof s>"u"?this:s:self)}).call(this,typeof jt<"u"?jt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(ys)),ys.exports}var $d=Vd();const Gd=Ji($d);class Zd{constructor(){this.zip=void 0,this.urlCache={},this.checkRequirements()}checkRequirements(){try{this.zip=new Gd}catch{throw new Error("JSZip lib not loaded")}}open(e,t){return this.zip.loadAsync(e,{base64:t})}openUrl(e,t){return xr(e,"binary").then((function(i){return this.zip.loadAsync(i,{base64:t})}).bind(this))}request(e,t){var i=new Ge,n,s=new pi(e);return t||(t=s.extension),t=="blob"?n=this.getBlob(e):n=this.getText(e),n?n.then((function(a){let o=this.handleResponse(a,t);i.resolve(o)}).bind(this)):i.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),i.promise}handleResponse(e,t){var i;return t=="json"?i=JSON.parse(e):Er(t)?i=ii(e,"text/xml"):t=="xhtml"?i=ii(e,"application/xhtml+xml"):t=="html"||t=="htm"?i=ii(e,"text/html"):i=e,i}getBlob(e,t){var i=window.decodeURIComponent(e.substr(1)),n=this.zip.file(i);if(n)return t=t||Yi.lookup(n.name),n.async("uint8array").then(function(s){return new Blob([s],{type:t})})}getText(e,t){var i=window.decodeURIComponent(e.substr(1)),n=this.zip.file(i);if(n)return n.async("string").then(function(s){return s})}getBase64(e,t){var i=window.decodeURIComponent(e.substr(1)),n=this.zip.file(i);if(n)return t=t||Yi.lookup(n.name),n.async("base64").then(function(s){return"data:"+t+";base64,"+s})}createUrl(e,t){var i=new Ge,n=window.URL||window.webkitURL||window.mozURL,s,a,o=t&&t.base64;return e in this.urlCache?(i.resolve(this.urlCache[e]),i.promise):(o?(a=this.getBase64(e),a&&a.then((function(u){this.urlCache[e]=u,i.resolve(u)}).bind(this))):(a=this.getBlob(e),a&&a.then((function(u){s=n.createObjectURL(u),this.urlCache[e]=s,i.resolve(s)}).bind(this))),a||i.reject({message:"File not found in the epub: "+e,stack:new Error().stack}),i.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[e];i&&t.revokeObjectURL(i)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.zip=void 0,this.urlCache={}}}var _s={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/var $o;function Yd(){return $o||($o=1,(function(r,e){(function(t){r.exports=t()})(function(){return(function t(i,n,s){function a(h,c){if(!n[h]){if(!i[h]){var d=typeof wi=="function"&&wi;if(!c&&d)return d(h,!0);if(o)return o(h,!0);var b=new Error("Cannot find module '"+h+"'");throw b.code="MODULE_NOT_FOUND",b}var v=n[h]={exports:{}};i[h][0].call(v.exports,function(R){var E=i[h][1][R];return a(E||R)},v,v.exports,t,i,n,s)}return n[h].exports}for(var o=typeof wi=="function"&&wi,u=0;u<s.length;u++)a(s[u]);return a})({1:[function(t,i,n){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var u=0,h=new a(R),c=s.document.createTextNode("");h.observe(c,{characterData:!0}),o=function(){c.data=u=++u%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var d=new s.MessageChannel;d.port1.onmessage=R,o=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var p=s.document.createElement("script");p.onreadystatechange=function(){R(),p.onreadystatechange=null,p.parentNode.removeChild(p),p=null},s.document.documentElement.appendChild(p)}:o=function(){setTimeout(R,0)};var b,v=[];function R(){b=!0;for(var p,g,m=v.length;m;){for(g=v,v=[],p=-1;++p<m;)g[p]();m=v.length}b=!1}i.exports=E;function E(p){v.push(p)===1&&!b&&o()}}).call(this,typeof jt<"u"?jt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(t,i,n){var s=t(1);function a(){}var o={},u=["REJECTED"],h=["FULFILLED"],c=["PENDING"];i.exports=d;function d(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,_!==a&&E(this,_)}d.prototype.catch=function(_){return this.then(null,_)},d.prototype.then=function(_,T){if(typeof _!="function"&&this.state===h||typeof T!="function"&&this.state===u)return this;var O=new this.constructor(a);if(this.state!==c){var I=this.state===h?_:T;v(O,I,this.outcome)}else this.queue.push(new b(O,_,T));return O};function b(_,T,O){this.promise=_,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof O=="function"&&(this.onRejected=O,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(_){o.resolve(this.promise,_)},b.prototype.otherCallFulfilled=function(_){v(this.promise,this.onFulfilled,_)},b.prototype.callRejected=function(_){o.reject(this.promise,_)},b.prototype.otherCallRejected=function(_){v(this.promise,this.onRejected,_)};function v(_,T,O){s(function(){var I;try{I=T(O)}catch(D){return o.reject(_,D)}I===_?o.reject(_,new TypeError("Cannot resolve promise with itself")):o.resolve(_,I)})}o.resolve=function(_,T){var O=p(R,T);if(O.status==="error")return o.reject(_,O.value);var I=O.value;if(I)E(_,I);else{_.state=h,_.outcome=T;for(var D=-1,L=_.queue.length;++D<L;)_.queue[D].callFulfilled(T)}return _},o.reject=function(_,T){_.state=u,_.outcome=T;for(var O=-1,I=_.queue.length;++O<I;)_.queue[O].callRejected(T);return _};function R(_){var T=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof T=="function")return function(){T.apply(_,arguments)}}function E(_,T){var O=!1;function I(H){O||(O=!0,o.reject(_,H))}function D(H){O||(O=!0,o.resolve(_,H))}function L(){T(D,I)}var $=p(L);$.status==="error"&&I($.value)}function p(_,T){var O={};try{O.value=_(T),O.status="success"}catch(I){O.status="error",O.value=I}return O}d.resolve=g;function g(_){return _ instanceof this?_:o.resolve(new this(a),_)}d.reject=m;function m(_){var T=new this(a);return o.reject(T,_)}d.all=x;function x(_){var T=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=_.length,I=!1;if(!O)return this.resolve([]);for(var D=new Array(O),L=0,$=-1,H=new this(a);++$<O;)Y(_[$],$);return H;function Y(ue,oe){T.resolve(ue).then(pe,function(Q){I||(I=!0,o.reject(H,Q))});function pe(Q){D[oe]=Q,++L===O&&!I&&(I=!0,o.resolve(H,D))}}}d.race=S;function S(_){var T=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var O=_.length,I=!1;if(!O)return this.resolve([]);for(var D=-1,L=new this(a);++D<O;)$(_[D]);return L;function $(H){T.resolve(H).then(function(Y){I||(I=!0,o.resolve(L,Y))},function(Y){I||(I=!0,o.reject(L,Y))})}}},{1:1}],3:[function(t,i,n){(function(s){typeof s.Promise!="function"&&(s.Promise=t(2))}).call(this,typeof jt<"u"?jt:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(t,i,n){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A};function a(A,M){if(!(A instanceof M))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=o();function h(){try{if(!u||!u.open)return!1;var A=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),M=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!A||M)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(A,M){A=A||[],M=M||{};try{return new Blob(A,M)}catch(q){if(q.name!=="TypeError")throw q;for(var k=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,W=new k,V=0;V<A.length;V+=1)W.append(A[V]);return W.getBlob(M.type)}}typeof Promise>"u"&&t(3);var d=Promise;function b(A,M){M&&A.then(function(k){M(null,k)},function(k){M(k)})}function v(A,M,k){typeof M=="function"&&A.then(M),typeof k=="function"&&A.catch(k)}function R(A){return typeof A!="string"&&(console.warn(A+" used as a key, but it is not a string."),A=String(A)),A}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",g=void 0,m={},x=Object.prototype.toString,S="readonly",_="readwrite";function T(A){for(var M=A.length,k=new ArrayBuffer(M),W=new Uint8Array(k),V=0;V<M;V++)W[V]=A.charCodeAt(V);return k}function O(A){return new d(function(M){var k=A.transaction(p,_),W=c([""]);k.objectStore(p).put(W,"key"),k.onabort=function(V){V.preventDefault(),V.stopPropagation(),M(!1)},k.oncomplete=function(){var V=navigator.userAgent.match(/Chrome\/(\d+)/),q=navigator.userAgent.match(/Edge\//);M(q||!V||parseInt(V[1],10)>=43)}}).catch(function(){return!1})}function I(A){return typeof g=="boolean"?d.resolve(g):O(A).then(function(M){return g=M,g})}function D(A){var M=m[A.name],k={};k.promise=new d(function(W,V){k.resolve=W,k.reject=V}),M.deferredOperations.push(k),M.dbReady?M.dbReady=M.dbReady.then(function(){return k.promise}):M.dbReady=k.promise}function L(A){var M=m[A.name],k=M.deferredOperations.pop();if(k)return k.resolve(),k.promise}function $(A,M){var k=m[A.name],W=k.deferredOperations.pop();if(W)return W.reject(M),W.promise}function H(A,M){return new d(function(k,W){if(m[A.name]=m[A.name]||we(),A.db)if(M)D(A),A.db.close();else return k(A.db);var V=[A.name];M&&V.push(A.version);var q=u.open.apply(u,V);M&&(q.onupgradeneeded=function(ne){var ce=q.result;try{ce.createObjectStore(A.storeName),ne.oldVersion<=1&&ce.createObjectStore(p)}catch(ve){if(ve.name==="ConstraintError")console.warn('The database "'+A.name+'" has been upgraded from version '+ne.oldVersion+" to version "+ne.newVersion+', but the storage "'+A.storeName+'" already exists.');else throw ve}}),q.onerror=function(ne){ne.preventDefault(),W(q.error)},q.onsuccess=function(){var ne=q.result;ne.onversionchange=function(ce){ce.target.close()},k(ne),L(A)}})}function Y(A){return H(A,!1)}function ue(A){return H(A,!0)}function oe(A,M){if(!A.db)return!0;var k=!A.db.objectStoreNames.contains(A.storeName),W=A.version<A.db.version,V=A.version>A.db.version;if(W&&(A.version!==M&&console.warn('The database "'+A.name+`" can't be downgraded from version `+A.db.version+" to version "+A.version+"."),A.version=A.db.version),V||k){if(k){var q=A.db.version+1;q>A.version&&(A.version=q)}return!0}return!1}function pe(A){return new d(function(M,k){var W=new FileReader;W.onerror=k,W.onloadend=function(V){var q=btoa(V.target.result||"");M({__local_forage_encoded_blob:!0,data:q,type:A.type})},W.readAsBinaryString(A)})}function Q(A){var M=T(atob(A.data));return c([M],{type:A.type})}function ee(A){return A&&A.__local_forage_encoded_blob}function be(A){var M=this,k=M._initReady().then(function(){var W=m[M._dbInfo.name];if(W&&W.dbReady)return W.dbReady});return v(k,A,A),k}function Ne(A){D(A);for(var M=m[A.name],k=M.forages,W=0;W<k.length;W++){var V=k[W];V._dbInfo.db&&(V._dbInfo.db.close(),V._dbInfo.db=null)}return A.db=null,Y(A).then(function(q){return A.db=q,oe(A)?ue(A):q}).then(function(q){A.db=M.db=q;for(var ne=0;ne<k.length;ne++)k[ne]._dbInfo.db=q}).catch(function(q){throw $(A,q),q})}function ge(A,M,k,W){W===void 0&&(W=1);try{var V=A.db.transaction(A.storeName,M);k(null,V)}catch(q){if(W>0&&(!A.db||q.name==="InvalidStateError"||q.name==="NotFoundError"))return d.resolve().then(function(){if(!A.db||q.name==="NotFoundError"&&!A.db.objectStoreNames.contains(A.storeName)&&A.version<=A.db.version)return A.db&&(A.version=A.db.version+1),ue(A)}).then(function(){return Ne(A).then(function(){ge(A,M,k,W-1)})}).catch(k);k(q)}}function we(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ze(A){var M=this,k={db:null};if(A)for(var W in A)k[W]=A[W];var V=m[k.name];V||(V=we(),m[k.name]=V),V.forages.push(M),M._initReady||(M._initReady=M.ready,M.ready=be);var q=[];function ne(){return d.resolve()}for(var ce=0;ce<V.forages.length;ce++){var ve=V.forages[ce];ve!==M&&q.push(ve._initReady().catch(ne))}var me=V.forages.slice(0);return d.all(q).then(function(){return k.db=V.db,Y(k)}).then(function(_e){return k.db=_e,oe(k,M._defaultConfig.version)?ue(k):_e}).then(function(_e){k.db=V.db=_e,M._dbInfo=k;for(var Se=0;Se<me.length;Se++){var We=me[Se];We!==M&&(We._dbInfo.db=k.db,We._dbInfo.version=k.version)}})}function Re(A,M){var k=this;A=R(A);var W=new d(function(V,q){k.ready().then(function(){ge(k._dbInfo,S,function(ne,ce){if(ne)return q(ne);try{var ve=ce.objectStore(k._dbInfo.storeName),me=ve.get(A);me.onsuccess=function(){var _e=me.result;_e===void 0&&(_e=null),ee(_e)&&(_e=Q(_e)),V(_e)},me.onerror=function(){q(me.error)}}catch(_e){q(_e)}})}).catch(q)});return b(W,M),W}function je(A,M){var k=this,W=new d(function(V,q){k.ready().then(function(){ge(k._dbInfo,S,function(ne,ce){if(ne)return q(ne);try{var ve=ce.objectStore(k._dbInfo.storeName),me=ve.openCursor(),_e=1;me.onsuccess=function(){var Se=me.result;if(Se){var We=Se.value;ee(We)&&(We=Q(We));var et=A(We,Se.key,_e++);et!==void 0?V(et):Se.continue()}else V()},me.onerror=function(){q(me.error)}}catch(Se){q(Se)}})}).catch(q)});return b(W,M),W}function Je(A,M,k){var W=this;A=R(A);var V=new d(function(q,ne){var ce;W.ready().then(function(){return ce=W._dbInfo,x.call(M)==="[object Blob]"?I(ce.db).then(function(ve){return ve?M:pe(M)}):M}).then(function(ve){ge(W._dbInfo,_,function(me,_e){if(me)return ne(me);try{var Se=_e.objectStore(W._dbInfo.storeName);ve===null&&(ve=void 0);var We=Se.put(ve,A);_e.oncomplete=function(){ve===void 0&&(ve=null),q(ve)},_e.onabort=_e.onerror=function(){var et=We.error?We.error:We.transaction.error;ne(et)}}catch(et){ne(et)}})}).catch(ne)});return b(V,k),V}function He(A,M){var k=this;A=R(A);var W=new d(function(V,q){k.ready().then(function(){ge(k._dbInfo,_,function(ne,ce){if(ne)return q(ne);try{var ve=ce.objectStore(k._dbInfo.storeName),me=ve.delete(A);ce.oncomplete=function(){V()},ce.onerror=function(){q(me.error)},ce.onabort=function(){var _e=me.error?me.error:me.transaction.error;q(_e)}}catch(_e){q(_e)}})}).catch(q)});return b(W,M),W}function ke(A){var M=this,k=new d(function(W,V){M.ready().then(function(){ge(M._dbInfo,_,function(q,ne){if(q)return V(q);try{var ce=ne.objectStore(M._dbInfo.storeName),ve=ce.clear();ne.oncomplete=function(){W()},ne.onabort=ne.onerror=function(){var me=ve.error?ve.error:ve.transaction.error;V(me)}}catch(me){V(me)}})}).catch(V)});return b(k,A),k}function Ye(A){var M=this,k=new d(function(W,V){M.ready().then(function(){ge(M._dbInfo,S,function(q,ne){if(q)return V(q);try{var ce=ne.objectStore(M._dbInfo.storeName),ve=ce.count();ve.onsuccess=function(){W(ve.result)},ve.onerror=function(){V(ve.error)}}catch(me){V(me)}})}).catch(V)});return b(k,A),k}function Ke(A,M){var k=this,W=new d(function(V,q){if(A<0){V(null);return}k.ready().then(function(){ge(k._dbInfo,S,function(ne,ce){if(ne)return q(ne);try{var ve=ce.objectStore(k._dbInfo.storeName),me=!1,_e=ve.openKeyCursor();_e.onsuccess=function(){var Se=_e.result;if(!Se){V(null);return}A===0||me?V(Se.key):(me=!0,Se.advance(A))},_e.onerror=function(){q(_e.error)}}catch(Se){q(Se)}})}).catch(q)});return b(W,M),W}function Be(A){var M=this,k=new d(function(W,V){M.ready().then(function(){ge(M._dbInfo,S,function(q,ne){if(q)return V(q);try{var ce=ne.objectStore(M._dbInfo.storeName),ve=ce.openKeyCursor(),me=[];ve.onsuccess=function(){var _e=ve.result;if(!_e){W(me);return}me.push(_e.key),_e.continue()},ve.onerror=function(){V(ve.error)}}catch(_e){V(_e)}})}).catch(V)});return b(k,A),k}function B(A,M){M=E.apply(this,arguments);var k=this.config();A=typeof A!="function"&&A||{},A.name||(A.name=A.name||k.name,A.storeName=A.storeName||k.storeName);var W=this,V;if(!A.name)V=d.reject("Invalid arguments");else{var q=A.name===k.name&&W._dbInfo.db,ne=q?d.resolve(W._dbInfo.db):Y(A).then(function(ce){var ve=m[A.name],me=ve.forages;ve.db=ce;for(var _e=0;_e<me.length;_e++)me[_e]._dbInfo.db=ce;return ce});A.storeName?V=ne.then(function(ce){if(ce.objectStoreNames.contains(A.storeName)){var ve=ce.version+1;D(A);var me=m[A.name],_e=me.forages;ce.close();for(var Se=0;Se<_e.length;Se++){var We=_e[Se];We._dbInfo.db=null,We._dbInfo.version=ve}var et=new d(function(rt,bt){var gt=u.open(A.name,ve);gt.onerror=function(Mt){var er=gt.result;er.close(),bt(Mt)},gt.onupgradeneeded=function(){var Mt=gt.result;Mt.deleteObjectStore(A.storeName)},gt.onsuccess=function(){var Mt=gt.result;Mt.close(),rt(Mt)}});return et.then(function(rt){me.db=rt;for(var bt=0;bt<_e.length;bt++){var gt=_e[bt];gt._dbInfo.db=rt,L(gt._dbInfo)}}).catch(function(rt){throw($(A,rt)||d.resolve()).catch(function(){}),rt})}}):V=ne.then(function(ce){D(A);var ve=m[A.name],me=ve.forages;ce.close();for(var _e=0;_e<me.length;_e++){var Se=me[_e];Se._dbInfo.db=null}var We=new d(function(et,rt){var bt=u.deleteDatabase(A.name);bt.onerror=function(){var gt=bt.result;gt&&gt.close(),rt(bt.error)},bt.onblocked=function(){console.warn('dropInstance blocked for database "'+A.name+'" until all open connections are closed')},bt.onsuccess=function(){var gt=bt.result;gt&&gt.close(),et(gt)}});return We.then(function(et){ve.db=et;for(var rt=0;rt<me.length;rt++){var bt=me[rt];L(bt._dbInfo)}}).catch(function(et){throw($(A,et)||d.resolve()).catch(function(){}),et})})}return b(V,M),V}var z={_driver:"asyncStorage",_initStorage:ze,_support:h(),iterate:je,getItem:Re,setItem:Je,removeItem:He,clear:ke,length:Ye,key:Ke,keys:Be,dropInstance:B};function G(){return typeof openDatabase=="function"}var ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J="~~local_forage_type~",X=/^~~local_forage_type~([^~]+)~/,he="__lfsc__:",le=he.length,ae="arbf",K="blob",de="si08",re="ui08",Ae="uic8",Te="si16",Ie="si32",Oe="ur16",Me="ui32",it="fl32",Xe="fl64",ft=le+ae.length,ot=Object.prototype.toString;function nt(A){var M=A.length*.75,k=A.length,W,V=0,q,ne,ce,ve;A[A.length-1]==="="&&(M--,A[A.length-2]==="="&&M--);var me=new ArrayBuffer(M),_e=new Uint8Array(me);for(W=0;W<k;W+=4)q=ie.indexOf(A[W]),ne=ie.indexOf(A[W+1]),ce=ie.indexOf(A[W+2]),ve=ie.indexOf(A[W+3]),_e[V++]=q<<2|ne>>4,_e[V++]=(ne&15)<<4|ce>>2,_e[V++]=(ce&3)<<6|ve&63;return me}function mt(A){var M=new Uint8Array(A),k="",W;for(W=0;W<M.length;W+=3)k+=ie[M[W]>>2],k+=ie[(M[W]&3)<<4|M[W+1]>>4],k+=ie[(M[W+1]&15)<<2|M[W+2]>>6],k+=ie[M[W+2]&63];return M.length%3===2?k=k.substring(0,k.length-1)+"=":M.length%3===1&&(k=k.substring(0,k.length-2)+"=="),k}function ht(A,M){var k="";if(A&&(k=ot.call(A)),A&&(k==="[object ArrayBuffer]"||A.buffer&&ot.call(A.buffer)==="[object ArrayBuffer]")){var W,V=he;A instanceof ArrayBuffer?(W=A,V+=ae):(W=A.buffer,k==="[object Int8Array]"?V+=de:k==="[object Uint8Array]"?V+=re:k==="[object Uint8ClampedArray]"?V+=Ae:k==="[object Int16Array]"?V+=Te:k==="[object Uint16Array]"?V+=Oe:k==="[object Int32Array]"?V+=Ie:k==="[object Uint32Array]"?V+=Me:k==="[object Float32Array]"?V+=it:k==="[object Float64Array]"?V+=Xe:M(new Error("Failed to get type for BinaryArray"))),M(V+mt(W))}else if(k==="[object Blob]"){var q=new FileReader;q.onload=function(){var ne=J+A.type+"~"+mt(this.result);M(he+K+ne)},q.readAsArrayBuffer(A)}else try{M(JSON.stringify(A))}catch(ne){console.error("Couldn't convert value into a JSON string: ",A),M(null,ne)}}function C(A){if(A.substring(0,le)!==he)return JSON.parse(A);var M=A.substring(ft),k=A.substring(le,ft),W;if(k===K&&X.test(M)){var V=M.match(X);W=V[1],M=M.substring(V[0].length)}var q=nt(M);switch(k){case ae:return q;case K:return c([q],{type:W});case de:return new Int8Array(q);case re:return new Uint8Array(q);case Ae:return new Uint8ClampedArray(q);case Te:return new Int16Array(q);case Oe:return new Uint16Array(q);case Ie:return new Int32Array(q);case Me:return new Uint32Array(q);case it:return new Float32Array(q);case Xe:return new Float64Array(q);default:throw new Error("Unkown type: "+k)}}var se={serialize:ht,deserialize:C,stringToBuffer:nt,bufferToString:mt};function fe(A,M,k,W){A.executeSql("CREATE TABLE IF NOT EXISTS "+M.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],k,W)}function Ce(A){var M=this,k={db:null};if(A)for(var W in A)k[W]=typeof A[W]!="string"?A[W].toString():A[W];var V=new d(function(q,ne){try{k.db=openDatabase(k.name,String(k.version),k.description,k.size)}catch(ce){return ne(ce)}k.db.transaction(function(ce){fe(ce,k,function(){M._dbInfo=k,q()},function(ve,me){ne(me)})},ne)});return k.serializer=se,V}function U(A,M,k,W,V,q){A.executeSql(k,W,V,function(ne,ce){ce.code===ce.SYNTAX_ERR?ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[M.storeName],function(ve,me){me.rows.length?q(ve,ce):fe(ve,M,function(){ve.executeSql(k,W,V,q)},q)},q):q(ne,ce)},q)}function te(A,M){var k=this;A=R(A);var W=new d(function(V,q){k.ready().then(function(){var ne=k._dbInfo;ne.db.transaction(function(ce){U(ce,ne,"SELECT * FROM "+ne.storeName+" WHERE key = ? LIMIT 1",[A],function(ve,me){var _e=me.rows.length?me.rows.item(0).value:null;_e&&(_e=ne.serializer.deserialize(_e)),V(_e)},function(ve,me){q(me)})})}).catch(q)});return b(W,M),W}function f(A,M){var k=this,W=new d(function(V,q){k.ready().then(function(){var ne=k._dbInfo;ne.db.transaction(function(ce){U(ce,ne,"SELECT * FROM "+ne.storeName,[],function(ve,me){for(var _e=me.rows,Se=_e.length,We=0;We<Se;We++){var et=_e.item(We),rt=et.value;if(rt&&(rt=ne.serializer.deserialize(rt)),rt=A(rt,et.key,We+1),rt!==void 0){V(rt);return}}V()},function(ve,me){q(me)})})}).catch(q)});return b(W,M),W}function y(A,M,k,W){var V=this;A=R(A);var q=new d(function(ne,ce){V.ready().then(function(){M===void 0&&(M=null);var ve=M,me=V._dbInfo;me.serializer.serialize(M,function(_e,Se){Se?ce(Se):me.db.transaction(function(We){U(We,me,"INSERT OR REPLACE INTO "+me.storeName+" (key, value) VALUES (?, ?)",[A,_e],function(){ne(ve)},function(et,rt){ce(rt)})},function(We){if(We.code===We.QUOTA_ERR){if(W>0){ne(y.apply(V,[A,ve,k,W-1]));return}ce(We)}})})}).catch(ce)});return b(q,k),q}function N(A,M,k){return y.apply(this,[A,M,k,1])}function l(A,M){var k=this;A=R(A);var W=new d(function(V,q){k.ready().then(function(){var ne=k._dbInfo;ne.db.transaction(function(ce){U(ce,ne,"DELETE FROM "+ne.storeName+" WHERE key = ?",[A],function(){V()},function(ve,me){q(me)})})}).catch(q)});return b(W,M),W}function P(A){var M=this,k=new d(function(W,V){M.ready().then(function(){var q=M._dbInfo;q.db.transaction(function(ne){U(ne,q,"DELETE FROM "+q.storeName,[],function(){W()},function(ce,ve){V(ve)})})}).catch(V)});return b(k,A),k}function j(A){var M=this,k=new d(function(W,V){M.ready().then(function(){var q=M._dbInfo;q.db.transaction(function(ne){U(ne,q,"SELECT COUNT(key) as c FROM "+q.storeName,[],function(ce,ve){var me=ve.rows.item(0).c;W(me)},function(ce,ve){V(ve)})})}).catch(V)});return b(k,A),k}function w(A,M){var k=this,W=new d(function(V,q){k.ready().then(function(){var ne=k._dbInfo;ne.db.transaction(function(ce){U(ce,ne,"SELECT key FROM "+ne.storeName+" WHERE id = ? LIMIT 1",[A+1],function(ve,me){var _e=me.rows.length?me.rows.item(0).key:null;V(_e)},function(ve,me){q(me)})})}).catch(q)});return b(W,M),W}function F(A){var M=this,k=new d(function(W,V){M.ready().then(function(){var q=M._dbInfo;q.db.transaction(function(ne){U(ne,q,"SELECT key FROM "+q.storeName,[],function(ce,ve){for(var me=[],_e=0;_e<ve.rows.length;_e++)me.push(ve.rows.item(_e).key);W(me)},function(ce,ve){V(ve)})})}).catch(V)});return b(k,A),k}function Z(A){return new d(function(M,k){A.transaction(function(W){W.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(V,q){for(var ne=[],ce=0;ce<q.rows.length;ce++)ne.push(q.rows.item(ce).name);M({db:A,storeNames:ne})},function(V,q){k(q)})},function(W){k(W)})})}function De(A,M){M=E.apply(this,arguments);var k=this.config();A=typeof A!="function"&&A||{},A.name||(A.name=A.name||k.name,A.storeName=A.storeName||k.storeName);var W=this,V;return A.name?V=new d(function(q){var ne;A.name===k.name?ne=W._dbInfo.db:ne=openDatabase(A.name,"","",0),A.storeName?q({db:ne,storeNames:[A.storeName]}):q(Z(ne))}).then(function(q){return new d(function(ne,ce){q.db.transaction(function(ve){function me(et){return new d(function(rt,bt){ve.executeSql("DROP TABLE IF EXISTS "+et,[],function(){rt()},function(gt,Mt){bt(Mt)})})}for(var _e=[],Se=0,We=q.storeNames.length;Se<We;Se++)_e.push(me(q.storeNames[Se]));d.all(_e).then(function(){ne()}).catch(function(et){ce(et)})},function(ve){ce(ve)})})}):V=d.reject("Invalid arguments"),b(V,M),V}var ye={_driver:"webSQLStorage",_initStorage:Ce,_support:G(),iterate:f,getItem:te,setItem:N,removeItem:l,clear:P,length:j,key:w,keys:F,dropInstance:De};function Ee(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Le(A,M){var k=A.name+"/";return A.storeName!==M.storeName&&(k+=A.storeName+"/"),k}function _t(){var A="_localforage_support_test";try{return localStorage.setItem(A,!0),localStorage.removeItem(A),!1}catch{return!0}}function Ve(){return!_t()||localStorage.length>0}function Fe(A){var M=this,k={};if(A)for(var W in A)k[W]=A[W];return k.keyPrefix=Le(A,M._defaultConfig),Ve()?(M._dbInfo=k,k.serializer=se,d.resolve()):d.reject()}function st(A){var M=this,k=M.ready().then(function(){for(var W=M._dbInfo.keyPrefix,V=localStorage.length-1;V>=0;V--){var q=localStorage.key(V);q.indexOf(W)===0&&localStorage.removeItem(q)}});return b(k,A),k}function $e(A,M){var k=this;A=R(A);var W=k.ready().then(function(){var V=k._dbInfo,q=localStorage.getItem(V.keyPrefix+A);return q&&(q=V.serializer.deserialize(q)),q});return b(W,M),W}function wt(A,M){var k=this,W=k.ready().then(function(){for(var V=k._dbInfo,q=V.keyPrefix,ne=q.length,ce=localStorage.length,ve=1,me=0;me<ce;me++){var _e=localStorage.key(me);if(_e.indexOf(q)===0){var Se=localStorage.getItem(_e);if(Se&&(Se=V.serializer.deserialize(Se)),Se=A(Se,_e.substring(ne),ve++),Se!==void 0)return Se}}});return b(W,M),W}function Lt(A,M){var k=this,W=k.ready().then(function(){var V=k._dbInfo,q;try{q=localStorage.key(A)}catch{q=null}return q&&(q=q.substring(V.keyPrefix.length)),q});return b(W,M),W}function si(A){var M=this,k=M.ready().then(function(){for(var W=M._dbInfo,V=localStorage.length,q=[],ne=0;ne<V;ne++){var ce=localStorage.key(ne);ce.indexOf(W.keyPrefix)===0&&q.push(ce.substring(W.keyPrefix.length))}return q});return b(k,A),k}function dt(A){var M=this,k=M.keys().then(function(W){return W.length});return b(k,A),k}function Nt(A,M){var k=this;A=R(A);var W=k.ready().then(function(){var V=k._dbInfo;localStorage.removeItem(V.keyPrefix+A)});return b(W,M),W}function Et(A,M,k){var W=this;A=R(A);var V=W.ready().then(function(){M===void 0&&(M=null);var q=M;return new d(function(ne,ce){var ve=W._dbInfo;ve.serializer.serialize(M,function(me,_e){if(_e)ce(_e);else try{localStorage.setItem(ve.keyPrefix+A,me),ne(q)}catch(Se){(Se.name==="QuotaExceededError"||Se.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ce(Se),ce(Se)}})})});return b(V,k),V}function Ht(A,M){if(M=E.apply(this,arguments),A=typeof A!="function"&&A||{},!A.name){var k=this.config();A.name=A.name||k.name,A.storeName=A.storeName||k.storeName}var W=this,V;return A.name?V=new d(function(q){A.storeName?q(Le(A,W._defaultConfig)):q(A.name+"/")}).then(function(q){for(var ne=localStorage.length-1;ne>=0;ne--){var ce=localStorage.key(ne);ce.indexOf(q)===0&&localStorage.removeItem(ce)}}):V=d.reject("Invalid arguments"),b(V,M),V}var zt={_driver:"localStorageWrapper",_initStorage:Fe,_support:Ee(),iterate:wt,getItem:$e,setItem:Et,removeItem:Nt,clear:st,length:dt,key:Lt,keys:si,dropInstance:Ht},Sr=function(M,k){return M===k||typeof M=="number"&&typeof k=="number"&&isNaN(M)&&isNaN(k)},Ll=function(M,k){for(var W=M.length,V=0;V<W;){if(Sr(M[V],k))return!0;V++}return!1},ga=Array.isArray||function(A){return Object.prototype.toString.call(A)==="[object Array]"},Qi={},va={},Bi={INDEXEDDB:z,WEBSQL:ye,LOCALSTORAGE:zt},Bl=[Bi.INDEXEDDB._driver,Bi.WEBSQL._driver,Bi.LOCALSTORAGE._driver],Tr=["dropInstance"],yn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Tr),Pl={description:"",driver:Bl.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Fl(A,M){A[M]=function(){var k=arguments;return A.ready().then(function(){return A[M].apply(A,k)})}}function _n(){for(var A=1;A<arguments.length;A++){var M=arguments[A];if(M)for(var k in M)M.hasOwnProperty(k)&&(ga(M[k])?arguments[0][k]=M[k].slice():arguments[0][k]=M[k])}return arguments[0]}var zl=(function(){function A(M){a(this,A);for(var k in Bi)if(Bi.hasOwnProperty(k)){var W=Bi[k],V=W._driver;this[k]=V,Qi[V]||this.defineDriver(W)}this._defaultConfig=_n({},Pl),this._config=_n({},this._defaultConfig,M),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return A.prototype.config=function(k){if((typeof k>"u"?"undefined":s(k))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var W in k){if(W==="storeName"&&(k[W]=k[W].replace(/\W/g,"_")),W==="version"&&typeof k[W]!="number")return new Error("Database version must be a number.");this._config[W]=k[W]}return"driver"in k&&k.driver?this.setDriver(this._config.driver):!0}else return typeof k=="string"?this._config[k]:this._config},A.prototype.defineDriver=function(k,W,V){var q=new d(function(ne,ce){try{var ve=k._driver,me=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!k._driver){ce(me);return}for(var _e=yn.concat("_initStorage"),Se=0,We=_e.length;Se<We;Se++){var et=_e[Se],rt=!Ll(Tr,et);if((rt||k[et])&&typeof k[et]!="function"){ce(me);return}}var bt=function(){for(var er=function(ql){return function(){var jl=new Error("Method "+ql+" is not implemented by the current driver"),ma=d.reject(jl);return b(ma,arguments[arguments.length-1]),ma}},wn=0,Ul=Tr.length;wn<Ul;wn++){var En=Tr[wn];k[En]||(k[En]=er(En))}};bt();var gt=function(er){Qi[ve]&&console.info("Redefining LocalForage driver: "+ve),Qi[ve]=k,va[ve]=er,ne()};"_support"in k?k._support&&typeof k._support=="function"?k._support().then(gt,ce):gt(!!k._support):gt(!0)}catch(Mt){ce(Mt)}});return v(q,W,V),q},A.prototype.driver=function(){return this._driver||null},A.prototype.getDriver=function(k,W,V){var q=Qi[k]?d.resolve(Qi[k]):d.reject(new Error("Driver not found."));return v(q,W,V),q},A.prototype.getSerializer=function(k){var W=d.resolve(se);return v(W,k),W},A.prototype.ready=function(k){var W=this,V=W._driverSet.then(function(){return W._ready===null&&(W._ready=W._initDriver()),W._ready});return v(V,k,k),V},A.prototype.setDriver=function(k,W,V){var q=this;ga(k)||(k=[k]);var ne=this._getSupportedDrivers(k);function ce(){q._config.driver=q.driver()}function ve(Se){return q._extend(Se),ce(),q._ready=q._initStorage(q._config),q._ready}function me(Se){return function(){var We=0;function et(){for(;We<Se.length;){var rt=Se[We];return We++,q._dbInfo=null,q._ready=null,q.getDriver(rt).then(ve).catch(et)}ce();var bt=new Error("No available storage method found.");return q._driverSet=d.reject(bt),q._driverSet}return et()}}var _e=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=_e.then(function(){var Se=ne[0];return q._dbInfo=null,q._ready=null,q.getDriver(Se).then(function(We){q._driver=We._driver,ce(),q._wrapLibraryMethodsWithReady(),q._initDriver=me(ne)})}).catch(function(){ce();var Se=new Error("No available storage method found.");return q._driverSet=d.reject(Se),q._driverSet}),v(this._driverSet,W,V),this._driverSet},A.prototype.supports=function(k){return!!va[k]},A.prototype._extend=function(k){_n(this,k)},A.prototype._getSupportedDrivers=function(k){for(var W=[],V=0,q=k.length;V<q;V++){var ne=k[V];this.supports(ne)&&W.push(ne)}return W},A.prototype._wrapLibraryMethodsWithReady=function(){for(var k=0,W=yn.length;k<W;k++)Fl(this,yn[k])},A.prototype.createInstance=function(k){return new A(k)},A})(),Ml=new zl;i.exports=Ml},{3:3}]},{},[4])(4)})})(_s)),_s.exports}var Kd=Yd();const Go=Ji(Kd);class Il{constructor(e,t,i){this.urlCache={},this.storage=void 0,this.name=e,this.requester=t||xr,this.resolver=i,this.online=!0,this.checkRequirements(),this.addListeners()}checkRequirements(){try{let e;typeof Go>"u"&&(e=Go),this.storage=e.createInstance({name:this.name})}catch{throw new Error("localForage lib not loaded")}}addListeners(){this._status=this.status.bind(this),window.addEventListener("online",this._status),window.addEventListener("offline",this._status)}removeListeners(){window.removeEventListener("online",this._status),window.removeEventListener("offline",this._status),this._status=void 0}status(e){let t=navigator.onLine;this.online=t,t?this.emit("online",this):this.emit("offline",this)}add(e,t){let i=e.resources.map(n=>{let{href:s}=n,a=this.resolver(s),o=window.encodeURIComponent(a);return this.storage.getItem(o).then(u=>!u||t?this.requester(a,"binary").then(h=>this.storage.setItem(o,h)):u)});return Promise.all(i)}put(e,t,i){let n=window.encodeURIComponent(e);return this.storage.getItem(n).then(s=>s||this.requester(e,"binary",t,i).then(a=>this.storage.setItem(n,a)))}request(e,t,i,n){return this.online?this.requester(e,t,i,n).then(s=>(this.put(e),s)):this.retrieve(e,t)}retrieve(e,t){new Ge;var i,n=new pi(e);return t||(t=n.extension),t=="blob"?i=this.getBlob(e):i=this.getText(e),i.then(s=>{var a=new Ge,o;return s?(o=this.handleResponse(s,t),a.resolve(o)):a.reject({message:"File not found in storage: "+e,stack:new Error().stack}),a.promise})}handleResponse(e,t){var i;return t=="json"?i=JSON.parse(e):Er(t)?i=ii(e,"text/xml"):t=="xhtml"?i=ii(e,"application/xhtml+xml"):t=="html"||t=="htm"?i=ii(e,"text/html"):i=e,i}getBlob(e,t){let i=window.encodeURIComponent(e);return this.storage.getItem(i).then(function(n){if(n)return t=t||Yi.lookup(e),new Blob([n],{type:t})})}getText(e,t){let i=window.encodeURIComponent(e);return t=t||Yi.lookup(e),this.storage.getItem(i).then(function(n){var s=new Ge,a=new FileReader,o;if(n)return o=new Blob([n],{type:t}),a.addEventListener("loadend",()=>{s.resolve(a.result)}),a.readAsText(o,t),s.promise})}getBase64(e,t){let i=window.encodeURIComponent(e);return t=t||Yi.lookup(e),this.storage.getItem(i).then(n=>{var s=new Ge,a=new FileReader,o;if(n)return o=new Blob([n],{type:t}),a.addEventListener("loadend",()=>{s.resolve(a.result)}),a.readAsDataURL(o,t),s.promise})}createUrl(e,t){var i=new Ge,n=window.URL||window.webkitURL||window.mozURL,s,a,o=t&&t.base64;return e in this.urlCache?(i.resolve(this.urlCache[e]),i.promise):(o?(a=this.getBase64(e),a&&a.then((function(u){this.urlCache[e]=u,i.resolve(u)}).bind(this))):(a=this.getBlob(e),a&&a.then((function(u){s=n.createObjectURL(u),this.urlCache[e]=s,i.resolve(s)}).bind(this))),a||i.reject({message:"File not found in storage: "+e,stack:new Error().stack}),i.promise)}revokeUrl(e){var t=window.URL||window.webkitURL||window.mozURL,i=this.urlCache[e];i&&t.revokeObjectURL(i)}destroy(){var e=window.URL||window.webkitURL||window.mozURL;for(let t in this.urlCache)e.revokeObjectURL(t);this.urlCache={},this.removeListeners()}}ni(Il.prototype);class ws{constructor(e){this.interactive="",this.fixedLayout="",this.openToSpread="",this.orientationLock="",e&&this.parse(e)}parse(e){if(!e)return this;const t=at(e,"display_options");return t?(di(t,"option").forEach(n=>{let s="";switch(n.childNodes.length&&(s=n.childNodes[0].nodeValue),n.attributes.name.value){case"interactive":this.interactive=s;break;case"fixed-layout":this.fixedLayout=s;break;case"open-to-spread":this.openToSpread=s;break;case"orientation-lock":this.orientationLock=s;break}}),this):this}destroy(){this.interactive=void 0,this.fixedLayout=void 0,this.openToSpread=void 0,this.orientationLock=void 0}}const Zo="META-INF/container.xml",Xd="META-INF/com.apple.ibooks.display-options.xml",$t={BINARY:"binary",BASE64:"base64",EPUB:"epub",OPF:"opf",MANIFEST:"json",DIRECTORY:"directory"};class da{constructor(e,t){typeof t>"u"&&typeof e!="string"&&!(e instanceof Blob)&&!(e instanceof ArrayBuffer)&&(t=e,e=void 0),this.settings=At(this.settings||{},{requestMethod:void 0,requestCredentials:void 0,requestHeaders:void 0,encoding:void 0,replacements:void 0,canonical:void 0,openAs:void 0,store:void 0}),At(this.settings,t),this.opening=new Ge,this.opened=this.opening.promise,this.isOpen=!1,this.loading={manifest:new Ge,spine:new Ge,metadata:new Ge,cover:new Ge,navigation:new Ge,pageList:new Ge,resources:new Ge,displayOptions:new Ge},this.loaded={manifest:this.loading.manifest.promise,spine:this.loading.spine.promise,metadata:this.loading.metadata.promise,cover:this.loading.cover.promise,navigation:this.loading.navigation.promise,pageList:this.loading.pageList.promise,resources:this.loading.resources.promise,displayOptions:this.loading.displayOptions.promise},this.ready=Promise.all([this.loaded.manifest,this.loaded.spine,this.loaded.metadata,this.loaded.cover,this.loaded.navigation,this.loaded.resources,this.loaded.displayOptions]),this.isRendered=!1,this.request=this.settings.requestMethod||xr,this.spine=new hd,this.locations=new Al(this.spine,this.load.bind(this)),this.navigation=void 0,this.pageList=void 0,this.url=void 0,this.path=void 0,this.archived=!1,this.archive=void 0,this.storage=void 0,this.resources=void 0,this.rendition=void 0,this.container=void 0,this.packaging=void 0,this.displayOptions=void 0,this.settings.store&&this.store(this.settings.store),e&&this.open(e,this.settings.openAs).catch(i=>{var n=new Error("Cannot load book at "+e);this.emit(xe.BOOK.OPEN_FAILED,n)})}open(e,t){var i,n=t||this.determineType(e);return n===$t.BINARY?(this.archived=!0,this.url=new Gt("/",""),i=this.openEpub(e)):n===$t.BASE64?(this.archived=!0,this.url=new Gt("/",""),i=this.openEpub(e,n)):n===$t.EPUB?(this.archived=!0,this.url=new Gt("/",""),i=this.request(e,"binary",this.settings.requestCredentials,this.settings.requestHeaders).then(this.openEpub.bind(this))):n==$t.OPF?(this.url=new Gt(e),i=this.openPackaging(this.url.Path.toString())):n==$t.MANIFEST?(this.url=new Gt(e),i=this.openManifest(this.url.Path.toString())):(this.url=new Gt(e),i=this.openContainer(Zo).then(this.openPackaging.bind(this))),i}openEpub(e,t){return this.unarchive(e,t||this.settings.encoding).then(()=>this.openContainer(Zo)).then(i=>this.openPackaging(i))}openContainer(e){return this.load(e).then(t=>(this.container=new cd(t),this.resolve(this.container.packagePath)))}openPackaging(e){return this.path=new pi(e),this.load(e).then(t=>(this.packaging=new Co(t),this.unpack(this.packaging)))}openManifest(e){return this.path=new pi(e),this.load(e).then(t=>(this.packaging=new Co,this.packaging.load(t),this.unpack(this.packaging)))}load(e){var t=this.resolve(e);return this.archived?this.archive.request(t):this.request(t,null,this.settings.requestCredentials,this.settings.requestHeaders)}resolve(e,t){if(e){var i=e,n=e.indexOf("://")>-1;return n?e:(this.path&&(i=this.path.resolve(e)),t!=!1&&this.url&&(i=this.url.resolve(i)),i)}}canonical(e){var t=e;return e?(this.settings.canonical?t=this.settings.canonical(e):t=this.resolve(e,!0),t):""}determineType(e){var t,i,n;if(this.settings.encoding==="base64")return $t.BASE64;if(typeof e!="string")return $t.BINARY;if(t=new Gt(e),i=t.path(),n=i.extension,n&&(n=n.replace(/\?.*$/,"")),!n)return $t.DIRECTORY;if(n==="epub")return $t.EPUB;if(n==="opf")return $t.OPF;if(n==="json")return $t.MANIFEST}unpack(e){this.package=e,this.packaging.metadata.layout===""?this.load(this.url.resolve(Xd)).then(t=>{this.displayOptions=new ws(t),this.loading.displayOptions.resolve(this.displayOptions)}).catch(t=>{this.displayOptions=new ws,this.loading.displayOptions.resolve(this.displayOptions)}):(this.displayOptions=new ws,this.loading.displayOptions.resolve(this.displayOptions)),this.spine.unpack(this.packaging,this.resolve.bind(this),this.canonical.bind(this)),this.resources=new vd(this.packaging.manifest,{archive:this.archive,resolver:this.resolve.bind(this),request:this.request.bind(this),replacements:this.settings.replacements||(this.archived?"blobUrl":"base64")}),this.loadNavigation(this.packaging).then(()=>{this.loading.navigation.resolve(this.navigation)}),this.packaging.coverPath&&(this.cover=this.resolve(this.packaging.coverPath)),this.loading.manifest.resolve(this.packaging.manifest),this.loading.metadata.resolve(this.packaging.metadata),this.loading.spine.resolve(this.spine),this.loading.cover.resolve(this.cover),this.loading.resources.resolve(this.resources),this.loading.pageList.resolve(this.pageList),this.isOpen=!0,this.archived||this.settings.replacements&&this.settings.replacements!="none"?this.replacements().then(()=>{this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}).catch(t=>{console.error(t)}):this.loaded.displayOptions.then(()=>{this.opening.resolve(this)})}loadNavigation(e){let t=e.navPath||e.ncxPath,i=e.toc;return i?new Promise((n,s)=>{this.navigation=new is(i),e.pageList&&(this.pageList=new rs(e.pageList)),n(this.navigation)}):t?this.load(t,"xml").then(n=>(this.navigation=new is(n),this.pageList=new rs(n),this.navigation)):new Promise((n,s)=>{this.navigation=new is,this.pageList=new rs,n(this.navigation)})}section(e){return this.spine.get(e)}renderTo(e,t){return this.rendition=new ca(this,t),this.rendition.attachTo(e),this.rendition}setRequestCredentials(e){this.settings.requestCredentials=e}setRequestHeaders(e){this.settings.requestHeaders=e}unarchive(e,t){return this.archive=new Zd,this.archive.open(e,t)}store(e){let t=this.settings.replacements&&this.settings.replacements!=="none",i=this.url,n=this.settings.requestMethod||xr.bind(this);return this.storage=new Il(e,n,this.resolve.bind(this)),this.request=this.storage.request.bind(this.storage),this.opened.then(()=>{this.archived&&(this.storage.requester=this.archive.request.bind(this.archive));let s=(a,o)=>{o.output=this.resources.substitute(a,o.url)};this.resources.settings.replacements=t||"blobUrl",this.resources.replacements().then(()=>this.resources.replaceCss()),this.storage.on("offline",()=>{this.url=new Gt("/",""),this.spine.hooks.serialize.register(s)}),this.storage.on("online",()=>{this.url=i,this.spine.hooks.serialize.deregister(s)})}),this.storage}coverUrl(){return this.loaded.cover.then(()=>this.cover?this.archived?this.archive.createUrl(this.cover):this.cover:null)}replacements(){return this.spine.hooks.serialize.register((e,t)=>{t.output=this.resources.substitute(e,t.url)}),this.resources.replacements().then(()=>this.resources.replaceCss())}getRange(e){var t=new Ze(e),i=this.spine.get(t.spinePos),n=this.load.bind(this);return i?i.load(n).then(function(s){var a=t.toRange(i.document);return a}):new Promise((s,a)=>{a("CFI could not be found")})}key(e){var t=e||this.packaging.metadata.identifier||this.url.filename;return`epubjs:${bn}:${t}`}destroy(){this.opened=void 0,this.loading=void 0,this.loaded=void 0,this.ready=void 0,this.isOpen=!1,this.isRendered=!1,this.spine&&this.spine.destroy(),this.locations&&this.locations.destroy(),this.pageList&&this.pageList.destroy(),this.archive&&this.archive.destroy(),this.resources&&this.resources.destroy(),this.container&&this.container.destroy(),this.packaging&&this.packaging.destroy(),this.rendition&&this.rendition.destroy(),this.displayOptions&&this.displayOptions.destroy(),this.spine=void 0,this.locations=void 0,this.pageList=void 0,this.archive=void 0,this.resources=void 0,this.container=void 0,this.packaging=void 0,this.rendition=void 0,this.navigation=void 0,this.url=void 0,this.path=void 0,this.archived=!1}}ni(da.prototype);function Li(r,e){return new da(r,e)}Li.VERSION=bn;typeof global<"u"&&(global.EPUBJS_VERSION=bn);Li.Book=da;Li.Rendition=ca;Li.Contents=fa;Li.CFI=Ze;Li.utils=rd;const pa=Dc("epub",()=>{const r=qt(null),e=qt(""),t=qt([]),i=qt(0),n=pn(()=>{const c=t.value.length-1;return{get current(){return i.value},get max(){return c},get min(){return 0},next(){return i.value<c?(i.value++,i.value):null},prev(){return i.value>0?(i.value--,i.value):null}}}),s=async h=>{try{if(!h)return;r.value=Li(h),await r.value.ready,t.value=r.value.navigation.toc,i.value=0,await a(i.value)}catch(c){console.error("❌ EPUB 讀取錯誤:",c)}},a=async h=>{if(!r.value||!t.value.length)return;const c=t.value[h],d=await r.value.load(c.href);e.value=d.body.innerHTML};return{book:r,bookContent:e,toc:t,currentIndex:i,loadFile:s,loadChapter:a,nextPage:async()=>{const h=n.value.next();h!==null&&await a(h)},prevPage:async()=>{const h=n.value.prev();h!==null&&await a(h)}}}),Dr=(r,e)=>{const t=r.__vccOpts||r;for(const[i,n]of e)t[i]=n;return t},Jd={class:"sidebar"},Qd={class:"sidebar-menu"},ep={key:0,class:"toc-container"},tp=["onClick"],ip={__name:"Sidebar",setup(r){const e=qt("new"),t=u=>{e.value=u},i=u=>{n.currentIndex=u,n.loadChapter(u)},n=pa(),s=pn(()=>n.toc.map(u=>u.label.trim()).filter(u=>u)),a=qt(!1),o=()=>{a.value=!a.value,t("projects")};return(u,h)=>(It(),Pt("aside",Jd,[h[9]||(h[9]=Oh('<div class="sidebar-header" data-v-02350109><div class="sidebar-logo" data-v-02350109><svg width="24" height="24" data-v-02350109><circle cx="12" cy="12" r="10" fill="#000" data-v-02350109></circle></svg></div><button data-v-02350109><svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="icon max-md:hidden" data-v-02350109><path d="M6.83496 3.99992C6.38353 4.00411 6.01421 4.0122 5.69824 4.03801C5.31232 4.06954 5.03904 4.12266 4.82227 4.20012L4.62207 4.28606C4.18264 4.50996 3.81498 4.85035 3.55859 5.26848L3.45605 5.45207C3.33013 5.69922 3.25006 6.01354 3.20801 6.52824C3.16533 7.05065 3.16504 7.71885 3.16504 8.66301V11.3271C3.16504 12.2712 3.16533 12.9394 3.20801 13.4618C3.25006 13.9766 3.33013 14.2909 3.45605 14.538L3.55859 14.7216C3.81498 15.1397 4.18266 15.4801 4.62207 15.704L4.82227 15.79C5.03904 15.8674 5.31234 15.9205 5.69824 15.9521C6.01398 15.9779 6.383 15.986 6.83398 15.9902L6.83496 3.99992ZM18.165 11.3271C18.165 12.2493 18.1653 12.9811 18.1172 13.5702C18.0745 14.0924 17.9916 14.5472 17.8125 14.9648L17.7295 15.1415C17.394 15.8 16.8834 16.3511 16.2568 16.7353L15.9814 16.8896C15.5157 17.1268 15.0069 17.2285 14.4102 17.2773C13.821 17.3254 13.0893 17.3251 12.167 17.3251H7.83301C6.91071 17.3251 6.17898 17.3254 5.58984 17.2773C5.06757 17.2346 4.61294 17.1508 4.19531 16.9716L4.01855 16.8896C3.36014 16.5541 2.80898 16.0434 2.4248 15.4169L2.27051 15.1415C2.03328 14.6758 1.93158 14.167 1.88281 13.5702C1.83468 12.9811 1.83496 12.2493 1.83496 11.3271V8.66301C1.83496 7.74072 1.83468 7.00898 1.88281 6.41985C1.93157 5.82309 2.03329 5.31432 2.27051 4.84856L2.4248 4.57317C2.80898 3.94666 3.36012 3.436 4.01855 3.10051L4.19531 3.0175C4.61285 2.83843 5.06771 2.75548 5.58984 2.71281C6.17898 2.66468 6.91071 2.66496 7.83301 2.66496H12.167C13.0893 2.66496 13.821 2.66468 14.4102 2.71281C15.0069 2.76157 15.5157 2.86329 15.9814 3.10051L16.2568 3.25481C16.8833 3.63898 17.394 4.19012 17.7295 4.84856L17.8125 5.02531C17.9916 5.44285 18.0745 5.89771 18.1172 6.41985C18.1653 7.00898 18.165 7.74072 18.165 8.66301V11.3271ZM8.16406 15.995H12.167C13.1112 15.995 13.7794 15.9947 14.3018 15.9521C14.8164 15.91 15.1308 15.8299 15.3779 15.704L15.5615 15.6015C15.9797 15.3451 16.32 14.9774 16.5439 14.538L16.6299 14.3378C16.7074 14.121 16.7605 13.8478 16.792 13.4618C16.8347 12.9394 16.835 12.2712 16.835 11.3271V8.66301C16.835 7.71885 16.8347 7.05065 16.792 6.52824C16.7605 6.14232 16.7073 5.86904 16.6299 5.65227L16.5439 5.45207C16.32 5.01264 15.9796 4.64498 15.5615 4.3886L15.3779 4.28606C15.1308 4.16013 14.8165 4.08006 14.3018 4.03801C13.7794 3.99533 13.1112 3.99504 12.167 3.99504H8.16406C8.16407 3.99667 8.16504 3.99829 8.16504 3.99992L8.16406 15.995Z" data-v-02350109></path></svg></button></div>',1)),Ue("nav",Qd,[Ue("button",{class:li(["sidebar-item",{active:e.value==="new"}]),onClick:h[0]||(h[0]=c=>t("new"))},[...h[3]||(h[3]=[Ue("svg",{class:"icon",viewBox:"0 0 24 24"},[Ue("circle",{cx:"12",cy:"12",r:"5"})],-1),Ue("span",null,"新聊天",-1)])],2),Ue("button",{class:li(["sidebar-item",{active:e.value==="search"}]),onClick:h[1]||(h[1]=c=>t("search"))},[...h[4]||(h[4]=[Ue("svg",{class:"icon",viewBox:"0 0 24 24"},[Ue("circle",{cx:"12",cy:"12",r:"5"})],-1),Ue("span",null,"搜尋聊天",-1),Ue("span",{class:"shortcut"},"⌘K",-1)])],2),Ue("button",{class:li(["sidebar-item",{active:e.value==="library"}]),onClick:h[2]||(h[2]=c=>t("library"))},[...h[5]||(h[5]=[Ue("svg",{class:"icon",viewBox:"0 0 24 24"},[Ue("circle",{cx:"12",cy:"12",r:"5"})],-1),Ue("span",null,"圖庫",-1)])],2),Ue("button",{class:li(["sidebar-item",{active:e.value==="projects"}]),onClick:o},[h[7]||(h[7]=Ue("svg",{class:"icon",viewBox:"0 0 24 24"},[Ue("circle",{cx:"12",cy:"12",r:"5"})],-1)),h[8]||(h[8]=Ue("span",null,"專案",-1)),s.value.length?(It(),Pt("svg",{key:0,class:"icon",style:on([{"margin-left":"auto",transition:"transform 0.2s"},{transform:a.value?"rotate(90deg)":"rotate(0deg)"}]),viewBox:"0 0 24 24"},[...h[6]||(h[6]=[Ue("path",{d:"M9 6l6 6-6 6",fill:"none",stroke:"currentColor","stroke-width":"2"},null,-1)])],4)):Ia("",!0)],2),a.value&&s.value.length?(It(),Pt("div",ep,[(It(!0),Pt(Yt,null,Lu(s.value,(c,d)=>(It(),Pt("div",{class:li(["sidebar-item toc-item",{active:Eu(n).currentIndex===d}]),key:d,onClick:b=>i(d)},Ws(c),11,tp))),128))])):Ia("",!0)])]))}},rp=Dr(ip,[["__scopeId","data-v-02350109"]]),np={class:"input-inner"},sp=["value","onKeyup","disabled"],ap={class:"btn-row"},op={class:"btn-left"},up=["disabled"],lp=["disabled"],fp={class:"btn-right"},hp=["disabled"],cp={__name:"ChatInput",props:{modelValue:String,disabled:Boolean},emits:["update:modelValue","send"],setup(r,{emit:e}){const t=pa(),i=qt(null),n=r,s=e,a=c=>{s("update:modelValue",c.target.value)},o=c=>{c.preventDefault(),n.modelValue&&n.modelValue.trim()&&s("send")},u=()=>{i.value&&i.value.click()},h=async c=>{const d=c.target.files[0];d&&await t.loadFile(d),c.target.value=""};return(c,d)=>(It(),Pt("div",np,[Ue("textarea",{value:r.modelValue,placeholder:"請問任何問題",rows:"1",onInput:a,onKeyup:pc(cc(o,["exact","prevent"]),["enter"]),disabled:r.disabled},null,40,sp),Ue("div",ap,[Ue("div",op,[Ue("input",{ref_key:"fileInputRef",ref:i,type:"file",accept:".epub",class:"file-input",onChange:h,disabled:r.disabled},null,40,up),Ue("button",{class:"icon-btn",onClick:u,disabled:r.disabled,"aria-label":"上傳 EPUB"},[...d[1]||(d[1]=[Ue("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",class:"icon"},[Ue("path",{d:"M4.33496 12.5V7.5C4.33496 7.13273 4.63273 6.83496 5 6.83496C5.36727 6.83496 5.66504 7.13273 5.66504 7.5V12.5C5.66504 14.8942 7.60585 16.835 10 16.835C12.3942 16.835 14.335 14.8942 14.335 12.5V5.83301C14.3348 4.35959 13.1404 3.16522 11.667 3.16504C10.1934 3.16504 8.99822 4.35948 8.99805 5.83301V12.5C8.99805 13.0532 9.44679 13.502 10 13.502C10.5532 13.502 11.002 13.0532 11.002 12.5V7.5C11.002 7.13273 11.2997 6.83496 11.667 6.83496C12.0341 6.83514 12.332 7.13284 12.332 7.5V12.5C12.332 13.7877 11.2877 14.832 10 14.832C8.71226 14.832 7.66797 13.7877 7.66797 12.5V5.83301C7.66814 3.62494 9.45888 1.83496 11.667 1.83496C13.875 1.83514 15.6649 3.62505 15.665 5.83301V12.5C15.665 15.6287 13.1287 18.165 10 18.165C6.87131 18.165 4.33496 15.6287 4.33496 12.5Z"})],-1)])],8,lp)]),Ue("div",fp,[Ue("button",{class:"icon-btn",onClick:d[0]||(d[0]=b=>c.$emit("send")),disabled:!r.modelValue||!r.modelValue.trim()||r.disabled,"aria-label":"送出"},[...d[2]||(d[2]=[Ue("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",class:"icon"},[Ue("path",{d:"M8.99992 16V6.41407L5.70696 9.70704C5.31643 10.0976 4.68342 10.0976 4.29289 9.70704C3.90237 9.31652 3.90237 8.6835 4.29289 8.29298L9.29289 3.29298L9.36907 3.22462C9.76184 2.90427 10.3408 2.92686 10.707 3.29298L15.707 8.29298L15.7753 8.36915C16.0957 8.76192 16.0731 9.34092 15.707 9.70704C15.3408 10.0732 14.7618 10.0958 14.3691 9.7754L14.2929 9.70704L10.9999 6.41407V16C10.9999 16.5523 10.5522 17 9.99992 17C9.44764 17 8.99992 16.5523 8.99992 16Z"})],-1)])],8,hp)])])]))}},dp=Dr(cp,[["__scopeId","data-v-602a39e3"]]),pp={class:"topbar"},gp={__name:"AppHeader",props:{},setup(r){return(e,t)=>(It(),Pt("header",pp,[...t[0]||(t[0]=[Ue("div",{class:"logo"},"ePub.AI",-1),Ue("div",{class:"auth-buttons"},[Ue("button",null,"登入"),Ue("button",{class:"primary"},"免費註冊")],-1)])]))}},vp=Dr(gp,[["__scopeId","data-v-dd554dee"]]),mp={class:"message-inner"},bp=["innerHTML"],yp={key:1,class:"message-text"},_p={__name:"ChatMessages",props:{messages:{type:Array,required:!0}},setup(r){const e=qt(null),t=()=>{Js(()=>{e.value&&(e.value.scrollTop=e.value.scrollHeight)})};return Iu(()=>{t()}),(i,n)=>(It(),Pt("div",{class:"chat-content",ref_key:"chatContainer",ref:e},[(It(!0),Pt(Yt,null,Lu(r.messages,(s,a)=>(It(),Pt("div",{key:a,class:li(["chat-message",s.sender])},[Ue("div",mp,[s.sender==="epub"?(It(),Pt("div",{key:0,class:"message-text",innerHTML:s.text},null,8,bp)):(It(),Pt("div",yp,Ws(s.text),1))])],2))),128))],512))}},wp=Dr(_p,[["__scopeId","data-v-ac413361"]]),Ep={class:"layout"},xp={class:"main"},Ap={class:"main-top"},Cp={class:"main-middle"},Dp={class:"main-bottom"},Sp={__name:"App",setup(r){const e=qt([{sender:"ai",text:"你好，我是 ePub.AI，今天想閱讀什麼呢？"}]),t=qt(""),i=pa();pr(()=>i.bookContent,s=>{s&&s.trim()&&e.value.push({sender:"epub",text:s})});const n=()=>{const s=t.value.trim();s&&(e.value.push({sender:"user",text:s}),t.value="",setTimeout(()=>{e.value.push({sender:"ai",text:`看起來你剛剛打了個「${s}」，有什麼我可以幫忙的嗎？`})},500))};return(s,a)=>(It(),Pt("div",Ep,[Ot(rp,{class:"sidebar-container"}),Ue("div",xp,[Ue("div",Ap,[Ot(vp)]),Ue("div",Cp,[Ot(wp,{messages:e.value},null,8,["messages"])]),Ue("div",Dp,[Ot(dp,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=o=>t.value=o),onSend:n},null,8,["modelValue"])])])]))}},Tp=Dr(Sp,[["__scopeId","data-v-7746e0c0"]]),Ol=mc(Tp);Ol.use(_c());Ol.mount("#app");
